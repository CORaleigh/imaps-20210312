(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[7045],{98501:(e,t,r)=>{"use strict";r.d(t,{a:()=>l,b:()=>p,c:()=>c,f:()=>i,i:()=>a,j:()=>d,m:()=>o,n:()=>h,r:()=>u,s:()=>s});var n=r(60418);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function s(e,t,r,n,i,s,a,o,l,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=u,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function o(e,t,r){const n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],c=t[7],d=t[8],p=r[0],h=r[1],f=r[2],y=r[3],m=r[4],b=r[5],v=r[6],g=r[7],w=r[8];return e[0]=p*n+h*a+f*u,e[1]=p*i+h*o+f*c,e[2]=p*s+h*l+f*d,e[3]=y*n+m*a+b*u,e[4]=y*i+m*o+b*c,e[5]=y*s+m*l+b*d,e[6]=v*n+g*a+w*u,e[7]=v*i+g*o+w*c,e[8]=v*s+g*l+w*d,e}function l(e,t,r){const n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],c=t[7],d=t[8],p=r[0],h=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e[6]=p*n+h*a+u,e[7]=p*i+h*o+c,e[8]=p*s+h*l+d,e}function u(e,t,r){const n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],c=t[7],d=t[8],p=Math.sin(r),h=Math.cos(r);return e[0]=h*n+p*a,e[1]=h*i+p*o,e[2]=h*s+p*l,e[3]=h*a-p*n,e[4]=h*o-p*i,e[5]=h*l-p*s,e[6]=u,e[7]=c,e[8]=d,e}function c(e,t,r){const n=r[0],i=r[1],s=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function d(e,t,r){const n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function p(e,t){const r=t[0],n=t[1],i=t[2],s=t[4],a=t[5],o=t[6],l=t[8],u=t[9],c=t[10],d=c*a-o*u,p=-c*s+o*l,h=u*s-a*l,f=r*d+n*p+i*h;if(!f)return null;const y=1/f;return e[0]=d*y,e[1]=(-c*n+i*u)*y,e[2]=(o*n-i*a)*y,e[3]=p*y,e[4]=(c*r-i*l)*y,e[5]=(-o*r+i*s)*y,e[6]=h*y,e[7]=(-u*r+n*l)*y,e[8]=(a*r-n*s)*y,e}function h(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8],d=t[9],p=t[10],h=t[11],f=t[12],y=t[13],m=t[14],b=t[15],v=r*o-n*a,g=r*l-i*a,w=r*u-s*a,x=n*l-i*o,_=n*u-s*o,M=i*u-s*l,S=c*y-d*f,I=c*m-p*f,T=c*b-h*f,V=d*m-p*y,C=d*b-h*y,L=p*b-h*m;let E=v*L-g*C+w*V+x*T-_*I+M*S;return E?(E=1/E,e[0]=(o*L-l*C+u*V)*E,e[1]=(l*T-a*L-u*I)*E,e[2]=(a*C-o*T+u*S)*E,e[3]=(i*C-n*L-s*V)*E,e[4]=(r*L-i*T+s*I)*E,e[5]=(n*T-r*C-s*S)*E,e[6]=(y*M-m*_+b*x)*E,e[7]=(m*w-f*M-b*g)*E,e[8]=(f*_-y*w+b*v)*E,e):null}function f(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}let y=o,m=f;Object.freeze({__proto__:null,fromMat4:i,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},set:s,identity:a,transpose:function(e,t){if(e===t){const r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},invert:function(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8],d=c*a-o*u,p=-c*s+o*l,h=u*s-a*l;let f=r*d+n*p+i*h;return f?(f=1/f,e[0]=d*f,e[1]=(-c*n+i*u)*f,e[2]=(o*n-i*a)*f,e[3]=p*f,e[4]=(c*r-i*l)*f,e[5]=(-o*r+i*s)*f,e[6]=h*f,e[7]=(-u*r+n*l)*f,e[8]=(a*r-n*s)*f,e):null},adjoint:function(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],c=t[8];return e[0]=a*c-o*u,e[1]=i*u-n*c,e[2]=n*o-i*a,e[3]=o*l-s*c,e[4]=r*c-i*l,e[5]=i*s-r*o,e[6]=s*u-a*l,e[7]=n*l-r*u,e[8]=r*a-n*s,e},determinant:function(e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8];return t*(u*s-a*l)+r*(-u*i+a*o)+n*(l*i-s*o)},multiply:o,translate:l,rotate:u,scale:c,scaleByVec2:d,fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},fromRotation:function(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromQuat:function(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],a=r+r,o=n+n,l=i+i,u=r*a,c=n*a,d=n*o,p=i*a,h=i*o,f=i*l,y=s*a,m=s*o,b=s*l;return e[0]=1-d-f,e[3]=c-b,e[6]=p+m,e[1]=c+b,e[4]=1-u-f,e[7]=h-y,e[2]=p-m,e[5]=h+y,e[8]=1-u-d,e},normalFromMat4Legacy:p,normalFromMat4:h,projection:function(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e},subtract:f,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e},multiplyScalarAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},equals:function(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],d=e[8],p=t[0],h=t[1],f=t[2],y=t[3],m=t[4],b=t[5],v=t[6],g=t[7],w=t[8];return Math.abs(r-p)<=n.E*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-h)<=n.E*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(s-f)<=n.E*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-y)<=n.E*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(o-m)<=n.E*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(l-b)<=n.E*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(u-v)<=n.E*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-g)<=n.E*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(d-w)<=n.E*Math.max(1,Math.abs(d),Math.abs(w))},mul:y,sub:m})},55955:(e,t,r)=>{"use strict";function n(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function i(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}r.d(t,{a:()=>i,c:()=>n});Object.freeze({__proto__:null,create:n,clone:i,fromValues:function(e,t,r,n,i,s,a,o,l){const u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=s,u[6]=a,u[7]=o,u[8]=l,u},createView:function(e,t){return new Float32Array(e,t,9)}})},14286:(e,t,r)=>{"use strict";r.d(t,{a:()=>c,b:()=>I,c:()=>i,d:()=>o,e:()=>b,f:()=>g,g:()=>v,h:()=>a,i:()=>p,j:()=>h,k:()=>M,l:()=>f,m:()=>w,n:()=>m,o:()=>x,p:()=>d,q:()=>y,s:()=>s,t:()=>_});var n=r(60418);function i(e,t){return e[0]=t[0],e[1]=t[1],e}function s(e,t,r){return e[0]=t,e[1]=r,e}function a(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function u(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function d(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function p(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function h(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function f(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function y(e){const t=e[0],r=e[1];return t*t+r*r}function m(e,t){return e[0]=-t[0],e[1]=-t[1],e}function b(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function v(e,t){return e[0]*t[0]+e[1]*t[1]}function g(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function w(e,t,r,n){const i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function x(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function _(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function M(e,t){return e[0]===t[0]&&e[1]===t[1]}const S=f,I=o,T=l,V=u,C=p,L=h,E=y;Object.freeze({__proto__:null,copy:i,set:s,add:a,subtract:o,multiply:l,divide:u,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:c,scaleAndAdd:d,distance:p,squaredDistance:h,length:f,squaredLength:y,negate:m,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},normalize:b,dot:v,cross:g,lerp:w,random:function(e,t){t=t||1;const r=2*(0,n.R)()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e},transformMat2:x,transformMat2d:_,transformMat3:function(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e},transformMat4:function(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e},rotate:function(e,t,r,n){const i=t[0]-r[0],s=t[1]-r[1],a=Math.sin(n),o=Math.cos(n);return e[0]=i*o-s*a+r[0],e[1]=i*a+s*o+r[1],e},angle:function(e,t){const r=e[0],n=e[1],i=t[0],s=t[1];let a=r*r+n*n;a>0&&(a=1/Math.sqrt(a));let o=i*i+s*s;o>0&&(o=1/Math.sqrt(o));const l=(r*i+n*s)*a*o;return l>1?0:l<-1?Math.PI:Math.acos(l)},str:function(e){return"vec2("+e[0]+", "+e[1]+")"},exactEquals:M,equals:function(e,t){const r=e[0],i=e[1],s=t[0],a=t[1];return Math.abs(r-s)<=n.E*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-a)<=n.E*Math.max(1,Math.abs(i),Math.abs(a))},len:S,sub:I,mul:T,div:V,dist:C,sqrDist:L,sqrLen:E})},55735:(e,t,r)=>{"use strict";function n(){return[0,0]}function i(e,t){return[e,t]}function s(e){const t=[0,0],r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function a(e,t){return new Float64Array(e,t,2)}function o(){return i(1,1)}function l(){return i(1,0)}function u(){return i(0,1)}r.d(t,{a:()=>n,c:()=>a,d:()=>s,f:()=>i});const c=o(),d=l(),p=u();Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1]]},fromValues:i,fromArray:s,createView:a,zeros:function(){return[0,0]},ones:o,unitX:l,unitY:u,ZEROS:[0,0],ONES:c,UNIT_X:d,UNIT_Y:p})},34353:(e,t,r)=>{"use strict";r.d(t,{a:()=>a,b:()=>c,c:()=>i,d:()=>m,e:()=>h,f:()=>f,g:()=>g,h:()=>w,i:()=>p,l:()=>b,n:()=>y,s:()=>s,t:()=>v});var n=r(60418);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function a(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function u(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function d(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+s*s)}function p(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return r*r+n*n+i*i+s*s}function h(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function f(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function y(e,t){const r=t[0],n=t[1],i=t[2],s=t[3];let a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=s*a),e}function m(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function b(e,t,r,n){const i=t[0],s=t[1],a=t[2],o=t[3];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=a+n*(r[2]-a),e[3]=o+n*(r[3]-o),e}function v(e,t,r){const n=t[0],i=t[1],s=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,e}function g(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function w(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(r-o)<=n.E*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-l)<=n.E*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-u)<=n.E*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(a-c)<=n.E*Math.max(1,Math.abs(a),Math.abs(c))}let x=o,_=l,M=u,S=d,I=p,T=h,V=f;Object.freeze({__proto__:null,copy:i,set:s,add:a,subtract:o,multiply:l,divide:u,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:c,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},distance:d,squaredDistance:p,length:h,squaredLength:f,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:y,dot:m,lerp:b,random:function(e,t){let r,i,s,a,o,l;t=t||1;do{r=2*(0,n.R)()-1,i=2*(0,n.R)()-1,o=r*r+i*i}while(o>=1);do{s=2*(0,n.R)()-1,a=2*(0,n.R)()-1,l=s*s+a*a}while(l>=1);const u=Math.sqrt((1-o)/l);return e[0]=t*r,e[1]=t*i,e[2]=t*s*u,e[3]=t*a*u,e},transformMat4:v,transformQuat:function(e,t,r){const n=t[0],i=t[1],s=t[2],a=r[0],o=r[1],l=r[2],u=r[3],c=u*n+o*s-l*i,d=u*i+l*n-a*s,p=u*s+a*i-o*n,h=-a*n-o*i-l*s;return e[0]=c*u+h*-a+d*-l-p*-o,e[1]=d*u+h*-o+p*-a-c*-l,e[2]=p*u+h*-l+c*-o-d*-a,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:g,equals:w,sub:x,mul:_,div:M,dist:S,sqrDist:I,len:T,sqrLen:V})},38256:(e,t,r)=>{"use strict";function n(){return[0,0,0,0]}function i(e,t,r,n){return[e,t,r,n]}function s(e){const t=[0,0,0,0],r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function a(e,t){return new Float64Array(e,t,4)}function o(){return i(1,1,1,1)}function l(){return i(1,0,0,0)}function u(){return i(0,1,0,0)}function c(){return i(0,0,1,0)}function d(){return i(0,0,0,1)}r.d(t,{O:()=>h,Z:()=>p,a:()=>n,b:()=>i,c:()=>a,f:()=>s});const p=[0,0,0,0],h=o(),f=l(),y=u(),m=c(),b=d();Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1],e[2],e[3]]},fromValues:i,fromArray:s,createView:a,zeros:function(){return[0,0,0,0]},ones:o,unitX:l,unitY:u,unitZ:c,unitW:d,ZEROS:p,ONES:h,UNIT_X:f,UNIT_Y:y,UNIT_Z:m,UNIT_W:b})},77204:(e,t,r)=>{"use strict";r.d(t,{r:()=>c,p:()=>u});var n=r(56140),i=r(79881),s=r(87566),a=r(82677),o=r(59691),l=r(45671);const u=e=>{let t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new o.Z}get updatingHandles(){return this._get("updatingHandles")||new l.t}};return(0,n._)([(0,i.Cb)({readOnly:!0})],t.prototype,"handles",null),(0,n._)([(0,i.Cb)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,n._)([(0,s.j)("esri.core.HandleOwner")],t),t};let c=class extends(u(a.default)){};c=(0,n._)([(0,s.j)("esri.core.HandleOwner")],c)},59351:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>i,UI:()=>s,q6:()=>a});var n=r(39105);function i(e,t,r){return(0,n.eachAlways)(e.map(((e,n)=>t.apply(r,[e,n]))))}function s(e,t,r){return(0,n.eachAlways)(e.map(((e,n)=>t.apply(r,[e,n])))).then((e=>e.map((e=>e.value))))}function a(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}},94588:(e,t,r)=>{"use strict";r.d(t,{Bg:()=>n,sM:()=>i});r(95830);function n(e){}function i(e){return()=>e}},19048:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n,i=r(56140),s=(r(95830),r(36544),r(68055),r(79881)),a=r(56274),o=r(30590),l=r(15307),u=r(87566),c=r(60538),d=(r(10923),r(57002),r(86035),r(19677)),p=r(58385),h=r(93533);const f=(0,a.wY)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),y=f.jsonValues.slice();(0,d.e$)(y,"orthometric");const m=(0,a.wY)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let b=n=class extends p.wq{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return f.write(e,t,r)}readHeightModel(e,t,r){return f.read(e)||(r&&r.messages&&r.messages.push(function(e,t){return new l.Z("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}(e,{context:r})),null)}readHeightUnit(e,t,r){return m.read(e)||(r&&r.messages&&r.messages.push(v(e,{context:r})),null)}readHeightUnitService(e,t,r){return(0,h.$C)(e)||m.read(e)||(r&&r.messages&&r.messages.push(v(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=(0,h.cM)(t);return new n({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new n;return t.read(e,{origin:"web-scene"}),t}};function v(e,t){return new l.Z("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}(0,i._)([(0,s.Cb)({type:f.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:y,default:"ellipsoidal"}}}})],b.prototype,"heightModel",void 0),(0,i._)([(0,c.c)("web-scene","heightModel")],b.prototype,"writeHeightModel",null),(0,i._)([(0,o.r)(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",null),(0,i._)([(0,s.Cb)({type:m.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:m.jsonValues,write:m.write}}}})],b.prototype,"heightUnit",void 0),(0,i._)([(0,o.r)("web-scene","heightUnit")],b.prototype,"readHeightUnit",null),(0,i._)([(0,o.r)("service","heightUnit")],b.prototype,"readHeightUnitService",null),(0,i._)([(0,s.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0),(0,i._)([(0,o.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,"readVertCRS",null),b=n=(0,i._)([(0,u.j)("esri.geometry.HeightModelInfo")],b);const g=b},50897:(e,t,r)=>{"use strict";r.d(t,{Gv:()=>x,SO:()=>p,d9:()=>s,r3:()=>v,BD:()=>h,Qn:()=>f,Zm:()=>m,jE:()=>y,Ue:()=>i,cS:()=>w,Ho:()=>u,oJ:()=>o,al:()=>a,Cb:()=>d,kK:()=>b,vk:()=>g,HH:()=>l,bf:()=>c});r(95830);var n=r(52937);function i(e=_){return[e[0],e[1],e[2],e[3]]}function s(e){return[e[0],e[1],e[2],e[3]]}function a(e,t,r,n,s=i()){return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s}function o(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new n.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function c(e){return e[0]>=e[2]?0:e[2]-e[0]}function d(e){return e[1]>=e[3]?0:e[3]-e[1]}function p(e){return c(e)*d(e)}function h(e,t){return y(e,t[0],t[1])}function f(e,t){return y(e,t.x,t.y)}function y(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function m(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function b(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function v(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function g(e,t,r=e){return r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r}function w(e){return e?function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}(e,x):i(x)}const x=[1/0,1/0,-1/0,-1/0],_=[0,0,0,0]},48899:(e,t,r)=>{"use strict";r.d(t,{Y:()=>u});var n=r(56140),i=(r(95830),r(59472)),s=r(36544),a=(r(68055),r(79881)),o=r(87566),l=(r(10923),r(57002),r(86035),r(97849));const u=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=(0,l.Qc)(this.url);if((0,i.pC)(e)&&e.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",(0,l.Nm)(e,s.Z.getLogger(this.declaredClass)))}};return(0,n._)([(0,a.Cb)({dependsOn:["url"]})],t.prototype,"title",null),(0,n._)([(0,a.Cb)({type:String})],t.prototype,"url",null),t=(0,n._)([(0,o.j)("esri.layers.mixins.ArcGISService")],t),t}},57407:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(56140),i=(r(95830),r(36544),r(68055),r(79881)),s=r(87566);r(10923),r(57002),r(86035);const a=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,n._)([(0,i.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,n._)([(0,i.Cb)()],t.prototype,"effect",void 0),t=(0,n._)([(0,s.j)("esri.layers.mixins.BlendLayer")],t),t}},63795:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var n=r(56140),i=(r(95830),r(36544),r(68055),r(79881)),s=r(87566);r(10923),r(57002),r(86035);const a=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return(0,n._)([(0,i.Cb)({json:{write:!0,origins:{"web-scene":{write:!1}}}})],t.prototype,"customParameters",void 0),t=(0,n._)([(0,s.j)("esri.layers.mixins.CustomParametersMixin")],t),t}},78910:(e,t,r)=>{"use strict";r.d(t,{q:()=>p});var n=r(56140),i=(r(95830),r(36544),r(68055),r(79881)),s=r(87566),a=r(60538),o=r(32656),l=(r(10923),r(57002),r(86035),r(17771)),u=r(65131);const c={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};var d=r(18152);const p=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(e,t,r,n){(n&&"ground"===n.layerContainerType||e&&(0,u.df)(this,r,{},n))&&(t[r]=e)}writeOperationalLayerType(e,t,r,n){!e||n&&"tables"===n.layerContainerType||(t.layerType=e)}writeTitle(e,t){t.title=e||"Layer"}read(e,t){t&&(t.layer=this),(0,l.$Z)(this,e,(t=>super.read(e,t)),t)}write(e,t){if(t&&t.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,r=c[e];let n=r&&r[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(n=!1),!n)return t.messages&&t.messages.push(new o.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const r=super.write(e,{...t,layer:this}),n=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof o.Z&&"web-document-write:property-required"===e.name)).length;return!this.url&&n?null:r}beforeSave(){}};return(0,n._)([(0,i.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,n._)([(0,i.Cb)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),(0,n._)([(0,a.c)("listMode")],t.prototype,"writeListMode",null),(0,n._)([(0,i.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),(0,n._)([(0,a.c)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,n._)([(0,i.Cb)(d.Oh)],t.prototype,"opacity",void 0),(0,n._)([(0,i.Cb)({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,n._)([(0,a.c)("title")],t.prototype,"writeTitle",null),(0,n._)([(0,i.Cb)({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],t.prototype,"visible",void 0),t=(0,n._)([(0,s.j)("esri.layers.mixins.OperationalLayer")],t),t}},33716:(e,t,r)=>{"use strict";r.d(t,{I:()=>y});var n=r(56140),i=(r(95830),r(36544)),s=(r(68055),r(79881)),a=r(30590),o=r(87566),l=r(60538),u=r(32656),c=r(10923),d=(r(57002),r(86035),r(39105)),p=r(32797),h=r(80192);const f=i.Z.getLogger("esri.layers.mixins.PortalLayer"),y=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var e;null==(e=this.portalItem)||e.destroy(),this.portalItem=null}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,r){if(t.itemId)return new h.default({id:t.itemId,portal:r&&r.portal})}writePortalItem(e,t){e&&e.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem&&this.portalItem.id)try{const n=await r.e(6382).then(r.bind(r,66382));return(0,d.throwIfAborted)(t),await n.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},t)}catch(e){throw f.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const r=t&&t.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||p.Z.getDefault());return r&&n&&!(0,c.tm)(n.restUrl,r.restUrl)?(t.messages&&t.messages.push(new u.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,n._)([(0,s.Cb)({type:h.default})],t.prototype,"portalItem",null),(0,n._)([(0,a.r)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,n._)([(0,l.c)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,n._)([(0,s.Cb)()],t.prototype,"resourceReferences",void 0),t=(0,n._)([(0,o.j)("esri.layers.mixins.PortalLayer")],t),t}},2194:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(56140),i=(r(95830),r(36544),r(68055),r(79881)),s=r(87566);r(10923),r(57002),r(86035);const a=e=>{let t=class extends e{constructor(){super(...arguments),this.refreshInterval=0}refresh(){this.emit("refresh")}};return(0,n._)([(0,i.Cb)({type:Number,cast:e=>e>=.1?e:e<=0?0:.1,json:{write:!0,origins:{"web-document":{write:!0}}}})],t.prototype,"refreshInterval",void 0),t=(0,n._)([(0,s.j)("esri.layers.mixins.RefreshableLayer")],t),t}},10113:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n=r(56140),i=(r(95830),r(36544),r(68055),r(79881)),s=r(87566);r(10923),r(57002),r(86035);const a=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return(0,n._)([(0,i.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,n._)([(0,i.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,n._)([(0,i.Cb)({readOnly:!0,dependsOn:["minScale","maxScale"]})],t.prototype,"scaleRangeId",null),t=(0,n._)([(0,s.j)("esri.layers.mixins.ScaleRangeLayer")],t),t}},70834:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n,i=r(56140),s=(r(95830),r(36544),r(68055)),a=r(79881),o=r(56274),l=r(9870),u=r(30590),c=r(87566),d=(r(10923),r(57002),r(86035),r(58385)),p=r(6585),h=r(88210);const f=new o.Xn({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let y=n=class extends d.wq{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch(e){}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch(e){}return r?f.fromJSON(r.fieldValueType):null}clone(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],y.prototype,"alias",void 0),(0,i._)([(0,a.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],y.prototype,"defaultValue",void 0),(0,i._)([(0,a.Cb)()],y.prototype,"description",void 0),(0,i._)([(0,u.r)("description")],y.prototype,"readDescription",null),(0,i._)([(0,a.Cb)({types:p.V5,json:{read:{reader:p.im},write:!0}})],y.prototype,"domain",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"editable",void 0),(0,i._)([(0,a.Cb)({type:s.z8,json:{write:!0}})],y.prototype,"length",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"nullable",void 0),(0,i._)([(0,l.J)(h.v)],y.prototype,"type",void 0),(0,i._)([(0,a.Cb)()],y.prototype,"valueType",void 0),(0,i._)([(0,u.r)("valueType",["description"])],y.prototype,"readValueType",null),y=n=(0,i._)([(0,c.j)("esri.layers.support.Field")],y);const m=y},18897:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n,i=r(56140),s=(r(95830),r(36544),r(68055)),a=r(79881),o=r(87566),l=(r(10923),r(57002),r(86035),r(58385));let u=n=class extends l.wq{constructor(e){super(e),this.level=0,this.levelValue=null,this.resolution=0,this.scale=0}clone(){return new n({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}};(0,i._)([(0,a.Cb)({type:s.z8,json:{write:!0}})],u.prototype,"level",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],u.prototype,"levelValue",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],u.prototype,"resolution",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],u.prototype,"scale",void 0),u=n=(0,i._)([(0,o.j)("esri.layers.support.LOD")],u);const c=u},40920:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n,i=r(56140),s=(r(95830),r(36544),r(68055)),a=r(79881),o=r(56274),l=r(30590),u=r(87566),c=r(60538),d=(r(10923),r(57002),r(86035),r(58385)),p=r(27780),h=r(73032),f=r(41241),y=r(61106),m=(r(36348),r(93533)),b=r(50897),v=r(18897);const g=new o.Xn({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let w=n=class extends d.wq{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={size:256,spatialReference:h.Z.WebMercator}){const t=e.resolutionFactor||1,r=e.scales,i=e.size||256,s=e.spatialReference||h.Z.WebMercator;if(!(0,p.JY)(s)){const e=[];if(r)for(let t=0;t<r.length;t++){const n=r[t];e.push({level:t,scale:n,resolution:n})}else{let t=5e-4;for(let r=23;r>=0;r--)e.unshift({level:r,scale:t,resolution:t}),t*=2}return new n({dpi:96,lods:e,origin:new y.Z(0,0,s),size:[i,i],spatialReference:s})}const a=(0,p.C5)(s),o=e.origin?new y.Z({x:e.origin.x,y:e.origin.y,spatialReference:s}):new y.Z(a?{x:a.origin[0],y:a.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),l=1/(39.37*(0,m.c9)(s)*96),u=[];if(r)for(let e=0;e<r.length;e++){const t=r[e],n=t*l;u.push({level:e,scale:t,resolution:n})}else{let e=(0,p.sT)(s)?512/i*591657527.5917094:256/i*591657527.591555;const r=Math.ceil(24/t);u.push({level:0,scale:e,resolution:e*l});for(let n=1;n<r;n++){const r=e/Math.pow(2,t),i=r*l;u.push({level:n,scale:r,resolution:i}),e=r}}return new n({dpi:96,lods:u,origin:o,size:[i,i],spatialReference:s})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=(0,p.C5)(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return y.Z.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const n=[];this._levelToLOD={},e&&(t=-1/0,r=1/0,e.forEach((e=>{n.push(e.scale),t=e.scale>t?e.scale:t,r=e.scale<r?e.scale:r,this._levelToLOD[e.level]=e}))),this._set("scales",n),this._set("minScale",t),this._set("maxScale",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[0]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];{const r=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[r]-t[n])}}scaleToZoom(e){const t=this.scales,r=t.length-1;let n=0;for(;n<r;n++){const r=t[n],i=t[n+1];if(r<=e)return n;if(i===e)return n+1;if(r>e&&i<e)return n+1-(e-i)/(r-i)}return n}snapScale(e,t=.95){const r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}tileAt(e,t,r,n){const i=this.lodAt(e);if(!i)return null;let s,a;if("number"==typeof t)s=t,a=r;else if((0,p.fS)(t.spatialReference,this.spatialReference))s=t.x,a=t.y,n=r;else{const e=(0,f.iV)(t,this.spatialReference);if(!e)return null;s=e.x,a=e.y,n=r}const o=i.resolution*this.size[0],l=i.resolution*this.size[1];return n||(n={id:null,level:0,row:0,col:0,extent:(0,b.Ue)()}),n.level=e,n.row=Math.floor((this.origin.y-a)/l+.001),n.col=Math.floor((s-this.origin.x)/o+.001),this.updateTileInfo(n),n}updateTileInfo(e){const t=this.lodAt(e.level);if(!t)return;const r=t.resolution*this.size[0],n=t.resolution*this.size[1];e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,b.Ue)()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*n,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+n}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}getTileBounds(e,t){const{resolution:r}=this.lodAt(t.level),n=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+n,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return n.fromJSON(this.write({}))}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],w.prototype,"compressionQuality",void 0),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],w.prototype,"dpi",void 0),(0,i._)([(0,a.Cb)({type:String,json:{read:g.read,write:g.write,origins:{"web-scene":{read:!1,write:!1}}}})],w.prototype,"format",void 0),(0,i._)([(0,a.Cb)({readOnly:!0,dependsOn:["spatialReference","origin"]})],w.prototype,"isWrappable",null),(0,i._)([(0,a.Cb)({type:y.Z,json:{write:!0}})],w.prototype,"origin",void 0),(0,i._)([(0,l.r)("origin")],w.prototype,"readOrigin",null),(0,i._)([(0,a.Cb)({type:[v.Z],value:null,json:{write:!0}})],w.prototype,"lods",null),(0,i._)([(0,a.Cb)({readOnly:!0})],w.prototype,"minScale",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],w.prototype,"maxScale",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],w.prototype,"scales",void 0),(0,i._)([(0,a.Cb)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],w.prototype,"size",void 0),(0,i._)([(0,l.r)("size",["rows","cols"])],w.prototype,"readSize",null),(0,i._)([(0,c.c)("size",{cols:{type:s.z8},rows:{type:s.z8}})],w.prototype,"writeSize",null),(0,i._)([(0,a.Cb)({type:h.Z,json:{write:!0}})],w.prototype,"spatialReference",void 0),w=n=(0,i._)([(0,u.j)("esri.layers.support.TileInfo")],w);const x=w},18152:(e,t,r)=>{"use strict";r.d(t,{qG:()=>v,PV:()=>f,iR:()=>d,rn:()=>h,Oh:()=>m,bT:()=>b,C_:()=>c,Lx:()=>y,YI:()=>u,HQ:()=>p});var n=r(65575),i=r(37704),s=r(65131),a=r(3277),o=r(87864),l=r(79710);const u={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader(e,t){if(null!=t.screenSizePerspective||"defaults"!==this.originOf("screenSizePerspectiveEnabled"))return t.screenSizePerspective;(0,n.vw)(this).store.set("screenSizePerspectiveEnabled",!1,0)}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer(e,t,r,n){("defaults"===this.originOf("screenSizePerspectiveEnabled")&&e||(0,s.df)(this,"screenSizePerspectiveEnabled",{},n))&&(t[r]=e)}}}}}},c={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},d={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},p={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i.w}}},h={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},f={value:null,type:l.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function y(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const m={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},b={...m,json:{...m.json,origins:{"web-document":{...m.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?(0,a.b)(t.layerDefinition.drawingInfo.transparency):void 0:(0,a.b)(t.drawingInfo.transparency)}}},v={type:o.Z,dependsOn:["view.timeExtent","layer.timeExtent","layer.timeInfo","layer.timeOffset","layer.timeOffset.value","layer.timeOffset.unit","layer.useViewTime"],readOnly:!0,get(){var e,t;if(null==(e=this.layer)||!e.timeInfo)return null;const r=null==(t=this.view)?void 0:t.timeExtent,n=this.layer.timeExtent,i=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!i||i.isEmpty)return i;const s=this.layer.timeOffset,a=s?i.offset(-s.value,s.unit):i,o=this._get("timeExtent");return a.equals(o)?o:a}}},88210:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});const n=new(r(56274).Xn)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},2961:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(49840),i=r(93533);const s={inches:(0,i.En)(1,"meters","inches"),feet:(0,i.En)(1,"meters","feet"),"us-feet":(0,i.En)(1,"meters","us-feet"),yards:(0,i.En)(1,"meters","yards"),miles:(0,i.En)(1,"meters","miles"),"nautical-miles":(0,i.En)(1,"meters","nautical-miles"),millimeters:(0,i.En)(1,"meters","millimeters"),centimeters:(0,i.En)(1,"meters","centimeters"),decimeters:(0,i.En)(1,"meters","decimeters"),meters:(0,i.En)(1,"meters","meters"),kilometers:(0,i.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,i.ty)(1,"meters",n.sv.radius)}},95005:(e,t,r)=>{"use strict";function n(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function i(e){return null!=e&&!isNaN(e)&&isFinite(e)}function s(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function a(e,t){const r=t||s(e),n=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===n?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,{PS:()=>s,QW:()=>a,iY:()=>n,qh:()=>i})},5328:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getAllSizes:()=>S,getColor:()=>f,getOpacity:()=>y,getRotationAngle:()=>m,getSize:()=>b,getSizeForValue:()=>w,getSizeFromNumberOrVariable:()=>v,getSizeRangeAtScale:()=>x,getVisualVariableValues:()=>_,viewScaleRE:()=>h});var n=r(94588),i=r(59472),s=r(36544),a=r(78745),o=r(15988),l=r(2961),u=r(95005);const c=s.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new o.default,p=Math.PI,h=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function f(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.ColorVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof t,o=s?null:t,l=o&&o.attributes;let u=s?t:null;const d=n.field,{ipData:p,hasExpression:h}=n.cache;let f=n.cache.compiledFunc;if(!d&&!h){const e=n.stops;return e&&e[0]&&e[0].color}if("number"!=typeof u)if(h){if(!(0,i.pC)(r)||!(0,i.pC)(r.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,s=t.getViewInfo(e),a=t.createExecContext(o,s);if(!f){const e=t.createSyntaxTree(n.valueExpression);f=t.createFunction(e),n.cache.compiledFunc=f}u=t.executeFunction(f,a)}else l&&(u=l[d]);const y=n.normalizationField,m=l?parseFloat(l[y]):void 0;if(null!=u&&(!y||s||!isNaN(m)&&0!==m)){isNaN(m)||s||(u/=m);const e=M(u,p);if(e){const t=e[0],s=e[1],o=t===s?n.stops[t].color:a.default.blendColors(n.stops[t].color,n.stops[s].color,e[2],(0,i.pC)(r)?r.color:void 0);return new a.default(o)}}}function y(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.OpacityVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const s="number"==typeof t,a=s?null:t,o=a&&a.attributes;let l=s?t:null;const u=n.field,{ipData:d,hasExpression:p}=n.cache;let h=n.cache.compiledFunc;if(!u&&!p){const e=n.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(p){if((0,i.Wi)(r)||(0,i.Wi)(r.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,s=t.getViewInfo(e),o=t.createExecContext(a,s);if(!h){const e=t.createSyntaxTree(n.valueExpression);h=t.createFunction(e),n.cache.compiledFunc=h}l=t.executeFunction(h,o)}else o&&(l=o[u]);const f=n.normalizationField,y=o?parseFloat(o[f]):void 0;if(null!=l&&(!f||s||!isNaN(y)&&0!==y)){isNaN(y)||s||(l/=y);const e=M(l,d);if(e){const t=e[0],r=e[1];if(t===r)return n.stops[t].opacity;{const i=n.stops[t].opacity;return i+(n.stops[r].opacity-i)*e[2]}}}}function m(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.RotationVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const s=n.axis||"heading",a="heading"===s&&"arithmetic"===n.rotationType?90:0,o="heading"===s&&"arithmetic"===n.rotationType?-1:1,l="number"==typeof t?null:t,u=l&&l.attributes,d=n.field,{hasExpression:p}=n.cache;let h=n.cache.compiledFunc,f=0;if(!d&&!p)return f;if(p){if((0,i.Wi)(r)||(0,i.Wi)(r.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,s=t.getViewInfo(e),a=t.createExecContext(l,s);if(!h){const e=t.createSyntaxTree(n.valueExpression);h=t.createFunction(e),n.cache.compiledFunc=h}f=t.executeFunction(h,a)}else u&&(f=u[d]||0);return f="number"!=typeof f||isNaN(f)?null:a+o*f,f}function b(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.SizeVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const s=w(function(e,t,r){const n="number"==typeof t,s=n?null:t,a=s&&s.attributes;let o=n?t:null;const{isScaleDriven:l}=e.cache;let d=e.cache.compiledFunc;if(l){const t=(0,i.pC)(r)?r.scale:void 0,n=(0,i.pC)(r)?r.view:void 0;o=null==t||"3d"===n?function(e){let t=null,r=null;const n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):t}else if(!n)switch(e.inputValueType){case"expression":{if((0,i.Wi)(r)||(0,i.Wi)(r.arcade))return void c.error("Use of arcade expressions requires an arcade context");const t={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},n=r.arcade.arcadeUtils,a=n.getViewInfo(t),l=n.createExecContext(s,a);if(!d){const t=n.createSyntaxTree(e.valueExpression);d=n.createFunction(t),e.cache.compiledFunc=d}o=n.executeFunction(d,l);break}case"field":a&&(o=a[e.field]);break;case"unknown":o=null}if(!(0,u.qh)(o))return null;if(n||!e.normalizationField)return o;const p=a?parseFloat(a[e.normalizationField]):null;return(0,u.qh)(p)&&0!==p?o/p:null}(n,t,r),n,t,r,n.cache.ipData);return null==s||isNaN(s)?0:s}function v(e,t,r){return null==e?null:(0,u.iY)(e)?b(e,t,r):(0,u.qh)(e)?e:null}function g(e,t,r){return(0,u.qh)(r)&&e>r?r:(0,u.qh)(t)&&e<t?t:e}function w(e,t,r,n,s){switch(t.transformationType){case"additive":return function(e,t,r,n){return e+(v(t.minSize,r,n)||t.minDataValue)}(e,t,r,n);case"constant":return function(e,t,r){const n=e.stops;let i=n&&n.length&&n[0].size;return null==i&&(i=e.minSize),v(i,t,r)}(t,r,n);case"clamped-linear":return function(e,t,r,n){const s=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),a=v(t.minSize,r,n),o=v(t.maxSize,r,n),l=(0,i.pC)(n)?n.shape:void 0;if(e<=t.minDataValue)return a;if(e>=t.maxDataValue)return o;if("area"===t.scaleBy&&l){const e="circle"===l,t=e?p*Math.pow(a/2,2):a*a,r=t+s*((e?p*Math.pow(o/2,2):o*o)-t);return e?2*Math.sqrt(r/p):Math.sqrt(r)}return a+s*(o-a)}(e,t,r,n);case"proportional":return function(e,t,r,n){const s=(0,i.pC)(n)?n.shape:void 0,a=e/t.minDataValue,o=v(t.minSize,r,n),l=v(t.maxSize,r,n);let u=null;return u="circle"===s?2*Math.sqrt(a*Math.pow(o/2,2)):"square"===s||"diamond"===s||"image"===s?Math.sqrt(a*Math.pow(o,2)):a*o,g(u,o,l)}(e,t,r,n);case"stops":return function(e,t,r,n,i){const[s,a,o]=M(e,i);if(s===a)return v(t.stops[s].size,r,n);{const e=v(t.stops[s].size,r,n);return e+(v(t.stops[a].size,r,n)-e)*o}}(e,t,r,n,s);case"real-world-size":return function(e,t,r,n){const s=((0,i.pC)(n)&&n.resolution?n.resolution:1)*l.a[t.valueUnit],a=v(t.minSize,r,n),o=v(t.maxSize,r,n),{valueRepresentation:u}=t;let c=null;return c="area"===u?2*Math.sqrt(e/p)/s:"radius"===u||"distance"===u?2*e/s:e/s,g(c,a,o)}(e,t,r,n);case"identity":return e;case"unknown":return null}}function x(e,t,r){const{isScaleDriven:n}=e.cache;if(!(n&&"3d"===r||t))return null;const i={scale:t,view:r};let s=v(e.minSize,d,i),a=v(e.maxSize,d,i);if(null!=s||null!=a){if(s>a){const e=a;a=s,s=e}return{minSize:s,maxSize:a}}}function _(e,t,r){if(!e.visualVariables)return;const n=[],i=[],s=[],a=[],o=[];for(const t of e.visualVariables)switch(t.type){case"color":i.push(t);break;case"opacity":s.push(t);break;case"rotation":o.push(t);break;case"size":a.push(t)}return i.forEach((e=>{const i=f(e,t,r);n.push({variable:e,value:i})})),s.forEach((e=>{const i=y(e,t,r);n.push({variable:e,value:i})})),o.forEach((e=>{const i=m(e,t,r);n.push({variable:e,value:i})})),a.forEach((e=>{const i=b(e,t,r);n.push({variable:e,value:i})})),n.filter((e=>null!=e.value))}function M(e,t){if(!t)return;let r=0,n=t.length-1;return t.some(((t,i)=>e<t?(n=i,!0):(r=i,!1))),[r,n,(e-t[r])/(t[n]-t[r])]}function S(e,t,r){const i=["proportional","proportional","proportional"];for(const s of e){const e=s.useSymbolValue?"symbol-value":b(s,t,r);switch(s.axis){case"width":i[0]=e;break;case"depth":i[1]=e;break;case"height":i[2]=e;break;case"width-and-depth":i[0]=e,i[1]=e;break;case"all":case void 0:case null:i[0]=e,i[1]=e,i[2]=e;break;default:(0,n.Bg)(s.axis)}}return i}},80882:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>f,Df:()=>c,Bf:()=>d,se:()=>p,tR:()=>h,zb:()=>y,aL:()=>m});var n=r(36544),i=r(68055),s=r(10923),a=r(83477),o=r(93776),l=r(22696);const u=n.Z.getLogger("esri.support.basemapUtils");function c(){return{}}function d(e){for(const t in e){const r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function p(e,t){var r;let n;if("string"==typeof e){if(!(e in o.s)){const t=Object.keys(o.s).map((e=>`"${e}"`)).join(", ");return u.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`),null}t&&(n=t[e]),n||(n=l.default.fromId(e),t&&(t[e]=n))}else n=(0,i.se)(l.default,e);return null!=(r=n)&&r.destroyed&&(u.warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function h(e){let t=null;const r=g(e),n=!r.baseLayers.length;for(const e in o.s){const i=S(r,_(o.s[e]),{mustMatchReferences:n});if("equal"===i){t=e;break}"base-layers-equal"===i&&(t=e)}return t}function f(e,t){return e===t||"equal"===S(g(e),g(t),{mustMatchReferences:!0})}function y(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(m))}function m(e){if(v(e.url))return!0;if("vector-tile"===e.type)for(const t in e.sourceNameToSource){const r=e.sourceNameToSource[t];if(v(null==r?void 0:r.sourceUrl))return!0}return!1}const b=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function v(e){if(!e)return!1;const t=new s.R9((0,s.hF)(e));return b.test(t.authority)}function g(e){return e?!e.loaded&&e.resourceInfo?_(e.resourceInfo.data):{baseLayers:w(e.baseLayers),referenceLayers:w(e.referenceLayers)}:null}function w(e){return(a.Z.isCollection(e)?e.toArray():e).map(x)}function x(e){return{type:e.type,url:V("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function _(e){return e?{baseLayers:M(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:M(e.baseMapLayers.filter((e=>e.isReference)))}:null}function M(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:V(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)))}function S(e,t,r){return null!=e!=(null!=t)?"not-equal":e?I(e.baseLayers,t.baseLayers)?I(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function I(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!T(e[r],t[r]))return!1;return!0}function T(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function V(e){return e?(0,s.Fv)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},79710:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n,i=r(56140),s=(r(95830),r(59472)),a=(r(36544),r(68055),r(79881)),o=r(56274),l=r(30590),u=r(87566),c=r(60538),d=(r(10923),r(57002),r(86035),r(58385)),p=r(4665);let h=n=class extends d.wq{async collectRequiredFields(e,t){return(0,p.io)(e,t,this.expression)}clone(){return new n({expression:this.expression,title:this.title})}};(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],h.prototype,"expression",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],h.prototype,"title",void 0),h=n=(0,i._)([(0,u.j)("esri.layers.support.FeatureExpressionInfo")],h);const f=h;var y,m=r(98160);const b=(0,o.wY)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),v=new o.Xn({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let g=y=class extends d.wq{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,r,n){t[r]=e.write(null,n),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){return this._isOverridden("mode")?this._get("mode"):(0,s.pC)(this.offset)||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new y({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};(0,i._)([(0,a.Cb)({type:f,json:{write:!0}})],g.prototype,"featureExpressionInfo",void 0),(0,i._)([(0,l.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],g.prototype,"readFeatureExpressionInfo",null),(0,i._)([(0,c.c)("featureExpressionInfo",{featureExpressionInfo:{type:f},"featureExpression.value":{type:[0]}})],g.prototype,"writeFeatureExpressionInfo",null),(0,i._)([(0,a.Cb)({type:b.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:b.jsonValues,read:b.read,write:{writer:b.write,isRequired:!0}}})],g.prototype,"mode",null),(0,i._)([(0,a.Cb)({type:Number,json:{write:!0}})],g.prototype,"offset",void 0),(0,i._)([(0,a.Cb)({type:m.f9,json:{type:String,read:v.read,write:v.write}})],g.prototype,"unit",null),g=y=(0,i._)([(0,u.j)("esri.layers.support.ElevationInfo")],g);const w=g},98160:(e,t,r)=>{"use strict";r.d(t,{Z7:()=>s,f9:()=>a,lt:()=>i});var n=r(2961);function i(e){return null!=n.a[e]}function s(e){return 1/(n.a[e]||1)}const a=function(){const e=Object.keys(n.a);return e.sort(),e}()},5201:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(38035);class i{constructor(e,t,r,n){this.set(e,t,r,n)}static getId(e,t,r,n){return"object"==typeof e?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${t}/${r}/${n}`}get key(){return this}get id(){return this.toString()}set id(e){this.set(e)}acquire(e,t,r,n){this.set(e,t,r,n)}contains(e){const t=e.level-this.level;return this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new i(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,t,r,n){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){const[t,r,n,i]=e.split("/");this.level=parseFloat(t),this.row=parseFloat(r),this.col=parseFloat(n),this.world=parseFloat(i)}else this.level=+e,this.row=+t,this.col=+r,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new i(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const e=this.level+1,t=this.row<<1,r=this.col<<1,n=this.world;return[new i(e,t,r,n),new i(e,t,r+1,n),new i(e,t+1,r,n),new i(e,t+1,r+1,n)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}i.pool=new n.Z(i,null,null,25,50);const s=i},59054:(e,t,r)=>{"use strict";function n(e,t,r,n){const i=3*e,s=3*(r-e)-i,a=1-i-s,o=3*t,l=3*(n-t)-o,u=1-o-l;function c(e){return((a*e+s)*e+i)*e}return function(e,t=1e-6){return r=function(e,t){let r,n,o,l,u,d;for(o=e,d=0;d<8;d++){if(l=c(o)-e,Math.abs(l)<t)return o;if(u=(3*a*(p=o)+2*s)*p+i,Math.abs(u)<1e-6)break;o-=l/u}var p;if(r=0,n=1,o=e,o<r)return r;if(o>n)return n;for(;r<n;){if(l=c(o),Math.abs(l-e)<t)return o;e>l?r=o:n=o,o=.5*(n-r)+r}return o}(e,t),((u*r+l)*r+o)*r;var r}}r.d(t,{LI:()=>s,Qc:()=>a,n_:()=>n});const i=/^cubic-bezier\((.*)\)/,s={};function a(e){let t=s[e]||null;if(!t){const r=i.exec(e);if(r){const e=r[1].split(",").map((e=>parseFloat(e.trim())));4!==e.length||e.some((e=>isNaN(e)))||(t=n.apply(n,e))}}return t}s.ease=n(.25,.1,.25,1),s.linear=n(0,0,1,1),s.easeIn=s["ease-in"]=n(.42,0,1,1),s.easeOut=s["ease-out"]=n(0,0,.58,1),s.easeInOut=s["ease-in-out"]=n(.42,0,.58,1)},56469:(e,t,r)=>{"use strict";r.d(t,{Xt:()=>o,hu:()=>l,tM:()=>y,RQ:()=>m,Kj:()=>h,zF:()=>f,kV:()=>c,Xv:()=>_,kG:()=>p,I0:()=>b,yK:()=>u,u_:()=>d,vP:()=>v});var n=r(33655),i=(r(77625),r(67128),r(55735),r(38256)),s=r(14286);r(34353);(0,i.a)();class a{constructor(e){this.message=e}toString(){return`AssertException: ${this.message}`}}const o={POSITION:"position",NORMAL:"normal",UV0:"uv0",UVMAPSPACE:"uvMapSpace",MEANVERTEXPOSITION:"meanVertexPosition",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",BOUND1:"bound1",BOUND2:"bound2",BOUND3:"bound3",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",TANGENT:"tangent"};function l(e,t){if(!e){t=t||"assert";const e=new Error(t);throw e.stack&&console.log(e.stack),new a(t)}}function u(e,t,r,n){let i,s=(r[0]-e[0])/t[0],a=(n[0]-e[0])/t[0];s>a&&(i=s,s=a,a=i);let o=(r[1]-e[1])/t[1],l=(n[1]-e[1])/t[1];if(o>l&&(i=o,o=l,l=i),s>l||o>a)return!1;o>s&&(s=o),l<a&&(a=l);let u=(r[2]-e[2])/t[2],c=(n[2]-e[2])/t[2];return u>c&&(i=u,u=c,c=i),!(s>c||u>a||(c<a&&(a=c),a<0))}function c(e){return e[function(e){for(const t in e)return t}(e)]}function d(e,t,r,n){e[12]=t,e[13]=r,e[14]=n}function p(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&1===e[15]}function h(e,t,r){return 2*Math.atan(Math.sqrt(t*t+r*r)*Math.tan(.5*e)/t)}function f(e,t,r){return 2*Math.atan(Math.sqrt(t*t+r*r)*Math.tan(.5*e)/r)}function y(e,t,r){return 2*Math.atan(t*Math.tan(.5*e)/Math.sqrt(t*t+r*r))}function m(e,t,r){return 2*Math.atan(r*Math.tan(.5*e)/Math.sqrt(t*t+r*r))}function b(e,t,r=0){const i=(0,n.uZ)(e,0,x);for(let e=0;e<4;e++)t[r+e]=Math.floor(256*((s=i*g[e])-Math.floor(s)));var s}function v(e,t=0){let r=0;for(let n=0;n<4;n++)r+=e[t+n]*w[n];return r}const g=[1,256,65536,16777216],w=[1/256,1/65536,1/16777216,1/4294967296],x=v(new Uint8ClampedArray([255,255,255,255]));function _(e,t,r,n,i){const a=e;0===e[11]?(n[0]=2/(t*a[0]),n[1]=2/(r*a[5]),n[2]=(1+a[12])/a[0],n[3]=(1+a[13])/a[5],(0,s.s)(i,0,1)):(n[0]=-2/(t*a[0]),n[1]=-2/(r*a[5]),n[2]=(1-a[8])/a[0],n[3]=(1-a[9])/a[5],(0,s.s)(i,1,0))}},45671:(e,t,r)=>{"use strict";r.d(t,{t:()=>p});var n=r(56140),i=r(95844),s=r(79881),a=r(87566),o=r(74386),l=r(3059),u=r(82677),c=r(59691),d=r(80621);let p=class extends u.default{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new c.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r,n=0){const i=0!=(1&n),s=++this.handleId;i||this.installSyncUpdatingWatch(e,t,s);const a=0!=(2&n)?(0,d.init)(e,t,r,i):e.watch(t,r,i);return this.handles.add(a,s),{remove:()=>{this.handles.remove(s)}}}addOnCollectionPropertyChange(e,t,r,n=0){const i=0!=(2&n),s=++this.handleId;return this.handles.add([(0,d.on)(e,t,"after-changes",this.createSyncUpdatingCallback()),(0,d.on)(e,t,"change",r,i?e=>{r({added:e.items,removed:[],moved:[],target:e})}:void 0)],s),{remove:()=>{this.handles.remove(s)}}}addOnCollectionChange(e,t,r=0){const n=0!=(2&r),i=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],i),n&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(i)}}}addPromise(e){if(!e)return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(h)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,r){const n=this.createSyncUpdatingCallback(),s=(0,l.QU)((()=>(0,i.$z)(e,t)),n);return this.handles.add(s,r),s}createSyncUpdatingCallback(){return()=>{this.handles.remove(h),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,o.Os)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(h))})),h)}}};(0,n._)([(0,s.Cb)({readOnly:!0})],p.prototype,"updating",void 0),p=(0,n._)([(0,a.j)("esri.views.support.WatchUpdatingTracking")],p);const h=-42},69595:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(6962);class i{constructor(e,t,r,n,i){this._context=null,this._glName=null,this._bufferType=void 0,this._usage=35044,this._size=-1,this._indexType=void 0,this.id=s++,e.instanceCounter.increment(1,this),this._context=e,this._bufferType=t,this._usage=r,this._glName=this._context.gl.createBuffer(),n&&this.setData(n,i)}static createIndex(e,t,r,n){return new i(e,34963,t,r,n)}static createVertex(e,t,r){return new i(e,34962,t,r)}get glName(){return this._glName}get size(){return this._size}get usage(){return this._usage}get bufferType(){return this._bufferType}get indexType(){return this._indexType}get byteSize(){return 34962===this._bufferType?this._size:5125===this._indexType?4*this._size:2*this._size}dispose(){this._context&&(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),this._context.instanceCounter.decrement(1,this),this._context=null)}setData(e,t){if(!e)return;if("number"==typeof e){if(e<0&&console.error("Buffer size cannot be negative!"),34963===this._bufferType&&t)switch(this._indexType=t,this._size=e,t){case 5123:e*=2;break;case 5125:e*=4}}else{let t=e.byteLength;(0,n.Uc)(e)&&(t/=2,this._indexType=5123),(0,n.ZY)(e)&&(t/=4,this._indexType=5125),this._size=t}const r=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this),this._context.gl.bufferData(this._bufferType,e,this._usage),this._context.bindVAO(r)}setSubData(e,t=0,r=0,i){if(!e)return;(t<0||t>=this._size)&&console.error("offset is out of range!");let s=t,a=r,o=i,l=e.byteLength;(0,n.Uc)(e)&&(l/=2,s*=2,a*=2,o*=2),(0,n.ZY)(e)&&(l/=4,s*=4,a*=4,o*=4),void 0===i&&(i=l-1),r>=i&&console.error("end must be bigger than start!"),t+r-i>this._size&&console.error("An attempt to write beyond the end of the buffer!");const u=this._context.getBoundVAO();this._context.bindVAO(null),this._context.bindBuffer(this);const c=this._context.gl,d=ArrayBuffer.isView(e)?e.buffer:e;c.bufferSubData(this._bufferType,s,d.slice(a,o)),this._context.bindVAO(u)}}let s=0;const a=i},57319:(e,t,r)=>{"use strict";r.d(t,{XP:()=>a,un:()=>l,m:()=>s,UF:()=>o,_V:()=>i});r(95830);var n=r(59472);function i(e,t){return e.vertexBuffers[t].size/s(e.layout[t])}function s(e){return e[0].stride}function a(e,t,r,n,i){const s=e.gl,a=e.capabilities.instancing;e.bindBuffer(r);for(const e of n){const r=t[e.name],n=(i||(0+e.baseInstance?e.baseInstance:0))*e.stride;if(void 0===r&&console.error(`There is no location for vertex attribute '${e.name}' defined.`),e.baseInstance&&!e.divisor&&console.error(`Vertex attribute '${e.name}' uses baseInstanceOffset without divisor.`),e.count<=4)s.vertexAttribPointer(r,e.count,e.type,e.normalized,e.stride,e.offset+n),s.enableVertexAttribArray(r),e.divisor&&e.divisor>0&&a&&a.vertexAttribDivisor(r,e.divisor);else if(9===e.count)for(let t=0;t<3;t++)s.vertexAttribPointer(r+t,3,e.type,e.normalized,e.stride,e.offset+12*t+n),s.enableVertexAttribArray(r+t),e.divisor&&e.divisor>0&&a&&a.vertexAttribDivisor(r+t,e.divisor);else if(16===e.count)for(let t=0;t<4;t++)s.vertexAttribPointer(r+t,4,e.type,e.normalized,e.stride,e.offset+16*t+n),s.enableVertexAttribArray(r+t),e.divisor&&e.divisor>0&&a&&a.vertexAttribDivisor(r+t,e.divisor);else console.error("Unsupported vertex attribute element count: "+e.count)}}function o(e,t,r,n){const i=e.gl,s=e.capabilities.instancing;e.bindBuffer(r);for(const e of n){const r=t[e.name];if(e.count<=4)i.disableVertexAttribArray(r),e.divisor&&e.divisor>0&&s&&s.vertexAttribDivisor(r,0);else if(9===e.count)for(let t=0;t<3;t++)i.disableVertexAttribArray(r+t),e.divisor&&e.divisor>0&&s&&s.vertexAttribDivisor(r+t,0);else if(16===e.count)for(let t=0;t<4;t++)i.disableVertexAttribArray(r+t),e.divisor&&e.divisor>0&&s&&s.vertexAttribDivisor(r+t,0);else console.error("Unsupported vertex attribute element count: "+e.count)}e.unbindBuffer(34962)}function l(e){if((0,n.Wi)(e))return 0;if("colorAttachment"in e)return e.glName?l(e.colorAttachment)+l(e.depthStencilAttachment):0;if("descriptor"in e)return e.glName?l(e.descriptor):0;const t=e.internalFormat||"pixelFormat"in e&&e.pixelFormat;if(!t)return 0;const r="hasMipmap"in e&&e.hasMipmap?1.3:1,i=e.width*e.height;return function(e){switch(e){case 6406:case 6409:return 1;case 6410:return 2;case 6407:return 3;case 6408:case 34041:return 4;case 33325:return 2;case 33326:case 35898:case 33327:return 4;case 33328:case 34842:return 8;case 34836:return 16;case 33189:return 2;case 34041:return 4;case 32854:return 2;case 36168:return 1}return 0}(t)*i*r}},74038:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(57319);let i=0;const s=class{constructor(e,t,r,n,s){this._context=e,this._locations=t,this._layout=r,this._buffers=n,this._indexBuffer=s,this._glName=null,this.id=i++,this._initialized=!1,e.instanceCounter.increment(2,this)}get glName(){return this._glName}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get size(){return Object.keys(this._buffers).reduce(((e,t)=>e+this._buffers[t].size),this._indexBuffer?this._indexBuffer.size:0)}get layout(){return this._layout}get locations(){return this._locations}dispose(e=!0){if(!this._context)return;const t=this._context.capabilities.vao;if(t&&this._glName&&(t.deleteVertexArray(this._glName),this._glName=null),this._context.getBoundVAO()===this&&this._context.bindVAO(null),e){for(const e in this._buffers)this._buffers[e].dispose(),delete this._buffers[e];this._indexBuffer&&(this._indexBuffer.dispose(),this._indexBuffer=null)}this._context.instanceCounter.decrement(2,this),this._context=null}initialize(){if(this._initialized)return;const e=this._context.capabilities.vao;if(e){const t=e.createVertexArray();e.bindVertexArray(t),this._bindLayout(),e.bindVertexArray(null),this._glName=t}this._initialized=!0}bind(){this.initialize();const e=this._context.capabilities.vao;e?e.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const e=this._buffers,t=!!this._context.capabilities.vao,r=this._layout,i=this._indexBuffer;e||console.error("Vertex buffer dictionary is empty!");const s=this._context.gl;for(const t in e){const i=e[t];i||console.error("Vertex buffer is uninitialized!");const s=r[t];s||console.error("Vertex element descriptor is empty!"),(0,n.XP)(this._context,this._locations,i,s)}i&&(t?s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,i.glName):this._context.bindBuffer(i))}unbind(){this.initialize();const e=this._context.capabilities.vao;e?e.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const e=this._buffers,t=this._layout;e||console.error("Vertex buffer dictionary is empty!");for(const r in e){const i=e[r];i||console.error("Vertex buffer is uninitialized!");const s=t[r];(0,n.UF)(this._context,this._locations,i,s)}const r=this._indexBuffer;r&&this._context.unbindBuffer(r.bufferType)}}},43129:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(27938);let i;const s=function(){return i||(i=function(){const e={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};if(void 0===typeof WebGLRenderingContext)return e;const t=document.createElement("canvas");if(!t)return e;let r=(0,n.k)(t,{failIfMajorPerformanceCaveat:!0},"webgl");if(r||(r=(0,n.k)(t,{},"webgl"),r&&(e.majorPerformanceCaveat=!0)),!r)return e;const i=r.getParameter(r.VERSION);if(!i)return e;const s=i.match(/^WebGL\s+([\d.]*)/);if(s){const t=parseFloat(s[1]);e.available=t>=.94;const n=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);n&&(e.supportsHighPrecisionFragment=n.precision>0),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,e.supportsElementIndexUint=null!==r.getExtension("OES_element_index_uint"),e.supportsStandardDerivatives=null!==r.getExtension("OES_standard_derivatives"),e.supportsInstancedArrays=null!==r.getExtension("ANGLE_instanced_arrays"),e.supportsTextureFloat=null!==r.getExtension("OES_texture_float"),e.supportsColorBufferFloat=null!==r.getExtension("WEBGL_color_buffer_float")}return e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.version=function(){if(void 0===typeof WebGL2RenderingContext)return!1;const e=document.createElement("canvas");return!!e&&!!(0,n.k)(e,{},"webgl2")}()?2:1,e}()),i}},27938:(e,t,r)=>{"use strict";function n(e,t={},r){if(!window.WebGLRenderingContext)return s(e,a),null;return i(e,t,r)||(s(e,o),null)}function i(e,t={},r){let n;switch(r){case"webgl":n=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case"webgl2":n=["webgl2"];break;default:n=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}let i=null;for(const r of n){try{i=e.getContext(r,t)}catch(e){}if(i)break}return i}function s(e,t){const r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}r.d(t,{k:()=>i,s:()=>n});const a='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',o='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'}},0,[[40548,3666,8696,1518,8834,6779,9263,142,2673,8157,7333,7383,5988,3533,2696,7278,9651,6114],[97900,3666,8696,1518,8834,6779,9263,142,2673,8157,7333,7383,5988,3533,2696,7278,9651,6114],[81826,3666,8696,1518,8834,6779,9263,142,2673,8157,7333,7383,5988,3533,2696,7278,9651,6114]]]);
//# sourceMappingURL=baseMaps.js.map