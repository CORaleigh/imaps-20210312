{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/layers/Layer.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/BlendLayer.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/ElevationInfo.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","webpack://imaps/./src/widgets/Draw.tsx","webpack://imaps/./src/widgets/Draw/DrawViewModel.ts","webpack://imaps/./src/widgets/Draw/styles/Draw.scss","webpack://imaps/./src/widgets/Draw/styles/Draw.scss?8cee"],"names":["c","m","h","super","arguments","this","attributionDataUrl","fullExtent","id","Date","now","toString","legendEnabled","listMode","opacity","parent","popupEnabled","attributionVisible","spatialReference","title","type","url","visible","t","r","e","fromUrl","error","portalItem","o","fromItem","i","a","portal","when","catch","declaredClass","layers","includes","remove","tables","baseLayers","referenceLayers","hasAttributionData","query","f","responseType","data","String","prototype","readOnly","dependsOn","Boolean","nonNullable","Number","range","min","max","json","read","s","blendMode","effect","write","origins","default","minScale","maxScale","p","expression","l","onTheGround","relativeToGround","relativeToScene","absoluteHeight","d","foot","kilometer","meter","mile","yard","offset","featureExpression","value","_isOverridden","_get","featureExpressionInfo","_override","_set","mode","unit","clone","apiValues","jsonValues","writer","isRequired","n","Object","keys","sort","__decorate","decorators","target","key","desc","length","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__importDefault","mod","__esModule","exports","decorators_1","require","widget_1","Widget_1","Color_1","DrawViewModel_1","CSS","Draw","properties","viewModel","_drawUpdated","sketch","initDraw","fill","document","querySelector","setAttribute","addEventListener","hex","pointSymbol","color","fromHex","polygonSymbol","passive","line","polylineSymbol","outline","width","parseFloat","label","set","textColor","tsx","class","afterUpdate","heading","open","collapsible","text","scale","hideChannels","hideSaved","appearance","step","aliasOf","property","renderable","subclass","Accessor_1","Sketch_1","GraphicsLayer_1","watchUtils_1","Graphic_1","TextSymbol_1","DrawViewModel","params","whenDefinedOnce","init","bind","graphics","view","map","add","container","layer","creationMode","defaultCreateOptions","watch","tool","_a","undefined","measurement","clear","on","_b","state","labelPoint","graphic","geometry","centroid","g","symbol","haloColor","haloSize","xoffset","yoffset","verticalAlignment","horizontalAlignment","console","log","___CSS_LOADER_EXPORT___","push","module","options"],"mappings":"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","file":"draw.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import r from\"../config.js\";import e from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../core/Error.js\";import{urlToObject as s}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import l from\"../geometry/SpatialReference.js\";import n from\"../geometry/Extent.js\";import\"../geometry.js\";import p from\"../core/Evented.js\";import{IdentifiableMixin as y}from\"../core/Identifiable.js\";import u from\"../request.js\";import d from\"../core/Loadable.js\";let c=0;const m=e.getLogger(\"esri.layers.Layer\");let h=class extends(p.EventedMixin(y(d))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new n(-180,-90,180,90,l.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+c++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=l.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=\"string\"==typeof t?{url:t}:t,e=await import(\"./support/arcgisLayers.js\");try{return await e.fromUrl(r)}catch(t){throw m.error(\"#fromArcGISServerUrl({ url: '\"+r.url+\"'})\",\"Failed to create layer from arcgis server url\",t),t}}static async fromPortalItem(t){const e=\"portalItem\"in t?t:{portalItem:t},o=await import(\"../portal/support/portalLayers.js\");try{return await o.fromItem(e)}catch(t){const o=e&&e.portalItem,i=o&&o.id||\"unset\",a=o&&o.portal&&o.portal.url||r.portalUrl;throw m.error(\"#fromPortalItem()\",\"Failed to create layer from portal item (portal: '\"+a+\"', id: '\"+i+\"')\",t),t}}initialize(){this.when().catch((t=>{var r,o;e.getLogger(this.declaredClass).error(\"#load()\",`Failed to load layer (title: '${null!=(r=this.title)?r:\"no title\"}', id: '${null!=(o=this.id)?o:\"no id\"}')`,{error:t})}))}destroy(){if(this.parent){const t=this,r=this.parent;\"layers\"in r&&r.layers.includes(t)?r.layers.remove(t):\"tables\"in r&&r.tables.includes(t)?r.tables.remove(t):\"baseLayers\"in r&&r.baseLayers.includes(t)?r.baseLayers.remove(t):\"baseLayers\"in r&&r.referenceLayers.includes(t)&&r.referenceLayers.remove(t)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?s(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return(await u(t,{query:{f:\"json\"},responseType:\"json\"})).data}throw new a(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};t([o({type:String})],h.prototype,\"attributionDataUrl\",void 0),t([o({type:n})],h.prototype,\"fullExtent\",void 0),t([o({readOnly:!0,dependsOn:[\"attributionDataUrl\"]})],h.prototype,\"hasAttributionData\",null),t([o({type:String})],h.prototype,\"id\",void 0),t([o({type:Boolean,nonNullable:!0})],h.prototype,\"legendEnabled\",void 0),t([o({type:[\"show\",\"hide\",\"hide-children\"]})],h.prototype,\"listMode\",void 0),t([o({type:Number,range:{min:0,max:1},nonNullable:!0})],h.prototype,\"opacity\",void 0),t([o()],h.prototype,\"parent\",void 0),t([o({readOnly:!0,dependsOn:[\"url\"]})],h.prototype,\"parsedUrl\",null),t([o({type:Boolean})],h.prototype,\"popupEnabled\",void 0),t([o({type:Boolean})],h.prototype,\"attributionVisible\",void 0),t([o({type:l})],h.prototype,\"spatialReference\",void 0),t([o({type:String})],h.prototype,\"title\",void 0),t([o({type:String,readOnly:!0,json:{read:!1}})],h.prototype,\"type\",void 0),t([o()],h.prototype,\"url\",void 0),t([o({type:Boolean,nonNullable:!0})],h.prototype,\"visible\",void 0),h=t([i(\"esri.layers.Layer\")],h);var b=h;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const t=t=>{let s=class extends t{constructor(){super(...arguments),this.blendMode=\"normal\",this.effect=null}};return o([r({type:[\"average\",\"color-burn\",\"color-dodge\",\"color\",\"darken\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"difference\",\"exclusion\",\"hard-light\",\"hue\",\"invert\",\"lighten\",\"lighter\",\"luminosity\",\"minus\",\"multiply\",\"normal\",\"overlay\",\"plus\",\"reflect\",\"saturation\",\"screen\",\"soft-light\",\"source-atop\",\"source-in\",\"source-out\",\"vivid-light\",\"xor\"],nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-map\":{default:\"normal\",read:!0,write:!0}}}})],s.prototype,\"blendMode\",void 0),o([r()],s.prototype,\"effect\",void 0),s=o([e(\"esri.layers.mixins.BlendLayer\")],s),s};export{t as BlendLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const s=s=>{let t=class extends s{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"minScale\",void 0),e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"maxScale\",void 0),e([r({readOnly:!0,dependsOn:[\"minScale\",\"maxScale\"]})],t.prototype,\"scaleRangeId\",null),t=e([o(\"esri.layers.mixins.ScaleRangeLayer\")],t),t};export{s as ScaleRangeLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){return this._isOverridden(\"mode\")?this._get(\"mode\"):r(this.offset)||this.featureExpressionInfo?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,dependsOn:[\"offset\",\"featureExpressionInfo\"],nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}const e=function(){const n=Object.keys(t);return n.sort(),n}();export{r as getMetersPerUnit,e as supportedUnits,n as supportsUnit};\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst widget_1 = require(\"@arcgis/core/widgets/support/widget\");\nconst Widget_1 = __importDefault(require(\"@arcgis/core/widgets/Widget\"));\nconst Color_1 = __importDefault(require(\"@arcgis/core/Color\"));\nconst DrawViewModel_1 = __importDefault(require(\"./Draw/DrawViewModel\"));\nrequire(\"./Draw/styles/Draw.scss\");\nconst CSS = {\n    base: 'esri-widget draw-base',\n};\nlet Draw = class Draw extends Widget_1.default {\n    constructor(properties) {\n        super(properties);\n        this.viewModel = new DrawViewModel_1.default();\n        this._drawUpdated = () => {\n            if (!this.viewModel.sketch) {\n                this.viewModel.initDraw();\n            }\n        };\n    }\n    render() {\n        const fill = document.querySelector('#fill');\n        fill === null || fill === void 0 ? void 0 : fill.setAttribute('value', '#ff0000');\n        fill === null || fill === void 0 ? void 0 : fill.addEventListener('calciteColorChange', (e) => {\n            const hex = e.target.value;\n            this.viewModel.sketch.viewModel.pointSymbol.color = Color_1.default.fromHex(hex);\n            this.viewModel.sketch.viewModel.polygonSymbol.color = Color_1.default.fromHex(hex);\n        }, { passive: true });\n        const line = document.querySelector('#line');\n        line === null || line === void 0 ? void 0 : line.setAttribute('value', '#ff0000');\n        line === null || line === void 0 ? void 0 : line.addEventListener('calciteColorChange', (e) => {\n            const hex = e.target.value;\n            this.viewModel.sketch.viewModel.polylineSymbol.color = Color_1.default.fromHex(hex);\n            this.viewModel.sketch.viewModel.pointSymbol.outline.color = Color_1.default.fromHex(hex);\n            this.viewModel.sketch.viewModel.polygonSymbol.outline.color = Color_1.default.fromHex(hex);\n        }, { passive: true });\n        const opacity = document.querySelector('#opacity');\n        opacity === null || opacity === void 0 ? void 0 : opacity.addEventListener('calciteSliderUpdate', (e) => {\n            this.viewModel.sketch.viewModel.polygonSymbol.color.a = e.target.value;\n        }, { passive: true });\n        const width = document.querySelector('#width');\n        width === null || width === void 0 ? void 0 : width.addEventListener('calciteSliderUpdate', (e) => {\n            this.viewModel.sketch.viewModel.polylineSymbol.width = parseFloat(e.target.value);\n            this.viewModel.sketch.viewModel.pointSymbol.outline.width = parseFloat(e.target.value);\n            this.viewModel.sketch.viewModel.polygonSymbol.outline.width = parseFloat(e.target.value);\n        }, { passive: true });\n        const label = document.querySelector('#label');\n        label === null || label === void 0 ? void 0 : label.addEventListener('calciteInputBlur', (e) => {\n            this.set('label', e.target.value);\n        }, { passive: true });\n        const textColor = document.querySelector('#textColor');\n        textColor === null || textColor === void 0 ? void 0 : textColor.setAttribute('value', '#ff0000');\n        textColor === null || textColor === void 0 ? void 0 : textColor.addEventListener('calciteColorChange', (e) => {\n            this.set('textColor', Color_1.default.fromHex(e.target.value));\n        }, { passive: true });\n        return (widget_1.tsx(\"div\", { class: CSS.base },\n            widget_1.tsx(\"div\", { afterUpdate: this._drawUpdated, id: \"sketchDiv\" }),\n            widget_1.tsx(\"calcite-block\", { heading: \"Settings\", open: true, collapsible: true },\n                widget_1.tsx(\"calcite-block-section\", { text: \"Color\" },\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Fill Color\",\n                        ' ',\n                        widget_1.tsx(\"calcite-color\", { id: \"fill\", hideChannels: true, hideSaved: true, appearance: \"minimal\", scale: \"s\" })),\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Line Color\",\n                        ' ',\n                        widget_1.tsx(\"calcite-color\", { id: \"line\", hideChannels: true, hideSaved: true, appearance: \"minimal\", scale: \"s\" }))),\n                widget_1.tsx(\"calcite-block-section\", { text: \"Fill Opacity\" },\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Opacity\",\n                        widget_1.tsx(\"calcite-slider\", { scale: \"s\", id: \"opacity\", max: \"1\", min: \"0\", value: \"0.5\", step: \"0.1\" }))),\n                widget_1.tsx(\"calcite-block-section\", { text: \"Outline\" },\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Width \",\n                        widget_1.tsx(\"calcite-slider\", { id: \"width\", max: \"10\", min: \"0\", value: \"1\", step: \"0.5\" }))),\n                widget_1.tsx(\"calcite-block-section\", { text: \"Labeling\" },\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Label \",\n                        widget_1.tsx(\"calcite-input\", { scale: \"s\", id: \"label\", type: \"textarea\" })),\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Text Color\",\n                        widget_1.tsx(\"calcite-color\", { id: \"textColor\", hideChannels: true, hideSaved: true, appearance: \"minimal\", scale: \"s\" }))))));\n    }\n};\n__decorate([\n    decorators_1.aliasOf('viewModel.view')\n], Draw.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.label')\n], Draw.prototype, \"label\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.textColor')\n], Draw.prototype, \"textColor\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.measurement')\n], Draw.prototype, \"measurement\", void 0);\n__decorate([\n    decorators_1.property({\n        type: DrawViewModel_1.default,\n    }),\n    widget_1.renderable()\n], Draw.prototype, \"viewModel\", void 0);\nDraw = __decorate([\n    decorators_1.subclass('app.widgets.Draw')\n], Draw);\nexports.default = Draw;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Accessor_1 = __importDefault(require(\"@arcgis/core/core/Accessor\"));\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst Sketch_1 = __importDefault(require(\"@arcgis/core/widgets/Sketch\"));\nconst GraphicsLayer_1 = __importDefault(require(\"@arcgis/core/layers/GraphicsLayer\"));\nconst watchUtils_1 = require(\"@arcgis/core/core/watchUtils\");\nconst Graphic_1 = __importDefault(require(\"@arcgis/core/Graphic\"));\nconst TextSymbol_1 = __importDefault(require(\"@arcgis/core/symbols/TextSymbol\"));\nconst Color_1 = __importDefault(require(\"@arcgis/core/Color\"));\n//import { measurement } from '../../widgets';\nlet DrawViewModel = class DrawViewModel extends Accessor_1.default {\n    constructor(params) {\n        super(params);\n        watchUtils_1.whenDefinedOnce(this, 'view', this.init.bind(this));\n    }\n    initDraw() {\n        this.graphics = new GraphicsLayer_1.default({ listMode: 'hide' });\n        this.view.map.add(this.graphics);\n        this.sketch = new Sketch_1.default({\n            view: this.view,\n            container: 'sketchDiv',\n            layer: this.graphics,\n            creationMode: 'single',\n            defaultCreateOptions: {\n                mode: 'hybrid',\n            },\n        });\n        this.sketch.viewModel.pointSymbol.color = Color_1.default.fromHex('#FF0000');\n        this.sketch.viewModel.pointSymbol.outline.color = Color_1.default.fromHex('#FF0000');\n        this.sketch.viewModel.polygonSymbol.color = new Color_1.default([[255, 0, 0, 0.5]]);\n        this.sketch.viewModel.polygonSymbol.outline.color = Color_1.default.fromHex('#FF0000');\n        this.sketch.viewModel.polylineSymbol.color = Color_1.default.fromHex('#FF0000');\n        this.sketch.watch('activeTool', (tool) => {\n            var _a;\n            if (tool != undefined) {\n                (_a = this.measurement) === null || _a === void 0 ? void 0 : _a.clear();\n            }\n        });\n        this.sketch.on('create', (e) => {\n            var _a, _b;\n            if (e.state === 'start') {\n                (_a = this.measurement) === null || _a === void 0 ? void 0 : _a.clear();\n            }\n            if (e.state === 'complete' && ((_b = this.label) === null || _b === void 0 ? void 0 : _b.length)) {\n                let labelPoint = e.graphic.geometry;\n                if (e.graphic.geometry.type === 'polygon') {\n                    labelPoint = e.graphic.geometry.centroid;\n                }\n                const g = new Graphic_1.default({\n                    geometry: labelPoint,\n                    symbol: new TextSymbol_1.default({\n                        text: this.label,\n                        color: this.textColor,\n                        haloColor: 'white',\n                        haloSize: 1,\n                        xoffset: '5px',\n                        yoffset: '5px',\n                        verticalAlignment: 'bottom',\n                        horizontalAlignment: 'right',\n                    }),\n                });\n                this.graphics.add(g);\n            }\n        });\n    }\n    init(view) {\n        console.log(view.scale);\n    }\n};\n__decorate([\n    decorators_1.property()\n], DrawViewModel.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.property()\n], DrawViewModel.prototype, \"container\", void 0);\nDrawViewModel = __decorate([\n    decorators_1.subclass('app.widgets.Draw.DrawViewModel')\n], DrawViewModel);\nexports.default = DrawViewModel;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".draw-base{padding:0}#drawDiv{overflow-y:auto;overflow-x:hidden}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/widgets/Draw/styles/Draw.scss\"],\"names\":[],\"mappings\":\"AAAA,WACE,SAAA,CAGF,SACE,eAAA,CACA,iBAAA\",\"sourcesContent\":[\".draw-base {\\n  padding: 0;\\n}\\n\\n#drawDiv {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./Draw.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"sourceRoot":""}