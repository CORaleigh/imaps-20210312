{"version":3,"sources":["webpack://imaps/./src/widgets/Draw.tsx","webpack://imaps/./src/widgets/Draw/DrawViewModel.ts","webpack://imaps/./src/widgets/Draw/styles/Draw.scss","webpack://imaps/./src/widgets/Draw/styles/Draw.scss?8cee"],"names":["__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__importDefault","mod","__esModule","exports","value","decorators_1","require","widget_1","Widget_1","Color_1","DrawViewModel_1","CSS","Draw","properties","viewModel","_drawUpdated","sketch","initDraw","fill","document","querySelector","setAttribute","addEventListener","e","hex","pointSymbol","color","fromHex","polygonSymbol","passive","line","polylineSymbol","outline","opacity","a","width","parseFloat","label","set","textColor","tsx","class","afterUpdate","id","heading","open","collapsible","text","scale","hideChannels","hideSaved","appearance","max","min","step","type","aliasOf","prototype","property","renderable","subclass","default","Accessor_1","Sketch_1","GraphicsLayer_1","watchUtils_1","Graphic_1","TextSymbol_1","DrawViewModel","params","whenDefinedOnce","init","bind","graphics","listMode","view","map","add","container","layer","creationMode","defaultCreateOptions","mode","watch","tool","_a","undefined","measurement","clear","on","_b","state","labelPoint","graphic","geometry","centroid","g","symbol","haloColor","haloSize","xoffset","yoffset","verticalAlignment","horizontalAlignment","console","log","___CSS_LOADER_EXPORT___","push","module","options"],"mappings":"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","file":"draw.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst widget_1 = require(\"@arcgis/core/widgets/support/widget\");\nconst Widget_1 = __importDefault(require(\"@arcgis/core/widgets/Widget\"));\nconst Color_1 = __importDefault(require(\"@arcgis/core/Color\"));\nconst DrawViewModel_1 = __importDefault(require(\"./Draw/DrawViewModel\"));\nrequire(\"./Draw/styles/Draw.scss\");\nconst CSS = {\n    base: 'esri-widget draw-base',\n};\nlet Draw = class Draw extends Widget_1.default {\n    constructor(properties) {\n        super(properties);\n        this.viewModel = new DrawViewModel_1.default();\n        this._drawUpdated = () => {\n            if (!this.viewModel.sketch) {\n                this.viewModel.initDraw();\n            }\n        };\n    }\n    render() {\n        const fill = document.querySelector('#fill');\n        fill === null || fill === void 0 ? void 0 : fill.setAttribute('value', '#ff0000');\n        fill === null || fill === void 0 ? void 0 : fill.addEventListener('calciteColorChange', (e) => {\n            const hex = e.target.value;\n            this.viewModel.sketch.viewModel.pointSymbol.color = Color_1.default.fromHex(hex);\n            this.viewModel.sketch.viewModel.polygonSymbol.color = Color_1.default.fromHex(hex);\n        }, { passive: true });\n        const line = document.querySelector('#line');\n        line === null || line === void 0 ? void 0 : line.setAttribute('value', '#ff0000');\n        line === null || line === void 0 ? void 0 : line.addEventListener('calciteColorChange', (e) => {\n            const hex = e.target.value;\n            this.viewModel.sketch.viewModel.polylineSymbol.color = Color_1.default.fromHex(hex);\n            this.viewModel.sketch.viewModel.pointSymbol.outline.color = Color_1.default.fromHex(hex);\n            this.viewModel.sketch.viewModel.polygonSymbol.outline.color = Color_1.default.fromHex(hex);\n        }, { passive: true });\n        const opacity = document.querySelector('#opacity');\n        opacity === null || opacity === void 0 ? void 0 : opacity.addEventListener('calciteSliderUpdate', (e) => {\n            this.viewModel.sketch.viewModel.polygonSymbol.color.a = e.target.value;\n        }, { passive: true });\n        const width = document.querySelector('#width');\n        width === null || width === void 0 ? void 0 : width.addEventListener('calciteSliderUpdate', (e) => {\n            this.viewModel.sketch.viewModel.polylineSymbol.width = parseFloat(e.target.value);\n            this.viewModel.sketch.viewModel.pointSymbol.outline.width = parseFloat(e.target.value);\n            this.viewModel.sketch.viewModel.polygonSymbol.outline.width = parseFloat(e.target.value);\n        }, { passive: true });\n        const label = document.querySelector('#label');\n        label === null || label === void 0 ? void 0 : label.addEventListener('calciteInputBlur', (e) => {\n            this.set('label', e.target.value);\n        }, { passive: true });\n        const textColor = document.querySelector('#textColor');\n        textColor === null || textColor === void 0 ? void 0 : textColor.setAttribute('value', '#ff0000');\n        textColor === null || textColor === void 0 ? void 0 : textColor.addEventListener('calciteColorChange', (e) => {\n            this.set('textColor', Color_1.default.fromHex(e.target.value));\n        }, { passive: true });\n        return (widget_1.tsx(\"div\", { class: CSS.base },\n            widget_1.tsx(\"div\", { afterUpdate: this._drawUpdated, id: \"sketchDiv\" }),\n            widget_1.tsx(\"calcite-block\", { heading: \"Settings\", open: true, collapsible: true },\n                widget_1.tsx(\"calcite-block-section\", { text: \"Color\" },\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Fill Color\",\n                        ' ',\n                        widget_1.tsx(\"calcite-color\", { id: \"fill\", hideChannels: true, hideSaved: true, appearance: \"minimal\", scale: \"s\" })),\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Line Color\",\n                        ' ',\n                        widget_1.tsx(\"calcite-color\", { id: \"line\", hideChannels: true, hideSaved: true, appearance: \"minimal\", scale: \"s\" }))),\n                widget_1.tsx(\"calcite-block-section\", { text: \"Fill Opacity\" },\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Opacity\",\n                        widget_1.tsx(\"calcite-slider\", { scale: \"s\", id: \"opacity\", max: \"1\", min: \"0\", value: \"0.5\", step: \"0.1\" }))),\n                widget_1.tsx(\"calcite-block-section\", { text: \"Outline\" },\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Width \",\n                        widget_1.tsx(\"calcite-slider\", { id: \"width\", max: \"10\", min: \"0\", value: \"1\", step: \"0.5\" }))),\n                widget_1.tsx(\"calcite-block-section\", { text: \"Labeling\" },\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Label \",\n                        widget_1.tsx(\"calcite-input\", { scale: \"s\", id: \"label\", type: \"textarea\" })),\n                    widget_1.tsx(\"calcite-label\", { scale: \"s\" },\n                        \"Text Color\",\n                        widget_1.tsx(\"calcite-color\", { id: \"textColor\", hideChannels: true, hideSaved: true, appearance: \"minimal\", scale: \"s\" }))))));\n    }\n};\n__decorate([\n    decorators_1.aliasOf('viewModel.view')\n], Draw.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.label')\n], Draw.prototype, \"label\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.textColor')\n], Draw.prototype, \"textColor\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.measurement')\n], Draw.prototype, \"measurement\", void 0);\n__decorate([\n    decorators_1.property({\n        type: DrawViewModel_1.default,\n    }),\n    widget_1.renderable()\n], Draw.prototype, \"viewModel\", void 0);\nDraw = __decorate([\n    decorators_1.subclass('app.widgets.Draw')\n], Draw);\nexports.default = Draw;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Accessor_1 = __importDefault(require(\"@arcgis/core/core/Accessor\"));\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst Sketch_1 = __importDefault(require(\"@arcgis/core/widgets/Sketch\"));\nconst GraphicsLayer_1 = __importDefault(require(\"@arcgis/core/layers/GraphicsLayer\"));\nconst watchUtils_1 = require(\"@arcgis/core/core/watchUtils\");\nconst Graphic_1 = __importDefault(require(\"@arcgis/core/Graphic\"));\nconst TextSymbol_1 = __importDefault(require(\"@arcgis/core/symbols/TextSymbol\"));\nconst Color_1 = __importDefault(require(\"@arcgis/core/Color\"));\n//import { measurement } from '../../widgets';\nlet DrawViewModel = class DrawViewModel extends Accessor_1.default {\n    constructor(params) {\n        super(params);\n        watchUtils_1.whenDefinedOnce(this, 'view', this.init.bind(this));\n    }\n    initDraw() {\n        this.graphics = new GraphicsLayer_1.default({ listMode: 'hide' });\n        this.view.map.add(this.graphics);\n        this.sketch = new Sketch_1.default({\n            view: this.view,\n            container: 'sketchDiv',\n            layer: this.graphics,\n            creationMode: 'single',\n            defaultCreateOptions: {\n                mode: 'hybrid',\n            },\n        });\n        this.sketch.viewModel.pointSymbol.color = Color_1.default.fromHex('#FF0000');\n        this.sketch.viewModel.pointSymbol.outline.color = Color_1.default.fromHex('#FF0000');\n        this.sketch.viewModel.polygonSymbol.color = new Color_1.default([[255, 0, 0, 0.5]]);\n        this.sketch.viewModel.polygonSymbol.outline.color = Color_1.default.fromHex('#FF0000');\n        this.sketch.viewModel.polylineSymbol.color = Color_1.default.fromHex('#FF0000');\n        this.sketch.watch('activeTool', (tool) => {\n            var _a;\n            if (tool != undefined) {\n                (_a = this.measurement) === null || _a === void 0 ? void 0 : _a.clear();\n            }\n        });\n        this.sketch.on('create', (e) => {\n            var _a, _b;\n            if (e.state === 'start') {\n                (_a = this.measurement) === null || _a === void 0 ? void 0 : _a.clear();\n            }\n            if (e.state === 'complete' && ((_b = this.label) === null || _b === void 0 ? void 0 : _b.length)) {\n                let labelPoint = e.graphic.geometry;\n                if (e.graphic.geometry.type === 'polygon') {\n                    labelPoint = e.graphic.geometry.centroid;\n                }\n                const g = new Graphic_1.default({\n                    geometry: labelPoint,\n                    symbol: new TextSymbol_1.default({\n                        text: this.label,\n                        color: this.textColor,\n                        haloColor: 'white',\n                        haloSize: 1,\n                        xoffset: '5px',\n                        yoffset: '5px',\n                        verticalAlignment: 'bottom',\n                        horizontalAlignment: 'right',\n                    }),\n                });\n                this.graphics.add(g);\n            }\n        });\n    }\n    init(view) {\n        console.log(view.scale);\n    }\n};\n__decorate([\n    decorators_1.property()\n], DrawViewModel.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.property()\n], DrawViewModel.prototype, \"container\", void 0);\nDrawViewModel = __decorate([\n    decorators_1.subclass('app.widgets.Draw.DrawViewModel')\n], DrawViewModel);\nexports.default = DrawViewModel;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".draw-base{padding:0}#drawDiv{overflow-y:auto;overflow-x:hidden}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/widgets/Draw/styles/Draw.scss\"],\"names\":[],\"mappings\":\"AAAA,WACE,SAAA,CAGF,SACE,eAAA,CACA,iBAAA\",\"sourcesContent\":[\".draw-base {\\n  padding: 0;\\n}\\n\\n#drawDiv {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./Draw.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"sourceRoot":""}