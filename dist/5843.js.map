{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/layerUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/isSupportedGraphicUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Sketch/support/OperationHandle.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Sketch/SketchViewModel.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/isSupportedGraphic.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/Selector/selectorUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/Selector/SelectionOperation.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/Selector.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Sketch.js"],"names":["o","n","layer","type","geometry","i","s","a","map","r","layers","find","add","e","super","this","cancelled","history","undo","redo","activeComponent","push","length","reset","onEnd","emit","complete","refresh","_set","canUndo","canRedo","prototype","dependsOn","N","$","redoKey","undoKey","centerKey","constraintKey","snappingKey","cancelKey","deleteKeys","pan","Y","defaultZ","J","enableMidpoints","enableMoveAllGraphics","enableRotation","enableScaling","multipleSelectionEnabled","preserveAspectRatio","toggleToolOnClick","tool","enableZ","enableMoveGraphic","Q","_activeFillGraphic","_activeLineGraphic","_centerIndicatorGraphic","_centerSymbol","style","size","color","_defaultSegmentOffset","_numUpdating","_handles","_internalGraphicsLayer","listMode","_lineGraphic","_operationHandle","_vertexGraphics","_viewHandles","_doUnnormalization","activeFillSymbol","outline","width","activeLineSymbol","activeVertexSymbol","pointSymbol","polygonSymbol","polylineSymbol","updateGraphics","updateOnGraphicClick","updatePointSymbol","updatePolygonSymbol","join","updatePolylineSymbol","vertexSymbol","snappingOptions","_originalAutoOpenEnabled","defaultCreateOptions","defaultUpdateOptions","cancel","elevationInfo","removed","indexOf","t","includes","removeFromSelection","removeAll","_removeDefaultLayer","_draw","destroy","view","state","createGraphic","_get","ready","container","cursor","remove","viewingMode","_generateViewHandles","_moduleLoaderAbortController","abort","activeTool","toArray","removeMany","_emitDeleteEvent","graphics","_logError","_setupCreateOperation","destroyed","on","graphic","toolEventInfo","focus","Array","isArray","some","spatialReference","equals","_setupUpdateOperation","oe","_setUpdateOperationHandle","aborted","toggleTool","hitTest","results","ground","allLayers","forEach","exclude","mapPoint","opacity","distance","Math","min","renderCoordsHelper","radius","unitInMeters","Number","POSITIVE_INFINITY","screenPoint","p","c","_beginAsyncOperation","_getFirstHit","then","stopPropagation","_isComponentGraphic","update","_endAsyncOperation","hasZ","_setupCreatePointOperation","_setupCreateMultipointOperation","_setupCreatePolyOperation","_setupCreateRectangleOperation","_setupCreateCircleOperation","_setupCreate3DOperation","point","multipoint","polyline","polygon","rectangle","circle","_removeCreateOperationGraphics","selfEnabledToggled","mode","geometryType","createGraphicSymbol","snapToScene","forceUniformSize","centered","h","_requireModule","l","module","DrawGraphicTool","tools","d","y","v","key","repeat","enabled","completeCreateOperation","operation","_emitUndoEvent","_emitRedoEvent","drawOperation","numCommittedVertices","coordinates","vertices","interactiveUndoDisabled","create","vertexIndex","_displayCrosshairCursor","_displayDefaultCursor","createPointFromVertex","_operationHandleForCreateAction","undoDisabled","_drawMultipointGraphic","added","componentIndex","updated","slice","_resetCreateOperationGraphics","_getCommonUpdateOperationKeyDownHandlers","_snap","_drawVertexGraphics","userClicked","toMap","x","pop","visible","toScreen","_isWithinScreenDistance","_getVertexIntersectDistance","_drawSegmentGraphic","constrainToggle","viewAlignedCoordinateSystem","makeMapPoint","resolution","_removeCreateGraphic","getCoordsFromScreenPoint","_defaultUpdateTool","_setupMove3DOperation","_setupReshape3DOperation","symbol","symbolLayers","_setupPointTransform3DOperation","_setupMoveOperation","_setupTransformOrReshapeOperation","GraphicMoveTool","addMany","X","ee","addToSelection","updates","splice","async","getItemAt","_getHandlesForComponent","_getCommonUpdateOperationClickHandlers","GraphicTransformTool","_getCloneInfos","clone","_getGraphicMover","_createClone","findIndex","allGraphics","_getSymbolForClone","xoffset","yoffset","height","max","GraphicReshapeTool","beforeUndo","_getBox","_getReshape","refreshComponent","resetHistory","native","shiftKey","default","callbacks","onGraphicMoveStart","dx","dy","_displayGrabbingCursor","mover","onGraphicMove","onGraphicMoveStop","_displayPointerCursor","onGraphicPointerOver","onGraphicPointerOut","onMoveStart","onMove","onMoveStop","onScaleStart","onScale","onScaleStop","onRotateStart","onRotate","onRotateStop","onReshapeStart","onReshape","onReshapeStop","onVertexAdd","onVertexRemove","viewEvent","addToHistory","te","_onTransformOrReshape2DGraphicClick","oldGraphic","_toggleSelection","dxScreen","dyScreen","ie","angle","xScale","scale","yScale","_disablePopup","_restorePopup","_onDeleteKey","_removeLineGraphic","_removeActiveLineGraphic","_removeActiveFillGraphic","_showActiveLineGraphic","_showFillGraphic","u","m","_showLineGraphic","_showVertexGraphic","_removeCenterIndicatorGraphic","extent","center","_showCenterIndicatorGraphic","_removeVertexGraphics","attributes","esriSketchTool","isUIGraphic","_snapLastVertexToAxis","_snapLastPolygonVertexToFirst","sqrt","mapToLocal","abs","localToMap","error","AbortController","signal","requireError","notifyChange","_disablePopupEnabled","popup","autoOpenEnabled","readOnly","types","value","contains","intersects","overlaps","simplify","selector","candidates","currentSelection","options","_activeOptions","_dashedFillSymbol","_dashedLineSymbol","_defaultOptions","createOptions","selectionOptions","_completed","_sketchViewModel","_sketchGraphicsLayer","_transparentPointSymbol","selection","set","activePointSymbol","_onSketchEvent","_load","whenReady","_processSelectionGeometry","_onComplete","_defaultSelectionOptions","_","f","w","T","k","G","U","V","createTools","selectionTools","undoRedoMenu","A","_activeCreateOptions","_activeSelectionInfo","_selector","availableCreateTools","creationMode","iconClass","label","messages","viewModel","visibleElements","_activateCreateTool","bind","own","scheduleRender","_onCreateOperation","watch","_cancelSelectionOperation","layout","class","classes","renderTopPanelContents","renderInfoPanelContents","renderSelectionTools","renderDrawButtons","renderMenuButtons","renderFeatureCount","renderDeleteButton","featureCount","featuresCount","count","deleteFeature","onclick","delete","title","renderDefaultSelectionButton","renderRectangleSelectionButton","renderLassoSelectionButton","selectFeature","selectRectangle","_activateRectangleSelectTool","selectLasso","_activateLassoSelectTool","renderPointButton","renderPolylineButton","renderPolygonButton","renderRectangleButton","renderCircleButton","drawPoint","drawPolygon","drawPolyline","drawCircle","drawRectangle","renderUndoButton","renderRedoButton","disabled","target","getAttribute","_getSelectionCandidates","draw","once","_onSelectionOperationComplete","cast","Set","filter","has","aliasOf","source","overridable"],"mappings":"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","file":"5843.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{isNone as e}from\"../../../../../core/maybe.js\";import{getGraphicEffectiveElevationMode as r,hasGraphicFeatureExpressionInfo as t}from\"../../../../../support/elevationInfoUtils.js\";function o(o){var n;if(\"graphics\"!==(null==(n=o.layer)?void 0:n.type))return 1;if(e(o.geometry))return 2;switch(o.geometry.type){case\"polygon\":case\"point\":case\"polyline\":break;case\"multipoint\":case\"extent\":case\"mesh\":default:return 3}return\"on-the-ground\"!==r(o)&&t(o)?4:0}export{o as isSupportedGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{isNone as e}from\"../../../../../core/maybe.js\";import r from\"../../../../../geometry/Circle.js\";import{getGraphicEffectiveElevationMode as t,hasGraphicFeatureExpressionInfo as o}from\"../../../../../support/elevationInfoUtils.js\";function n(n){var i;if(\"graphics\"!==(null==(i=n.layer)?void 0:i.type))return 1;const s=n.geometry;if(e(s))return 2;switch(s.type){case\"polygon\":if(s instanceof r)return 3;break;case\"polyline\":break;case\"point\":case\"multipoint\":case\"extent\":case\"mesh\":default:return 3}return\"on-the-ground\"!==t(n)&&o(n)?4:0}export{n as isSupportedGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n,a){if(!a||!n||!n.map)return;const{map:r}=n;r.layers.find((n=>n===a))||r.add(a)}export{n as addUniqueLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";function e(e){switch(e){case 0:break;case 1:return\"not owned by a graphics layer\";case 2:return\"no geometry\";case 3:return\"the geometry type is not supported\";case 4:return\"the elevation mode is not supported\";case 5:return\"the symbol type is not supported\"}return\"\"}export{e as isSupportedGraphicResultMessage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Evented.js\";let p=class extends s.EventedAccessor{constructor(o){super(o),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case\"graphic-mover\":case\"move-3d\":return\"move\";case\"box\":case\"transform-3d\":return\"transform\";case\"reshape\":case\"reshape-3d\":return\"reshape\";case\"draw\":case\"draw-3d\":return null;default:e(this.activeComponent)}return null}addToHistory(o){this.history.redo=[],this.history.undo.push(o)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this.reset(),this.onEnd(),this.emit(\"complete\")}cancel(){this.cancelled=!0,this.complete()}reset(){this.activeComponent.reset()}refreshComponent(){const o=this.activeComponent;o&&(\"box\"!==o.type&&\"reshape\"!==o.type||o.refresh())}set undo(o){this._set(\"undo\",(()=>{this.canUndo()&&o()}))}set redo(o){this._set(\"redo\",(()=>{this.canRedo()&&o()}))}};o([t()],p.prototype,\"activeComponent\",void 0),o([t()],p.prototype,\"cancelled\",void 0),o([t()],p.prototype,\"history\",void 0),o([t({dependsOn:[\"activeComponent\"]})],p.prototype,\"tool\",null),o([t()],p.prototype,\"type\",void 0),o([t()],p.prototype,\"canUndo\",null),o([t()],p.prototype,\"canRedo\",null),o([t()],p.prototype,\"onEnd\",void 0),o([t()],p.prototype,\"undo\",null),o([t()],p.prototype,\"redo\",null),o([t()],p.prototype,\"toggleTool\",void 0),o([t()],p.prototype,\"addToSelection\",void 0),o([t()],p.prototype,\"removeFromSelection\",void 0),p=o([r(\"esri.widgets.Sketch.support.OperationHandle\")],p);export{p as OperationHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrap as i,isNone as o,get as r}from\"../../core/maybe.js\";import a from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import c from\"../../geometry/Point.js\";import{geometryToCoordinates as h}from\"../../geometry/support/coordsUtils.js\";import\"../../geometry.js\";import l from\"../../core/Evented.js\";import d from\"../../core/Collection.js\";import{createScreenPoint as y,pt2px as v}from\"../../core/screenUtils.js\";import u from\"../../symbols/SimpleLineSymbol.js\";import m from\"../../symbols/SimpleFillSymbol.js\";import g from\"../../symbols/SimpleMarkerSymbol.js\";import{s as _}from\"../../chunks/symbols.js\";import G from\"../../Graphic.js\";import w from\"../../core/Handles.js\";import{watch as f,on as b,init as x,when as C,whenNotOnce as E}from\"../../core/watchUtils.js\";import{getReferenceEllipsoid as T}from\"../../geometry/projectionEllipsoid.js\";import S from\"../../layers/GraphicsLayer.js\";import{ViewEventPriorities as I}from\"../../views/input/InputManager.js\";import{isDOMContainer as A}from\"../../views/DOMContainer.js\";import{createScreenPointFromEvent as O}from\"../../views/support/screenUtils.js\";import{SnappingOptions as k}from\"../../views/interactive/snapping/SnappingOptions.js\";import{createMultipoint as H,createPolyline as L,createPolygon as M,createCircle as D,createSquare as P,createRectangle as U,createEllipse as R,createViewAlignedCoordinateSystem as F,makeSurfacePoint as K}from\"../../views/draw/support/createUtils.js\";import j from\"../../views/draw/Draw.js\";import{isSupportedGraphicResultMessage as V}from\"../../views/3d/interactive/editingTools/isSupportedGraphicUtils.js\";import{isSupportedGraphic as W}from\"../../views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic.js\";import{isSupportedGraphic as z}from\"../../views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic.js\";import{isSupportedGraphic as q}from\"../../views/3d/interactive/editingTools/transformGraphic/isSupportedGraphic.js\";import{addUniqueLayer as Z}from\"../../views/draw/support/layerUtils.js\";import{OperationHandle as B}from\"./support/OperationHandle.js\";const N=a.getLogger(\"esri.widgets.Sketch.SketchViewModel\"),$={redoKey:\"r\",undoKey:\"z\",centerKey:\"Alt\",constraintKey:\"Control\",snappingKey:\"Control\",cancelKey:\"Escape\",deleteKeys:[\"Backspace\",\"Delete\"],complete:\"c\",pan:\" \"},Y={defaultZ:0},J={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:\"transform\",enableZ:!0,enableMoveGraphic:!0};let Q=class extends l.EventedAccessor{constructor(e){super(e),this._activeFillGraphic=null,this._activeLineGraphic=null,this._centerIndicatorGraphic=null,this._centerSymbol=new g({style:\"cross\",size:6,color:[255,255,255]}),this._defaultSegmentOffset=48,this._numUpdating=0,this._handles=new w,this._internalGraphicsLayer=new S({listMode:\"hide\"}),this._lineGraphic=null,this._operationHandle=null,this._vertexGraphics=[],this._viewHandles=new w,this._doUnnormalization=!1,this.activeFillSymbol=new m({style:\"solid\",color:[150,150,150,.2],outline:{color:[50,50,50],width:0}}),this.activeLineSymbol=new u({color:[255,127,0,1],width:2}),this.activeVertexSymbol=new g({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}}),this.layer=null,this.pointSymbol=new g({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new m({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new u({color:[130,130,130,1],width:2}),this.updateGraphics=new d,this.updateOnGraphicClick=!0,this.updatePointSymbol=new g({size:10,color:[0,200,255,.5],outline:{color:\"black\",width:1}}),this.updatePolygonSymbol=new m({color:[12,207,255,.2],outline:{join:\"round\",color:[12,207,255],width:2}}),this.updatePolylineSymbol=new u({color:[12,207,255],width:2}),this.vertexSymbol=new g({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.snappingOptions=new k,this._originalAutoOpenEnabled=null,this.defaultCreateOptions=Y,this.defaultUpdateOptions=J}initialize(){this._handles.add([f(this,\"layer\",(()=>{this.cancel(),this._internalGraphicsLayer.elevationInfo=t(this.layer)?this.layer.elevationInfo:null})),b(this,\"view.map.layers\",\"change\",(e=>{e.removed.indexOf(this.layer)>=0&&this.cancel()})),b(this,\"layer.graphics\",\"change\",(e=>{if(t(this._operationHandle))for(const t of e.removed)this.updateGraphics.includes(t)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(t):this._operationHandle.cancel())})),x(this,\"layer.elevationInfo\",(()=>{this.cancel(),this._internalGraphicsLayer.elevationInfo=t(this.layer)?this.layer.elevationInfo:null}),!0)])}destroy(){this.cancel(),this._handles.removeAll(),this._handles=null,this._viewHandles.removeAll(),this._viewHandles=null,this._removeDefaultLayer(),this._draw&&this._draw.destroy(),this._set(\"view\",null),this.emit(\"destroy\")}get _defaultUpdateTool(){return\"3d\"===this.view.type?\"move\":\"transform\"}get _draw(){return\"ready\"===this.state||\"active\"===this.state?new j({view:this.view}):null}get updating(){return this._numUpdating>0}get activeTool(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null}get activeComponent(){return this._operationHandle?this._operationHandle.activeComponent:null}get createGraphic(){return this.view&&\"3d\"===this.view.type&&t(this.activeComponent)&&\"draw-3d\"===this.activeComponent.type?i(this.activeComponent.createGraphic):this._get(\"createGraphic\")}set defaultCreateOptions(e){this._set(\"defaultCreateOptions\",{...Y,...e})}set defaultUpdateOptions(e){this._set(\"defaultUpdateOptions\",{...J,...e})}get state(){var e;const t=!(null==(e=this.view)||!e.ready||!this.layer),i=this._operationHandle;return t&&i?\"active\":t?\"ready\":\"disabled\"}get view(){return this._get(\"view\")}set view(e){const t=this._get(\"view\");if(t){const{container:e,map:i}=t;e&&(t.cursor=null),i&&i.remove(this._internalGraphicsLayer),this._viewHandles.removeAll(),this.cancel()}this._doUnnormalization=null!=e&&\"3d\"===e.type&&\"global\"===e.viewingMode;const i=\"view-ready\";this._handles.remove(i),e&&this._handles.add(C(e,\"ready\",(t=>{this._viewHandles.removeAll(),t&&this._viewHandles.add(this._generateViewHandles(e))}),!0),i),this._set(\"view\",e)}cancel(){this._moduleLoaderAbortController&&(this._moduleLoaderAbortController.abort(),this._moduleLoaderAbortController=null),this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:e,updateGraphics:t}=this;if(\"active\"===e&&t.length){const{activeTool:e,layer:i}=this,o=t.toArray();i.removeMany(o),this.cancel(),this._emitDeleteEvent({graphics:o,tool:e})}}async create(e,t){if(\"disabled\"===this.state)return this.layer||this._logError(\"sketch:missing-property\",\"Property 'layer' is missing on SketchViewModel.\"),void(this.view||this._logError(\"sketch:missing-property\",\"Property 'view' is missing on SketchViewModel.\"));if(this.cancel(),!e)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'tool'.\");const i=await this._setupCreateOperation(e,t);if(o(i)||this.destroyed)return;Z(this.view,this._internalGraphicsLayer);i.on(\"complete\",(()=>{if(i===this._operationHandle){const t=this.createGraphic,o=this._operationHandle.cancelled;this._operationHandle.destroy(),this._operationHandle=null,this._set(\"createGraphic\",null),this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),i.cancelled||null==t||this.layer.add(t),this.emit(\"create\",{graphic:t,state:o?\"cancel\":\"complete\",tool:e,toolEventInfo:null,type:\"create\"})}})),this._operationHandle=i,this.view.ready&&A(this.view)&&this.view.focus()}async update(e,t){const{layer:i,state:r,view:a}=this;if(\"disabled\"===r)return i||this._logError(\"sketch:missing-property\",\"Property 'layer' is missing on SketchViewModel.\"),void(a||this._logError(\"sketch:missing-property\",\"Property 'view' is missing on SketchViewModel.\"));this.cancel();const s=Array.isArray(e)?e:[e];if(null==e||!s||!s.length)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'graphics'.\");if(s.some((e=>e.layer!==i?(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"),!0):o(e.geometry)?(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"),!0):\"2d\"===a.type&&!a.spatialReference.equals(e.geometry.spatialReference)&&(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView.\"),!0))))return;const n=await this._setupUpdateOperation(s,t);o(n)||oe(n)||(Z(this.view,this._internalGraphicsLayer),this._setUpdateOperationHandle(n,t),this.emit(\"update\",{graphics:s,state:\"start\",aborted:!1,tool:n.tool,toolEventInfo:null,type:\"update\"}))}undo(){this.canUndo()&&this._operationHandle.undo()}redo(){this.canRedo()&&this._operationHandle.redo()}canUndo(){return!(!this._operationHandle||!this._operationHandle.canUndo())}canRedo(){return!(!this._operationHandle||!this._operationHandle.canRedo())}toggleUpdateTool(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()}async _getFirstHit(e){const t=[];switch(this.view.type){case\"2d\":{const r=await this.view.hitTest(e);if(r.results.length>0){const e=r.results[0];if(e.graphic){var i,o;const r=e.graphic;\"vector-tile\"!==(null==(i=r.layer)?void 0:i.type)&&\"imagery\"!==(null==(o=r.layer)?void 0:o.type)&&t.push(e)}}}break;case\"3d\":{const i=[this.view.map.ground];this.view.map.allLayers.forEach((e=>{\"integrated-mesh\"===e.type&&i.push(e)}));const o=await this.view.hitTest(e,{exclude:i});if(o.results.length>0){const e=o.results[0];(!o.ground.mapPoint||this.view.map.ground.opacity<1||o.ground.distance-e.distance>-Math.min(3*o.ground.distance,\"global\"===this.view.viewingMode?T(this.view.renderCoordsHelper.spatialReference).radius/this.view.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY))&&t.push(e)}}}return{screenPoint:e,results:t}}_generateViewHandles(e){return[e.on(\"immediate-click\",(i=>{const{_operationHandle:o,defaultUpdateOptions:r,layer:a,state:s,updateGraphics:n,updateOnGraphicClick:p}=this,c=\"active\"===s&&\"create\"===o.type;\"disabled\"!==s&&!c&&p&&(this._beginAsyncOperation(),this._getFirstHit(O(i)).then((t=>{const o=t.results;if(o.length)for(let t=0;t<o.length;++t){const r=o[t];if(r.graphic){const t=r.graphic;if(n.indexOf(t)>-1||t.layer===a)return i.stopPropagation(),t;\"2d\"!==e.type||this._isComponentGraphic(t)||\"active\"!==s||this.cancel()}}else\"active\"===s&&this.cancel();return null})).then((e=>t(e)&&-1===n.indexOf(e)?this.update([e],{...r}):null)).then((()=>{this._endAsyncOperation()})))}),I.WIDGET)]}async _setupCreateOperation(e,t){if(!e)return null;const i={hasZ:\"3d\"===this.view.type,...this.defaultCreateOptions,...t};let r;if(\"2d\"===this.view.type)switch(e){case\"point\":r=this._setupCreatePointOperation(e,i);break;case\"multipoint\":r=this._setupCreateMultipointOperation(e,null);break;case\"polygon\":case\"polyline\":r=this._setupCreatePolyOperation(e,i);break;case\"rectangle\":r=this._setupCreateRectangleOperation(e,i);break;case\"circle\":r=this._setupCreateCircleOperation(e,i)}else{const t=await this._setupCreate3DOperation(e,this.view,i);if(o(t)||oe(t))return null;r=t}return r}async _setupCreate3DOperation(e,r,a){if(\"multipoint\"===e)return null;const s={point:this.pointSymbol,multipoint:null,polyline:this.polylineSymbol,polygon:this.polygonSymbol,rectangle:this.polygonSymbol,circle:this.polygonSymbol}[e];this._removeCreateOperationGraphics();const n=\"rectangle\"!==e,p=\"rectangle\"!==e;this.snappingOptions.selfEnabledToggled=!1;const c={view:r,mode:\"rectangle\"===e||\"circle\"===e?\"hybrid\":\"click\",...a,elevationInfo:this.layer.elevationInfo,geometryType:e,createGraphicSymbol:s,snapToScene:!t(this.layer.elevationInfo)||\"absolute-height\"===this.layer.elevationInfo.mode,snappingOptions:this.snappingOptions,forceUniformSize:p,centered:n},h=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(oe(h))return h;const l=new h.module.DrawGraphicTool(c);this.view.tools.add(l);let d=null;this.view.activeTool=l;const y=[],v=new B({activeComponent:l,tool:e,type:\"update\",onEnd:()=>{var e;y.forEach((e=>e.remove())),y.length=0,null==(e=this.view.tools)||e.remove(l),l.destroy()},undo:()=>{l.canUndo&&l.undo()},redo:()=>{l.canRedo&&l.redo()},canUndo:()=>l.canUndo,canRedo:()=>l.canRedo});return y.push(this.view.on(\"key-down\",(t=>{t.key===$.pan?(t.stopPropagation(),t.repeat||(l.enabled=!1)):t.key===$.complete?(t.stopPropagation(),l.completeCreateOperation()):t.key===$.undoKey?(t.stopPropagation(),v.undo()):t.key===$.redoKey?(t.stopPropagation(),v.redo()):t.key!==$.snappingKey||\"rectangle\"===e||\"circle\"===e||t.repeat?t.key!==$.constraintKey||\"rectangle\"!==e&&\"circle\"!==e||t.repeat?t.key===$.centerKey&&(t.repeat||(l.centered=!n,t.stopPropagation())):(l.forceUniformSize=!p,t.stopPropagation()):(l.snappingOptions.selfEnabledToggled=!0,t.stopPropagation())}),I.WIDGET),this.view.on(\"key-up\",(t=>{t.key===$.pan?l.enabled=!0:t.key===$.snappingKey&&\"rectangle\"!==e&&\"circle\"!==e?(l.snappingOptions.selfEnabledToggled=!1,t.stopPropagation()):t.key!==$.constraintKey||\"rectangle\"!==e&&\"circle\"!==e?t.key===$.centerKey&&(l.centered=n,t.stopPropagation()):(l.forceUniformSize=p,t.stopPropagation())}),I.WIDGET),l.on(\"vertex-add\",(t=>{switch(d=o(d)?\"start\":\"active\",t.operation){case\"apply\":this.emit(\"create\",{graphic:i(l.createGraphic),state:d,tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[i(l.createGraphic)],tool:e});break;case\"redo\":this._emitRedoEvent({graphics:[i(l.createGraphic)],tool:e})}})),l.on(\"cursor-update\",(e=>{l.drawOperation.numCommittedVertices>0&&this.emit(\"create\",{graphic:i(l.createGraphic),state:\"active\",tool:this.activeTool,toolEventInfo:{coordinates:e.vertices[0].coordinates,type:\"cursor-update\"},type:\"create\"})})),l.on(\"vertex-remove\",(t=>{switch(t.operation){case\"apply\":this.emit(\"create\",{graphic:i(l.createGraphic),state:\"active\",tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[i(l.createGraphic)],tool:e});break;case\"redo\":this._emitRedoEvent({graphics:[i(l.createGraphic)],tool:e})}})),l.on(\"complete\",(e=>{this._removeCreateOperationGraphics(),this._set(\"createGraphic\",i(e.graphic)),d=\"complete\",e.aborted?v&&v.cancel():v&&v.complete()}))),v}_setupCreatePointOperation(e,i){const o={elevationInfo:this.layer.elevationInfo,hasZ:i.hasZ,defaultZ:i.defaultZ,interactiveUndoDisabled:!0},r=this._draw.create(e,o),a=[r.on(\"cursor-update\",(e=>{t(e.vertexIndex)?this._displayCrosshairCursor():this._displayDefaultCursor()})),r.on(\"draw-complete\",(e=>{const t=this.createPointFromVertex(e.vertices[0]),i=new G(t,this.pointSymbol);this._set(\"createGraphic\",i),n&&n.complete()}))],s=[this.view.on(\"key-down\",(e=>{e.key===$.cancelKey&&(n&&n.cancel(),e.stopPropagation())}),I.WIDGET)],n=this._operationHandleForCreateAction(r,[...a,...s],e);return n}_setupCreateMultipointOperation(e,t){const i={...t,undoDisabled:!0},o=this._draw.create(e,i);let r=null;const a=[],s=this._operationHandleForCreateAction(o,a,e);return a.push(o.on(\"vertex-add\",(t=>{const{type:i,vertexIndex:o,vertices:a}=t,s=a[o];r=t,this._drawMultipointGraphic(a,!0),this.emit(\"create\",{graphic:this.createGraphic,state:1===a.length?\"start\":\"active\",tool:e,toolEventInfo:{added:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:o}],type:i},type:\"create\"})})),o.on(\"vertex-remove\",(t=>{const{type:i,vertexIndex:o,vertices:a}=t,s=a[o];r=t,this._drawMultipointGraphic(a,!0),this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{removed:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:o}],type:i},type:\"create\"})})),o.on(\"vertex-update\",(t=>{const{type:i,vertexIndex:o,vertices:a}=t,s=a[o];r=t,this._drawMultipointGraphic(a,!0),this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{type:i,updated:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:o}]},type:\"create\"})})),o.on(\"cursor-update\",(e=>{r=e})),o.on(\"draw-complete\",(e=>{const t=e.vertices.slice(0),i=H(t,this.view.spatialReference);i&&this.createGraphic&&(this.createGraphic.geometry=i),s&&s.complete()})),o.on(\"undo\",(e=>{const t=e.vertices,i=r&&\"cursor-update\"!==r.type;this._resetCreateOperationGraphics(),t.length&&this._drawMultipointGraphic(t,i)})),o.on(\"redo\",(e=>{const t=e.vertices,i=r&&\"cursor-update\"!==r.type;this._resetCreateOperationGraphics(),t.length&&this._drawMultipointGraphic(t,i)}))),a.push(this.view.on(\"pointer-move\",(()=>this._displayCrosshairCursor()),I.WIDGET),this.view.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(s,e)),I.WIDGET)),s}_setupCreatePolyOperation(e,t){const i={...t,elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0};let o=null;(\"polyline\"===e||\"polygon\"===e)&&(o=this._draw.create(e,i));let r=new c,a=null,s=!1;const n=[o.on(\"vertex-add\",(t=>{const{type:i,vertexIndex:o,vertices:r}=t,n=r[o];this._snap(e,r,s),a=t,this._drawVertexGraphics(e,r,{userClicked:!0}),this.emit(\"create\",{graphic:this.createGraphic,state:1===r.length?\"start\":\"active\",tool:e,toolEventInfo:{added:n,vertices:[{coordinates:n,componentIndex:0,vertexIndex:o}],type:i},type:\"create\"})})),o.on(\"vertex-remove\",(t=>{const{type:i,vertexIndex:o,vertices:r}=t,n=r[o];this._snap(e,r,s),a=t,this._drawVertexGraphics(e,r,{userClicked:!0}),this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{removed:n,vertices:[{coordinates:n,componentIndex:0,vertexIndex:o}],type:i},type:\"create\"})})),o.on(\"vertex-update\",(t=>{const{type:i,vertexIndex:o,vertices:r}=t,n=r[o];this._snap(e,r,s),a=t,this._drawVertexGraphics(e,r,{userClicked:!0}),this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{type:i,updated:n,vertices:[{coordinates:n,componentIndex:0,vertexIndex:o}]},type:\"create\"})})),o.on(\"cursor-update\",(t=>{const{type:i,vertices:o}=t;if(t.mapPoint&&(this._snap(e,o,s),a=t,r=t.mapPoint,this._drawVertexGraphics(e,o,{userClicked:!1}),o.length>1)){const t=o[o.length-1];this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{coordinates:t,type:i},type:\"create\"})}})),o.on(\"draw-complete\",(t=>{const i=t.vertices.slice(0);let o=null;\"polyline\"===e?o=L([i],this.view.spatialReference,this._doUnnormalization):\"polygon\"===e&&(o=M([i],this.view.spatialReference,this._doUnnormalization,!0)),o&&(this.createGraphic.geometry=o),h&&h.complete()})),o.on(\"undo\",(t=>{const i=t.vertices,o=a&&\"cursor-update\"!==a.type;this._resetCreateOperationGraphics(),this._snap(e,i,s),i.length&&this._drawVertexGraphics(e,i,{userClicked:o})})),o.on(\"redo\",(t=>{const i=t.vertices,o=a&&\"cursor-update\"!==a.type;this._resetCreateOperationGraphics(),this._snap(e,i,s),i.length&&this._drawVertexGraphics(e,i,{userClicked:o})}))],p=[this.view.on(\"pointer-move\",(e=>{this.view.toMap(y(e.x,e.y))?this._displayCrosshairCursor():this._displayDefaultCursor()}),I.WIDGET),this.view.on(\"key-down\",(t=>{const i=o.vertices.slice(0),r=a&&\"cursor-update\"!==a.type;t.key===$.constraintKey?\"2d\"===this.view.type&&(s||(s=!0,this._snap(e,i,!r),this._drawVertexGraphics(e,i,{userClicked:r}))):t.key===$.undoKey&&h&&h.canUndo()?(t.stopPropagation(),h.undo()):t.key===$.redoKey&&h&&h.canRedo()?(t.stopPropagation(),h.redo()):t.key===$.cancelKey&&h&&h.cancel()}),I.WIDGET),this.view.on(\"key-up\",(t=>{const i=o.vertices.slice(0),n=a&&\"cursor-update\"!==a.type;t.key===$.constraintKey&&s&&(n||(i.pop(),i.push([r.x,r.y]),this._drawVertexGraphics(e,i,{userClicked:n})),s=!1)}),I.WIDGET)];if(\"polygon\"===e){const e=(e,t,i)=>{if(!e||!e.layer||!e.visible)return!1;const o=this.view.toScreen(e.geometry);return this._isWithinScreenDistance(o,t,i)},t=t=>{if(!(this._vertexGraphics.length<=2))return e(this._vertexGraphics[0],t,this._getVertexIntersectDistance())};let i=!1;p.push(this.view.on(\"pointer-move\",(()=>{i=!1}),I.WIDGET),this.view.on(\"pointer-down\",(o=>{if(t(o))return i=!0,void o.stopPropagation();this._vertexGraphics.some((t=>e(t,o,this._getVertexIntersectDistance())))&&o.stopPropagation()}),I.WIDGET),this.view.on(\"pointer-up\",(e=>{i&&(e.stopPropagation(),o.complete())})))}const h=this._operationHandleForCreateAction(o,[...n,...p],e);return h}_setupCreateCircleOperation(e,i){const o={...i,elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0},r=this._draw.create(e,o);let a=!1,s=!0;const n=[r.on(\"vertex-add\",(t=>{const{type:i,vertexIndex:o,vertices:n}=t,p=n[o];this._drawSegmentGraphic(e,n,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem),this.emit(\"create\",{graphic:this.createGraphic,state:1===n.length?\"start\":\"active\",tool:e,toolEventInfo:{added:p,vertices:[{coordinates:p,componentIndex:0,vertexIndex:o}],type:i},type:\"create\"})})),r.on(\"cursor-update\",(t=>{const{type:i,vertices:o}=t;if(this._drawSegmentGraphic(e,o,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem),2===o.length){const t=o[o.length-1];this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{coordinates:t,type:i},type:\"create\"})}})),r.on(\"draw-complete\",(e=>{const t=e.vertices.slice(0);let i=null;1===t.length?(t.push(r.viewAlignedCoordinateSystem.makeMapPoint(t[0][0]+this._defaultSegmentOffset*this.view.resolution,t[0][1])),i=D(t,r.viewAlignedCoordinateSystem,!0,this.view.resolution)):i=a?R(t,r.viewAlignedCoordinateSystem,s):D(t,r.viewAlignedCoordinateSystem,s,this.view.resolution),this.createGraphic?this.createGraphic.geometry=i:(this._removeCreateGraphic(),this._set(\"createGraphic\",new G(i,this.polygonSymbol))),c&&c.complete()}))],p=[this.view.on(\"pointer-move\",(e=>{t(r.getCoordsFromScreenPoint(y(e.x,e.y)))?this._displayCrosshairCursor():this._displayDefaultCursor()}),I.WIDGET),this.view.on(\"key-down\",(t=>{t.key===$.constraintKey?a||(a=!0,this._drawSegmentGraphic(e,r.vertices,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem)):t.key===$.centerKey?s&&(s=!1,this._drawSegmentGraphic(e,r.vertices,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem)):t.key===$.cancelKey&&c&&c.cancel()}),I.WIDGET),this.view.on(\"key-up\",(t=>{t.key===$.constraintKey?(a=!1,this._drawSegmentGraphic(e,r.vertices,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem)):t.key===$.centerKey&&(s=!0,this._drawSegmentGraphic(e,r.vertices,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem))}),I.WIDGET)],c=this._operationHandleForCreateAction(r,[...n,...p],e);return c}_setupCreateRectangleOperation(e,i){const o={...i,elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0},r=this._draw.create(e,o);let a=!1,s=!1;const n=[r.on(\"vertex-add\",(t=>{const{type:i,vertexIndex:o,vertices:n}=t,p=n[o];this._drawSegmentGraphic(e,n,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem),this.emit(\"create\",{graphic:this.createGraphic,state:1===n.length?\"start\":\"active\",tool:e,toolEventInfo:{added:p,vertices:[{coordinates:p,componentIndex:0,vertexIndex:o}],type:i},type:\"create\"})})),r.on(\"cursor-update\",(t=>{const{type:i,vertices:o}=t;if(this._drawSegmentGraphic(e,o,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem),2===o.length){const t=o[o.length-1];this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{coordinates:t,type:i},type:\"create\"})}})),r.on(\"draw-complete\",(e=>{const t=e.vertices.slice(0);let i=null;1===t.length&&(a=!1,s=!1),i=a?P(t,r.viewAlignedCoordinateSystem,s):U(t,r.viewAlignedCoordinateSystem,s),this.createGraphic?this.createGraphic.geometry=i:(this._removeCreateGraphic(),this._set(\"createGraphic\",new G(i,this.polygonSymbol))),c&&c.complete()}))],p=[this.view.on(\"pointer-move\",(e=>{t(r.getCoordsFromScreenPoint(y(e.x,e.y)))?this._displayCrosshairCursor():this._displayDefaultCursor()}),I.WIDGET),this.view.on(\"key-down\",(t=>{t.key===$.constraintKey?a||(a=!0,this._drawSegmentGraphic(e,r.vertices,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem)):t.key===$.centerKey?s||(s=!0,this._drawSegmentGraphic(e,r.vertices,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem)):t.key===$.cancelKey&&c&&c.cancel()}),I.WIDGET),this.view.on(\"key-up\",(t=>{t.key===$.constraintKey?(a=!1,this._drawSegmentGraphic(e,r.vertices,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem)):t.key===$.centerKey&&(s=!1,this._drawSegmentGraphic(e,r.vertices,{centered:s,constrainToggle:a},r.viewAlignedCoordinateSystem))}),I.WIDGET)],c=this._operationHandleForCreateAction(r,[...n,...p],e);return c}async _setupUpdateOperation(e,t){const{_defaultUpdateTool:i,defaultUpdateOptions:o,layer:a,view:s}=this,n={...o,...t},p=n.tool||i;for(const t of e)a.remove(t),a.add(t);if(\"3d\"===s.type){if(0===e.length)return null;switch(p){case\"move\":return this._setupMove3DOperation(e,n,s,p);case\"reshape\":{if(e.length>1)return this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null;const t=z(e[0]);return 0===t?this._setupReshape3DOperation(e[0],n,s):(this._logError(\"sketch:reshape\",`Reshape operation not supported for provided graphic(s) (${V(t)}).`),null)}case\"transform\":return 1===e.length&&0===q(e[0])?this._setupPointTransform3DOperation(e[0],n,s):this._setupMove3DOperation(e,n,s,p)}}if(\"move\"===p)return this._setupMoveOperation(e,n,s);if(e.length>1)return\"reshape\"===p?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupTransformOrReshapeOperation(e,p,n,s);if(1===e.length){const t=e[0],i=r(t.geometry,\"type\");if(\"point\"===i||\"multipoint\"===i)return this._setupMoveOperation(e,n,s);if(\"transform\"===p||\"reshape\"===p)return this._setupTransformOrReshapeOperation(e,p,n,s)}return null}async _setupMove3DOperation(e,t,i,o,r=!1){for(const t of e){const e=W(t);if(0!==e)return this._logError(\"sketch:move\",`Move operation not supported for provided graphic(s) (${V(e)}).`),null}const a=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(oe(a))return a;const s=new a.module.GraphicMoveTool({view:i,enableZ:t.enableZ});this.view.tools.add(s),s.graphics.addMany(e),r||this.updateGraphics.addMany(e);const n=[],p=new B({activeComponent:s,tool:o,type:\"update\",onEnd:()=>{var e;n.forEach((e=>e.remove())),n.length=0,null==(e=this.view.tools)||e.remove(s),s.destroyed||s.destroy()},undo:()=>{X(p,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:o})},redo:()=>{ee(p,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:o})},addToSelection:e=>{this.updateGraphics.push(e),s.graphics.push(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);p.history.undo.forEach((e=>e.updates.splice(t,1))),p.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?s.graphics.remove(e):p.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;if(\"transform\"!==o)return;const e=this.updateGraphics.getItemAt(0);if(0!==z(e))return;const r=await this._setupReshape3DOperation(e,t,i,!0);oe(r)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(r,t))}});return n.push(...this._getHandlesForComponent(p,t),this.view.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(p,e)),I.WIDGET),this.view.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(p,e)),I.WIDGET)),p}async _setupPointTransform3DOperation(e,t,i){const o=\"transform\",{enableRotation:r,enableScaling:a,enableZ:s}=t,n=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(oe(n))return n;const p=new n.module.GraphicTransformTool({graphic:e,view:i,enableRotation:r,enableScaling:a,enableZ:s});this.view.tools.add(p),this.updateGraphics.add(e);const c=[],h=new B({activeComponent:p,tool:o,type:\"update\",onEnd:()=>{var e;c.forEach((e=>e.remove())),c.length=0,null==(e=this.view.tools)||e.remove(p),p.destroyed||p.destroy()},undo:()=>{X(h,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:o})},redo:()=>{ee(h,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:o})},addToSelection:async e=>{this.updateGraphics.add(e);const o=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,i,\"transform\",!0);oe(o)||(h.onEnd(),h.destroy(),this._setUpdateOperationHandle(o,t))}});return c.push(...this._getHandlesForComponent(h,t),this.view.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(h,e)),I.WIDGET),this.view.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(h,e)),I.WIDGET)),h}async _setupMoveOperation(e,t,i){const o=\"move\";this.updateGraphics.addMany(e);const r=this._getCloneInfos(e);for(const e of r)this._internalGraphicsLayer.add(e.clone);const a=await this._getGraphicMover(e,t,i);if(oe(a))return a;const s=new B({activeComponent:a,tool:o,type:\"update\",onEnd:()=>{var e;this._displayDefaultCursor(),p.forEach((e=>e.remove())),n.forEach((e=>e.remove())),p=[],n=[],a.destroy(),null==(e=this._internalGraphicsLayer)||e.removeMany([...this.updateGraphics.toArray(),...r.map((e=>e.clone))])},undo:()=>{X(s,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:o})},redo:()=>{ee(s,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:o})},addToSelection:e=>{this.updateGraphics.push(e),a.graphics=this.updateGraphics.toArray();const t=this._createClone(e);r.push({graphic:e,clone:t}),this._internalGraphicsLayer.add(t),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);s.history.undo.forEach((e=>e.updates.splice(t,1))),s.history.redo.forEach((e=>e.updates.splice(t,1)));const i=r.findIndex((t=>t.graphic===e)),o=r[i];this._internalGraphicsLayer.remove(o.clone),this.updateGraphics.remove(e),r.splice(i,1);const n=this.updateGraphics.toArray();this.emit(\"update\",{graphics:n,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?a.graphics=n:s.complete()}});let n=[i.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(s,e,t)),I.WIDGET),i.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(s,e),e.key!==$.constraintKey||e.repeat||(a.enableMoveAllGraphics=!a.enableMoveAllGraphics)}),I.WIDGET),i.on(\"key-up\",(e=>{e.key===$.constraintKey&&(a.enableMoveAllGraphics=!a.enableMoveAllGraphics)}),I.WIDGET)],p=this._getHandlesForComponent(s,t);return p.push(a.on(\"graphic-move\",(e=>{r.forEach((t=>{const i=e.allGraphics.find((e=>e===t.graphic));i&&(t.clone.geometry=i.geometry)}))}))),s}_getCloneInfos(e){return(null==e?void 0:e.map((e=>({graphic:e,clone:this._createClone(e)}))))||[]}_createClone(e){const t=e.clone();return t.symbol=this._getSymbolForClone(e),t}_getSymbolForClone(e){if(o(e.symbol))return null;switch(e.symbol.type){case\"cim\":return new g({style:\"circle\",size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case\"picture-marker\":{const{xoffset:t,yoffset:i,height:o,width:r}=e.symbol,a=o===r?r:Math.max(o,r);return new g({xoffset:t,yoffset:i,size:a,style:\"square\",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-marker\":{const{xoffset:t,yoffset:i,size:o,style:r}=e.symbol;return new g({xoffset:t,yoffset:i,style:\"circle\"===r?\"circle\":\"square\",size:o+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-fill\":return new m({color:[0,0,0,0],outline:{style:\"dash\",color:[255,127,0,1],width:1}});case\"simple-line\":return new u({color:[255,127,0,1],style:\"dash\",width:1});case\"text\":{const{xoffset:t,yoffset:i}=e.symbol;return new g({xoffset:t,yoffset:i,size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}async _setupReshape3DOperation(e,t,i,o=!1){const r=\"reshape\",a=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(oe(a))return a;this.snappingOptions.selfEnabledToggled=!1;const s=new a.module.GraphicReshapeTool({view:i,graphic:e,enableZ:t.enableZ,enableMoveGraphic:t.enableMoveGraphic,snappingOptions:this.snappingOptions});i.tools.add(s),o||this.updateGraphics.add(e);const n=[],p=new B({activeComponent:s,tool:r,type:\"update\",onEnd:()=>{var e;n.forEach((e=>e.remove())),n.length=0,null==(e=this.view.tools)||e.remove(s),s.destroyed||s.destroy()},undo:()=>{s.beforeUndo(),X(p,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r})},redo:()=>{ee(p,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r})},addToSelection:async e=>{this.updateGraphics.add(e);const o=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,i,\"transform\",!0);oe(o)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(o,t))},toggleTool:async()=>{if(!1===t.toggleToolOnClick)return;const e=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,i,\"transform\",!0);oe(e)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(e,t))}});return n.push(...this._getHandlesForComponent(p,t),i.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(p,e)),I.WIDGET),i.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(p,e),e.key===$.snappingKey&&(s.snappingOptions.selfEnabledToggled=!0,e.stopPropagation())}),I.WIDGET),i.on(\"key-up\",(e=>{e.key===$.snappingKey&&(s.snappingOptions.selfEnabledToggled=!1,e.stopPropagation())}),I.WIDGET)),p}async _setupTransformOrReshapeOperation(e,t,i,o){const{multipleSelectionEnabled:r}=i;this.updateGraphics.addMany(e);const a=\"transform\"===t?await this._getBox(e,i,o):await this._getReshape(e,i,o);if(oe(a))return a;const s=new B({activeComponent:a,type:\"update\",onEnd:()=>{p.forEach((e=>e.remove())),n.forEach((e=>e.remove())),p=[],n=[],s.activeComponent&&!s.activeComponent.destroyed&&s.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{X(s,this.updateGraphics.toArray()),s.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s.tool})},redo:()=>{ee(s,this.updateGraphics.toArray()),s.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s.tool})},addToSelection:e=>{const t=s.activeComponent;this.updateGraphics.add(e),t.graphics=this.updateGraphics.toArray(),t.refresh(),s.resetHistory(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=s.activeComponent,i=this.updateGraphics.indexOf(e);s.history.undo.forEach((e=>e.updates.splice(i,1))),s.history.redo.forEach((e=>e.updates.splice(i,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?t.graphics=o:s.complete()},toggleTool:async()=>{if(this.updateGraphics.length>1)return;let t=null;\"transform\"===s.tool?t=await this._getReshape(e,i,o):\"reshape\"===s.tool&&(t=await this._getBox(e,i,o)),oe(t)||(s.activeComponent.destroy(),s.activeComponent=t,s.activeComponent&&(p.forEach((e=>e.remove())),p=this._getHandlesForComponent(s,i)))}});let n=[o.on(\"immediate-click\",(e=>{this._getFirstHit(O(e)).then((t=>{var i;if(!s)return;if(null==(i=t.results)||!i.length)return void s.complete();const o=s.activeComponent;t.results.some((t=>{if(t.graphic){var i;const a=t.graphic;if(\"box\"===(null==o?void 0:o.type)&&null!=(i=e.native)&&i.shiftKey&&r)return s.addToSelection(a),!0;a.layer===this.layer&&s.complete()}return!1}))&&e.stopPropagation()}))}),I.WIDGET),o.on(\"key-down\",(e=>{if(this._getCommonUpdateOperationKeyDownHandlers(s,e),e.key===$.constraintKey&&!e.repeat&&s){const e=s.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),I.WIDGET),o.on(\"key-up\",(e=>{if(e.key===$.constraintKey&&s){const e=s.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),I.WIDGET)],p=this._getHandlesForComponent(s,i);return s}async _getGraphicMover(e,t,i){const{enableMoveAllGraphics:o}=t,r=await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));return oe(r)?r:new r.module.default({enableMoveAllGraphics:o,graphics:e,view:i,callbacks:{onGraphicMoveStart:({dx:e,dy:t,graphic:i})=>{this._displayGrabbingCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:\"move-start\"},type:\"update\"})},onGraphicMove:({dx:e,dy:t,graphic:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:\"move\"},type:\"update\"}),onGraphicMoveStop:({dx:e,dy:t,graphic:i})=>{this._displayPointerCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:\"move-stop\"},type:\"update\"})},onGraphicPointerOver:()=>this._displayPointerCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(e,t,i){const{enableRotation:o,enableScaling:r,preserveAspectRatio:a}=t,s=await this._requireModule(import(\"../../views/draw/support/Box.js\"));return oe(s)?s:new s.module.default({graphics:e,enableRotation:o,enableScaling:r,preserveAspectRatio:a,layer:this._internalGraphicsLayer,view:i,callbacks:{onMoveStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMove:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMoveStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScale:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotate:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"})}})}async _getReshape(e,t,i){const{enableMidpoints:o=!0}=t,r=await this._requireModule(import(\"../../views/draw/support/Reshape.js\"));return oe(r)?r:new r.module.default({enableMidpoints:o,graphic:e[0],layer:this._internalGraphicsLayer,view:i,callbacks:{onReshapeStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshape:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshapeStop:({mover:e,type:t})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e,type:t},type:\"update\"}),onMoveStart:({dx:e,dy:t,mover:i,type:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:o},type:\"update\"}),onMove:({dx:e,dy:t,mover:i,type:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:o},type:\"update\"}),onMoveStop:({dx:e,dy:t,mover:i,type:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:o},type:\"update\"}),onVertexAdd:({added:e,type:t,vertices:i})=>{const o=e.map((e=>h(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:o,vertices:i,type:t},type:\"update\"})},onVertexRemove:({removed:e,type:t,vertices:i})=>{const o=e.map((e=>h(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:o,vertices:i,type:t},type:\"update\"})}}})}_getHandlesForComponent(e,t){const i=e.activeComponent;switch(i.type){case\"graphic-mover\":return[i.on(\"graphic-click\",(({graphic:t,viewEvent:i})=>{var o;null!=(o=i.native)&&o.shiftKey&&(i.stopPropagation(),e.removeFromSelection(t))})),i.on(\"graphic-move-start\",(t=>e.addToHistory(te(t.allGraphics))))];case\"box\":return[i.on(\"graphic-click\",(i=>this._onTransformOrReshape2DGraphicClick(e,t,i))),i.on(\"move-start\",(t=>e.addToHistory(te(t.graphics)))),i.on(\"rotate-start\",(t=>e.addToHistory(te(t.graphics)))),i.on(\"scale-start\",(t=>e.addToHistory(te(t.graphics))))];case\"reshape\":return[i.on(\"graphic-click\",(i=>this._onTransformOrReshape2DGraphicClick(e,t,i))),i.on(\"move-start\",(t=>e.addToHistory(te([t.mover])))),i.on(\"reshape-start\",(t=>e.addToHistory(te([t.graphic])))),i.on(\"vertex-add\",(t=>e.addToHistory(te([t.oldGraphic])))),i.on(\"vertex-remove\",(t=>e.addToHistory(te([t.oldGraphic]))))];case\"move-3d\":return[i.on(\"graphic-move-start\",(t=>{e.addToHistory(te(t.allGraphics)),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:t.allGraphics.length>0?t.allGraphics[0]:null,type:\"move-start\"},type:\"update\"})})),i.on(\"graphic-move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e.dx,dy:e.dy,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:\"move\"},type:\"update\"})})),i.on(\"graphic-move-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:\"move-stop\"},type:\"update\"})})),i.on(\"immediate-click\",(i=>{i.shiftKey?this._toggleSelection([i.graphic],e,t):e.toggleTool()}))];case\"transform-3d\":return[i.on(\"graphic-translate-start\",(t=>{e.addToHistory(te([t.graphic])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,dx:t.dxScreen,dy:t.dyScreen,type:\"move-start\"},type:\"update\"})})),i.on(\"graphic-translate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-stop\"},type:\"update\"})})),i.on(\"graphic-rotate-start\",(t=>{e.addToHistory(ie([t.graphic])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,angle:t.angle,type:\"rotate-start\"},type:\"update\"})})),i.on(\"graphic-rotate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:\"rotate-stop\"},type:\"update\"})})),i.on(\"graphic-scale-start\",(t=>{e.addToHistory(ie([t.graphic])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,xScale:t.scale,yScale:t.scale,type:\"scale-start\"},type:\"update\"})})),i.on(\"graphic-scale-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.scale,yScale:e.scale,type:\"scale-stop\"},type:\"update\"})})),i.on(\"graphic-translate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move\"},type:\"update\"})})),i.on(\"graphic-rotate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:\"rotate\"},type:\"update\"})})),i.on(\"graphic-scale\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.scale,yScale:e.scale,type:\"scale\"},type:\"update\"})}))];case\"reshape-3d\":return[i.on(\"reshape\",(t=>{\"reshape-start\"===t.type&&e.addToHistory(te([t.mover])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:t,type:\"update\"})})),i.on(\"move\",(t=>{\"move-start\"===t.type&&e.addToHistory(te([t.mover])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:t,type:\"update\"})})),i.on(\"vertex-add\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),i.on(\"vertex-remove\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),i.on(\"immediate-click\",(()=>e.toggleTool()))];case\"draw\":case\"draw-3d\":return null;default:return}}_onTransformOrReshape2DGraphicClick(e,t,i){var r;const{graphic:a,viewEvent:s}=i;null!=(r=s.native)&&r.shiftKey?(s.stopPropagation(),e.removeFromSelection(a)):t.toggleToolOnClick&&(o(a.geometry)||\"extent\"!==a.geometry.type?(s.stopPropagation(),e.toggleTool()):this._logError(\"sketch:reshape-extent\",\"Reshape operation does not support graphics with geometry of type 'extent'.\"))}_setUpdateOperationHandle(e,t){this._operationHandle=e;const i=this.view.map;this._disablePopup(t);e.on(\"complete\",(()=>{if(e===this._operationHandle){const o=this.updateGraphics.toArray(),r=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),i&&i.remove(this._internalGraphicsLayer),this._restorePopup(t),this.emit(\"update\",{graphics:o,state:\"complete\",aborted:e.cancelled,tool:r,toolEventInfo:null,type:\"update\"})}}))}_getCommonUpdateOperationClickHandlers(e,t,i){const o=O(t);this._getFirstHit(o).then((o=>{const r=o.results;if(!r.length)return void e.complete();if(t.native.shiftKey&&this._toggleSelection(r.map((e=>e.graphic)),e,i))return void t.stopPropagation();r.some((e=>e.graphic&&this.updateGraphics.indexOf(e.graphic)>-1))?t.stopPropagation():e.complete()}))}_toggleSelection(e,t,i){const o=!i||!!i.multipleSelectionEnabled;return e.some((e=>null!=e&&(!(!o||e.layer!==this.layer)&&(-1===this.updateGraphics.indexOf(e)?t.addToSelection(e):t.removeFromSelection(e),!0))))}_getCommonUpdateOperationKeyDownHandlers(e,t){if(!e)return;const i=t.key;i===$.undoKey&&e.canUndo()?(t.stopPropagation(),e.undo()):i===$.redoKey&&e.canRedo()?(t.stopPropagation(),e.redo()):i===$.cancelKey?(t.stopPropagation(),e.cancel()):$.deleteKeys.indexOf(i)>=0&&this._onDeleteKey(t)}_onDeleteKey(e){if(!this._operationHandle||\"update\"!==this._operationHandle.type)return;const t=this.activeComponent;if(o(t)||\"reshape\"===t.type||\"reshape-3d\"===t.type)return;e.stopPropagation();const i=this.updateGraphics.toArray();this.layer.removeMany(i),this._emitDeleteEvent({graphics:i,tool:this.activeTool})}_drawMultipointGraphic(e,t){let i=null;if(!t&&e.length>1){const t=e.slice(0);t.pop(),i=H(t,this.view.spatialReference)}else i=H(e,this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=i:this._set(\"createGraphic\",new G(i,this.pointSymbol)),t&&1===e.length&&this._internalGraphicsLayer.add(this.createGraphic)}_drawVertexGraphics(e,t,i){if(!t.length)return;const{_doUnnormalization:o,activeLineSymbol:r,activeVertexSymbol:a,polygonSymbol:s,polylineSymbol:n,vertexSymbol:p,view:{spatialReference:c}}=this,h=!(!i||!i.userClicked),l=\"polygon\"===e,d=l?s:n;if(1===t.length){this._removeLineGraphic(),this._removeActiveLineGraphic();const e=this.createPointFromVertex(t[0]),i=l?M([t],c,o,!0):L([t],c,o);this._vertexGraphics.length?this._vertexGraphics[0].geometry=e:this._vertexGraphics.push(new G(e,a)),this.createGraphic?this.createGraphic.geometry=i:this._set(\"createGraphic\",new G(i,d)),h&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===t.length){const e=this.createPointFromVertex(t[1]),i=L([t],c,o),r=l?M([t],c,o,!0):L([t],c,o);if(!this._vertexGraphics.length){const e=this.createPointFromVertex(t[0]),i=new G(e,p);this._vertexGraphics.push(i)}if(1===this._vertexGraphics.length){const t=this._vertexGraphics[0],i=new G(e,p);this._removeLineGraphic(),this._removeActiveFillGraphic(),this._vertexGraphics.push(i),this._internalGraphicsLayer.remove(t),this._internalGraphicsLayer.add(t)}else this._vertexGraphics[1].geometry=e;this._showActiveLineGraphic(i);const a=this._vertexGraphics[0];h&&(this._activeLineGraphic.symbol=n,a.symbol=p,this._internalGraphicsLayer.add(this._vertexGraphics[1])),this.createGraphic?this.createGraphic.geometry=r:this._set(\"createGraphic\",new G(r,s)),this._internalGraphicsLayer.remove(a),this._internalGraphicsLayer.add(a)}else if(t.length>2){const i=l?M([t],c,o,!0):L([t],c,o);\"polygon\"===e&&this._showFillGraphic(i);const s=t.map((e=>e.slice())),y=s.pop(),v=[s[s.length-1],y],u=L([s],c,o),m=L([v],c,o);this._showLineGraphic(u),this._showActiveLineGraphic(m);for(let e=0;e<s.length;e++){const i=this._vertexGraphics[e];if(i)h||e!==this._vertexGraphics.length-1?i.symbol=p:i.symbol=a;else{const i=this.createPointFromVertex(t[e]);this._showVertexGraphic(i)}}if(h){this._activeLineGraphic.symbol=n;const e=t.length-1,i=this.createPointFromVertex(t[e]);this._showVertexGraphic(i)}else this._activeLineGraphic.symbol=r;this.createGraphic?this.createGraphic.geometry=i:(this._removeCreateGraphic(),this._set(\"createGraphic\",new G(i,d)));for(const e of this._vertexGraphics)this._internalGraphicsLayer.remove(e),this._internalGraphicsLayer.add(e)}}_drawSegmentGraphic(e,t,i,o){if(!t.length)return;const r=!(null==i||!i.centered),a=!(null==i||!i.constrainToggle);let s=null;1===t.length?this._removeCenterIndicatorGraphic():(\"rectangle\"===e?s=a?P(t,o,r):U(t,o,r):\"circle\"===e&&(s=a?R(t,o,r):D(t,o,r,this.view.resolution)),s.extent&&s.extent.center&&this._showCenterIndicatorGraphic(s.extent.center)),s?this.createGraphic?this.createGraphic.geometry=s:(this._removeCreateGraphic(),this._set(\"createGraphic\",new G(s,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}_showCenterIndicatorGraphic(e){this._centerIndicatorGraphic?this._centerIndicatorGraphic.geometry=e:(this._centerIndicatorGraphic=new G(e,this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))}_removeCenterIndicatorGraphic(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)}_showActiveLineGraphic(e){this._activeLineGraphic?(this._activeLineGraphic.geometry=e,this._internalGraphicsLayer.remove(this._activeLineGraphic)):this._activeLineGraphic=new G(e,this.activeLineSymbol),this._internalGraphicsLayer.add(this._activeLineGraphic)}_showFillGraphic(e){this._activeFillGraphic?(this._activeFillGraphic.geometry=e,this._internalGraphicsLayer.remove(this._activeFillGraphic)):this._activeFillGraphic=new G(e,this.activeFillSymbol),this._internalGraphicsLayer.add(this._activeFillGraphic)}_showLineGraphic(e){this._lineGraphic?(this._lineGraphic.geometry=e,this._internalGraphicsLayer.remove(this._lineGraphic)):this._lineGraphic=new G(e,this.polylineSymbol),this._internalGraphicsLayer.add(this._lineGraphic)}_showVertexGraphic(e,t){const i=t?this.activeVertexSymbol:this.vertexSymbol,o=new G(e,i);this._vertexGraphics.push(o),this._internalGraphicsLayer.add(o)}_resetCreateOperationGraphics(){this._removeActiveFillGraphic(),this._removeLineGraphic(),this._removeActiveLineGraphic(),this._removeVertexGraphics()}_removeCreateGraphic(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set(\"createGraphic\",null))}_removeCreateOperationGraphics(){this._removeCenterIndicatorGraphic(),this._removeActiveLineGraphic(),this._removeActiveFillGraphic(),this._removeLineGraphic(),this._removeVertexGraphics()}_removeActiveLineGraphic(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)}_removeActiveFillGraphic(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),this._activeFillGraphic.destroy(),this._activeFillGraphic=null)}_removeLineGraphic(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),this._lineGraphic.destroy(),this._lineGraphic=null)}_removeVertexGraphics(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach((e=>e.destroy())),this._vertexGraphics=[])}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)}_operationHandleForCreateAction(e,t,i){return new B({activeComponent:this._draw,tool:i,type:\"create\",onEnd:()=>{t.forEach((e=>e.remove())),t.length=0,this._removeCreateOperationGraphics(),this._internalGraphicsLayer&&this._internalGraphicsLayer.remove(this.createGraphic),this._displayDefaultCursor()},undo:()=>{e.undo(),this._emitUndoEvent({graphics:[this.createGraphic],tool:i})},redo:()=>{e.redo(),this._emitRedoEvent({graphics:[this.createGraphic],tool:i})},canUndo:()=>e&&e.canUndo(),canRedo:()=>e&&e.canRedo()})}_isComponentGraphic(e){const{activeComponent:t}=this;return!(!e||o(t))&&(!(!e.attributes||!e.attributes.esriSketchTool)||(\"box\"===t.type||\"reshape\"===t.type)&&t.isUIGraphic(e))}_snap(e,t,i){i&&this._snapLastVertexToAxis(t),\"polygon\"===e&&this._snapLastPolygonVertexToFirst(t)}_snapLastPolygonVertexToFirst(e){if(e.length<=2)return;const t=e[0],i=e[e.length-1],o=this.view.toScreen(new c(t[0],t[1],this.view.spatialReference)),r=this.view.toScreen(new c(i[0],i[1],this.view.spatialReference));this._isWithinScreenDistance(o,r,this._getVertexIntersectDistance())&&(i[0]=t[0],i[1]=t[1])}_getVertexIntersectDistance(){return this.vertexSymbol&&\"simple-marker\"===this.vertexSymbol.type?v(this.vertexSymbol.size)/2+3:3}_isWithinScreenDistance(e,t,i){const o=e.x-t.x,r=e.y-t.y;return Math.sqrt(o*o+r*r)<=i}_snapLastVertexToAxis(e){if(e.length<2)return;const t=e.pop(),i=e[e.length-1],o=F(this.view,i),r=o.mapToLocal(i),a=o.mapToLocal(t),s=Math.abs(a.x-r.x),n=Math.abs(a.y-r.y),p=o.localToMap(K(s>n?a.x:r.x,s>n?r.y:a.y));e.push(p)}_displayPointerCursor(){this.view&&this.view.container&&\"pointer\"!==this.view.cursor&&(this.view.cursor=\"pointer\")}_displayGrabbingCursor(){this.view&&this.view.container&&\"grabbing\"!==this.view.cursor&&(this.view.cursor=\"grabbing\")}_displayCrosshairCursor(){this.view&&this.view.container&&\"crosshair\"!==this.view.cursor&&(this.view.cursor=\"crosshair\")}_displayDefaultCursor(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)}_logError(e,t,i){N.error(new p(e,t,i))}async _requireModule(e){const t=new AbortController;this._moduleLoaderAbortController=t;const i=await e;return this._moduleLoaderAbortController!==t||t.signal.aborted?{requireError:\"aborted\"}:{module:i}}_emitUndoEvent(e){this.emit(\"undo\",{...e,type:\"undo\"})}_emitRedoEvent(e){this.emit(\"redo\",{...e,type:\"redo\"})}_emitDeleteEvent(e){this.emit(\"delete\",{...e,type:\"delete\"})}createPointFromVertex(e){return e.length>2?new c(e[0],e[1],e[2],this.view.spatialReference):new c(e[0],e[1],this.view.spatialReference)}test(){return this._operationHandle}wait(){return E(this,\"updating\")}_beginAsyncOperation(){this._numUpdating+=1,this.notifyChange(\"updating\")}_endAsyncOperation(){this._numUpdating-=1,this.notifyChange(\"updating\")}_disablePopupEnabled(e){var t;return\"3d\"!==(null==(t=this.view)?void 0:t.type)||this.updateOnGraphicClick||e.toggleToolOnClick}_disablePopup(e){if(!this._disablePopupEnabled(e))return;const t=this.view.popup;t&&o(this._originalAutoOpenEnabled)&&(this._originalAutoOpenEnabled=t.autoOpenEnabled,t.autoOpenEnabled=!1)}_restorePopup(e){if(!this._disablePopupEnabled(e))return;const i=this.view.popup;i&&t(this._originalAutoOpenEnabled)&&(i.autoOpenEnabled=this._originalAutoOpenEnabled,this._originalAutoOpenEnabled=null)}};function X(e,i){const o=e.history.undo.pop().updates,r=[];i.forEach(((e,i)=>{const a=o[i],s={};null!=a&&(t(a.geometry)&&(s.geometry=e.geometry,e.geometry=a.geometry),t(a.symbol)&&(s.symbol=e.symbol,e.symbol=a.symbol),r.push(s))})),e.history.redo.push({updates:r})}function ee(e,i){const o=e.history.redo.pop().updates,r=[];i.forEach(((e,i)=>{const a=o[i],s={};null!=a&&(t(a.geometry)&&(s.geometry=e.geometry,e.geometry=a.geometry),t(a.symbol)&&(s.symbol=e.symbol,e.symbol=a.symbol),r.push(s))})),e.history.undo.push({updates:r})}function te(e){return{updates:e.map((e=>({geometry:e.geometry})))}}function ie(e){return{updates:e.map((e=>({symbol:e.symbol})))}}function oe(e){return\"requireError\"in e&&\"aborted\"===e.requireError}e([s({dependsOn:[\"state\"],readOnly:!0})],Q.prototype,\"_draw\",null),e([s()],Q.prototype,\"updating\",null),e([s()],Q.prototype,\"_operationHandle\",void 0),e([s({dependsOn:[\"_operationHandle\",\"_operationHandle.tool\"],readOnly:!0})],Q.prototype,\"activeTool\",null),e([s()],Q.prototype,\"activeFillSymbol\",void 0),e([s()],Q.prototype,\"activeLineSymbol\",void 0),e([s()],Q.prototype,\"activeVertexSymbol\",void 0),e([s({readOnly:!0})],Q.prototype,\"createGraphic\",null),e([s()],Q.prototype,\"defaultCreateOptions\",null),e([s()],Q.prototype,\"defaultUpdateOptions\",null),e([s()],Q.prototype,\"layer\",void 0),e([s({types:_})],Q.prototype,\"pointSymbol\",void 0),e([s({types:_})],Q.prototype,\"polygonSymbol\",void 0),e([s({types:_})],Q.prototype,\"polylineSymbol\",void 0),e([s({dependsOn:[\"view.ready\",\"layer\",\"_operationHandle\"],readOnly:!0})],Q.prototype,\"state\",null),e([s({readOnly:!0})],Q.prototype,\"updateGraphics\",void 0),e([s()],Q.prototype,\"updateOnGraphicClick\",void 0),e([s({types:_})],Q.prototype,\"updatePointSymbol\",void 0),e([s({types:_})],Q.prototype,\"updatePolygonSymbol\",void 0),e([s({types:_})],Q.prototype,\"updatePolylineSymbol\",void 0),e([s({types:_})],Q.prototype,\"vertexSymbol\",void 0),e([s({value:null})],Q.prototype,\"view\",null),e([s({type:k})],Q.prototype,\"snappingOptions\",void 0),e([s()],Q.prototype,\"cancel\",null),e([s()],Q.prototype,\"complete\",null),e([s()],Q.prototype,\"delete\",null),e([s()],Q.prototype,\"create\",null),e([s()],Q.prototype,\"update\",null),e([s()],Q.prototype,\"undo\",null),e([s()],Q.prototype,\"redo\",null),e([s()],Q.prototype,\"canUndo\",null),e([s()],Q.prototype,\"canRedo\",null),e([s()],Q.prototype,\"toggleUpdateTool\",null),Q=e([n(\"esri.widgets.Sketch.SketchViewModel\")],Q);var re=Q;export default re;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{getGraphicEffectiveElevationMode as o,hasGraphicFeatureExpressionInfo as r}from\"../../../../../support/elevationInfoUtils.js\";function s(s){var n;if(\"graphics\"!==(null==(n=s.layer)?void 0:n.type))return 1;if(e(s.geometry))return 2;switch(s.geometry.type){case\"point\":break;case\"polygon\":case\"polyline\":case\"multipoint\":case\"extent\":case\"mesh\":default:return 3}const i=t(s.symbol)&&\"point-3d\"===s.symbol.type&&s.symbol.symbolLayers;if(!(i&&i.length>0&&i.some((e=>\"object\"===e.type))))return 5;return\"on-the-ground\"!==o(s)&&r(s)?4:0}export{s as isSupportedGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nasync function e(){return import(\"../../../geometry/geometryEngineJSON.js\")}async function n(){return e().then((({contains:e,intersects:n,overlaps:t,simplify:r})=>({contains:e,intersects:n,overlaps:t,simplify:r})))}async function t(e){const{selector:t,candidates:r,currentSelection:s,options:o,view:i}=e;if(!(r&&r.length&&s&&i))return{added:[],removed:[]};const{overlaps:c,intersects:a,contains:d}=o,{spatialReference:l}=i;if(!t){return{added:[],removed:s.removeAll()}}const p=t,u=await n(),m=[],v=[];return r.forEach((e=>{const n=e.geometry,t=c&&!!u.overlaps(l,p,n),r=a&&!!u.intersects(l,p,n),o=d&&!!u.contains(l,p,n),i=s.includes(e);t||r||o?!i&&m.push(e):i&&v.push(e)})),s.removeMany(v),s.addMany(m),{added:m,removed:v}}export{n as getGeometryEngineOperations,e as importGeometryEngine,t as updateSelection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Evented.js\";import i from\"../../../core/Collection.js\";import l from\"../../../symbols/SimpleLineSymbol.js\";import r from\"../../../symbols/SimpleFillSymbol.js\";import n from\"../../../symbols/SimpleMarkerSymbol.js\";import\"../../../chunks/symbols.js\";import c from\"../../../core/Handles.js\";import a from\"../../../layers/GraphicsLayer.js\";import p from\"../../Sketch/SketchViewModel.js\";import{updateSelection as d}from\"./selectorUtils.js\";let h=class extends s.EventedAccessor{constructor(e){super(),this._activeOptions=null,this._dashedFillSymbol=new r({color:[0,0,0,0],outline:{style:\"dash\",color:[12,207,255],width:2}}),this._dashedLineSymbol=new l({style:\"dash\",color:[12,207,255],width:2}),this._defaultOptions={tool:\"rectangle\",createOptions:null,selectionOptions:{overlaps:!0,intersects:!0,contains:!1}},this._completed=!1,this._handles=new c,this._sketchViewModel=new p,this._sketchGraphicsLayer=new a({listMode:\"hide\"}),this._transparentPointSymbol=new n({color:[0,0,0,0],outline:{style:\"none\",width:0}}),this.candidates=null,this.geometry=null,this.options=null,this.selection=new i,this.view=null,this.candidates=e.candidates,this.options=e.options,this.view=e.view;const{_dashedFillSymbol:t,_dashedLineSymbol:o,_sketchViewModel:s,_sketchGraphicsLayer:d,_transparentPointSymbol:h}=this;s.set({layer:d,view:this.view,activePointSymbol:h,activeLineSymbol:o,activeVertexSymbol:h,activeFillSymbol:t,pointSymbol:h,polygonSymbol:t,polylineSymbol:o,vertexSymbol:h}),this._handles.add([s.on(\"create\",(e=>this._onSketchEvent(e))),s.on([\"undo\",\"redo\"],(e=>this._onSketchEvent(e)))])}initialize(){this._load()}destroy(){this._handles.destroy(),this._handles=null}get state(){const{_completed:e,_sketchViewModel:{state:t}}=this;return e?\"complete\":\"active\"===t?\"active\":\"disabled\"}cancel(){this._sketchViewModel.cancel()}async _load(){await this.view.whenReady();const{options:e}=this,{tool:t,createOptions:o}=this._activeOptions={...this._defaultOptions,...e};this._sketchViewModel.create(t,o)}_onSketchEvent(e){const t=\"create\"===e.type?e.graphic:e.graphics[0],o=(null==t?void 0:t.geometry)||null,s=\"create\"===e.type&&\"cancel\"===e.state,i=\"create\"===e.type&&\"complete\"===e.state;this._processSelectionGeometry(o,i,s)}_processSelectionGeometry(e,t,o){if(this._set(\"geometry\",e),(t||o)&&(this._completed=!0),o)return void this._onComplete([],!0);const{_activeOptions:s,candidates:i,selection:l,view:r}=this;d({selector:e,candidates:i,currentSelection:l,options:s.selectionOptions,view:r}).then((({added:e,removed:o})=>{t?this._onComplete(this.selection.toArray(),!1):(e.length||o.length)&&this.emit(\"selection-change\",{added:e,removed:o,type:\"selection-change\"})}))}_onComplete(e,t){this._handles.removeAll(),this.notifyChange(\"state\"),this.emit(\"complete\",{aborted:t,selection:e,type:\"complete\"})}};e([t()],h.prototype,\"_completed\",void 0),e([t()],h.prototype,\"candidates\",void 0),e([t({readOnly:!0})],h.prototype,\"geometry\",void 0),e([t()],h.prototype,\"options\",void 0),e([t({readOnly:!0})],h.prototype,\"selection\",void 0),e([t({dependsOn:[\"_completed\",\"_sketchViewModel.state\"],readOnly:!0})],h.prototype,\"state\",null),e([t({value:null})],h.prototype,\"view\",void 0),h=e([o(\"esri.widgets.support.Selector\")],h);var m=h;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import r from\"../../core/Accessor.js\";import s from\"../../core/Collection.js\";import{HandleOwnerMixin as i}from\"../../core/HandleOwner.js\";import{updateSelection as c}from\"./Selector/selectorUtils.js\";import n from\"./Selector/SelectionOperation.js\";let p=class extends(i(r)){constructor(o){super(o),this._defaultSelectionOptions={intersects:!0,overlaps:!0,contains:!0},this.candidates=null,this.options=null,this.view=null}draw(o){const{_defaultSelectionOptions:t,candidates:e,options:r,view:s}=this,i={...t,...r,...null==o?void 0:o.selectionOptions};return new n({candidates:e,options:{...o,selectionOptions:i},view:s})}async selectionFrom(o,t){const{_defaultSelectionOptions:e,candidates:r,options:i,view:n}=this,p=new s,l={...e,...i,...t};return await c({selector:o,candidates:r,currentSelection:p,options:l,view:n}),p.toArray()}};o([t()],p.prototype,\"candidates\",void 0),o([t()],p.prototype,\"options\",void 0),o([t({value:null})],p.prototype,\"view\",void 0),p=o([e(\"esri.widgets.support.Selector\")],p);var l=p;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as i}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import n from\"../core/Collection.js\";import{substitute as l}from\"../intl/substitute.js\";import\"../intl.js\";import{isRTL as a}from\"./support/widgetUtils.js\";import{messageBundle as r}from\"./support/decorators/messageBundle.js\";import{renderable as c}from\"./support/decorators/renderable.js\";import{vmEvent as d}from\"./support/decorators/vmEvent.js\";import{j as h}from\"../chunks/index.js\";import u from\"./Widget.js\";import p from\"./Sketch/SketchViewModel.js\";import v from\"./support/Selector.js\";const m=\"esri-sketch\",b=\"esri-sketch--vertical\",_=\"esri-sketch__panel\",g=\"esri-sketch__info-panel\",f=\"esri-sketch__section\",y=\"esri-sketch__tool-section\",w=\"esri-sketch__info-section\",S=\"esri-sketch__info-count-section\",C=\"esri-sketch__feature-count-badge\",M=\"esri-sketch__feature-count-number\",T=\"esri-sketch__button\",k=\"esri-sketch__button--selected\",B=\"esri-icon-map-pin\",O=\"esri-icon-polygon\",j=\"esri-icon-polyline\",I=\"esri-icon-radio-unchecked\",R=\"esri-icon-checkbox-unchecked\",P=\"esri-icon-cursor\",E=\"esri-icon-trash\",G=\"esri-icon-undo\",U=\"esri-icon-redo\",L=\"esri-icon-cursor-marquee\",D=\"esri-icon-lasso\",x=\"esri-widget\",F=\"esri-icon-edit\",z=\"esri-disabled\",V={createTools:{point:!0,polyline:!0,polygon:!0,rectangle:!0,circle:!0},selectionTools:{\"rectangle-selection\":!0,\"lasso-selection\":!0},undoRedoMenu:!0};let A=class extends u{constructor(e,t){super(e,t),this._activeCreateOptions=null,this._activeSelectionInfo=null,this._selector=new v,this.availableCreateTools=[\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\"],this.createGraphic=null,this.creationMode=\"continuous\",this.defaultCreateOptions=null,this.defaultUpdateOptions=null,this.iconClass=F,this.label=void 0,this.layer=null,this.messages=null,this.updateGraphics=new n,this.view=null,this.viewModel=new p,this.visibleElements={...V},this._activateCreateTool=this._activateCreateTool.bind(this)}initialize(){const{view:e}=this;this._selector.view=e,this.own([this.viewModel.on(\"create\",(()=>this.scheduleRender())),this.viewModel.on(\"update\",(()=>this.scheduleRender())),this.viewModel.on(\"create\",(e=>this._onCreateOperation(e))),this.viewModel.on(\"delete\",(e=>this.emit(\"delete\",e))),this.viewModel.on(\"undo\",(()=>this.scheduleRender())),this.viewModel.on(\"redo\",(()=>this.scheduleRender())),this.viewModel.watch(\"view\",(e=>this._selector.set({view:e}))),this.viewModel.watch(\"state\",(()=>this.notifyChange(\"state\")))])}get activeTool(){var e;return(null==(e=this._activeSelectionInfo)?void 0:e.tool)||this.viewModel.activeTool}set layout(e){\"vertical\"!==e&&(e=\"horizontal\"),this._set(\"layout\",e)}get state(){return this._activeSelectionInfo?\"active\":this.viewModel.state}castVisibleElements(e){return{...V,...e,createTools:{...V.createTools,...null==e?void 0:e.createTools},selectionTools:{...V.selectionTools,...null==e?void 0:e.selectionTools}}}create(e,t){this._activeCreateOptions=t||null,this.viewModel.create(e,t)}update(e,t){return this.viewModel.update(e,t)}complete(){}cancel(){this._cancelSelectionOperation(),this.viewModel.cancel()}undo(){}redo(){}delete(){}render(){const{label:e,layout:t,viewModel:{state:o}}=this;return h(\"div\",{\"aria-label\":e,class:this.classes(m,x,{[z]:\"disabled\"===o,[b]:\"vertical\"===t})},h(\"div\",{class:_},this.renderTopPanelContents()),h(\"div\",{class:this.classes(_,g)},this.renderInfoPanelContents()))}renderTopPanelContents(){const e=this.classes(f,y),{availableCreateTools:t,visibleElements:o}=this;return[h(\"div\",{key:\"selection-button-container\",class:e},this.renderSelectionTools()),t&&t.length?h(\"div\",{class:e},this.renderDrawButtons()):null,o.undoRedoMenu?h(\"div\",{key:\"menu-button-container\",class:e},this.renderMenuButtons()):null]}renderInfoPanelContents(){if(this.updateGraphics.length)return[h(\"div\",{class:this.classes(f,w,S),key:\"feature-count-container\"},this.renderFeatureCount()),h(\"div\",{class:this.classes(f,w),key:\"delete-button-container\"},this.renderDeleteButton())]}renderFeatureCount(){const{layout:e,messages:t,updateGraphics:{length:o}}=this,i=l(1===o?t.featureCount:t.featuresCount,{count:o});return h(\"div\",{class:C,\"aria-label\":i},h(\"span\",{class:M},\"vertical\"===e?o:i))}renderDeleteButton(){const e=this.messages.deleteFeature;return h(\"button\",{\"aria-label\":e,bind:this,class:this.classes(T,E),onclick:this.delete,title:e,type:\"button\"})}renderSelectionTools(){return[this.renderDefaultSelectionButton(),this.renderRectangleSelectionButton(),this.renderLassoSelectionButton()]}renderDefaultSelectionButton(){if(!this.viewModel.updateOnGraphicClick)return;const e=this.messages.selectFeature;return h(\"button\",{\"aria-label\":e,bind:this,class:this.classes(T,P,{[k]:\"ready\"===this.state}),onclick:this.cancel,title:e})}renderRectangleSelectionButton(){var e,t;if(\"2d\"!==(null==(e=this.view)?void 0:e.type)||!this.visibleElements.selectionTools[\"rectangle-selection\"])return;const o=this.messages.selectRectangle;return h(\"button\",{\"aria-label\":o,bind:this,class:this.classes(T,L,{[k]:\"rectangle-selection\"===(null==(t=this._activeSelectionInfo)?void 0:t.tool)}),onclick:this._activateRectangleSelectTool,title:o})}renderLassoSelectionButton(){var e,t;if(\"2d\"!==(null==(e=this.view)?void 0:e.type)||!this.visibleElements.selectionTools[\"lasso-selection\"])return;const o=this.messages.selectLasso;return h(\"button\",{\"aria-label\":o,bind:this,class:this.classes(T,D,{[k]:\"lasso-selection\"===(null==(t=this._activeSelectionInfo)?void 0:t.tool)}),onclick:this._activateLassoSelectTool,title:o})}renderDrawButtons(){const e=this.visibleElements.createTools;return this.availableCreateTools.map((t=>\"point\"===t&&e.point?this.renderPointButton():\"polyline\"===t&&e.polyline?this.renderPolylineButton():\"polygon\"===t&&e.polygon?this.renderPolygonButton():\"rectangle\"===t&&e.rectangle?this.renderRectangleButton():\"circle\"===t&&e.circle?this.renderCircleButton():void 0))}renderPointButton(){const e=\"point\",t=this.messages.drawPoint,o=[T,B];return this.activeTool===e&&o.push(k),h(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderPolygonButton(){const e=\"polygon\",t=this.messages.drawPolygon,o=[T,O];return this.activeTool===e&&o.push(k),h(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderPolylineButton(){const e=\"polyline\",t=this.messages.drawPolyline,o=[T,j];return this.activeTool===e&&o.push(k),h(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderCircleButton(){const e=\"circle\",t=this.messages.drawCircle,o=[T,I];return this.activeTool===e&&o.push(k),h(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderRectangleButton(){const e=\"rectangle\",t=this.messages.drawRectangle,o=[T,R];return this.activeTool===e&&o.push(k),h(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderMenuButtons(){return[this.renderUndoButton(),this.renderRedoButton()]}renderUndoButton(){const e=this.messages.undo,t=!this.viewModel.canUndo(),o=a()?U:G;return h(\"button\",{\"aria-label\":e,bind:this,class:this.classes(T,o),disabled:t,onclick:this.undo,title:e,type:\"button\"})}renderRedoButton(){const e=this.messages.redo,t=!this.viewModel.canRedo(),o=a()?G:U;return h(\"button\",{\"aria-label\":e,bind:this,class:this.classes(T,o),disabled:t,onclick:this.redo,title:e,type:\"button\"})}_cancelSelectionOperation(){var e,t;null==(e=this._activeSelectionInfo)||null==(t=e.operation)||t.cancel(),this._activeSelectionInfo=null,this._selector.candidates=null}_activateCreateTool(e){const t=e.target.getAttribute(\"data-tool-name\");this.activeTool!==t?(this._activeSelectionInfo&&this._cancelSelectionOperation(),this.create(t)):this.cancel()}_onCreateOperation(e){if(\"complete\"!==e.state)return;const{creationMode:t}=this,{type:o}=e;if(\"create\"===o){const{tool:o,graphic:i}=e,s=this._activeCreateOptions;this._activeCreateOptions=null,\"continuous\"===t?this.create(o,s):\"update\"===t&&this.update([i])}}_onSelectionOperationComplete(e){const{viewModel:{defaultUpdateOptions:t}}=this,{selection:o}=e;if(this._activeSelectionInfo=null,!e.aborted&&o.length){const e=t.tool,i=o.length>1&&\"reshape\"===e?\"transform\":e;this.update(o,{...t,tool:i})}this.notifyChange(\"state\")}_activateRectangleSelectTool(){if(this._activeSelectionInfo){const e=this._activeSelectionInfo.tool;if(this._cancelSelectionOperation(),\"rectangle-selection\"===e)return}else\"active\"===this.state&&this.cancel();this._selector.candidates=this._getSelectionCandidates();const e=this._selector.draw({tool:\"rectangle\"});e.once(\"complete\",(e=>this._onSelectionOperationComplete(e))),this._activeSelectionInfo={tool:\"rectangle-selection\",operation:e}}_activateLassoSelectTool(){if(this._activeSelectionInfo){const e=this._activeSelectionInfo.tool;if(this._cancelSelectionOperation(),\"lasso-selection\"===e)return}else\"active\"===this.state&&this.cancel();this._selector.candidates=this._getSelectionCandidates();const e=this._selector.draw({tool:\"polygon\",createOptions:{mode:\"freehand\"}});e.once(\"complete\",(e=>this._onSelectionOperationComplete(e))),this._activeSelectionInfo={tool:\"lasso-selection\",operation:e}}_getSelectionCandidates(){var e,t;return(null==(e=this.layer)||null==(t=e.graphics)?void 0:t.toArray())||[]}};e([t()],A.prototype,\"_activeSelectionInfo\",void 0),e([t({dependsOn:[\"_activeSelectionInfo\",\"viewModel.activeTool\"]})],A.prototype,\"activeTool\",null),e([t({cast:e=>{if(!e||!e.length)return null;const t=new Set([\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\"]);return e.filter((e=>t.has(e)))}}),c()],A.prototype,\"availableCreateTools\",void 0),e([o(\"viewModel.createGraphic\"),c()],A.prototype,\"createGraphic\",void 0),e([t()],A.prototype,\"creationMode\",void 0),e([o(\"viewModel.defaultCreateOptions\"),c()],A.prototype,\"defaultCreateOptions\",void 0),e([o(\"viewModel.defaultUpdateOptions\"),c()],A.prototype,\"defaultUpdateOptions\",void 0),e([t()],A.prototype,\"iconClass\",void 0),e([t({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],A.prototype,\"label\",void 0),e([o(\"viewModel.layer\"),c()],A.prototype,\"layer\",void 0),e([t({value:\"horizontal\"}),c()],A.prototype,\"layout\",null),e([t(),c(),r(\"esri/widgets/Sketch/t9n/Sketch\")],A.prototype,\"messages\",void 0),e([t({dependsOn:[\"_activeSelectionInfo\",\"viewModel.state\"]}),c()],A.prototype,\"state\",null),e([o(\"viewModel.updateGraphics\"),c([\"updateGraphics\",\"updateGraphics.length\"])],A.prototype,\"updateGraphics\",void 0),e([o(\"viewModel.view\"),c()],A.prototype,\"view\",void 0),e([t(),c(\"viewModel.state\"),d([\"create\",\"update\",\"undo\",\"redo\"])],A.prototype,\"viewModel\",void 0),e([t(),c()],A.prototype,\"visibleElements\",void 0),e([i(\"visibleElements\")],A.prototype,\"castVisibleElements\",null),e([o(\"viewModel.complete\")],A.prototype,\"complete\",null),e([o(\"viewModel.undo\")],A.prototype,\"undo\",null),e([o(\"viewModel.redo\")],A.prototype,\"redo\",null),e([o(\"viewModel.delete\")],A.prototype,\"delete\",null),A=e([s(\"esri.widgets.Sketch\")],A);var q=A;export default q;\n"],"sourceRoot":""}