{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/LRUCache.js","webpack://imaps/./node_modules/@arcgis/core/renderers/DictionaryRenderer.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/AttributeColorInfo.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/DotDensityLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/DotDensityRenderer.js","webpack://imaps/./node_modules/@arcgis/core/renderers/HeatmapRenderer.js","webpack://imaps/./node_modules/@arcgis/core/renderers/SimpleRenderer.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/HeatmapColorStop.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/jsonUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/types.js"],"names":["e","r","this","_storage","maxSize","registerRemoveFunc","t","put","pop","get","clearAll","j","_","w","type","lineSymbol","symbolLayers","width","color","S","super","_ongoingRequests","Map","_symbolCache","config","fieldMap","scaleExpression","scaleExpressionTitle","url","s","scalingExpressionInfo","expression","returnType","origin","writeVisualVariables","visualVariables","i","_dictionaryPromise","fetchResources","d","o","_symbolFields","attributes","n","l","toString","a","catch","p","split","m","u","length","indexOf","_itemNames","has","push","substr","map","Number","toRgba","primitiveName","propertyName","value","f","geometry","hasZ","y","_cimPartsToCIMSymbol","collectVVRequiredFields","name","add","error","abortOptions","responseType","query","data","Promise","all","authoringInfo","_refSymbolUrlTemplate","cimRefTemplateUrl","Set","itemsNames","symbol","configuration","hasOwnProperty","c","fields","filter","spatialReference","then","scale","repurposeFeature","evaluate","$feature","$view","reduce","getAttributeHash","JSON","stringify","replace","set","delete","reject","unshift","callout","primitiveOverrides","Array","_getSymbolPart","_combineSymbolParts","Object","json","read","source","write","target","prototype","String","enabled","field","label","valueExpression","valueExpressionTitle","clone","arguments","unit","backgroundColor","blendDots","dotBlendingEnabled","dotShape","dotSize","legendOptions","outline","dotValue","referenceDotValue","referenceScale","seed","getSymbol","toJSON","Boolean","default","dotDensity","blurRadius","colorStops","ratio","fieldOffset","maxPixelIntensity","minPixelIntensity","overridePolicy","heatmap","description","collectSymbolFields","getSymbols","collectRequiredFields","arcadeRequiredForVisualVariables","simple","messages","declaredClass","renderer","context","types","styleName","styleUrl","definition","key","base","typeMap","dictionary","errorContext"],"mappings":"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","file":"142.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";class e{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as s}from\"../core/lang.js\";import{isSome as t}from\"../core/maybe.js\";import{numericHash as r}from\"../core/string.js\";import i from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as l}from\"../core/accessorSupport/decorators/writer.js\";import a from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isAbortError as c}from\"../core/promiseUtils.js\";import{loadArcade as p,createDictionaryExpression as m}from\"../support/arcadeOnDemand.js\";import{collectArcadeFieldNames as u}from\"../layers/support/fieldUtils.js\";import h from\"../Color.js\";import f from\"../symbols/CIMSymbol.js\";import y from\"../request.js\";import d from\"./Renderer.js\";import{VisualVariablesMixin as g}from\"./mixins/VisualVariablesMixin.js\";import b from\"../core/LRUCache.js\";var j;const _=i.getLogger(\"esri.renderers.DictionaryRenderer\"),w={type:\"CIMSimpleLineCallout\",lineSymbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",width:.5,color:[0,0,0,255]}]}};let S=j=class extends(g(d)){constructor(e){super(e),this._ongoingRequests=new Map,this._symbolCache=new b(100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type=\"dictionary\"}writeData(e,s){e&&(s.scalingExpressionInfo={expression:e,returnType:\"number\"})}writeVisualVariables(e,s,t,r){null!=r&&r.origin||super.writeVisualVariables(e,s,t,r)}clone(){return new j({config:s(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:s(this.fieldMap),url:s(this.url),visualVariables:s(this.visualVariables)})}async getSymbolAsync(e,s){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(s));try{i=await this._dictionaryPromise}catch(d){if(c(d))return this._dictionaryPromise=null,null}const o={};if(this.fieldMap)for(const t of this._symbolFields){const s=this.fieldMap[t];if(s&&null!==e.attributes[s]&&void 0!==e.attributes[s]){const r=\"\"+e.attributes[s];o[t]=r}else o[t]=\"\"}const n=i(o,s);if(!n||\"string\"!=typeof n)return null;const l=r(n).toString(),a=this._symbolCache.get(l);if(a)return a.catch((()=>{this._symbolCache.pop(l)})),a;const p=n.split(\";\"),m=[],u=[];for(const t of p)if(t&&0!==t.length)if(-1===t.indexOf(\"po:\"))if(-1!==t.indexOf(\"|\"))for(const e of t.split(\"|\"))this._itemNames.has(e)&&m.push(e);else this._itemNames.has(t)&&m.push(t);else{const e=t.substr(3).split(\"|\");if(3===e.length){const s=e[0],t=e[1];let r=e[2];if(\"DashTemplate\"===t)r=r.split(\" \").map((e=>Number(e)));else if(\"Color\"===t){const e=new h(r).toRgba();r=[e[0],e[1],e[2],255*e[3]]}else r=Number(r);u.push({primitiveName:s,propertyName:t,value:r})}}const f=!t(e.geometry)||!e.geometry.hasZ&&\"point\"===e.geometry.type,y=this._cimPartsToCIMSymbol(m,u,f,s);return this._symbolCache.put(l,y,1),y}async collectRequiredFields(e,s){await this.collectVVRequiredFields(e,s),this.scaleExpression&&await u(e,s,this.scaleExpression);const t=s.map((e=>e.name));for(const r in this.fieldMap)t.indexOf(this.fieldMap[r])<0||e.add(this.fieldMap[r])}get arcadeRequired(){return!0}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void _.error(\"no valid URL!\");const s=t(e)?e.abortOptions:null,r=y(this.url+\"/resources/styles/dictionary-info.json\",{responseType:\"json\",query:{f:\"json\"},...s}),[{data:i}]=await Promise.all([r,p()]);if(!i)throw this._dictionaryPromise=null,new a(\"esri.renderers.DictionaryRenderer\",\"Bad dictionary data!\");const o=i.expression,n=i.authoringInfo;this._refSymbolUrlTemplate=this.url+\"/\"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=n.symbol;const l={};if(this.config){const e=this.config;for(const s in e)l[s]=e[s]}for(const t of n.configuration)l.hasOwnProperty(t.name)||(l[t.name]=t.value);const c=[];if(t(e)&&e.fields&&this.fieldMap)for(const t of this._symbolFields){const s=this.fieldMap[t],r=e.fields.filter((e=>e.name===s));r.length>0&&c.push({...r[0],name:t})}return this._dictionaryPromise=m(o,t(e)?e.spatialReference:null,c,l).then((e=>{const s={scale:0};return(r,i)=>{const o=e.repurposeFeature({geometry:null,attributes:r});return s.scale=t(i)?i.scale:void 0,e.evaluate({$feature:o,$view:s})}})).catch((e=>(_.error(\"Creating dictinoary expression failed:\",e),null))),this._dictionaryPromise}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,s)=>e+s.getAttributeHash()),\"\")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._symbolFields}async _getSymbolPart(e,s){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const t=this._refSymbolUrlTemplate.replace(/\\{itemName\\}/gi,e),r=y(t,{responseType:\"json\",query:{f:\"json\"},...s});this._ongoingRequests.set(e,r);try{return(await r).data}catch(i){return this._ongoingRequests.delete(e),Promise.reject(i)}}_combineSymbolParts(e,s,t){if(!e||0===e.length)return null;const r={...e[0]};if(e.length>1){r.symbolLayers=[];for(const s of e){const e=s;r.symbolLayers.unshift(...e.symbolLayers)}}return t&&(r.callout=w),{type:\"CIMSymbolReference\",symbol:r,primitiveOverrides:s}}async _cimPartsToCIMSymbol(e,s,t,r){const i=new Array(e.length);for(let n=0;n<e.length;n++)i[n]=this._getSymbolPart(e[n],r);const o=await Promise.all(i);return new f({data:this._combineSymbolParts(o,s,t)})}};e([o({type:Object,json:{read:{source:\"configuration\"},write:{target:\"configuration\"}}})],S.prototype,\"config\",void 0),e([o({type:Object,json:{write:!0}})],S.prototype,\"fieldMap\",void 0),e([o({type:String,json:{read:{source:\"scalingExpressionInfo.expression\"},write:!0}})],S.prototype,\"scaleExpression\",void 0),e([l(\"scaleExpression\")],S.prototype,\"writeData\",null),e([o({type:String,json:{read:{source:\"scalingExpressionInfo.title\"},write:{target:\"scalingExpressionInfo.title\",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],S.prototype,\"scaleExpressionTitle\",void 0),e([o({type:String,json:{write:!0}})],S.prototype,\"url\",void 0),e([l(\"visualVariables\")],S.prototype,\"writeVisualVariables\",null),S=j=e([n(\"esri.renderers.DictionaryRenderer\")],S);var x=S;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import o from\"../../core/Logger.js\";import{ensureString as e}from\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import p from\"../../Color.js\";var n;const u=o.getLogger(\"esri.renderers.support.AttributeColorInfo\");let c=n=class extends l{constructor(r){super(r),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(r){return null==r?r:\"function\"==typeof r?(u.error(\".field: field must be a string value\"),null):e(r)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new n({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};r([t({type:p,json:{type:[Number],write:!0}})],c.prototype,\"color\",void 0),r([t({type:String,json:{write:!0}})],c.prototype,\"field\",void 0),r([s(\"field\")],c.prototype,\"castField\",null),r([t({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),r([t({type:String,json:{write:!0}})],c.prototype,\"valueExpression\",void 0),r([t({type:String,json:{write:!0}})],c.prototype,\"valueExpressionTitle\",void 0),c=n=r([i(\"esri.renderers.support.AttributeColorInfo\")],c);var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";var e;let p=e=class extends t{constructor(){super(...arguments),this.unit=null}clone(){return new e({unit:this.unit})}};r([o({type:String,json:{write:!0}})],p.prototype,\"unit\",void 0),p=e=r([s(\"esri.renderers.support.DotDensityLegendOptions\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as t}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as r}from\"../core/accessorSupport/decorators/aliasOf.js\";import{enumeration as i}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{collectArcadeFieldNames as n}from\"../layers/support/fieldUtils.js\";import l from\"../Color.js\";import p from\"../symbols/SimpleLineSymbol.js\";import a from\"../symbols/SimpleFillSymbol.js\";import u from\"./Renderer.js\";import{VisualVariablesMixin as d}from\"./mixins/VisualVariablesMixin.js\";import c from\"./support/AttributeColorInfo.js\";import h from\"./support/DotDensityLegendOptions.js\";var m;let y=m=class extends(d(u)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new l([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape=\"square\",this.dotSize=1,this.legendOptions=null,this.outline=new p,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type=\"dot-density\"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new a({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),\"\")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new m({attributes:t(this.attributes),backgroundColor:t(this.backgroundColor),dotBlendingEnabled:t(this.dotBlendingEnabled),dotShape:t(this.dotShape),dotSize:t(this.dotSize),dotValue:t(this.dotValue),legendOptions:t(this.legendOptions),outline:t(this.outline),referenceScale:t(this.referenceScale),visualVariables:t(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||\"\"))}-${this.outline&&JSON.stringify(this.outline.toJSON())||\"\"}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const o of this.attributes)o.valueExpression&&await n(e,t,o.valueExpression),o.field&&e.add(o.field)}};e([o({type:[c],json:{write:!0}})],y.prototype,\"attributes\",void 0),e([o({type:l,json:{write:!0}})],y.prototype,\"backgroundColor\",void 0),e([o({type:Boolean}),r(\"dotBlendingEnabled\")],y.prototype,\"blendDots\",void 0),e([o({type:Boolean,json:{write:!0}})],y.prototype,\"dotBlendingEnabled\",void 0),e([o({type:String,json:{write:!1}})],y.prototype,\"dotShape\",void 0),e([o({type:Number,json:{write:!1}})],y.prototype,\"dotSize\",void 0),e([o({type:h,json:{write:!0}})],y.prototype,\"legendOptions\",void 0),e([o({type:p,json:{default:null,write:!0}})],y.prototype,\"outline\",void 0),e([o({type:Number,json:{write:!0}})],y.prototype,\"dotValue\",void 0),e([o({type:Number}),r(\"dotValue\")],y.prototype,\"referenceDotValue\",void 0),e([o({type:Number,json:{write:!0}})],y.prototype,\"referenceScale\",void 0),e([o({type:Number,json:{write:!0}})],y.prototype,\"seed\",void 0),e([i({dotDensity:\"dot-density\"})],y.prototype,\"type\",void 0),y=m=e([s(\"esri.renderers.DotDensityRenderer\")],y);var b=y;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as e}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{collectField as i}from\"../layers/support/fieldUtils.js\";import p from\"../Color.js\";import n from\"./Renderer.js\";import l from\"./support/HeatmapColorStop.js\";var a;let m=a=class extends n{constructor(t){super(t),this.blurRadius=10,this.colorStops=[new l({ratio:0,color:new p(\"rgba(255, 140, 0, 0)\")}),new l({ratio:.75,color:new p(\"rgba(255, 140, 0, 1)\")}),new l({ratio:.9,color:new p(\"rgba(255, 0,   0, 1)\")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type=\"heatmap\"}async collectRequiredFields(t,e){const r=this.field;r&&\"string\"==typeof r&&i(t,e,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new a({blurRadius:this.blurRadius,colorStops:e(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};t([r({type:Number,json:{write:!0}})],m.prototype,\"blurRadius\",void 0),t([r({type:[l],json:{write:!0}})],m.prototype,\"colorStops\",void 0),t([r({type:String,json:{write:!0}})],m.prototype,\"field\",void 0),t([r({type:Number,json:{write:{overridePolicy:(t,e,r)=>({enabled:null==r})}}})],m.prototype,\"fieldOffset\",void 0),t([r({type:Number,json:{write:!0}})],m.prototype,\"maxPixelIntensity\",void 0),t([r({type:Number,json:{write:!0}})],m.prototype,\"minPixelIntensity\",void 0),t([o({heatmap:\"heatmap\"})],m.prototype,\"type\",void 0),m=a=t([s(\"esri.renderers.HeatmapRenderer\")],m);var c=m;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import i from\"./Renderer.js\";import{VisualVariablesMixin as l}from\"./mixins/VisualVariablesMixin.js\";import{rendererSymbolProperty as a}from\"./support/commonProperties.js\";var p;let c=p=class extends(l(i)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type=\"simple\"}async collectRequiredFields(e,r){await Promise.all([this.collectSymbolFields(e,r),this.collectVVRequiredFields(e,r)])}async collectSymbolFields(e,r){await Promise.all(this.getSymbols().map((s=>s.collectRequiredFields(e,r))))}getSymbol(e,r){return this.symbol}async getSymbolAsync(e,r){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,r)=>e+r.getAttributeHash()),\"\")}getMeshHash(){return this.getSymbols().reduce(((e,r)=>e+JSON.stringify(r)),\"\")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new p({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:r(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};e([s({type:String,json:{write:!0}})],c.prototype,\"description\",void 0),e([s({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),e([s(a)],c.prototype,\"symbol\",void 0),e([t({simple:\"simple\"})],c.prototype,\"type\",void 0),c=p=e([o(\"esri.renderers.SimpleRenderer\")],c);var m=c;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Color.js\";var p;let i=p=class extends s{constructor(r){super(r),this.color=null,this.ratio=null}clone(){return new p({color:this.color,ratio:this.ratio})}};r([o({type:e,json:{write:!0}})],i.prototype,\"color\",void 0),r([o({type:Number,json:{write:!0}})],i.prototype,\"ratio\",void 0),i=p=r([t(\"esri.renderers.support.HeatmapColorStop\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{setDeepValue as e}from\"../../core/object.js\";import r from\"../../core/Warning.js\";import{createTypeReader as n}from\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import s from\"../../core/Error.js\";import{rendererTypes as t}from\"./types.js\";function o(r,n,s,t){const o=a(r,t);o&&e(s,o,n)}function u(e,r){if(!r||\"web-scene\"!==r.origin)return!0;switch(e.type){case\"simple\":case\"unique-value\":case\"class-breaks\":return!0;case\"heatmap\":case\"dictionary\":case\"dot-density\":default:return!1}}function a(e,r){return e?u(e,r)?e.write({},r):(r.messages&&r.messages.push(new s(\"renderer:unsupported\",`Renderer of type '${e.declaredClass}' are not supported in scenes.`,{renderer:e,context:r})),null):null}function c(e,r){return p(e,null,r)}const i=n({types:t});function p(e,n,s){return e?e&&(e.styleName||e.styleUrl)&&\"uniqueValue\"!==e.type?(s&&s.messages&&s.messages.push(new r(\"renderer:unsupported\",\"Only UniqueValueRenderer can be referenced from a web style, but found '\"+e.type+\"'\",{definition:e,context:s})),null):i(e,n,s):null}export{c as fromJSON,p as read,o as write};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../Renderer.js\";import r from\"../ClassBreaksRenderer.js\";import t from\"../UniqueValueRenderer.js\";import o from\"../DictionaryRenderer.js\";import s from\"../DotDensityRenderer.js\";import a from\"../HeatmapRenderer.js\";import i from\"../SimpleRenderer.js\";const m={key:\"type\",base:e,typeMap:{heatmap:a,simple:i,\"unique-value\":t,\"class-breaks\":r,\"dot-density\":s,dictionary:o},errorContext:\"renderer\"},n={key:\"type\",base:e,typeMap:{simple:i,\"unique-value\":t,\"class-breaks\":r},errorContext:\"renderer\"};export{m as rendererTypes,n as webSceneRendererTypes};\n"],"sourceRoot":""}