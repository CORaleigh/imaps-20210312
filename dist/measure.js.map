{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/widgets/Measurement/MeasurementViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Measurement.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/commonProperties.js","webpack://imaps/./src/widgets/Measure.tsx","webpack://imaps/./src/widgets/Measure/MeasureViewModel.ts","webpack://imaps/./src/widgets/Measure/styles/Measure.scss","webpack://imaps/./src/widgets/Measure/styles/Measure.scss?91f1"],"names":["n","e","super","this","activeTool","activeViewModel","view","defaultUnit","_override","_clearOverride","state","type","prototype","dependsOn","readOnly","t","_widgets","Map","activeWidget","areaUnit","iconClass","label","linearUnit","messages","viewModel","set","_getActiveWidget","then","_set","own","watch","visible","_updateWidgetUnits","_destroyWidgets","destroyed","render","class","start","i","s","default","unit","forEach","destroy","clear","has","get","_createWidget","declaredClass","aliasOf","source","overridable","r","units","spatialReference","__decorate","decorators","target","key","desc","d","c","arguments","length","Object","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__importDefault","mod","__esModule","exports","value","decorators_1","require","widget_1","Widget_1","MeasureViewModel_1","CSS","Measure","properties","_measureCreated","measurement","container","document","querySelectorAll","item","addEventListener","_a","_b","hasAttribute","title","passive","tsx","width","id","icon","afterCreate","property","renderable","subclass","Accessor_1","watchUtils_1","Measurement_1","MeasureViewModel","params","whenDefinedOnce","init","bind","setAttribute","removeAttribute","___CSS_LOADER_EXPORT___","push","module","options"],"mappings":"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","file":"measure.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Accessor.js\";import{measurementAreaUnits as i,measurementLengthUnits as s}from\"../../core/unitUtils.js\";import{defaultUnitPropertyMetadata as a}from\"../support/commonProperties.js\";let n=class extends o{constructor(e){super(e),this.activeTool=null,this.activeViewModel=null,this.view=null}get areaUnit(){return this.defaultUnit}set areaUnit(e){void 0!==e?this._override(\"areaUnit\",e):this._clearOverride(\"areaUnit\")}get linearUnit(){return this.defaultUnit}set linearUnit(e){void 0!==e?this._override(\"linearUnit\",e):this._clearOverride(\"linearUnit\")}get state(){const{activeViewModel:e}=this;return e?e.state:\"disabled\"}};e([t({type:[\"area\",\"distance\",\"direct-line\"]})],n.prototype,\"activeTool\",void 0),e([t()],n.prototype,\"activeViewModel\",void 0),e([t({type:i,dependsOn:[\"defaultUnit\"]})],n.prototype,\"areaUnit\",null),e([t(a)],n.prototype,\"defaultUnit\",void 0),e([t({type:s,dependsOn:[\"defaultUnit\"]})],n.prototype,\"linearUnit\",null),e([t({dependsOn:[\"activeViewModel\",\"activeViewModel.state\"],readOnly:!0})],n.prototype,\"state\",null),e([t()],n.prototype,\"view\",void 0),n=e([r(\"esri.widgets.Measurement.MeasurementViewModel\")],n);var p=n;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as i}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{ignoreAbortErrors as r}from\"../core/promiseUtils.js\";import\"./support/widgetUtils.js\";import{messageBundle as o}from\"./support/decorators/messageBundle.js\";import{renderable as a}from\"./support/decorators/renderable.js\";import{j as n}from\"../chunks/index.js\";import l from\"./Widget.js\";import d from\"./Measurement/MeasurementViewModel.js\";const c=\"esri-measurement\",u=\"esri-icon-measure\";let p=class extends l{constructor(e,t){super(e,t),this._widgets=new Map,this.activeTool=null,this.activeWidget=null,this.areaUnit=null,this.iconClass=u,this.label=void 0,this.linearUnit=null,this.messages=null,this.view=null,this.viewModel=new d}initialize(){this.activeWidget&&this.viewModel.set(\"activeViewModel\",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then((e=>{this._set(\"activeWidget\",e)})),this.own([this.watch([\"view\",\"activeTool\"],(()=>{this._getActiveWidget().then((e=>{this._set(\"activeWidget\",e)}))})),this.watch(\"activeWidget\",((e,t)=>{this.viewModel.set(\"activeViewModel\",e?e.viewModel:null),t&&(t.visible=!1)})),this.watch([\"areaUnit\",\"linearUnit\"],(()=>this._updateWidgetUnits()))])}destroy(){this._destroyWidgets()}render(){const{activeWidget:e}=this,t=e&&!e.destroyed?e.render():null;return n(\"div\",{class:c},t)}clear(){this.activeTool=null,this._destroyWidgets()}startMeasurement(){const{activeViewModel:e}=this.viewModel;e&&r(e.start())}async _createWidget(e){const{areaUnit:t,linearUnit:i,view:s}=this;switch(e){case\"area\":{const{type:e}=s;switch(e){case\"2d\":return new(0,(await import(\"./AreaMeasurement2D.js\")).default)({view:s,unit:t});case\"3d\":return new(0,(await import(\"./AreaMeasurement3D.js\")).default)({view:s,unit:t});default:return null}}case\"distance\":return new(0,(await import(\"./DistanceMeasurement2D.js\")).default)({view:s,unit:i});case\"direct-line\":return new(0,(await import(\"./DirectLineMeasurement3D.js\")).default)({view:s,unit:i});default:return null}}_destroyWidgets(){this._widgets.forEach((e=>e.destroy())),this._widgets.clear()}async _getActiveWidget(){const{activeTool:e,view:t}=this;if(!t||!e)return null;let i=null;if(this._widgets.has(e))i=this._widgets.get(e),i.visible=!0;else{if(i=await this._createWidget(e),!i)return null;await i.viewModel.start(),this._widgets.set(e,i)}return i}_updateWidgetUnits(){this._widgets.forEach((e=>{const{areaUnit:t,linearUnit:i}=this;e.unit=function(e){return e&&(\"esri.widgets.AreaMeasurement2D\"===e.declaredClass||\"esri.widgets.AreaMeasurement3D\"===e.declaredClass)}(e)?t:i}))}};e([i(\"viewModel.activeTool\")],p.prototype,\"activeTool\",void 0),e([t({readOnly:!0}),a()],p.prototype,\"activeWidget\",void 0),e([i(\"viewModel.areaUnit\")],p.prototype,\"areaUnit\",void 0),e([t()],p.prototype,\"iconClass\",void 0),e([t({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],p.prototype,\"label\",void 0),e([i(\"viewModel.linearUnit\")],p.prototype,\"linearUnit\",void 0),e([t(),a(),o(\"esri/widgets/Measurement/t9n/Measurement\")],p.prototype,\"messages\",void 0),e([i(\"viewModel.view\"),a()],p.prototype,\"view\",void 0),e([t({type:d}),a([\"viewModel.state\"])],p.prototype,\"viewModel\",void 0),p=e([s(\"esri.widgets.Measurement\")],p);var v=p;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getDefaultUnitSystem as e}from\"../../core/unitUtils.js\";const t={dependsOn:[\"view.map.portalItem?.portal.units\",\"view.map.portalItem?.portal.user.units\",\"view.spatialReference\"],readOnly:!0,get(){const t=\"metric\",{view:r}=this;if(!r)return t;const i=r.get(\"map.portalItem.portal\");if(i){switch(i.get(\"user.units\")||i.units){case t:return t;case\"english\":return\"imperial\"}}return e(r.spatialReference)||t}};export{t as defaultUnitPropertyMetadata};\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst widget_1 = require(\"@arcgis/core/widgets/support/widget\");\nconst Widget_1 = __importDefault(require(\"@arcgis/core/widgets/Widget\"));\nconst MeasureViewModel_1 = __importDefault(require(\"./Measure/MeasureViewModel\"));\nrequire(\"./Measure/styles/Measure.scss\");\nconst CSS = {\n    base: 'esri-widget measure-base',\n};\nlet Measure = class Measure extends Widget_1.default {\n    constructor(properties) {\n        super(properties);\n        this.viewModel = new MeasureViewModel_1.default();\n        this._measureCreated = () => {\n            if (this.measurement) {\n                this.measurement.container = 'measureWidget';\n            }\n        };\n    }\n    render() {\n        const items = document.querySelectorAll('#measureDiv calcite-radio-group-item');\n        items.forEach((item) => {\n            item === null || item === void 0 ? void 0 : item.addEventListener('calciteRadioGroupItemChange', (e) => {\n                var _a, _b;\n                if (!e.target.hasAttribute('checked')) {\n                    if (((_a = e.target) === null || _a === void 0 ? void 0 : _a.title) === 'clear') {\n                        this.measurement.clear();\n                    }\n                    else {\n                        this.measurement.activeTool = (_b = e.target) === null || _b === void 0 ? void 0 : _b.title;\n                    }\n                }\n            }, { passive: true });\n        });\n        return (widget_1.tsx(\"div\", { class: CSS.base },\n            widget_1.tsx(\"calcite-radio-group\", { width: \"full\" },\n                widget_1.tsx(\"calcite-radio-group-item\", { title: \"distance\", value: \"distance\", id: \"distanceItem\", icon: \"measure\" }, \"Distance\"),\n                widget_1.tsx(\"calcite-radio-group-item\", { title: \"area\", value: \"area\", id: \"areaItem\", icon: \"measure-area\" }, \"Area\"),\n                widget_1.tsx(\"calcite-radio-group-item\", { title: \"clear\", value: \"clear\", id: \"clearItem\", icon: \"trash\" }, \"Clear\")),\n            widget_1.tsx(\"div\", { afterCreate: this._measureCreated, id: \"measureWidget\" })));\n    }\n};\n__decorate([\n    decorators_1.aliasOf('viewModel.view')\n], Measure.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.measurement')\n], Measure.prototype, \"measurement\", void 0);\n__decorate([\n    decorators_1.property({\n        type: MeasureViewModel_1.default,\n    }),\n    widget_1.renderable()\n], Measure.prototype, \"viewModel\", void 0);\nMeasure = __decorate([\n    decorators_1.subclass('app.widgets.Measure')\n], Measure);\nexports.default = Measure;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Accessor_1 = __importDefault(require(\"@arcgis/core/core/Accessor\"));\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst watchUtils_1 = require(\"@arcgis/core/core/watchUtils\");\nconst Measurement_1 = __importDefault(require(\"@arcgis/core/widgets/Measurement\"));\nlet MeasureViewModel = class MeasureViewModel extends Accessor_1.default {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    constructor(params) {\n        super(params);\n        watchUtils_1.whenDefinedOnce(this, 'view', this.init.bind(this));\n    }\n    init(view) {\n        this.measurement = new Measurement_1.default({ view, areaUnit: 'square-feet', linearUnit: 'feet' });\n        this.measurement.watch('activeTool', (activeTool) => {\n            if (!activeTool) {\n                document.querySelectorAll('.measure-base calcite-radio-group-item').forEach((item) => {\n                    if (item.value === 'clear') {\n                        item.setAttribute('checked', '');\n                    }\n                    else {\n                        item.removeAttribute('checked');\n                    }\n                });\n            }\n        });\n    }\n};\n__decorate([\n    decorators_1.property()\n], MeasureViewModel.prototype, \"view\", void 0);\nMeasureViewModel = __decorate([\n    decorators_1.subclass('app.widgets.Measure.MeasureViewModel')\n], MeasureViewModel);\nexports.default = MeasureViewModel;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".measure-base{padding:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/widgets/Measure/styles/Measure.scss\"],\"names\":[],\"mappings\":\"AAAA,cACE,SAAA\",\"sourcesContent\":[\".measure-base {\\n  padding: 0;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./Measure.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"sourceRoot":""}