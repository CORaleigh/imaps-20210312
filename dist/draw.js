(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[3e3],{56700:(e,t,o)=>{"use strict";o.d(t,{Z:()=>w});var r=o(56140),n=(o(95830),o(34926)),i=o(36544),l=(o(68055),o(79881)),a=o(87566),s=o(32656),c=o(10923),u=(o(57002),o(86035),o(73032)),p=o(52937),d=(o(36348),o(35470)),f=o(35326),y=o(54721),h=o(809);let v=0;const b=i.Z.getLogger("esri.layers.Layer");let m=class extends(d.Z.EventedMixin((0,f.I)(h.Z))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new p.Z(-180,-90,180,90,u.Z.WGS84),this.id=Date.now().toString(16)+"-layer-"+v++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=u.Z.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e,r=await o.e(956).then(o.bind(o,50956));try{return await r.fromUrl(t)}catch(e){throw b.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",e),e}}static async fromPortalItem(e){const t="portalItem"in e?e:{portalItem:e},r=await o.e(1204).then(o.bind(o,1204));try{return await r.fromItem(t)}catch(e){const o=t&&t.portalItem,r=o&&o.id||"unset",i=o&&o.portal&&o.portal.url||n.Z.portalUrl;throw b.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+i+"', id: '"+r+"')",e),e}}initialize(){this.when().catch((e=>{var t,o;i.Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(t=this.title)?t:"no title"}', id: '${null!=(o=this.id)?o:"no id"}')`,{error:e})}))}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const e=this.url;return e?(0,c.mN)(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,y.default)(e,{query:{f:"json"},responseType:"json"})).data;throw new s.Z("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,l.Cb)({type:String})],m.prototype,"attributionDataUrl",void 0),(0,r._)([(0,l.Cb)({type:p.Z})],m.prototype,"fullExtent",void 0),(0,r._)([(0,l.Cb)({readOnly:!0,dependsOn:["attributionDataUrl"]})],m.prototype,"hasAttributionData",null),(0,r._)([(0,l.Cb)({type:String})],m.prototype,"id",void 0),(0,r._)([(0,l.Cb)({type:Boolean,nonNullable:!0})],m.prototype,"legendEnabled",void 0),(0,r._)([(0,l.Cb)({type:["show","hide","hide-children"]})],m.prototype,"listMode",void 0),(0,r._)([(0,l.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],m.prototype,"opacity",void 0),(0,r._)([(0,l.Cb)()],m.prototype,"parent",void 0),(0,r._)([(0,l.Cb)({readOnly:!0,dependsOn:["url"]})],m.prototype,"parsedUrl",null),(0,r._)([(0,l.Cb)({type:Boolean})],m.prototype,"popupEnabled",void 0),(0,r._)([(0,l.Cb)({type:Boolean})],m.prototype,"attributionVisible",void 0),(0,r._)([(0,l.Cb)({type:u.Z})],m.prototype,"spatialReference",void 0),(0,r._)([(0,l.Cb)({type:String})],m.prototype,"title",void 0),(0,r._)([(0,l.Cb)({type:String,readOnly:!0,json:{read:!1}})],m.prototype,"type",void 0),(0,r._)([(0,l.Cb)()],m.prototype,"url",void 0),(0,r._)([(0,l.Cb)({type:Boolean,nonNullable:!0})],m.prototype,"visible",void 0),m=(0,r._)([(0,a.j)("esri.layers.Layer")],m);const w=m},57407:(e,t,o)=>{"use strict";o.d(t,{h:()=>l});var r=o(56140),n=(o(95830),o(36544),o(68055),o(79881)),i=o(87566);o(10923),o(57002),o(86035);const l=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,r._)([(0,n.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,r._)([(0,n.Cb)()],t.prototype,"effect",void 0),t=(0,r._)([(0,i.j)("esri.layers.mixins.BlendLayer")],t),t}},10113:(e,t,o)=>{"use strict";o.d(t,{M:()=>l});var r=o(56140),n=(o(95830),o(36544),o(68055),o(79881)),i=o(87566);o(10923),o(57002),o(86035);const l=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return(0,r._)([(0,n.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,r._)([(0,n.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,r._)([(0,n.Cb)({readOnly:!0,dependsOn:["minScale","maxScale"]})],t.prototype,"scaleRangeId",null),t=(0,r._)([(0,i.j)("esri.layers.mixins.ScaleRangeLayer")],t),t}},79710:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var r,n=o(56140),i=(o(95830),o(59472)),l=(o(36544),o(68055),o(79881)),a=o(56274),s=o(30590),c=o(87566),u=o(60538),p=(o(10923),o(57002),o(86035),o(58385)),d=o(4665);let f=r=class extends p.wq{async collectRequiredFields(e,t){return(0,d.io)(e,t,this.expression)}clone(){return new r({expression:this.expression,title:this.title})}};(0,n._)([(0,l.Cb)({type:String,json:{write:!0}})],f.prototype,"expression",void 0),(0,n._)([(0,l.Cb)({type:String,json:{write:!0}})],f.prototype,"title",void 0),f=r=(0,n._)([(0,c.j)("esri.layers.support.FeatureExpressionInfo")],f);const y=f;var h,v=o(98160);const b=(0,a.wY)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),m=new a.Xn({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let w=h=class extends p.wq{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,o,r){t[o]=e.write(null,r),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){return this._isOverridden("mode")?this._get("mode"):(0,i.pC)(this.offset)||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new h({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};(0,n._)([(0,l.Cb)({type:y,json:{write:!0}})],w.prototype,"featureExpressionInfo",void 0),(0,n._)([(0,s.r)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],w.prototype,"readFeatureExpressionInfo",null),(0,n._)([(0,u.c)("featureExpressionInfo",{featureExpressionInfo:{type:y},"featureExpression.value":{type:[0]}})],w.prototype,"writeFeatureExpressionInfo",null),(0,n._)([(0,l.Cb)({type:b.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{type:b.jsonValues,read:b.read,write:{writer:b.write,isRequired:!0}}})],w.prototype,"mode",null),(0,n._)([(0,l.Cb)({type:Number,json:{write:!0}})],w.prototype,"offset",void 0),(0,n._)([(0,l.Cb)({type:v.f9,json:{type:String,read:m.read,write:m.write}})],w.prototype,"unit",null),w=h=(0,n._)([(0,c.j)("esri.layers.support.ElevationInfo")],w);const g=w},98160:(e,t,o)=>{"use strict";o.d(t,{Z7:()=>i,f9:()=>l,lt:()=>n});var r=o(2961);function n(e){return null!=r.a[e]}function i(e){return 1/(r.a[e]||1)}const l=function(){const e=Object.keys(r.a);return e.sort(),e}()},59750:function(e,t,o){"use strict";function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=a(e);if(t){var n=a(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return l(this,o)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(t,o,l):n(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=o(83781),d=o(73502),f=u(o(90806)),y=u(o(78745)),h=u(o(58432));o(21910);var v="esri-widget draw-base",b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(s,e);var t,o,l,a=i(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).viewModel=new h.default,t._drawUpdated=function(){t.viewModel.sketch||t.viewModel.initDraw()},t}return t=s,(o=[{key:"render",value:function(){var e=this,t=document.querySelector("#fill");null==t||t.setAttribute("value","#ff0000"),null==t||t.addEventListener("calciteColorChange",(function(t){var o=t.target.value;e.viewModel.sketch.viewModel.pointSymbol.color=y.default.fromHex(o),e.viewModel.sketch.viewModel.polygonSymbol.color=y.default.fromHex(o)}),{passive:!0});var o=document.querySelector("#line");null==o||o.setAttribute("value","#ff0000"),null==o||o.addEventListener("calciteColorChange",(function(t){var o=t.target.value;e.viewModel.sketch.viewModel.polylineSymbol.color=y.default.fromHex(o),e.viewModel.sketch.viewModel.pointSymbol.outline.color=y.default.fromHex(o),e.viewModel.sketch.viewModel.polygonSymbol.outline.color=y.default.fromHex(o)}),{passive:!0});var r=document.querySelector("#opacity");null==r||r.addEventListener("calciteSliderUpdate",(function(t){e.viewModel.sketch.viewModel.polygonSymbol.color.a=t.target.value}),{passive:!0});var n=document.querySelector("#width");null==n||n.addEventListener("calciteSliderUpdate",(function(t){e.viewModel.sketch.viewModel.polylineSymbol.width=parseFloat(t.target.value),e.viewModel.sketch.viewModel.pointSymbol.outline.width=parseFloat(t.target.value),e.viewModel.sketch.viewModel.polygonSymbol.outline.width=parseFloat(t.target.value)}),{passive:!0});var i=document.querySelector("#label");null==i||i.addEventListener("calciteInputBlur",(function(t){e.set("label",t.target.value)}),{passive:!0});var l=document.querySelector("#textColor");return null==l||l.setAttribute("value","#ff0000"),null==l||l.addEventListener("calciteColorChange",(function(t){e.set("textColor",y.default.fromHex(t.target.value))}),{passive:!0}),d.tsx("div",{class:v},d.tsx("div",{afterUpdate:this._drawUpdated,id:"sketchDiv"}),d.tsx("calcite-block",{heading:"Settings",open:!0,collapsible:!0},d.tsx("calcite-block-section",{text:"Color"},d.tsx("calcite-label",{scale:"s"},"Fill Color"," ",d.tsx("calcite-color",{id:"fill",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"})),d.tsx("calcite-label",{scale:"s"},"Line Color"," ",d.tsx("calcite-color",{id:"line",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"}))),d.tsx("calcite-block-section",{text:"Fill Opacity"},d.tsx("calcite-label",{scale:"s"},"Opacity",d.tsx("calcite-slider",{scale:"s",id:"opacity",max:"1",min:"0",value:"0.5",step:"0.1"}))),d.tsx("calcite-block-section",{text:"Outline"},d.tsx("calcite-label",{scale:"s"},"Width ",d.tsx("calcite-slider",{id:"width",max:"10",min:"0",value:"1",step:"0.5"}))),d.tsx("calcite-block-section",{text:"Labeling"},d.tsx("calcite-label",{scale:"s"},"Label ",d.tsx("calcite-input",{scale:"s",id:"label",type:"textarea"})),d.tsx("calcite-label",{scale:"s"},"Text Color",d.tsx("calcite-color",{id:"textColor",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"})))))}}])&&r(t.prototype,o),l&&r(t,l),s}(f.default);c([p.aliasOf("viewModel.view")],b.prototype,"view",void 0),c([p.aliasOf("viewModel.label")],b.prototype,"label",void 0),c([p.aliasOf("viewModel.textColor")],b.prototype,"textColor",void 0),c([p.aliasOf("viewModel.measurement")],b.prototype,"measurement",void 0),c([p.property({type:h.default}),d.renderable()],b.prototype,"viewModel",void 0),b=c([p.subclass("app.widgets.Draw")],b),t.default=b},58432:function(e,t,o){"use strict";function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=s(e);if(t){var n=s(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return l(this,o)}}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(t,o,l):n(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=p(o(82677)),f=o(83781),y=p(o(15843)),h=p(o(94394)),v=o(80621),b=p(o(15988)),m=p(o(44190)),w=p(o(78745)),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(c,e);var t,o,l,s=i(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=s.call(this,e),v.whenDefinedOnce(a(t),"view",t.init.bind(a(t))),t}return t=c,(o=[{key:"initDraw",value:function(){var e=this;this.graphics=new h.default({listMode:"hide"}),this.view.map.add(this.graphics),this.sketch=new y.default({view:this.view,container:"sketchDiv",layer:this.graphics,creationMode:"single",defaultCreateOptions:{mode:"hybrid"}}),this.sketch.viewModel.pointSymbol.color=w.default.fromHex("#FF0000"),this.sketch.viewModel.pointSymbol.outline.color=w.default.fromHex("#FF0000"),this.sketch.viewModel.polygonSymbol.color=new w.default([[255,0,0,.5]]),this.sketch.viewModel.polygonSymbol.outline.color=w.default.fromHex("#FF0000"),this.sketch.viewModel.polylineSymbol.color=w.default.fromHex("#FF0000"),this.sketch.watch("activeTool",(function(t){var o;null!=t&&(null===(o=e.measurement)||void 0===o||o.clear())})),this.sketch.on("create",(function(t){var o,r;if("start"===t.state&&(null===(o=e.measurement)||void 0===o||o.clear()),"complete"===t.state&&(null===(r=e.label)||void 0===r?void 0:r.length)){var n=t.graphic.geometry;"polygon"===t.graphic.geometry.type&&(n=t.graphic.geometry.centroid);var i=new b.default({geometry:n,symbol:new m.default({text:e.label,color:e.textColor,haloColor:"white",haloSize:1,xoffset:"5px",yoffset:"5px",verticalAlignment:"bottom",horizontalAlignment:"right"})});e.graphics.add(i)}}))}},{key:"init",value:function(e){console.log(e.scale)}}])&&r(t.prototype,o),l&&r(t,l),c}(d.default);u([f.property()],g.prototype,"view",void 0),u([f.property()],g.prototype,"container",void 0),g=u([f.subclass("app.widgets.Draw.DrawViewModel")],g),t.default=g},1820:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var r=o(94015),n=o.n(r),i=o(23645),l=o.n(i)()(n());l.push([e.id,".draw-base{padding:0}#drawDiv{overflow-y:auto;overflow-x:hidden}","",{version:3,sources:["webpack://./src/widgets/Draw/styles/Draw.scss"],names:[],mappings:"AAAA,WACE,SAAA,CAGF,SACE,eAAA,CACA,iBAAA",sourcesContent:[".draw-base {\n  padding: 0;\n}\n\n#drawDiv {\n  overflow-y: auto;\n  overflow-x: hidden;\n}"],sourceRoot:""}]);const a=l},21910:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});var r=o(93379),n=o.n(r),i=o(1820),l={insert:"head",singleton:!1};n()(i.Z,l);const a=i.Z.locals||{}}},0,[[21910,3666,8696,6563,1518,8157,7333,2551,7383,5988,6814,5798,5666,3533,530,6205,1731,5062,2412,7551,5843],[59750,3666,8696,6563,1518,8157,7333,2551,7383,5988,6814,5798,5666,3533,530,6205,1731,5062,2412,7551,5843],[58432,3666,8696,6563,1518,8157,7333,2551,7383,5988,6814,5798,5666,3533,530,6205,1731,5062,2412,7551,5843]]]);
//# sourceMappingURL=draw.js.map