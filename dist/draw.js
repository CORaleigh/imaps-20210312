(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[3e3],{59750:function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=a(e);if(t){var r=a(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return i(this,o)}}function i(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=this&&this.__decorate||function(e,t,o,n){var r,l=arguments.length,i=l<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(l<3?r(i):l>3?r(t,o,i):r(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=o(83781),d=o(88266),p=u(o(90806)),v=u(o(78745)),y=u(o(58432));o(21910);var h="esri-widget draw-base",b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(c,e);var t,o,i,a=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).viewModel=new y.default,t._drawUpdated=function(){t.viewModel.sketch||t.viewModel.initDraw()},t}return t=c,(o=[{key:"render",value:function(){var e=this,t=document.querySelector("#fill");null==t||t.setAttribute("value","#ff0000"),null==t||t.addEventListener("calciteColorChange",(function(t){var o=t.target.value;e.viewModel.sketch.viewModel.pointSymbol.color=v.default.fromHex(o),e.viewModel.sketch.viewModel.polygonSymbol.color=v.default.fromHex(o)}),{passive:!0});var o=document.querySelector("#line");null==o||o.setAttribute("value","#ff0000"),null==o||o.addEventListener("calciteColorChange",(function(t){var o=t.target.value;e.viewModel.sketch.viewModel.polylineSymbol.color=v.default.fromHex(o),e.viewModel.sketch.viewModel.pointSymbol.outline.color=v.default.fromHex(o),e.viewModel.sketch.viewModel.polygonSymbol.outline.color=v.default.fromHex(o)}),{passive:!0});var n=document.querySelector("#opacity");null==n||n.addEventListener("calciteSliderUpdate",(function(t){e.viewModel.sketch.viewModel.polygonSymbol.color.a=t.target.value}),{passive:!0});var r=document.querySelector("#width");null==r||r.addEventListener("calciteSliderUpdate",(function(t){e.viewModel.sketch.viewModel.polylineSymbol.width=parseFloat(t.target.value),e.viewModel.sketch.viewModel.pointSymbol.outline.width=parseFloat(t.target.value),e.viewModel.sketch.viewModel.polygonSymbol.outline.width=parseFloat(t.target.value)}),{passive:!0});var l=document.querySelector("#label");null==l||l.addEventListener("calciteInputBlur",(function(t){e.set("label",t.target.value)}),{passive:!0});var i=document.querySelector("#textColor");return null==i||i.setAttribute("value","#ff0000"),null==i||i.addEventListener("calciteColorChange",(function(t){e.set("textColor",v.default.fromHex(t.target.value))}),{passive:!0}),d.tsx("div",{class:h},d.tsx("div",{afterUpdate:this._drawUpdated,id:"sketchDiv"}),d.tsx("calcite-block",{heading:"Settings",open:!0,collapsible:!0},d.tsx("calcite-block-section",{text:"Color"},d.tsx("calcite-label",{scale:"s"},"Fill Color"," ",d.tsx("calcite-color",{id:"fill",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"})),d.tsx("calcite-label",{scale:"s"},"Line Color"," ",d.tsx("calcite-color",{id:"line",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"}))),d.tsx("calcite-block-section",{text:"Fill Opacity"},d.tsx("calcite-label",{scale:"s"},"Opacity",d.tsx("calcite-slider",{scale:"s",id:"opacity",max:"1",min:"0",value:"0.5",step:"0.1"}))),d.tsx("calcite-block-section",{text:"Outline"},d.tsx("calcite-label",{scale:"s"},"Width ",d.tsx("calcite-slider",{id:"width",max:"10",min:"0",value:"1",step:"0.5"}))),d.tsx("calcite-block-section",{text:"Labeling"},d.tsx("calcite-label",{scale:"s"},"Label ",d.tsx("calcite-input",{scale:"s",id:"label",type:"textarea"})),d.tsx("calcite-label",{scale:"s"},"Text Color",d.tsx("calcite-color",{id:"textColor",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"})))))}}])&&n(t.prototype,o),i&&n(t,i),c}(p.default);s([f.aliasOf("viewModel.view")],b.prototype,"view",void 0),s([f.aliasOf("viewModel.label")],b.prototype,"label",void 0),s([f.aliasOf("viewModel.textColor")],b.prototype,"textColor",void 0),s([f.aliasOf("viewModel.measurement")],b.prototype,"measurement",void 0),s([f.property({type:y.default}),d.renderable()],b.prototype,"viewModel",void 0),b=s([f.subclass("app.widgets.Draw")],b),t.default=b},58432:function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=c(e);if(t){var r=c(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return i(this,o)}}function i(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,o,n){var r,l=arguments.length,i=l<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(l<3?r(i):l>3?r(t,o,i):r(t,o))||i);return l>3&&i&&Object.defineProperty(t,o,i),i},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=f(o(82677)),p=o(83781),v=f(o(52892)),y=f(o(94394)),h=o(80621),b=f(o(15988)),w=f(o(44190)),m=f(o(78745)),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(s,e);var t,o,i,c=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=c.call(this,e),h.whenDefinedOnce(a(t),"view",t.init.bind(a(t))),t}return t=s,(o=[{key:"initDraw",value:function(){var e=this;this.graphics=new y.default({listMode:"hide"}),this.view.map.add(this.graphics),this.sketch=new v.default({view:this.view,container:"sketchDiv",layer:this.graphics,creationMode:"single",defaultCreateOptions:{mode:"hybrid"}}),this.sketch.viewModel.pointSymbol.color=m.default.fromHex("#FF0000"),this.sketch.viewModel.pointSymbol.outline.color=m.default.fromHex("#FF0000"),this.sketch.viewModel.polygonSymbol.color=new m.default([[255,0,0,.5]]),this.sketch.viewModel.polygonSymbol.outline.color=m.default.fromHex("#FF0000"),this.sketch.viewModel.polylineSymbol.color=m.default.fromHex("#FF0000"),this.sketch.watch("activeTool",(function(t){var o;null!=t&&(null===(o=e.measurement)||void 0===o||o.clear())})),this.sketch.on("create",(function(t){var o,n;if("start"===t.state&&(null===(o=e.measurement)||void 0===o||o.clear()),"complete"===t.state&&(null===(n=e.label)||void 0===n?void 0:n.length)){var r=t.graphic.geometry;"polygon"===t.graphic.geometry.type&&(r=t.graphic.geometry.centroid);var l=new b.default({geometry:r,symbol:new w.default({text:e.label,color:e.textColor,haloColor:"white",haloSize:1,xoffset:"5px",yoffset:"5px",verticalAlignment:"bottom",horizontalAlignment:"right"})});e.graphics.add(l)}}))}},{key:"init",value:function(e){console.log(e.scale)}}])&&n(t.prototype,o),i&&n(t,i),s}(d.default);u([p.property()],g.prototype,"view",void 0),u([p.property()],g.prototype,"container",void 0),g=u([p.subclass("app.widgets.Draw.DrawViewModel")],g),t.default=g},1820:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(94015),r=o.n(n),l=o(23645),i=o.n(l)()(r());i.push([e.id,".draw-base{padding:0}#drawDiv{overflow-y:auto;overflow-x:hidden}","",{version:3,sources:["webpack://./src/widgets/Draw/styles/Draw.scss"],names:[],mappings:"AAAA,WACE,SAAA,CAGF,SACE,eAAA,CACA,iBAAA",sourcesContent:[".draw-base {\n  padding: 0;\n}\n\n#drawDiv {\n  overflow-y: auto;\n  overflow-x: hidden;\n}"],sourceRoot:""}]);const a=i},21910:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});var n=o(93379),r=o.n(n),l=o(1820),i={insert:"head",singleton:!1};r()(l.Z,i);const a=l.Z.locals||{}}},0,[[21910,3666,2673,8834,3005,1518,6369,142,9632,8157,7333,1063,2551,5640,9090,2905,3284,5666,1335,3533,5313,5834,2892],[59750,3666,2673,8834,3005,1518,6369,142,9632,8157,7333,1063,2551,5640,9090,2905,3284,5666,1335,3533,5313,5834,2892],[58432,3666,2673,8834,3005,1518,6369,142,9632,8157,7333,1063,2551,5640,9090,2905,3284,5666,1335,3533,5313,5834,2892]]]);
//# sourceMappingURL=draw.js.map