{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/views/BasemapView.js","webpack://imaps/./node_modules/@arcgis/core/views/LayerViewManager.js","webpack://imaps/./node_modules/@arcgis/core/views/Magnifier.js","webpack://imaps/./node_modules/@arcgis/core/views/RefreshManager.js","webpack://imaps/./node_modules/@arcgis/core/views/input/ViewEvents.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/ToolViewManagerManipulatorState.js","webpack://imaps/./node_modules/@arcgis/core/views/ToolViewManager.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/graphics/AnalysisManagerItem.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/graphics/AnalysisManager.js","webpack://imaps/./node_modules/@arcgis/core/views/input/gamepad/GamepadSettings.js","webpack://imaps/./node_modules/@arcgis/core/views/input/Input.js","webpack://imaps/./node_modules/@arcgis/core/views/navigation/gamepad/GamepadSettings.js","webpack://imaps/./node_modules/@arcgis/core/views/navigation/Navigation.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/support/DefaultsFromMap.js","webpack://imaps/./node_modules/@arcgis/core/views/View.js","webpack://imaps/./node_modules/@arcgis/core/views/input/gamepad/GamepadInputDevice.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"names":["p","e","super","this","view","baseLayerViews","referenceLayerViews","_loadingHandle","load","catch","_set","remove","suspended","map","basemap","loaded","constructOnly","prototype","readOnly","type","Boolean","V","g","r","i","layer","layerViewImporter","_controller","_deferred","_started","done","signal","reject","promise","abort","layerView","emit","_map","a","s","n","h","prefetchResources","createLayerView","hasLayerViewModule","t","importLayerView","default","y","destroy","parent","when","o","allLayers","includes","resolve","error","L","_layerLayerViewInfoMap","Map","_watchUpdatingTracking","supportsGround","_preloadLayerViewModules","_reschedule","_workPromise","handles","add","_doWork","clear","notifyChange","root","rootCollectionNames","_rootCollectionNames","getChildrenFunction","layers","_createLayerView","_refreshCollections","delete","filter","l","ground","baseLayers","referenceLayers","addOnCollectionChange","push","Array","from","_layersToLayerViews","keys","updating","destroyed","values","has","get","Promise","_populateLayerViewsOwners","removeAll","getItemAt","splice","layerViews","length","ready","start","then","name","title","id","set","factor","offsetX","offsetY","position","size","mask","maskEnabled","overlay","overlayEnabled","visible","commitProperty","_get","Number","range","min","arguments","_handles","_currentTick","allLayerViews","on","_getLayerViewHandles","watch","_restartTicking","_intervalID","clearInterval","_getCommonInterval","tickInterval","setInterval","Date","now","forEach","Math","round","refreshInterval","refreshTimestamp","refresh","isNaN","toArray","reduce","handlers","counter","handlerCounts","inputManager","disconnect","handler","priority","installHandlers","uninstallHandlers","isArray","split","some","console","u","createUniqueGroupName","m","c","removeHandler","registerIncoming","wrapClick","wrapDoubleClick","wrapImmediateClick","wrapImmediateDoubleClick","wrapHold","wrapDrag","wrapKeyDown","wrapKeyUp","wrapPointer","wrapPointerDrag","wrapMouseWheel","wrapGamepad","wrapFocus","wrapBlur","timestamp","native","data","cancelable","stopPropagation","async","preventDefault","pointerType","button","buttons","x","eventId","screenPoint","mapPoint","getMapPoint","pointerId","toMap","exclude","center","action","latestDragStart","pointer","origin","radius","angle","key","repeat","currentEvent","startEvent","deltaY","state","device","axes","d","shiftKey","manipulator","tool","_pointerLocations","_hoveredManipulators","_grabbedManipulators","_draggedManipulators","_stopDrag","_revertToActiveTool","_cursor","_intersect","forEachTool","_findToolAndManipulatorByKey","interactive","grabbable","grabbableForEvent","grabbing","dragging","_ungrabManipulatorBeforeDragging","activeTool","setActiveTool","events","_handlePointerEnd","_findManipulatorByKey","width","height","selectionManagementDisabled","manipulators","selected","manipulatorSelectionChanged","selectable","_updateCursor","findById","manipulatorId","creatingTool","cursor","_cursorFromMap","hovering","intersect","_updateHoveredStateForPointerAtScreenPosition","j","C","b","_creatingTool","_manipulatorState","tools","_forEachTool","items","_handleInputEvent","item","created","clearPointers","_refreshToolWatchers","_removeIncompleteTools","setEditableFlag","_rejectCreatingTool","whenReady","attach","completed","forEachManipulator","onViewChange","elevationProvider","onElevationChange","detach","handleInputEvent","handleInputEventAfter","handleHoverEvent","removed","updateHoveredStateFromKnownPointers","rejectCreation","nonNullable","value","analysis","viewFactory","controllerFactory","_promise","analysisView","analysisController","_load","_items","analyses","_createItem","_getItem","devices","enabledFocusMode","gamepad","enabled","mode","tiltDirection","velocityFactor","browserTouchPanEnabled","momentumEnabled","mouseWheelZoomEnabled","url","spatialReference","vcsWkid","serverType","heightModelInfo","capabilities","supportsZ","heightModel","_waitTask","_extentProjectController","_spatialReferenceCandidates","_extentCandidates","logDebugInformation","isSpatialReferenceDone","isTileInfoDone","isHeightModelInfoSearching","extent","latestVcsWkid","mapCollectionPaths","DefaultMapCollectionPaths","slice","tileInfo","_running","reset","_cancelLoading","_updateLayerChange","bind","_updateTileInfo","lastIndexOf","_ownerNameFromCollectionName","join","isFulfilled","collectionName","owner","loading","_update","_debugLog","_processMapCollections","_processSpatialReferenceSource","defaultSpatialReference","findIndex","equals","_findExtent","_projectExtentCandidate","isHeightModelInfoRequired","_processHeightModelInfoSource","_preloadMapCollections","_forAllMapCollectionSources","_updateWhen","isResolved","_ensureLoadedOwnersFromCollectionName","isRejected","_forEachSource","_getSupportedSpatialReferences","fullExtents","fullExtent","find","concat","projectGeometry","portalItem","supportedSpatialReferences","isSpatialReferenceSupported","isTileInfoRequired","loadStatus","info","JSON","stringify","toJSON","z","H","W","_userSpatialReference","animation","basemapView","defaultsFromMap","fatalError","graphics","navigating","magnifier","padding","left","top","right","bottom","spatialReferenceWarningDelay","timeExtent","scale","initialExtentRequired","renderContext","input","navigation","layerViewManager","refreshManager","resizing","viewEvents","persistableViewModels","_isValid","_readyCycleForced","_currentSpatialReference","views","toolViewManager","_teardown","_startup","addResolvingPromise","validate","analysisManager","createAnalysisView","createAnalysisController","_resetInitialViewPropertiesFromContent","warn","invalidate","_emitter","getDefaultHeightModelInfo","initialExtent","initialized","forceReadyCycle","getDefaultSpatialReference","clone","whenLayerView","getAnalysisView","whenAnalysisView","createTool","dependsOn","nativeIndex","_detectedDeviceType","mapping","test","index","navigator","getGamepads","deviceType","String","RegExp","standard","spacemouse","unknown","refreshDebounced","doRefresh"],"mappings":"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","file":"4288.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import o from\"../core/Accessor.js\";import t from\"../core/Collection.js\";import{init as i}from\"../core/watchUtils.js\";let p=class extends o{constructor(e){super(e),this.view=null,this.baseLayerViews=new t,this.referenceLayerViews=new t,this._loadingHandle=i(this,\"view.map.basemap\",(e=>{e&&e.load().catch((()=>{}))}))}destroy(){this._set(\"view\",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){return(!this.view||!this.view.suspended)&&!(!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}};e([s({constructOnly:!0})],p.prototype,\"view\",void 0),e([s({readOnly:!0})],p.prototype,\"baseLayerViews\",void 0),e([s({readOnly:!0})],p.prototype,\"referenceLayerViews\",void 0),e([s({readOnly:!0})],p.prototype,\"suspended\",null),e([s({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),p=e([r(\"esri.views.BasemapView\")],p);export{p as BasemapView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isNone as r,isSome as i,removeMaybe as t}from\"../core/maybe.js\";import a from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{createDeferred as n,isAbortError as h,createAbortController as y,onAbort as w,throwIfAborted as p}from\"../core/promiseUtils.js\";import{schedule as c}from\"../core/scheduling.js\";import d from\"../core/CollectionFlattener.js\";import{on as m,init as u}from\"../core/watchUtils.js\";import{WatchUpdatingTracking as f}from\"./support/WatchUpdatingTracking.js\";import{HandleOwner as v}from\"../core/HandleOwner.js\";import{someMap as _}from\"../core/MapUtils.js\";const V=a.getLogger(\"esri.views.LayerViewManager\");class g{constructor(e,r,i){this.layer=e,this.view=r,this.layerViewImporter=i,this._controller=y(),this._deferred=n(),this._started=!1,this.done=!1,w(this._controller.signal,(()=>{const r=new l(\"cancelled:layerview-create\",\"layerview creation cancelled\",{layer:e});this._deferred.reject(r)}))}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:e}=this;if(!e)return;const{layer:r,view:i}=this;r.emit(\"layerview-destroy\",{view:i,layerView:e}),i.emit(\"layerview-destroy\",{layer:r,layerView:e}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:e},layer:r,view:i}=this;this._map=i.map;try{var a,s;let n,h;if(await r.load({signal:e}),\"prefetchResources\"in r&&await r.prefetchResources({signal:e}),r.createLayerView)n=await r.createLayerView(i,{signal:e});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new l(\"layer:view-not-supported\",\"No layerview implementation was found\");const t=await this.layerViewImporter.importLayerView(r);p(e),n=\"default\"in t?new t.default({layer:r,view:i}):new t({layer:r,view:i})}const y=()=>{h=t(h),n.destroy(),n.layer=null,n.parent=null,n.view=null,this.done=!0};h=w(e,y),p(e);try{await n.when()}catch(o){throw y(),o}if(!(null==(a=this._map)||null==(s=a.allLayers)?void 0:s.includes(r)))return y(),void this._deferred.reject(new l(\"view:no-layerview-for-layer\",\"The layer has been removed from the map\",{layer:r}));this.layerView=n,r.emit(\"layerview-create\",{view:i,layerView:n}),i.emit(\"layerview-create\",{layer:r,layerView:n}),this.done=!0,this._deferred.resolve(n)}catch(o){r.emit(\"layerview-create-error\",{view:i,error:o}),i.emit(\"layerview-create-error\",{layer:r,error:o}),this.done=!0,this._deferred.reject(new l(\"layerview:create-error\",\"layerview creation failed\",{layer:r,error:o}))}}}let L=class extends v{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new f,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var e;const r=null==(e=this.view.map)?void 0:e.allLayers;if(r)for(const i of r)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>(r(this._workPromise)&&(this._workPromise=n()),this.handles.remove(\"reschedule\"),this.handles.add(c(this._doWork),\"reschedule\"),this._workPromise.promise),this._doWork=()=>{var e,i,t;const a=this.view.map;if(this._map!==a&&(this.clear(),this._map=a),r(this._workPromise))return void this.notifyChange(\"updating\");this.handles.remove(\"reschedule\"),this.handles.remove(\"collection-change\");const s=new d({root:this,rootCollectionNames:this._rootCollectionNames,getChildrenFunction:e=>e.layers});if(!s)return this._workPromise.resolve(),void(this._workPromise=null);for(const r of s)this._createLayerView(r);this._refreshCollections();for(const[r,n]of this._layerLayerViewInfoMap)s.includes(r)||(this._layerLayerViewInfoMap.delete(n.layer),n.destroy());const o=s.filter((e=>\"group\"===e.type)).map((e=>e.layers)),l=[null==a||null==(e=a.ground)?void 0:e.layers,null==a||null==(i=a.basemap)?void 0:i.baseLayers,null==a||null==(t=a.basemap)?void 0:t.referenceLayers,null==a?void 0:a.layers,...o].filter((e=>!!e));this.handles.add(l.map((e=>this._watchUpdatingTracking.addOnCollectionChange(e,this._reschedule))),\"collection-change\"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([m(this,\"view.map.allLayers\",\"change\",this._preloadLayerViewModules,this._preloadLayerViewModules),u(this.view,[\"map.basemap\",\"map.ground\",\"map.layers\",\"ready\"],this._reschedule,!0)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const e=[[\"view.map.basemap.baseLayers\",\"view.basemapView.baseLayerViews\"],[\"view.map.layers\",\"view.layerViews\"],[\"view.map.basemap.referenceLayers\",\"view.basemapView.referenceLayerViews\"]];return this.supportsGround&&e.push([\"view.map.ground.layers\",\"view.groundView.layerViews\"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return!(!i(this._workPromise)&&!this._watchUpdatingTracking.updating)||_(this._layerLayerViewInfoMap,(e=>!e.done))}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){return await this._reschedule(),this._layerLayerViewInfoMap.has(e)?this._layerLayerViewInfoMap.get(e).promise:Promise.reject(new l(\"view:no-layerview-for-layer\",\"No layerview has been found for the layer\",{layer:e}))}_refreshCollections(){for(const[e,r]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(r),this.view);this.notifyChange(\"updating\")}_populateLayerViewsOwners(e,r,i){if(!e||!r)return void(r&&r.removeAll());let t=0;for(const a of e){const e=this._layerLayerViewInfoMap.get(a);if(!e||!e.layerView)continue;const s=e.layerView;s.layer=a,s.parent=i,r.getItemAt(t)!==s&&r.splice(t,0,s),a.layers&&this._populateLayerViewsOwners(a.layers,s.layerViews,s),t+=1}t<r.length&&r.splice(t,r.length)}_createLayerView(e){if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),void this.notifyChange(\"updating\");e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const r=new g(e,this.view,this.layerViewImporter);r.promise.then((()=>this._refreshCollections()),(r=>{var i,t;r&&(h(r)||\"cancelled:layerview-create\"===r.name)||V.error(`Failed to create layerview for layer title:'${null!=(i=e.title)?i:\"no title\"}', id:'${null!=(t=e.id)?t:\"no id\"}' of type '${e.type}'.`,{layer:e,error:r});this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,r),this.view.ready&&r.start(),this.notifyChange(\"updating\")}};e([s()],L.prototype,\"_workPromise\",void 0),e([s({readOnly:!0})],L.prototype,\"_watchUpdatingTracking\",void 0),e([s({readOnly:!0})],L.prototype,\"_layersToLayerViews\",null),e([s({readOnly:!0})],L.prototype,\"_rootCollectionNames\",null),e([s()],L.prototype,\"layerViewImporter\",void 0),e([s()],L.prototype,\"supportsGround\",void 0),e([s({readOnly:!0})],L.prototype,\"updating\",null),e([s({constructOnly:!0})],L.prototype,\"view\",void 0),L=e([o(\"esri.views.LayerViewManager\")],L);var M=L;export default M;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import e from\"../core/Accessor.js\";let s=class extends e{constructor(o){super(o),this.factor=1.5,this.offsetX=0,this.offsetY=0,this.position=null,this.size=120,this.mask=null,this.maskEnabled=!0,this.overlay=null,this.overlayEnabled=!0,this.visible=!1}get version(){return this.commitProperty(\"factor\"),this.commitProperty(\"offsetX\"),this.commitProperty(\"offsetY\"),this.commitProperty(\"position\"),this.commitProperty(\"visible\"),this.commitProperty(\"size\"),this.commitProperty(\"mask\"),this.commitProperty(\"maskEnabled\"),this.commitProperty(\"overlay\"),this.commitProperty(\"overlayEnabled\"),(this._get(\"version\")||0)+1}};o([t({type:Number})],s.prototype,\"factor\",void 0),o([t({type:Number})],s.prototype,\"offsetX\",void 0),o([t({type:Number})],s.prototype,\"offsetY\",void 0),o([t()],s.prototype,\"position\",void 0),o([t({type:Number,range:{min:0}})],s.prototype,\"size\",void 0),o([t()],s.prototype,\"mask\",void 0),o([t()],s.prototype,\"maskEnabled\",void 0),o([t()],s.prototype,\"overlay\",void 0),o([t()],s.prototype,\"overlayEnabled\",void 0),o([t({readOnly:!0})],s.prototype,\"version\",null),o([t({type:Boolean})],s.prototype,\"visible\",void 0),s=o([r(\"esri.views.Magnifier\")],s);var i=s;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import s from\"../core/Accessor.js\";import i from\"../core/Handles.js\";import{isRefreshableLayerView as a}from\"./layers/RefreshableLayerView.js\";const n=6e3;let o=class extends s{constructor(){super(...arguments),this._handles=new i,this._currentTick=0}initialize(){this._handles.add([this.view.allLayerViews.on(\"after-changes\",(()=>{this.notifyChange(\"tickInterval\"),this._handles.remove(\"layerViewsUpdating\"),this._handles.add(this._getLayerViewHandles(),\"layerViewsUpdating\")})),this.watch(\"tickInterval\",(()=>this._restartTicking())),this.watch(\"view.ready\",(()=>this._restartTicking()))]),this._restartTicking()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)}get tickInterval(){const e=this.view.allLayerViews.filter((e=>a(e)));return this._getCommonInterval(e)}_restartTicking(){this._currentTick=0,this._intervalID&&clearInterval(this._intervalID),this.get(\"view.ready\")&&this.tickInterval&&(this._intervalID=setInterval((()=>{const e=Date.now();this._currentTick+=this.tickInterval,this.view.allLayerViews.forEach((r=>{if(a(r)){const t=Math.round(6e4*r.refreshInterval),s=this._currentTick%t==0,i=e-r.refreshTimestamp<.9*n;t&&s&&!i&&r.refresh(e)}}))}),this.tickInterval))}_getLayerViewHandles(){const e=[],r=()=>this.notifyChange(\"tickInterval\");return this.view.allLayerViews.forEach((t=>{a(t)&&t.layer&&e.push(t.watch(\"refreshInterval\",r),t.layer.on(\"refresh\",(()=>{t.refresh(Date.now())})))})),e}_getCommonInterval(e){const r=(e,t)=>isNaN(e)||isNaN(t)?0:t<=0?e:r(t,e%t);return e.toArray().reduce(((e,t)=>r(Math.round(6e4*t.refreshInterval),e)),0)}};e([r()],o.prototype,\"view\",void 0),e([r({readOnly:!0})],o.prototype,\"tickInterval\",null),o=e([t(\"esri.views.RefreshManager\")],o);var h=o;export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{rad2deg as t}from\"../../core/mathUtils.js\";import{createScreenPoint as e}from\"../../core/screenUtils.js\";import{InputHandler as a}from\"./InputHandler.js\";import{ViewEventPriorities as n}from\"./InputManager.js\";const r=[\"click\",\"double-click\",\"immediate-click\",\"immediate-double-click\",\"hold\",\"drag\",\"key-down\",\"key-up\",\"pointer-down\",\"pointer-move\",\"pointer-up\",\"pointer-drag\",\"mouse-wheel\",\"pointer-enter\",\"pointer-leave\",\"gamepad\",\"focus\",\"blur\"],i={};function o(t){return!!i[t]}function s(t){for(const e of t)if(!o(e))return!1;return!0}r.forEach((t=>{i[t]=!0}));class p{constructor(t){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this.handlers.forEach((({handler:t,priority:e},a)=>this.inputManager.installHandlers(a,[t],e)))}disconnect(){this.inputManager&&this.handlers.forEach(((t,e)=>this.inputManager.uninstallHandlers(e))),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(t,e,a,r){const i=Array.isArray(t)?t:t.split(\",\");if(!s(i))return i.some(o)&&console.error(\"Error: registering input events and other events on the view at the same time is not supported.\"),null;let p,l;Array.isArray(e)?l=e:(p=e,l=[]),\"function\"==typeof a?p=a:r=a,r=null!=r?r:n.DEFAULT;const u=this.createUniqueGroupName(),m=new c(this.view,i,l,p);this.handlers.set(u,{handler:m,priority:r});for(const n of i){const t=this.handlerCounts.get(n)||0;this.handlerCounts.set(n,t+1)}return this.inputManager&&this.inputManager.installHandlers(u,[m],r),{remove:()=>this.removeHandler(u,i)}}hasHandler(t){return!!this.handlerCounts.get(t)}removeHandler(t,e){if(this.handlers.has(t)){this.handlers.delete(t);for(const t of e){const e=this.handlerCounts.get(t);void 0===e?console.error(\"Trying to remove handler for event that has no handlers registered: \",t):1===e?this.handlerCounts.delete(t):this.handlerCounts.set(t,e-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class c extends a{constructor(t,e,a,n){super(!0),this.view=t;for(const r of e)switch(r){case\"click\":this.registerIncoming(\"click\",a,(t=>n(this.wrapClick(t))));break;case\"double-click\":this.registerIncoming(\"double-click\",a,(t=>n(this.wrapDoubleClick(t))));break;case\"immediate-click\":this.registerIncoming(\"immediate-click\",a,(t=>n(this.wrapImmediateClick(t))));break;case\"immediate-double-click\":this.registerIncoming(\"immediate-double-click\",a,(t=>n(this.wrapImmediateDoubleClick(t))));break;case\"hold\":this.registerIncoming(\"hold\",a,(t=>n(this.wrapHold(t))));break;case\"drag\":this.registerIncoming(\"drag\",a,(t=>{const e=this.wrapDrag(t);e&&n(e)}));break;case\"key-down\":this.registerIncoming(\"key-down\",a,(t=>n(this.wrapKeyDown(t))));break;case\"key-up\":this.registerIncoming(\"key-up\",a,(t=>n(this.wrapKeyUp(t))));break;case\"pointer-down\":this.registerIncoming(\"pointer-down\",a,(t=>n(this.wrapPointer(t,\"pointer-down\"))));break;case\"pointer-move\":this.registerIncoming(\"pointer-move\",a,(t=>n(this.wrapPointer(t,\"pointer-move\"))));break;case\"pointer-up\":this.registerIncoming(\"pointer-up\",a,(t=>n(this.wrapPointer(t,\"pointer-up\"))));break;case\"pointer-drag\":this.registerIncoming(\"pointer-drag\",a,(t=>n(this.wrapPointerDrag(t))));break;case\"mouse-wheel\":this.registerIncoming(\"mouse-wheel\",a,(t=>n(this.wrapMouseWheel(t))));break;case\"pointer-enter\":this.registerIncoming(\"pointer-enter\",a,(t=>n(this.wrapPointer(t,\"pointer-enter\"))));break;case\"pointer-leave\":this.registerIncoming(\"pointer-leave\",a,(t=>n(this.wrapPointer(t,\"pointer-leave\"))));break;case\"gamepad\":this.registerIncoming(\"gamepad\",a,(t=>{n(this.wrapGamepad(t))}));break;case\"focus\":this.registerIncoming(\"focus\",a,(t=>{n(this.wrapFocus(t))}));break;case\"blur\":this.registerIncoming(\"blur\",a,(t=>{n(this.wrapBlur(t))}))}}wrapFocus(t){return{type:\"focus\",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapBlur(t){return{type:\"blur\",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapClick(t){const{pointerType:a,button:n,buttons:r,x:i,y:o,native:s,eventId:p}=t.data,{cancelable:c,timestamp:l}=t;return{type:\"click\",pointerType:a,button:n,buttons:r,x:i,y:o,native:s,timestamp:l,screenPoint:e(i,o),mapPoint:this.getMapPoint(i,o),eventId:p,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapDoubleClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,{cancelable:p,timestamp:c}=t;return{type:\"double-click\",pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:c,mapPoint:this.getMapPoint(r,i),eventId:s,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapImmediateClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,p=o.pointerId,{cancelable:c,timestamp:l}=t;return{type:\"immediate-click\",pointerId:p,pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:l,mapPoint:this.getMapPoint(r,i),eventId:s,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapImmediateDoubleClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,p=o.pointerId,{cancelable:c,timestamp:l}=t;return{type:\"immediate-double-click\",pointerId:p,pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:l,mapPoint:this.getMapPoint(r,i),eventId:s,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapHold(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o}=t.data,{cancelable:s,timestamp:p}=t;return{type:\"hold\",pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:p,mapPoint:this.getMapPoint(r,i),cancelable:s,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}getMapPoint(t,a){return this.view.toMap(e(t,a),{exclude:[]})}wrapDrag(e){const a=e.data,{x:n,y:r}=a.center,{action:i,pointerType:o,button:s}=a;if(\"start\"===i&&(this.latestDragStart=a),!this.latestDragStart)return;const p=a.pointer.native,c=a.buttons,{cancelable:l,timestamp:u}=e,m={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return\"end\"===i&&(this.latestDragStart=void 0),{type:\"drag\",action:i,x:n,y:r,origin:m,pointerType:o,button:s,buttons:c,radius:a.radius,angle:t(a.angle),native:p,timestamp:u,cancelable:l,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapKeyDown(t){const{key:e,repeat:a,native:n}=t.data,{cancelable:r,timestamp:i}=t;return{type:\"key-down\",key:e,repeat:a,native:n,timestamp:i,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapKeyUp(t){const{key:e,native:a}=t.data,{cancelable:n,timestamp:r}=t;return{type:\"key-up\",key:e,native:a,timestamp:r,cancelable:n,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapPointer(t,e){const{x:a,y:n,button:r,buttons:i,native:o,eventId:s}=t.data,p=o.pointerId,c=o.pointerType,{cancelable:l,timestamp:u}=t;return{type:e,x:a,y:n,pointerId:p,pointerType:c,button:r,buttons:i,native:o,timestamp:u,eventId:s,cancelable:l,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapPointerDrag(t){const{x:e,y:a,buttons:n,native:r,eventId:i}=t.data.currentEvent,{button:o}=t.data.startEvent,s=t.data.startEvent.native.pointerId,p=t.data.startEvent.native.pointerType,c=t.data.action,l={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:u,timestamp:m}=t;return{type:\"pointer-drag\",x:e,y:a,pointerId:s,pointerType:p,button:o,buttons:n,action:c,origin:l,native:r,timestamp:m,eventId:i,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapMouseWheel(t){const{cancelable:e,data:a,timestamp:n}=t,{x:r,y:i,deltaY:o,native:s}=a;return{type:\"mouse-wheel\",x:r,y:i,deltaY:o,native:s,timestamp:n,cancelable:e,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapGamepad(t){const{action:e,state:a,device:n}=t.data,{cancelable:r,timestamp:i}=t,{buttons:o,axes:s}=a;return{type:\"gamepad\",device:n,timestamp:i,action:e,buttons:o,axes:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}}export{p as ViewEvents,r as eventTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e,applySome as i,unwrap as o}from\"../../core/maybe.js\";import{clamp as r}from\"../../core/mathUtils.js\";import{createScreenPoint as n}from\"../../core/screenUtils.js\";import{someMap as a}from\"../../core/MapUtils.js\";import{areToolManipulatorsEditable as s}from\"./interactiveToolUtils.js\";import{createScreenPointFromEvent as l}from\"../support/screenUtils.js\";class p{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToActiveTool=null,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(n,a){const s=()=>n.stopPropagation();switch(n.type){case\"pointer-move\":c(n.pointerType)&&this._pointerLocations.set(n.pointerId,{x:n.x,y:n.y,pointerType:n.pointerType});break;case\"drag\":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(s(),\"end\"===n.action&&(this._stopDrag=!1));break;case\"pointer-down\":{if(!u(n)||d(n))break;const o=l(n),r=this._intersect(o,n.pointerType,a.forEachTool);if(t(r))break;const p=this._findToolAndManipulatorByKey(r,a.forEachTool,h),c=i(p,(t=>t.manipulator)),g=i(p,(t=>t.tool));!(e(c)&&e(g)&&c.interactive)||c.grabbable&&c.grabbableForEvent(n)||!c.grabbing||c.dragging||this._ungrabManipulatorBeforeDragging(c,g,n),e(c)&&c.interactive&&c.grabbable&&c.grabbableForEvent(n)&&!c.grabbing&&(this._grabbedManipulators.set(n.pointerId,{key:r,start:o}),1===this._grabbedManipulators.size&&(this._revertToActiveTool=a.activeTool,a.setActiveTool(r.tool)),c.grabbing=!0,c.events.emit(\"grab-changed\",{action:\"start\",screenPoint:o}),s());break}case\"pointer-up\":this._handlePointerEnd(n,a);break;case\"pointer-drag\":{if(!u(n))break;const e=this._grabbedManipulators.get(n.pointerId),p=this._draggedManipulators.get(n.pointerId),c=i(e||p,(({key:t})=>t)),d=this._findManipulatorByKey(c,a.forEachTool);if(t(d))break;const h=l(n);h.x=r(h.x,0,a.view.width),h.y=r(h.y,0,a.view.height);const g=o(e||p).start;switch(n.action){case\"start\":case\"update\":\"update\"!==n.action&&1!==this._grabbedManipulators.size||(d.dragging=!0,p?d.events.emit(\"drag\",{action:\"update\",start:g,screenPoint:h}):d.events.emit(\"drag\",{action:\"start\",start:g,screenPoint:h,pointerType:n.pointerType}),this._draggedManipulators.set(n.pointerId,{key:o(c),start:g}));break;case\"end\":d.dragging=!1,p&&d.events.emit(\"drag\",{action:\"end\",start:g,screenPoint:h}),this._draggedManipulators.delete(n.pointerId),this._handlePointerEnd(n,a)}s();break}case\"immediate-click\":{const i=l(n),o=this._intersect(i,n.pointerType,a.forEachTool),r=this._findToolAndManipulatorByKey(o,a.forEachTool,h);if(d(n)||a.forEachTool((t=>{if((!e(r)||r.tool!==t||!t.selectionManagementDisabled)&&t.manipulators){let e=!1;t.manipulators.forEach((({manipulator:t})=>{t.selected&&(t.selected=!1,e=!0)})),e&&t.manipulatorSelectionChanged&&t.manipulatorSelectionChanged()}})),t(r))break;const{manipulator:p,tool:c}=r;if(!p.interactive)break;p.selectable&&!c.selectionManagementDisabled&&(p.selected=!p.selected,c.manipulatorSelectionChanged&&c.manipulatorSelectionChanged());const u=n.native.shiftKey;p.events.emit(\"immediate-click\",{screenPoint:i,button:n.button,pointerType:n.pointerType,shiftKey:u,stopPropagation:s});break}case\"click\":{const e=l(n),i=this._intersect(e,n.pointerType,a.forEachTool),o=this._findManipulatorByKey(i,a.forEachTool);if(t(o)||!o.interactive)break;const r=n.native.shiftKey;o.events.emit(n.type,{screenPoint:e,button:n.button,pointerType:n.pointerType,shiftKey:r}),s();break}case\"double-click\":{const e=l(n),i=this._intersect(e,n.pointerType,a.forEachTool),o=this._findManipulatorByKey(i,a.forEachTool);if(t(o)||!o.interactive)break;const r=n.native.shiftKey;o.events.emit(\"double-click\",{screenPoint:e,button:n.button,pointerType:n.pointerType,shiftKey:r,stopPropagation:s});break}case\"immediate-double-click\":{const e=l(n),i=this._intersect(e,n.pointerType,a.forEachTool),o=this._findManipulatorByKey(i,a.forEachTool);if(t(o)||!o.interactive)break;const r=n.native.shiftKey;o.events.emit(\"immediate-double-click\",{screenPoint:e,button:n.button,pointerType:n.pointerType,shiftKey:r,stopPropagation:s});break}}this._updateCursor(a.forEachTool)}_ungrabManipulatorBeforeDragging(t,e,i){t.grabbing=!1,t.events.emit(\"grab-changed\",{action:\"end\",screenPoint:l(i)}),this._grabbedManipulators.forEach((({key:i},o)=>{i.tool===e&&e.manipulators.findById(i.manipulatorId)===t&&this._grabbedManipulators.delete(o)}))}_handlePointerEnd(t,r){const n=i(this._grabbedManipulators.get(t.pointerId),(({key:t})=>t)),a=this._findManipulatorByKey(n,r.forEachTool);if(e(a)&&!a.dragging){const i=e(r.creatingTool)&&r.creatingTool===o(n).tool;1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||i||(r.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),a.grabbing&&(a.grabbing=!1,a.events.emit(\"grab-changed\",{action:\"end\",screenPoint:l(t)})),this._grabbedManipulators.delete(t.pointerId)}}_cursorFromMap(t,i){let o=null;return a(t,(({key:t})=>{const r=this._findManipulatorByKey(t,i);return!!(e(r)&&r.interactive&&\"cursor\"in r&&r.cursor)&&(o=r.cursor,!0)})),o}_updateCursor(t){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,t)||\"grabbing\":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,t)||\"pointer\":this._cursor=null}clearPointers(i,o,r=!0,n){const a=e=>e.tool===i&&(t(n)||e.manipulatorId===n);this._grabbedManipulators.forEach((({key:t},i)=>{if(a(t)){this._grabbedManipulators.delete(i);const r=this._findManipulatorByKey(t,o);e(r)&&(r.grabbing=!1,r.events.emit(\"grab-changed\",{action:\"end\",screenPoint:null}))}})),this._draggedManipulators.forEach((({key:t},i)=>{if(a(t)){this._draggedManipulators.delete(i);const r=this._findManipulatorByKey(t,o);e(r)&&(r.dragging=!1,r.events.emit(\"drag\",{action:\"cancel\"}))}})),r&&this._hoveredManipulators.forEach((({key:t},i)=>{if(a(t)){this._hoveredManipulators.delete(i);const r=this._findManipulatorByKey(t,o);e(r)&&(r.hovering=!1)}})),this._updateCursor(o)}_intersect(e,i,o){let r=null;return o((o=>{if(null==o.manipulators||!s(o))return!1;const n=o.manipulators.intersect(e,i);return!t(n)&&(r={manipulatorId:n.id,tool:o},!0)})),r}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach(((e,i)=>{this._updateHoveredStateForPointerAtScreenPosition(n(e.x,e.y),i,e.pointerType,t)}))}handleHoverEvent(t,e){\"pointer-up\"!==t.type&&\"immediate-click\"!==t.type&&\"pointer-move\"!==t.type||!c(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(l(t),t.pointerId,t.pointerType,e)}_updateHoveredStateForPointerAtScreenPosition(t,r,n,a){const s=this._intersect(t,n,a);let l=this._findManipulatorByKey(s,a);const p=i(this._hoveredManipulators.get(r),(({key:t})=>t)),c=this._findManipulatorByKey(p,a);e(l)&&!l.interactive&&(l=null),c!==l&&(e(c)&&(c.hovering=!1),e(l)?(l.hovering=!0,this._hoveredManipulators.set(r,{key:o(s)})):this._hoveredManipulators.delete(r),this._updateCursor(a))}_findManipulatorByKey(t,e){return this._findToolAndManipulatorByKey(t,e,h)?h.manipulator:null}_findToolAndManipulatorByKey(i,o,r){return t(i)?null:(r.tool=null,r.manipulator=null,o((t=>{if(t!==i.tool||null==t.manipulators||!s(t))return!1;const o=t.manipulators.findById(i.manipulatorId);return!!e(o)&&(r.manipulator=o,r.tool=t,!0)})),r.manipulator?r:null)}}function c(t){return\"mouse\"===t}function u(t){return\"mouse\"!==t.pointerType||0===t.button}function d(t){return!!t.native.shiftKey}const h={manipulator:null,tool:null};export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as o,isNone as e}from\"../core/maybe.js\";import i from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isAborted as s,createAbortError as l,onAbort as n}from\"../core/promiseUtils.js\";import h from\"../core/Accessor.js\";import c from\"../core/Collection.js\";import p from\"../core/Handles.js\";import{whenOnce as u,watch as d}from\"../core/watchUtils.js\";import{ViewEventPriorities as v}from\"./input/InputManager.js\";import{eventTypes as m}from\"./input/ViewEvents.js\";import{newToolCollection as _,swap as T,areToolManipulatorsEditable as f,evaluateToolConstructorArguments as E,setActive as w}from\"./interactive/interactiveToolUtils.js\";import g from\"./interactive/ToolViewManagerManipulatorState.js\";const y=i.getLogger(\"esri.views.ToolViewManager\"),j=\"manipulators\",C=\"tools\";let b=class extends h{constructor(t){super(t),this._handles=new p,this._creatingTool=null,this._manipulatorState=new g,this.tools=_(),this.cursor=null,this._forEachTool=t=>{if(!o(this._creatingTool)||!t(this._creatingTool))for(const o of this.tools.items)if(t(o))return}}initialize(){this._handles.add([this.view.on(m,(t=>{this._handleInputEvent(t)}),v.TOOL),this.tools.on(\"before-add\",(t=>{const o=t.item;null==o||this.tools.includes(o)?t.preventDefault():null==o.created||o.created||(y.error(\"tools\",\"Tool can not be added to view before it has been created\"),t.preventDefault())})),this.tools.on(\"before-remove\",(({item:t})=>{this._manipulatorState.clearPointers(t,this._forEachTool)})),this.tools.on(\"change\",(()=>{this._refreshToolWatchers()}))])}destroy(){this._forEachTool((t=>t.destroy())),this._handles.destroy(),this._handles=null}set activeTool(t){!o(t)||this.view.ready?(T(this,t,(o=>{this._set(\"activeTool\",o),this._removeIncompleteTools(t),this._forEachTool((t=>{const o=e(this.activeTool)||t===this.activeTool;t.setEditableFlag&&t.setEditableFlag(1,o);const i=f(t);!e(this.activeTool)&&i||this._manipulatorState.clearPointers(t,this._forEachTool,!i)})),this._updateCursor()})),this._creatingTool!==t&&this._rejectCreatingTool()):y.error(\"#activeTool=\",\"cannot set active tool while view is not ready\")}async createTool(t,e,i){await this.view.whenReady();const r=\"Tool creation was interrupted by another tool being created\";if(s(i))throw l(r);const a=new t({...E(e),view:this.view}),c=n(i,(()=>this.activeTool=null));return this._rejectCreatingTool(r),this._creatingTool=a,a.attach(),this._refreshToolWatchers(),w(a,!0),await a.when(),o(c)&&c.remove(),this._creatingTool=null,this.tools.add(a),a instanceof h&&null!=a.completed&&u(a,\"completed\").then((()=>{w(a,!1)})),a}attach(){this._forEachTool((t=>t.attach())),\"3d\"===this.view.type?this._handles.add([this.view.state.watch(\"camera\",(()=>{this.forEachManipulator((t=>{null!=t.onViewChange&&t.onViewChange()}))})),this.view.elevationProvider.on(\"elevation-change\",(t=>{this.forEachManipulator((o=>{null!=o.onElevationChange&&o.onElevationChange(t)}))}))],j):this._handles.add(this.view.watch(\"extent\",(()=>{this.forEachManipulator((t=>{null!=t.onViewChange&&t.onViewChange()}))})))}detach(){this.activeTool=null,this._forEachTool((t=>{t.detach(),t.destroy()})),this.tools.removeAll(),this._handles.remove(j)}forEachManipulator(t){this._forEachTool((o=>{o.manipulators&&o.manipulators.forEach((({manipulator:e})=>t(e,o)))}))}_handleInputEvent(t){let e=!1;const i={...t,stopPropagation:()=>{e=!0,t.stopPropagation()}};o(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool((t=>{!e&&!1!==t.visible&&t.handleInputEvent&&t.handleInputEvent(i)})),!e&&\"key-down\"===t.type&&\"Escape\"===t.key&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},creatingTool:this._creatingTool,view:this.view}),!e&&o(this.activeTool)&&this.activeTool.handleInputEventAfter&&this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this._handles.remove(C),this._forEachTool((t=>{if(t instanceof h){const o=d(t,[\"cursor\",\"visible\",\"editable\"],(()=>{f(t)||this._manipulatorState.clearPointers(t,this._forEachTool),this._updateCursor()}));this._handles.add(o,C)}t.manipulators&&this._handles.add(t.manipulators.on(\"change\",(o=>{o.removed.forEach((({id:o})=>{this._manipulatorState.clearPointers(t,this._forEachTool,!0,o)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})),C)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let t=null;this._forEachTool((o=>null!=o.cursor&&!1!==o.visible&&(t=o.cursor,!0))),t||(t=this._manipulatorState.cursor),this._get(\"cursor\")!==t&&this._set(\"cursor\",t)}_rejectCreatingTool(t){const o=this._creatingTool;e(o)||(this._manipulatorState.clearPointers(o,this._forEachTool),o.rejectCreation&&o.rejectCreation(l(t)),o.destroy(),this._creatingTool=null,this._refreshToolWatchers())}_removeIncompleteTools(t){this.tools.filter((o=>(e(t)||o!==t)&&null!=o.completed&&!o.completed)).forEach((t=>{this.tools.remove(t)}))}};t([r({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),t([r({value:null})],b.prototype,\"activeTool\",null),t([r({readOnly:!0,type:c})],b.prototype,\"tools\",void 0),t([r({readOnly:!0})],b.prototype,\"cursor\",void 0),b=t([a(\"esri.views.ToolViewManager\")],b);var S=b;export default S;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as s,unwrap as i}from\"../../../../core/maybe.js\";import{createDeferred as t}from\"../../../../core/promiseUtils.js\";class o{constructor(s,i,o){this.analysis=s,this.viewFactory=i,this.controllerFactory=o,this._promise=t(),this.analysisView=null,this.analysisController=null,this._load()}destroy(){s(this.analysisView)&&this.analysisView.destroy(),s(this.analysisController)&&this.analysisController.destroy()}get promise(){return this._promise.promise}async _load(){let t=!1;s(this.viewFactory)?this.analysisView=await this.viewFactory(this.analysis):t=!0,s(this.controllerFactory)?this.analysisController=await this.controllerFactory(this.analysis):t=!0,t?this._promise.reject(\"no view/controller factories available for analysis\"):this._promise.resolve(i(this.analysisView))}}export{o as AnalysisManagerItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../core/Error.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{reject as i}from\"../../../../core/promiseUtils.js\";import a from\"../../../../core/Accessor.js\";import n from\"../../../../core/Collection.js\";import{AnalysisManagerItem as c}from\"./AnalysisManagerItem.js\";let m=class extends a{constructor(e){super(e),this._items=new Map,this.analyses=new n}initialize(){this.analyses.on(\"after-add\",(e=>{const s=e.item;this._items.set(s,this._createItem(s))})),this.analyses.on(\"after-remove\",(e=>{const t=e.item,r=this._getItem(t);s(r)&&(r.destroy(),this._items.delete(t))}))}async whenAnalysisView(e){return this._items.has(e)?this._items.get(e).promise:i(new o(\"view:no-analysisview-for-analysis\",\"No analysis view has been found for the analysis\"))}getAnalysisView(e){const s=this._items.get(e);return s?s.analysisView:null}_createItem(e){return new c(e,this.viewFactory,this.controllerFactory)}_getItem(e){return this._items.get(e)}};e([t({type:n})],m.prototype,\"analyses\",void 0),e([t()],m.prototype,\"viewFactory\",void 0),e([t()],m.prototype,\"controllerFactory\",void 0),m=e([r(\"esri.views.3d.interactive.graphics.AnalysisManager\")],m);export{m as AnalysisManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import p from\"./GamepadInputDevice.js\";let c=class extends s{constructor(...o){super(...o),this.devices=new t,this.enabledFocusMode=\"document\"}};o([e({type:t.ofType(p),readOnly:!0})],c.prototype,\"devices\",void 0),o([e({type:[\"document\",\"view\",\"none\"]})],c.prototype,\"enabledFocusMode\",void 0),c=o([r(\"esri.views.input.gamepad.GamepadSettings\")],c);var i=c;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"../../core/Accessor.js\";import t from\"./gamepad/GamepadSettings.js\";let p=class extends e{constructor(){super(...arguments),this.gamepad=new t}};r([o({readOnly:!0})],p.prototype,\"gamepad\",void 0),p=r([s(\"esri.views.input.Input\")],p);var c=p;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../core/Accessor.js\";import p from\"../../input/gamepad/GamepadInputDevice.js\";let s=class extends t{constructor(o){super(o),this.enabled=!0,this.device=null,this.mode=\"pan\",this.tiltDirection=\"forward-down\",this.velocityFactor=1}};o([e({type:Boolean,nonNullable:!0})],s.prototype,\"enabled\",void 0),o([e({type:p})],s.prototype,\"device\",void 0),o([e({type:[\"pan\",\"zoom\"],nonNullable:!0})],s.prototype,\"mode\",void 0),o([e({type:[\"forward-down\",\"forward-up\"],nonNullable:!0})],s.prototype,\"tiltDirection\",void 0),o([e({type:Number,nonNullable:!0})],s.prototype,\"velocityFactor\",void 0),s=o([r(\"esri.views.navigation.gamepad.GamepadSettings\")],s);var i=s;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../core/Accessor.js\";import t from\"./gamepad/GamepadSettings.js\";let p=class extends s{constructor(o){super(o),this.browserTouchPanEnabled=!0,this.gamepad=new t,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};o([e({type:Boolean})],p.prototype,\"browserTouchPanEnabled\",void 0),o([e({type:t,nonNullable:!0})],p.prototype,\"gamepad\",void 0),o([e({type:Boolean})],p.prototype,\"momentumEnabled\",void 0),o([e({type:Boolean})],p.prototype,\"mouseWheelZoomEnabled\",void 0),p=o([r(\"esri.views.navigation.Navigation\")],p);var a=p;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isSome as e}from\"../../core/maybe.js\";import t from\"../../core/Error.js\";import{parse as n}from\"../../layers/support/arcgisLayerUrl.js\";import i from\"../HeightModelInfo.js\";function a(e,n){if(!e)return null;if(!o(e))return new t(\"webscene:unsupported-height-model-info\",\"The vertical coordinate system of the scene is not supported\",{heightModelInfo:e});const a=e.heightUnit,r=i.deriveUnitFromSR(e,n).heightUnit;return a!==r?new t(\"webscene:incompatible-height-unit\",`The vertical units of the scene (${a}) must match the horizontal units of the scene (${r})`,{verticalUnit:a,horizontalUnit:r}):null}function r(e,n,a){const r=l(e),o=n,h=s(r,o,a);{let n=null;if(r){const s=i.deriveUnitFromSR(r,e.spatialReference).heightUnit;a||s===r.heightUnit||(n=new t(\"layerview:unmatched-height-unit\",`The vertical units of the layer must match the horizontal units (${s})`,{horizontalUnit:s}))}if(!c(e)||4===h||n)return new t(\"layerview:unsupported-height-model-info\",\"The vertical coordinate system of the layer is not supported\",{heightModelInfo:r,error:n})}{let e=null;switch(h){case 1:{const n=r.heightUnit||\"unknown\",i=o.heightUnit||\"unknown\";e=new t(\"layerview:incompatible-height-unit\",`The vertical units of the layer (${n}) must match the vertical units of the scene (${i})`,{layerUnit:n,sceneUnit:i});break}case 2:{const n=r.heightModel||\"unknown\",i=o.heightModel||\"unknown\";e=new t(\"layerview:incompatible-height-model\",`The height model of the layer (${n}) must match the height model of the scene (${i})`,{layerHeightModel:n,sceneHeightModel:i});break}case 3:{const n=r.vertCRS||\"unknown\",i=o.vertCRS||\"unknown\";e=new t(\"layerview:incompatible-vertical-datum\",`The vertical datum of the layer (${n}) must match the vertical datum of the scene (${i})`,{layerDatum:n,sceneDatum:i});break}}if(e)return new t(\"layerview:incompatible-height-model-info\",\"The vertical coordinate system of the layer is incompatible with the scene\",{layerHeightModelInfo:r,sceneHeightModelInfo:o,error:e})}return null}function s(e,t,n){if(!o(e)||!o(t))return 4;if(null==e||null==t)return 0;if(!n&&e.heightUnit!==t.heightUnit)return 1;if(e.heightModel!==t.heightModel)return 2;switch(e.heightModel){case\"gravity-related-height\":return 0;case\"ellipsoidal\":return e.vertCRS===t.vertCRS?0:3;default:return 4}}function o(e){return null==e||null!=e.heightModel&&null!=e.heightUnit}function c(e){return\"heightModelInfo\"in e&&null!=e.heightModelInfo||null!=e.spatialReference||!m(e)}function l(t){const a=t.url&&n(t.url);return!(null==(t.spatialReference&&t.spatialReference.vcsWkid)&&e(a)&&\"ImageServer\"===a.serverType)&&h(t)&&t.heightModelInfo?t.heightModelInfo:m(t)?i.deriveUnitFromSR(d,t.spatialReference):null}function h(e){return\"heightModelInfo\"in e}function u(e){if(\"unknown\"===e.type||!(\"capabilities\"in e))return!1;switch(e.type){case\"csv\":case\"feature\":case\"geojson\":case\"ogc-feature\":return!0;case\"imagery\":case\"map-image\":case\"map-notes\":case\"tile\":case\"vector-tile\":case\"scene\":case null:default:return!1}}function m(e){return u(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):g(e)}function f(e){return null!=e.layers||g(e)||u(e)||h(e)}function g(e){switch(e.type){case\"building-scene\":case\"elevation\":case\"integrated-mesh\":case\"point-cloud\":case\"scene\":return!0;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"csv\":case\"geojson\":case\"feature\":case\"geo-rss\":case\"graphics\":case\"group\":case\"imagery\":case\"imagery-tile\":case\"kml\":case\"map-image\":case\"map-notes\":case\"ogc-feature\":case\"open-street-map\":case\"route\":case\"stream\":case\"tile\":case\"unknown\":case\"unsupported\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":case null:return!1}return!1}const d=new i({heightModel:\"gravity-related-height\"});export{l as deriveHeightModelInfoFromLayer,f as mayHaveHeightModelInfo,r as rejectLayerError,a as validateWebSceneError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{intersect as o}from\"../../core/arrayUtils.js\";import{createAbortController as n}from\"../../core/promiseUtils.js\";import a from\"../../core/Accessor.js\";import{canProject as l,project as r}from\"../../geometry/support/webMercatorUtils.js\";import d from\"../../core/Handles.js\";import{on as h,when as c}from\"../../core/watchUtils.js\";import{mayHaveHeightModelInfo as p,deriveHeightModelInfoFromLayer as u}from\"../../geometry/support/heightModelInfoUtils.js\";var f;const g=t.getLogger(\"esri.views.support.DefaultsFromMap\"),_=10;let m=f=class extends a{constructor(){super(...arguments),this._handles=new d,this._waitTask=null,this._extentProjectController=null,this._spatialReferenceCandidates=null,this._extentCandidates=null,this.logDebugInformation=!1,this.isSpatialReferenceDone=!1,this.isTileInfoDone=!1,this.isHeightModelInfoSearching=!1,this.spatialReference=null,this.extent=null,this.heightModelInfo=null,this.vcsWkid=null,this.latestVcsWkid=null,this.mapCollectionPaths=f.DefaultMapCollectionPaths.slice(),this.tileInfo=null}initialize(){this.watch(\"mapCollectionPaths\",(()=>{this._running&&(this.reset(),this.start())}))}destroy(){this._set(\"view\",null),this._handles&&(this._handles.destroy(),this._handles=null),this._cancelLoading()}get _running(){return!!(this._handles&&this._handles.size>0)}reset(){this._handles.removeAll(),this._set(\"isSpatialReferenceDone\",!1),this._set(\"isTileInfoDone\",!1),this._set(\"isHeightModelInfoSearching\",!1),this._set(\"spatialReference\",null),this._set(\"extent\",null),this._set(\"heightModelInfo\",null),this._set(\"vcsWkid\",null),this._set(\"latestVcsWkid\",null),this._set(\"tileInfo\",null),this._spatialReferenceCandidates=null,this._extentCandidates=null}start(){this._handles.removeAll();const e=this._updateLayerChange.bind(this);for(const t of this.mapCollectionPaths)this._handles.add(h(this.view,`map.${t}`,\"change\",e,e,e,!0));this._handles.add(c(this,\"isSpatialReferenceDone\",(()=>this._updateTileInfo()),!0))}_ownerNameFromCollectionName(e){const t=e.lastIndexOf(\".\");return-1===t?\"view\":\"view.\"+e.slice(0,t)}_ensureLoadedOwnersFromCollectionName(e){const t=this._ownerNameFromCollectionName(e).split(\".\");let i;for(let s=0;s<t.length&&(i=this.get(t.slice(0,s+1).join(\".\")),i);s++)if(i.load&&!i.isFulfilled())return{collectionName:e,owner:null,loading:i.load().catch((()=>{}))};return{collectionName:e,owner:i}}_cancelLoading(){this._waitTask=null,this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)}_updateWhen(e){let t=!0,i=!1;const s=e.catch((()=>{})).then((()=>{t?i=!0:s===this._waitTask&&this._update()}));return t=!1,i||(this._waitTask=s),i}_updateLayerChange(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set(\"isSpatialReferenceDone\",!1),this._update()}_update(){if(this._cancelLoading(),this.view){if(!this.isSpatialReferenceDone){this._debugLog(\"Starting search for spatial reference...\");const e=this._processMapCollections((e=>this._processSpatialReferenceSource(e)));if(this._debugLog(`Search ended with status '${y(e)}'`),0!==e){let e=null,t=this._spatialReferenceCandidates;if(!t||t.length<1?(e=this.defaultSpatialReference,this._debugLog(`No spatial reference found, locking to default (${S(e)})`)):(this.defaultSpatialReference&&t.length>1&&t.findIndex((e=>e.equals(this.defaultSpatialReference)))>-1&&(t=[this.defaultSpatialReference]),e=t[0],this._debugLog(`Locking to ${S(e)}`)),this._set(\"spatialReference\",e),e)if(this.extent)this._set(\"isSpatialReferenceDone\",!0);else{const t=this.logDebugInformation;this.logDebugInformation=!1,this._processMapCollections((t=>this._findExtent(t,e))),this.logDebugInformation=t,this._projectExtentCandidate().catch((()=>{})).then((()=>this._set(\"isSpatialReferenceDone\",!0)))}else this._set(\"isSpatialReferenceDone\",!0)}}if(null==this.heightModelInfo&&this.view.isHeightModelInfoRequired){this._debugLog(\"Starting search for height model info...\");const e=this._processMapCollections((e=>this._processHeightModelInfoSource(e)),(e=>p(e)));this._debugLog(`Search ended with status ${y(e)}`),this._set(\"isHeightModelInfoSearching\",0===e)}this._updateTileInfo()}}_processMapCollections(e,t){this._preloadMapCollections(t);let i=2;return this._forAllMapCollectionSources((e=>{if(2!==i)return!1;const{collectionName:t}=e;return this._debugLog(`Processing collection ${t}...`),!(e.loading&&!this._updateWhen(e.loading))||(this._debugLog(`Collection ${e.collectionName} owner is loading -> wait`),i=0,!1)}),(s=>{if(2!==i)return!1;return null!=t&&!t(s)?(this._debugLog(`Source ${s.id} is skipped due to predicate`),!1):!s.load||s.isFulfilled()||this._updateWhen(s.load())?!((!s.load||s.isResolved())&&e(s))||(i=1,!1):(this._debugLog(`Source ${s.id} is loading -> wait`),i=0,!1)})),i}_preloadMapCollections(e){let t=_;const i=this.logDebugInformation;this.logDebugInformation=!1,this._forAllMapCollectionSources((()=>!0),(s=>{if(0===t)return!1;return!(null!=e&&!e(s))&&(s.load&&!s.isFulfilled()&&(this.logDebugInformation=i,this._debugLog(`Pre-loading source ${s.id}`),this.logDebugInformation=!1,s.load().catch((()=>{})),t--),!0)})),this.logDebugInformation=i}_forAllMapCollectionSources(e,t){for(const i of this.mapCollectionPaths){const s=`map.${i}`,o=this._ensureLoadedOwnersFromCollectionName(s);if(!1===e(o))continue;const n=o.owner;if(!n||n.isRejected&&n.isRejected()){this._debugLog(`Collection ${s} owner is invalid or rejected -> skip`);continue}const a=this.view.get(s);a?this._forEachSource(a,t):this._debugLog(`Collection ${s} does not exist -> skip`)}}_forEachSource(e,t){for(const i of e.items)!1!==t(i)&&\"layers\"in i&&i.layers&&this._forEachSource(i.layers,t)}_processSpatialReferenceSource(e){let t=this._getSupportedSpatialReferences(e);return 0!==t.length&&(this._spatialReferenceCandidates?(t=o(t,this._spatialReferenceCandidates,((e,t)=>e.equals(t))),t.length>0?this._spatialReferenceCandidates=t:this._debugLog(`Layer ${e.id} is ignored because its supported spatial\\n          references are not compatible with the previous candidates`)):this._spatialReferenceCandidates=t,1===this._spatialReferenceCandidates.length)}_findExtent(e,t){const i=\"fullExtents\"in e&&e.fullExtents||(e.fullExtent?[e.fullExtent]:[]),s=i.find((e=>e.spatialReference.equals(t)));if(s)return this._set(\"extent\",s),!0;if(this._getSupportedSpatialReferences(e).length>0){const t=i.map((t=>({extent:t,layer:e}))),s=this._extentCandidates||[];this._extentCandidates=s.concat(t)}return!1}async _projectExtentCandidate(){if(!this._extentCandidates||!this._extentCandidates.length)return;const e=this.spatialReference,t=this._extentCandidates.find((t=>l(t.extent.spatialReference,e)));if(t)this._set(\"extent\",r(t.extent,e));else{const t=this._extentCandidates[0];this._extentProjectController=n();const i=await import(\"../../portal/support/geometryServiceUtils.js\");try{const s=await i.projectGeometry(t.extent,e,t.layer.portalItem,this._extentProjectController.signal);this._set(\"extent\",s)}catch{}this._extentProjectController=null}}_getSupportedSpatialReferences(e){const t=\"supportedSpatialReferences\"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return this._debugLog(`Layer ${e.id} is ignored because it does not have any spatial references`),[];const i=t.filter((t=>this.view.isSpatialReferenceSupported(t,e,(e=>this._debugLog(e)))));return 0===i.length?this._debugLog(`Layer ${e.id} has spatial references but none of them are supported (or layer doesn't require locking)`):this._debugLog(`Layer ${e.id} has spatial references. Resulting candidate set: ${i.map(S).join(\", \")}`),i}_processHeightModelInfoSource(e){const t=u(e);return!!t&&(this._set(\"heightModelInfo\",t),this._set(\"isHeightModelInfoSearching\",!1),e.spatialReference&&(this._set(\"vcsWkid\",e.spatialReference.vcsWkid),this._set(\"latestVcsWkid\",e.spatialReference.latestVcsWkid)),!0)}_updateTileInfo(){if(null!=this.tileInfo)return;if(!this.view.isTileInfoRequired())return void this._set(\"isTileInfoDone\",!0);if(!this.isSpatialReferenceDone)return;const e=this.get(\"view.map\");if(!e)return void this._debugLog(\"updateTileInfo: no map\");const t=e.basemap,i=e.get(\"layers.0\");let s=null;if(t&&\"failed\"!==t.loadStatus){if(!t.loaded)return this._updateWhen(t.load()),void this._debugLog(\"updateTileInfo: basemap still loading\");const e=t&&t.get(\"baseLayers.0\");if(e&&\"failed\"!==e.loadStatus){if(!e.loaded)return this._updateWhen(e.load()),void this._debugLog(\"updateTileInfo: first basemap layer still loading\");s=\"tileInfo\"in e&&e.tileInfo}else{if(!i||\"failed\"===i.loadStatus)return this._debugLog(\"updateTileInfo: no tileInfo\"),void this._set(\"isTileInfoDone\",!0);if(!i.loaded)return this._updateWhen(i.load()),void this._debugLog(\"updateTileInfo: first operational layer still loading\");s=\"tileInfo\"in i&&i.tileInfo}}else if(i&&\"failed\"!==i.loadStatus){if(!i.loaded)return this._updateWhen(i.load()),void this._debugLog(\"updateTileInfo: first operational layer still loading\");s=\"tileInfo\"in i&&i.tileInfo}s&&!s.spatialReference.equals(this.spatialReference)&&(s=null),this._debugLog(`updateTileInfo: setting ${s}`),this._set(\"tileInfo\",s),this._set(\"isTileInfoDone\",!0)}_debugLog(e){this.logDebugInformation&&g.info(e)}};function S(e){return e?JSON.stringify(e.toJSON()):\"undefined\"}function y(e){switch(e){case 0:return\"Waiting\";case 1:return\"Found\";case 2:return\"Exhausted\"}}m.DefaultMapCollectionPaths=[\"basemap.baseLayers\",\"layers\",\"ground.layers\",\"basemap.referenceLayers\"],e([i()],m.prototype,\"logDebugInformation\",void 0),e([i({readOnly:!0})],m.prototype,\"isSpatialReferenceDone\",void 0),e([i({readOnly:!0})],m.prototype,\"isTileInfoDone\",void 0),e([i({readOnly:!0})],m.prototype,\"isHeightModelInfoSearching\",void 0),e([i({constructOnly:!0})],m.prototype,\"view\",void 0),e([i({readOnly:!0})],m.prototype,\"spatialReference\",void 0),e([i({readOnly:!0})],m.prototype,\"extent\",void 0),e([i({readOnly:!0})],m.prototype,\"heightModelInfo\",void 0),e([i({readOnly:!0})],m.prototype,\"vcsWkid\",void 0),e([i({readOnly:!0})],m.prototype,\"latestVcsWkid\",void 0),e([i()],m.prototype,\"mapCollectionPaths\",void 0),e([i()],m.prototype,\"defaultSpatialReference\",void 0),e([i({readOnly:!0})],m.prototype,\"tileInfo\",void 0),m=f=e([s(\"esri.views.support.DefaultsFromMap\")],m);var I=m;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as t}from\"../core/maybe.js\";import i from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as a}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import o from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{after as n}from\"../core/promiseUtils.js\";import{schedule as l}from\"../core/scheduling.js\";import p from\"../core/Accessor.js\";import{equals as h}from\"../geometry/support/spatialReferenceUtils.js\";import d from\"../geometry/SpatialReference.js\";import y from\"../geometry/Extent.js\";import u from\"../core/Evented.js\";import c from\"../core/Collection.js\";import{EsriPromiseMixin as m}from\"../core/Promise.js\";import f from\"../core/Loadable.js\";import w from\"../core/CollectionFlattener.js\";import g from\"../Map.js\";import v from\"../TimeExtent.js\";import{whenOnce as M,init as V,whenFalseOnce as R,watch as F}from\"../core/watchUtils.js\";import _ from\"../geometry/HeightModelInfo.js\";import{HandleOwnerMixin as j}from\"../core/HandleOwner.js\";import E,{graphicsCollectionProperty as C}from\"../support/GraphicsCollection.js\";import{BasemapView as S}from\"./BasemapView.js\";import O from\"./LayerViewManager.js\";import x from\"./Magnifier.js\";import b from\"./RefreshManager.js\";import{ViewEvents as L}from\"./input/ViewEvents.js\";import I from\"./ToolViewManager.js\";import{AnalysisManager as A}from\"./3d/interactive/graphics/AnalysisManager.js\";import D from\"./input/Input.js\";import T from\"./navigation/Navigation.js\";import q from\"./support/DefaultsFromMap.js\";var z;const H=i.getLogger(\"esri.views.View\");let W=z=class extends(j(u.EventedMixin(m(p)))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new w({root:this,rootCollectionNames:[\"basemapView.baseLayerViews\",\"groundView?.layerViews\",\"layerViews\",\"basemapView.referenceLayerViews\"],getChildrenFunction:e=>e.layerViews}),this.animation=null,this.basemapView=null,this.defaultsFromMap=new q({view:this}),this.fatalError=null,this.extent=null,this.graphics=new E,this.navigating=!1,this.layerViews=new c,this.magnifier=new x,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.renderContext=null,this.input=new D,this.navigation=new T,this.layerViewManager=null,this.refreshManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new L(this),this.persistableViewModels=new c,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch(\"preconditionsReady\",(e=>{e?(this._currentSpatialReference=this.spatialReference,z.views.add(this)):(this._currentSpatialReference=null,z.views.remove(this)),this.notifyChange(\"spatialReference\"),!e&&this.ready?(this.layerViewManager.clear(),this.toolViewManager.detach(),this._teardown()):e&&!this.ready&&(this._startup(),this.toolViewManager.attach())}),!0))}initialize(){let e;this.addResolvingPromise(this.validate().then((()=>(this._isValid=!0,M(this,\"ready\"))))),this.basemapView=new S({view:this}),this.layerViewManager=new O({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.refreshManager=new b({view:this}),this.toolViewManager=new I({view:this}),this.analysisManager=new A({viewFactory:e=>this.createAnalysisView(e),controllerFactory:e=>this.createAnalysisController(e)}),this._resetInitialViewPropertiesFromContent(),V(this.defaultsFromMap,\"isSpatialReferenceDone\",(t=>{const i=!!(this.map&&this.map.allLayers.length>0);if(t&&!this.spatialReference&&i||!e){if(t&&!this.spatialReference&&i&&!e){const t=e=n(this.spatialReferenceWarningDelay);e.then((()=>{t===e&&H.warn(\"#spatialReference\",\"no spatial reference could be derived from the currently added map layers\")})).catch((()=>{}))}}else e=null}),!0)}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set(\"navigation\",null)),this.graphics.destroy(),this.graphics=null,this.handles.remove(\"defaultsFromMap\"),this.defaultsFromMap.destroy(),this._set(\"defaultsFromMap\",null),this.toolViewManager.destroy(),this.toolViewManager=null,this.refreshManager.destroy(),this.refreshManager=null,this.layerViewManager.destroy(),this.layerViewManager=null,this.basemapView.destroy(),this.basemapView=null,this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,null==e||e.destroy()}_startup(){this._set(\"ready\",!0)}_teardown(){this._set(\"ready\",!1)}whenReady(){return Promise.resolve(this)}toMap(){return H.error(\"#toMap()\",\"Not implemented on this instance of View\"),null}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!f.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)}set map(e){var t;e!==this._get(\"map\")&&(null!=(t=e)&&t.destroyed&&(H.warn(\"#map\",\"The provided map is already destroyed\",{map:e}),e=null),f.isLoadable(e)&&e.load().catch((()=>{})),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set(\"map\",e))}get spatialReference(){let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){this._userSpatialReference=e,this._set(\"spatialReference\",e)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){return this.defaultsFromMap&&this.defaultsFromMap.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return t(e)?e:this._cursor||\"default\"}set cursor(e){this._cursor=e,this.notifyChange(\"cursor\")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getAnalysisView(e){return this.analysisManager.getAnalysisView(e)}whenAnalysisView(e){return this.analysisManager.whenAnalysisView(e)}getDefaultSpatialReference(){return this.get(\"defaultsFromMap.spatialReference\")}getDefaultHeightModelInfo(){return this.get(\"map.supportsHeightModelInfo\")&&this.get(\"map.heightModelInfo\")||this.get(\"defaultsFromMap.heightModelInfo\")||null}importLayerView(e){throw new o(\"importLayerView() not implemented\")}hasLayerViewModule(e){return!1}async createAnalysisView(e){throw new o(\"createAnalysisView() not implemented\")}async createAnalysisController(e){throw new o(\"createAnalysisController() not implemented\")}async validate(){}invalidate(){this._isValid=!1}isSpatialReferenceSupported(e,t,i){return!0}isTileInfoRequired(){return!1}when(e,t){return this.isResolved()&&!this.ready&&H.warn(\"#when()\",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, \"ready\").then(...) instead.'),super.when(e,t)}forceReadyCycle(){this.ready&&(this._readyCycleForced=!0,R(this,\"preconditionsReady\",(()=>this._readyCycleForced=!1)))}createTool(e,t,i){return this.toolViewManager.createTool(e,t,i)}tryFatalErrorRecovery(){this.fatalError=null}_resetInitialViewPropertiesFromContent(){if(!this.defaultsFromMap)return;const e=()=>this.defaultsFromMap&&this.defaultsFromMap.start();this.defaultsFromMap.reset(),this._currentSpatialReference=null,this.notifyChange(\"spatialReference\"),this.handles.remove(\"defaultsFromMap\"),this.handles.add([F(this,\"spatialReference\",((t,i)=>{h(t,i)||e()})),F(this,\"initialExtentRequired\",e),l(e)],\"defaultsFromMap\")}};W.views=new c,e([a(\"toolViewManager.activeTool\")],W.prototype,\"activeTool\",void 0),e([r({readOnly:!0})],W.prototype,\"allLayerViews\",void 0),e([r()],W.prototype,\"animation\",void 0),e([r()],W.prototype,\"basemapView\",void 0),e([r()],W.prototype,\"defaultsFromMap\",void 0),e([r()],W.prototype,\"fatalError\",void 0),e([r({type:y})],W.prototype,\"extent\",void 0),e([r(C())],W.prototype,\"graphics\",void 0),e([r({readOnly:!0,type:_,dependsOn:[\"map.heightModelInfo?\",\"defaultsFromMap.heightModelInfo\"]})],W.prototype,\"heightModelInfo\",null),e([r({readOnly:!0})],W.prototype,\"interacting\",null),e([r({readOnly:!0})],W.prototype,\"navigating\",void 0),e([r({readOnly:!0,dependsOn:[\"fatalError\",\"_isValid\",\"_readyCycleForced\",\"map\",\"map.loaded?\",\"width\",\"height\",\"spatialReference\",\"_currentSpatialReference\",\"initialExtentRequired\",\"initialExtent\",\"defaultsFromMap.isSpatialReferenceDone\",\"defaultsFromMap.isTileInfoDone\"]})],W.prototype,\"preconditionsReady\",null),e([r({type:c,readOnly:!0})],W.prototype,\"layerViews\",void 0),e([r({type:x})],W.prototype,\"magnifier\",void 0),e([r({value:null,type:g})],W.prototype,\"map\",null),e([r()],W.prototype,\"padding\",void 0),e([r({readOnly:!0})],W.prototype,\"ready\",void 0),e([r({type:d})],W.prototype,\"spatialReference\",null),e([r()],W.prototype,\"spatialReferenceWarningDelay\",void 0),e([r()],W.prototype,\"stationary\",null),e([r({readOnly:!0})],W.prototype,\"supportsGround\",void 0),e([r({type:v})],W.prototype,\"timeExtent\",void 0),e([a(\"toolViewManager.tools\")],W.prototype,\"tools\",void 0),e([r()],W.prototype,\"toolViewManager\",void 0),e([a(\"analysisManager.analyses\")],W.prototype,\"analyses\",void 0),e([r()],W.prototype,\"analysisManager\",void 0),e([r({readOnly:!0})],W.prototype,\"type\",void 0),e([r({type:Number})],W.prototype,\"scale\",void 0),e([r({readOnly:!0})],W.prototype,\"updating\",void 0),e([r({readOnly:!0})],W.prototype,\"initialExtentRequired\",void 0),e([r({readOnly:!0,type:y})],W.prototype,\"initialExtent\",null),e([r()],W.prototype,\"cursor\",null),e([r()],W.prototype,\"renderContext\",void 0),e([r({readOnly:!0})],W.prototype,\"input\",void 0),e([r({type:T,nonNullable:!0})],W.prototype,\"navigation\",void 0),e([r()],W.prototype,\"layerViewManager\",void 0),e([r()],W.prototype,\"width\",void 0),e([r()],W.prototype,\"height\",void 0),e([r({readOnly:!0})],W.prototype,\"resizing\",void 0),e([r({value:null,readOnly:!0})],W.prototype,\"size\",null),e([r({readOnly:!0})],W.prototype,\"suspended\",void 0),e([r({readOnly:!0})],W.prototype,\"viewEvents\",void 0),e([r({readOnly:!0})],W.prototype,\"persistableViewModels\",void 0),e([r()],W.prototype,\"_isValid\",void 0),e([r()],W.prototype,\"_readyCycleForced\",void 0),e([r()],W.prototype,\"_currentSpatialReference\",void 0),W=z=e([s(\"esri.views.View\")],W);var P=W;export default P;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"../../../core/Accessor.js\";let s=class extends o{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType=\"unknown\",\"standard\"===e.mapping?this._detectedDeviceType=\"standard\":p.test(e.id)?this._detectedDeviceType=\"spacemouse\":this._detectedDeviceType=\"unknown\",this.nativeIndex=e.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return i[this.deviceType]}};e([t({nonNullable:!0,readOnly:!0})],s.prototype,\"nativeIndex\",void 0),e([t({type:String,readOnly:!0})],s.prototype,\"deviceType\",null),e([t({type:Number,readOnly:!0})],s.prototype,\"axisThreshold\",null),s=e([r(\"esri.views.input.gamepad.GamepadInputDevice\")],s);const p=new RegExp(\"^(3dconnexion|space(mouse|navigator|pilot|explorer))\",\"i\"),i={standard:.15,spacemouse:.025,unknown:0};var n=s;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{debounce as t}from\"../../core/promiseUtils.js\";const i=i=>{let p=class extends i{constructor(){super(...arguments),this.refreshTimestamp=null,this.refreshDebounced=t((async(r,e)=>{let s;\"number\"==typeof r?s=r:(s=Date.now(),e=r),this._set(\"refreshTimestamp\",s),this.doRefresh&&await this.doRefresh(e)}),2e3)}refresh(r=Date.now()){this._set(\"refreshTimestamp\",r),this.doRefresh&&this.doRefresh()}};return r([e()],p.prototype,\"layer\",void 0),r([s(\"layer.refreshInterval\")],p.prototype,\"refreshInterval\",void 0),r([e({readOnly:!0})],p.prototype,\"refreshTimestamp\",void 0),p=r([o(\"esri.layers.mixins.RefreshableLayerView\")],p),p};function p(r){return\"refresh\"in r}export default i;export{i as RefreshableLayerView,p as isRefreshableLayerView};\n"],"sourceRoot":""}