{"version":3,"sources":["webpack://imaps/./src/widgets/Menu.tsx","webpack://imaps/./src/widgets/Menu/MenuViewModel.ts","webpack://imaps/./src/widgets/Menu/styles/Menu.scss","webpack://imaps/./src/widgets/Menu/styles/Menu.scss?e837"],"names":["__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__importDefault","mod","__esModule","exports","value","decorators_1","require","widget_1","Widget_1","MenuViewModel_1","CSS","Menu","properties","theme","viewModel","setTheme","_a","_b","window","localStorage","setItem","document","body","classList","remove","add","style","Array","prototype","slice","call","querySelectorAll","filter","link","href","includes","forEach","s","preload","createElement","setAttribute","querySelector","append","item","setTimeout","menuCreated","getItem","requestAnimationFrame","addEventListener","e","currentTarget","selectedItems","innerHTML","toLowerCase","passive","tsx","class","id","alignment","afterCreate","slot","icon","rel","active","aliasOf","property","type","renderable","subclass","default","Accessor_1","watchUtils_1","MenuViewModel","params","whenDefinedOnce","init","bind","view","console","log","scale","___CSS_LOADER_EXPORT___","push","module","options"],"mappings":"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","file":"menu.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst widget_1 = require(\"@arcgis/core/widgets/support/widget\");\nconst Widget_1 = __importDefault(require(\"@arcgis/core/widgets/Widget\"));\nconst MenuViewModel_1 = __importDefault(require(\"./Menu/MenuViewModel\"));\nrequire(\"./Menu/styles/Menu.scss\");\nconst CSS = {\n    base: 'esri-widget menu-base',\n};\nlet Menu = class Menu extends Widget_1.default {\n    constructor(properties) {\n        super(properties);\n        this.theme = 'light';\n        this.viewModel = new MenuViewModel_1.default();\n        this.setTheme = (value) => {\n            var _a, _b;\n            this.theme = value;\n            window.localStorage.setItem('theme', value);\n            document.body.classList.remove(value == 'light' ? 'dark' : 'light');\n            document.body.classList.add(value);\n            const style = Array.prototype.slice.call(document.querySelectorAll('link')).filter((link) => {\n                return link.href.includes('light') || link.href.includes('dark');\n            });\n            if (style) {\n                style.forEach((s) => {\n                    s.remove();\n                });\n                const preload = document.createElement('link');\n                preload.href = `./assets/esri/themes/${this.theme}/main.css`;\n                preload.setAttribute('rel', 'preload');\n                preload.setAttribute('type', 'text/css');\n                preload.setAttribute('as', 'style');\n                (_a = document.querySelector('head')) === null || _a === void 0 ? void 0 : _a.append(preload);\n                const link = document.createElement('link');\n                link.href = `./assets/esri/themes/${this.theme}/main.css`;\n                link.setAttribute('rel', 'stylesheet');\n                link.setAttribute('type', 'text/css');\n                (_b = document.querySelector('head')) === null || _b === void 0 ? void 0 : _b.append(link);\n                document.querySelectorAll('calcite-panel').forEach((item) => {\n                    item.setAttribute('theme', this.theme);\n                });\n                document.querySelectorAll('calcite-color').forEach((item) => {\n                    item.setAttribute('theme', this.theme);\n                });\n                document.querySelectorAll('calcite-tip-manager').forEach((item) => {\n                    item.setAttribute('theme', this.theme);\n                });\n                document.querySelectorAll('calcite-dropdown').forEach((item) => {\n                    item.setAttribute('theme', this.theme);\n                });\n                document.querySelectorAll('calcite-alert').forEach((item) => {\n                    item.setAttribute('theme', this.theme);\n                });\n                document.querySelectorAll('calcite-modal').forEach((item) => {\n                    item.setAttribute('theme', this.theme);\n                });\n                document.querySelectorAll('calcite-block').forEach((item) => {\n                    item.setAttribute('theme', this.theme);\n                });\n                document.querySelectorAll('calcite-pick-list').forEach((item) => {\n                    item.setAttribute('theme', this.theme);\n                });\n                setTimeout(() => {\n                    document.querySelectorAll('calcite-action-bar').forEach((item) => {\n                        item.setAttribute('theme', this.theme);\n                    });\n                });\n            }\n        };\n        this.menuCreated = () => {\n            var _a;\n            if (window.localStorage.getItem('theme')) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                const value = window.localStorage.getItem('theme');\n                requestAnimationFrame(() => {\n                    this.setTheme(value);\n                });\n            }\n            (_a = document.querySelector('calcite-dropdown')) === null || _a === void 0 ? void 0 : _a.addEventListener('calciteDropdownSelect', (e) => {\n                var _a;\n                const value = (_a = e.currentTarget.selectedItems[0]) === null || _a === void 0 ? void 0 : _a.innerHTML.toLowerCase();\n                this.setTheme(value);\n            }, { passive: true });\n        };\n    }\n    render() {\n        return (widget_1.tsx(\"div\", { class: CSS.base },\n            widget_1.tsx(\"header\", { class: \"header\" },\n                widget_1.tsx(\"h2\", { class: \"heading\" }, \"iMAPS\"),\n                widget_1.tsx(\"div\", { id: \"menu\" }),\n                widget_1.tsx(\"calcite-dropdown\", { alignment: \"end\", afterCreate: this.menuCreated },\n                    widget_1.tsx(\"calcite-button\", { slot: \"dropdown-trigger\" },\n                        widget_1.tsx(\"calcite-icon\", { icon: \"hamburger\" })),\n                    widget_1.tsx(\"calcite-dropdown-group\", { \"group-title\": \"Help\", \"selection-mode\": \"none\" },\n                        widget_1.tsx(\"calcite-dropdown-item\", null, \"Help Document\"),\n                        widget_1.tsx(\"calcite-dropdown-item\", { rel: \"noreferrer\", href: \"https://arcg.is/1GurDS\", target: \"_blank\" }, \"Feedback\")),\n                    widget_1.tsx(\"calcite-dropdown-group\", { \"group-title\": \"Data Download\", \"selection-mode\": \"none\" },\n                        widget_1.tsx(\"calcite-dropdown-item\", { rel: \"noreferrer\", href: \"https://data-wake.opendata.arcgis.com/\", target: \"_blank\" }, \"Wake County Open Data\"),\n                        widget_1.tsx(\"calcite-dropdown-item\", { rel: \"noreferrer\", href: \"https://data.raleighnc.gov/\", target: \"_blank\" }, \"Raleigh Open Data\")),\n                    widget_1.tsx(\"calcite-dropdown-group\", { \"group-title\": \"Links\", \"selection-mode\": \"none\" },\n                        widget_1.tsx(\"calcite-dropdown-item\", { rel: \"noreferrer\", href: \"https://data.raleighnc.gov/\", target: \"_blank\" }, \"RaleighNC.gov\"),\n                        widget_1.tsx(\"calcite-dropdown-item\", { rel: \"noreferrer\", href: \"https://wakegov.com/\", target: \"_blank\" }, \"WakeGOV.com\")),\n                    widget_1.tsx(\"calcite-dropdown-group\", { \"group-title\": \"Theme\", \"selection-mode\": \"single\" },\n                        widget_1.tsx(\"calcite-dropdown-item\", { active: this.theme === 'dark', value: \"dark\" }, \"Dark\"),\n                        widget_1.tsx(\"calcite-dropdown-item\", { active: this.theme === 'light', value: \"light\" }, \"Light\"))))));\n    }\n};\n__decorate([\n    decorators_1.aliasOf('viewModel.view')\n], Menu.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.property({\n        type: MenuViewModel_1.default,\n    }),\n    widget_1.renderable()\n], Menu.prototype, \"viewModel\", void 0);\nMenu = __decorate([\n    decorators_1.subclass('app.widgets.Menu')\n], Menu);\nexports.default = Menu;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Accessor_1 = __importDefault(require(\"@arcgis/core/core/Accessor\"));\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst watchUtils_1 = require(\"@arcgis/core/core/watchUtils\");\nlet MenuViewModel = class MenuViewModel extends Accessor_1.default {\n    constructor(params) {\n        super(params);\n        watchUtils_1.whenDefinedOnce(this, 'view', this.init.bind(this));\n    }\n    init(view) {\n        console.log(view.scale);\n    }\n};\n__decorate([\n    decorators_1.property()\n], MenuViewModel.prototype, \"view\", void 0);\nMenuViewModel = __decorate([\n    decorators_1.subclass('app.widgets.Menu.MenuViewModel')\n], MenuViewModel);\nexports.default = MenuViewModel;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".menu-base{padding:0}header{display:flex}header h2{width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/widgets/Menu/styles/Menu.scss\"],\"names\":[],\"mappings\":\"AAAA,WACE,SAAA,CAEF,OACE,YAAA,CAEF,UACE,UAAA\",\"sourcesContent\":[\".menu-base {\\n  padding: 0;\\n}\\nheader  {\\n  display: flex;\\n}\\nheader h2 {\\n  width: 100%;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./Menu.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"sourceRoot":""}