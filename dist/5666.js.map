{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/Queue.js","webpack://imaps/./node_modules/@arcgis/core/views/overlay/ViewOverlay.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/AnchorElementViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Spinner/SpinnerViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Spinner.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup/PopupViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup.js","webpack://imaps/./node_modules/@arcgis/core/views/DOMContainer.js","webpack://imaps/./node_modules/@arcgis/core/views/input/EventMatch.js","webpack://imaps/./node_modules/@arcgis/core/views/input/InputHandler.js","webpack://imaps/./node_modules/@arcgis/core/views/input/handlers/LatestPointerType.js","webpack://imaps/./node_modules/@arcgis/core/views/input/InputManager.js","webpack://imaps/./node_modules/@arcgis/core/views/input/keys.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/interactiveToolUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/support/screenUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup/actions.js"],"names":["e","values","next","value","this","_peeker","_items","Set","size","clear","contains","add","has","length","t","peek","delete","forEach","c","super","arguments","items","_watchUpdatingTracking","_callbacks","Map","_projector","_hiddenProjector","document","createElement","className","_set","_hiddenSurface","setAttribute","appendChild","addOnCollectionChange","added","map","render","set","append","surface","removed","detach","get","removeChild","domNode","remove","removeAll","destroy","renderNow","r","o","s","i","left","top","right","bottom","getBoundingClientRect","firstChild","computeBoundingRect","Math","max","min","some","visible","getContext","save","font","getComputedStyle","fontFamily","renderCanvas","restore","readOnly","prototype","dependsOn","aliasOf","_anchorHandles","location","screenLocation","screenLocationEnabled","view","_updateScreenPointAndHandle","_wireUpView","_viewpointHandle","_setScreenLocation","type","_viewpointChange","_toggleWatchingViewpoint","emit","resume","pause","toScreen","h","_animationDelay","_animationPromise","viewModel","own","_visibleChange","promise","catch","then","hide","_getPositionStyles","class","classes","styles","padding","x","y","key","defaultKeyValue","base","typeMap","button","toggle","O","V","_handles","_pendingPromises","_zoomToLocation","_fetchFeaturesController","actions","defaultPopupTemplateEnabled","autoCloseEnabled","autoOpenEnabled","content","featureViewModels","highlightEnabled","title","updateLocationEnabled","zoomFactor","_autoOpenEnabledChange","on","_autoClose","_highlightFeature","_animationStateChange","_locationChange","_selectedFeatureChange","event","_waitingForResultChange","_updateFeatureVMs","_cancelFetchingFeatures","waitingForResult","_get","selectedFeature","getEffectivePopupTemplate","popupTemplate","overwriteActions","concat","filter","Boolean","features","pendingPromisesCount","promiseCount","selectedFeatureIndex","n","featureCount","promises","Array","isArray","notifyChange","slice","_updateFeatures","_updatePendingPromises","isNaN","_getSelectedTarget","target","error","callGoTo","scale","screenPoint","fetchPopupFeatures","signal","fetchFeatures","_setFetchFeaturesPromises","allActions","getItemAt","disabled","action","l","u","_isZoomScreenSize","geometry","centerAtLocation","center","clone","_getPointFromGeometry","_fetchFeaturesWithController","_getScreenPoint","clientOnlyGraphics","promisesPerLayerView","destroyed","_destroyFeatureVMs","graphic","splice","spatialReference","pointerType","_fetchFeaturesAndOpen","abort","mapPoint","popup","open","declaredClass","getViewForGraphic","whenGraphicBounds","useViewElevation","boundingBox","centroid","extent","when","whenLayerView","layer","_getLayerView","_highlightPromise","a","objectIdField","attributes","highlight","indexOf","E","U","T","q","pe","we","ke","Qe","buttonEnabled","position","breakpoint","width","Xe","Ye","Ze","closeButton","featureNavigation","et","_blurClose","_blurContainer","_containerNode","_mainContainerNode","_featureMenuNode","_actionsMenuNode","_focusClose","_focusContainer","_focusDockButton","_focusFeatureMenuButton","_focusActionsMenuButton","_focusFirstFeature","_focusFirstAction","_pointerOffsetInPx","_spinner","_feature","_displaySpinnerThrottled","_displaySpinner","alignment","collapsed","collapseEnabled","dockEnabled","featureMenuOpen","goToOverride","label","maxInlineActions","messages","messagesCommon","spinnerEnabled","visibleElements","_addSelectedFeatureIndexHandle","_positionContainer","_toggleScreenLocationEnabled","reposition","_spinnerEnabledChange","_updateDockEnabledForViewSize","_viewChange","_viewReadyChange","_hideSpinner","_setTitleFromFeatureWidget","_setContentFromFeatureWidget","widthBreakpoint","active","_watchActions","_destroySelectedFeatureWidget","_destroySpinner","id","selectedFeatureWidget","waitingForContent","hasContent","featureNavigationVisible","collapsible","featureMenuVisible","_divideActions","_getCurrentAlignment","_getCurrentDockPosition","xsmall","height","_setCurrentDockPosition","replacement","version","selectedFeatureViewModel","warn","scheduleRender","actionsMenuOpen","previous","_setCurrentAlignment","triggerAction","dividedActions","currentAlignment","currentDockPosition","d","menuActions","p","g","_","v","m","role","bind","afterCreate","afterUpdate","renderMainContainer","renderPointer","loading","renderLoadingIcon","tabIndex","onclick","_previous","onkeydown","renderPreviousIcon","_next","renderNextIcon","featureMenuId","_toggleFeatureMenu","_focusFeatureMenuButtonNode","menu","_getPageText","renderPreviousButton","renderNavigationLoading","renderFeatureMenuButton","renderNextButton","_wouldDockTo","undock","dock","dockOptions","_toggleDockEnabled","_focusDockButtonNode","renderDockIcon","titleId","contentCollapsed","innerHTML","expand","collapse","enterAnimation","_createFeatureUpdatedAnimation","_toggleCollapsed","_close","close","_closeButtonNodeUpdated","renderCloseIcon","renderTitle","renderDockButton","renderCloseButton","contentId","renderContent","actionsMenuId","actionsMenuButtonId","_toggleActionsMenu","_focusActionsMenuButtonNode","inlineActions","onkeyup","_handleActionMenuKeyup","_actionsMenuNodeUpdated","toArray","renderAction","index","toString","renderInlineActions","renderActionsMenuButton","renderMenuActions","renderNavigationButtons","renderInlineActionsContainer","renderNavigation","selectedFeatures","total","_featureMenuViewportNodeUpdated","renderFeatureMenu","_handleMainKeyup","_mainContainerNodeUpdated","renderFooter","renderFeatureMenuContainer","renderHeader","renderContentContainer","renderNodeContent","_getActionClass","_getActionImage","_getIconStyles","_getActionTitle","renderActionIcon","renderActionText","uid","_handleActionMenuItemKeyup","_triggerAction","untitled","_handleFeatureMenuItemKeyup","_selectFeature","_featureMenuNodeUpdated","_handleFeatureMenuKeyup","renderFeatureMenuItem","image","round","_getInlineActionCount","stopPropagation","currentTarget","querySelectorAll","focus","_createSpinner","show","_selectedFeatureIndexUpdated","popupHeight","popupWidth","side","_isScreenLocationWithinView","parseInt","replace","window","getPropertyValue","_isOutsideView","f","call","_calculatePositionResult","_calculateAutoAlignment","_callCurrentAlignment","reverse","_calculateAutoDockPosition","_callDockPosition","_getDockPosition","breakpoints","_calculatePositionStyle","style","_calculateFullWidth","_calculateAlignmentPosition","_setDockEnabledForViewSize","_dockingThresholdCrossed","blur","scrollTop","ui","hasOwnProperty","_shouldDockAtCurrentViewSize","pageText","_featureMenuOpenChanged","_actionsMenuOpenChanged","source","overridable","ownerDocument","defaultView","pageXOffset","pageYOffset","parentNode","_freqInfo","freq","time","_overlayRenderTaskHandle","resizing","root","suspended","userContent","handles","watch","_handleUIChange","_wireUI","container","_stopMeasuring","classList","overlay","insertBefore","forceDOMReadyCycle","body","clientWidth","clientHeight","_startMeasuring","activeElement","hasFocus","addEventListener","removeEventListener","prepare","_measure","deltaTime","_position","oldWidth","oldHeight","cast","eventType","keyModifiers","modifiers","_manager","_incoming","_outgoing","_incomingEventMatches","_incomingEventTypes","_outgoingEventTypes","_hasSideEffects","push","match","incomingEventMatches","Object","keys","setEventCallback","_handleEvent","setUninstallCallback","_onUninstall","updateDependencies","onPause","onRemove","onResume","Error","onEmit","setPointerCapture","refreshHasPendingInputs","onUninstall","matches","callback","shouldStopPropagation","_callback","_handler","_removed","_onChange","_value","registerIncoming","data","native","_setValue","_moveHandler","_pointerCaptures","_nameToGroup","_handlers","_currentPropagation","_sourceEvents","_keyModifiers","_activeKeyModifiers","_stoppedPropagationEventIds","primaryKey","latestPointerType","test","timestamp","hasCurrentPropagation","eventSource","onEventReceived","_onEventReceived","_installRecognizers","uninstallHandlers","handler","hasPendingInputs","INTERNAL","name","handlers","priorityIndex","groupPriority","eventCallback","uninstallCallback","onInstall","_emitInputEvent","_setPointerCapture","needsHandlerGarbageCollect","_garbageCollectRemovedHandlers","_handlersPriority","_sortHandlersPriority","hasSideEffects","outgoingEventTypes","activeEvents","pointerId","_updateKeyModifiers","cancelable","_emitInputEventFromSource","altKey","ctrlKey","shiftKey","metaKey","_latestPointerTypeHandler","_setLatestPointerType","recognizers","installHandlers","performance","now","events","_doNewPropagation","currentHandler","_continuePropagation","pop","eventId","shouldPausePropagation","_pausePropagation","_compareHandlerPriority","injectEvent","disablePointerCapture","_propagationState","_resumeCallback","preventDefault","DEFAULT","TOOL","WIDGET","8","9","13","27","33","34","35","36","37","38","39","40","45","46","String","fromCharCode","keyCode","ready","activeTool","deactivate","activate","item","attach","editable","hasEditableFlag","HTMLElement","clientX","clientY","Event","zoomToLocation","sourceLayer","graphics"],"mappings":"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","file":"5666.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{assumeNonNull as e}from\"./maybe.js\";export default class{constructor(e=(e=>e.values().next().value)){this._peeker=e,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(e){this.contains(e)||this._items.add(e)}contains(e){return this._items.has(e)}pop(){if(0===this.length)return;const t=this.peek();return this._items.delete(e(t)),t}remove(e){this._items.delete(e)}filter(e){return this._items.forEach((t=>{e(t)||this._items.delete(t)})),this}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Accessor.js\";import s from\"../../core/Collection.js\";import{WatchUpdatingTracking as i}from\"../support/WatchUpdatingTracking.js\";import\"../../libs/maquette/projection.js\";import{createProjector as a}from\"../../libs/maquette/projector.js\";let c=class extends o{constructor(){super(...arguments),this.items=new s,this._watchUpdatingTracking=new i,this._callbacks=new Map,this._projector=a(),this._hiddenProjector=a()}get needsRender(){return this.items.length>0}initialize(){const t=document.createElement(\"div\");t.className=\"esri-overlay-surface\",this._set(\"surface\",t),this._hiddenSurface=document.createElement(\"div\"),this._hiddenSurface.setAttribute(\"style\",\"visibility: hidden;\"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(this.items,(t=>{t.added.map((t=>{const e=()=>t.render();this._callbacks.set(t,e),this._projector.append(this.surface,e)})),t.removed.map((t=>{const e=this._projector.detach(this._callbacks.get(t));this.surface.removeChild(e.domNode),this._callbacks.delete(t)}))}))}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach((t=>this._projector.detach(t))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const e=this._hiddenSurface,r=this._hiddenProjector;let o=null;const s=()=>(o=t.render(),o);r.append(e,s),r.renderNow();const i={left:0,top:0,right:0,bottom:0};if(o&&o.domNode){const t=o.domNode.getBoundingClientRect();i.left=t.left,i.top=t.top,i.right=t.right,i.bottom=t.bottom}for(r.detach(s);e.firstChild;)e.removeChild(e.firstChild);return i}overlaps(t,e){const r=this.computeBoundingRect(t),o=this.computeBoundingRect(e);return Math.max(r.left,o.left)<=Math.min(r.right,o.right)&&Math.max(r.top,o.top)<=Math.min(r.bottom,o.bottom)}get hasVisibleItems(){return this.items.some((t=>t.visible))}renderCanvas(t){if(!this.items.some((t=>t.visible)))return;const e=t.getContext(\"2d\");e.save(),e.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach((t=>{e.save(),t.renderCanvas(e),e.restore()})),e.restore()}};t([e({readOnly:!0})],c.prototype,\"surface\",void 0),t([e({readOnly:!0})],c.prototype,\"items\",void 0),t([e({readOnly:!0,dependsOn:[\"items.length\"]})],c.prototype,\"needsRender\",null),t([e({readOnly:!0})],c.prototype,\"_watchUpdatingTracking\",void 0),t([e({readOnly:!0,aliasOf:\"_watchUpdatingTracking.updating\"})],c.prototype,\"updating\",void 0),c=t([r(\"esri.views.overlay.ViewOverlay\")],c);var n=c;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Evented.js\";import s from\"../../core/Handles.js\";import{watch as n,pausable as r}from\"../../core/watchUtils.js\";let c=class extends i.EventedAccessor{constructor(...e){super(...e),this._anchorHandles=new s,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([n(this,[\"screenLocationEnabled\",\"location\",\"view.size\",\"view.stationary\"],(()=>this._updateScreenPointAndHandle())),n(this,[\"view\",\"view.ready\"],(()=>this._wireUpView()))])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const e=\"view\";this._anchorHandles.remove(e),this._viewpointHandle=null;if(!this.get(\"view.ready\"))return;this._setScreenLocation();const{view:t}=this,o=\"3d\"===t.type?\"camera\":\"viewpoint\",i=r(t,o,(()=>this._viewpointChange()));this._anchorHandles.add(i,e),this._viewpointHandle=i,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit(\"view-change\")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:e,location:t,screenLocationEnabled:o}=this;if(!e)return;t&&o?e.resume():e.pause()}_setScreenLocation(){const{location:e,view:t,screenLocationEnabled:o}=this,i=this.get(\"view.ready\"),s=o&&e&&i?t.toScreen(e):null;this._set(\"screenLocation\",s)}};e([t()],c.prototype,\"location\",void 0),e([t({readOnly:!0})],c.prototype,\"screenLocation\",void 0),e([t()],c.prototype,\"screenLocationEnabled\",void 0),e([t()],c.prototype,\"view\",void 0),c=e([o(\"esri.widgets.support.AnchorElementViewModel\")],c);var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"../support/AnchorElementViewModel.js\";let t=class extends e{constructor(r){super(r),this.visible=!1}};r([o()],t.prototype,\"visible\",void 0),t=r([s(\"esri.widgets.CompassViewModel\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as e}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{after as t}from\"../core/promiseUtils.js\";import{watch as r}from\"../core/watchUtils.js\";import\"./support/widgetUtils.js\";import{renderable as n}from\"./support/decorators/renderable.js\";import{j as l}from\"../chunks/index.js\";import c from\"./Widget.js\";import a from\"./Spinner/SpinnerViewModel.js\";const p=\"esri-spinner\",m=\"esri-spinner--start\",d=\"esri-spinner--finish\";let h=class extends c{constructor(i,o){super(i,o),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new a,this.visible=!1}initialize(){this.own([r(this,\"visible\",(i=>this._visibleChange(i)))])}destroy(){this._animationPromise=null}show(i){const{location:o,promise:e}=i;o&&(this.viewModel.location=o),this.visible=!0;const s=()=>this.hide();e&&e.catch((()=>{})).then(s)}hide(){this.visible=!1}render(){const{visible:i}=this,{screenLocation:o}=this.viewModel,e=!!o,s={[m]:i&&e,[d]:!i&&e},t=this._getPositionStyles();return l(\"div\",{class:this.classes(p,s),styles:t})}_visibleChange(i){if(i)return void(this.viewModel.screenLocationEnabled=!0);const o=t(this._animationDelay);this._animationPromise=o,o.catch((()=>{})).then((()=>{this._animationPromise===o&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)}))}_getPositionStyles(){const{screenLocation:i,view:o}=this.viewModel;if(!o||!i)return{};const{padding:e}=o;return{left:i.x-e.left+\"px\",top:i.y-e.top+\"px\"}}};i([e(\"viewModel.location\")],h.prototype,\"location\",void 0),i([e(\"viewModel.view\")],h.prototype,\"view\",void 0),i([o({type:a}),n([\"viewModel.screenLocation\",\"viewModel.screenLocationEnabled\"])],h.prototype,\"viewModel\",void 0),i([e(\"viewModel.visible\")],h.prototype,\"visible\",void 0),h=i([s(\"esri.widgets.Spinner\")],h);var v=h;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t,isNone as o}from\"../../core/maybe.js\";import i from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{reject as a,createAbortController as l,resolve as u}from\"../../core/promiseUtils.js\";import{geographicToWebMercator as c}from\"../../geometry/support/webMercatorUtils.js\";import h from\"../../geometry/Point.js\";import\"../../geometry.js\";import p from\"../../core/Collection.js\";import d from\"../../support/actions/ActionBase.js\";import g from\"../../support/actions/ActionButton.js\";import m from\"../../support/actions/ActionToggle.js\";import f from\"../../core/Handles.js\";import y from\"../../layers/Layer.js\";import{init as w,watch as F,whenFalse as v}from\"../../core/watchUtils.js\";import{ViewEventPriorities as _}from\"../../views/input/InputManager.js\";import b from\"../Feature/FeatureViewModel.js\";import C from\"../support/AnchorElementViewModel.js\";import{highlightsSupported as P}from\"../../views/support/layerViewUtils.js\";import{zoomToFeature as E,triggerAction as T}from\"./actions.js\";import{GoToMixin as j}from\"../support/GoTo.js\";const x=p.ofType({key:\"type\",defaultKeyValue:\"button\",base:d,typeMap:{button:g,toggle:m}}),O=i.getLogger(\"esri.widgets.Popup.PopupViewModel\");let V=class extends(j(C)){constructor(e){super(e),this._handles=new f,this._pendingPromises=new Set,this._zoomToLocation=null,this._fetchFeaturesController=null,this.actions=new x([E.clone()]),this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.content=null,this.featureViewModels=[],this.highlightEnabled=!0,this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4}initialize(){this._handles.add([w(this,[\"autoOpenEnabled\",\"view\"],(()=>this._autoOpenEnabledChange())),this.on(\"view-change\",(()=>this._autoClose())),F(this,[\"highlightEnabled\",\"selectedFeature\",\"visible\",\"view\"],(()=>this._highlightFeature())),F(this,\"view.animation.state\",(e=>this._animationStateChange(e))),F(this,\"location\",(e=>this._locationChange(e))),F(this,\"selectedFeature\",(e=>this._selectedFeatureChange(e))),this.on(\"trigger-action\",(e=>T({event:e,view:this.view}))),v(this,\"waitingForResult\",(()=>this._waitingForResultChange())),F(this,[\"features\",\"view\",\"view.map\",\"view.spatialReference\"],(()=>this._updateFeatureVMs()))])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get(\"allActions\")||new x;e.removeAll();const t=this.selectedFeature&&(\"function\"==typeof this.selectedFeature.getEffectivePopupTemplate&&this.selectedFeature.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled)||this.selectedFeature.popupTemplate),o=t&&t.actions,i=t&&t.overwriteActions?o:o?o.concat(this.actions):this.actions;return i&&i.filter(Boolean).forEach((t=>e.add(t))),e}get featureCount(){return this.features.length}get features(){return this._get(\"features\")||[]}set features(e){const t=e||[];this._set(\"features\",t);const{pendingPromisesCount:o,promiseCount:i,selectedFeatureIndex:s}=this,n=i&&t.length;n&&o&&-1===s?this.selectedFeatureIndex=0:n&&-1!==s||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get(\"location\")||null}set location(e){const t=this.get(\"view.spatialReference.isWebMercator\");e&&e.get(\"spatialReference.isWGS84\")&&t&&(e=c(e)),this._set(\"location\",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get(\"promises\")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set(\"promises\",[]),void this.notifyChange(\"pendingPromisesCount\");this._set(\"promises\",e),(e=e.slice(0)).forEach((e=>{this._pendingPromises.add(e);e.then((t=>{this._pendingPromises.has(e)&&this._updateFeatures(t),this._updatePendingPromises(e)}),(()=>this._updatePendingPromises(e)))})),this.notifyChange(\"pendingPromisesCount\")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;if(-1===t)return null;return e[t]||null}get selectedFeatureIndex(){const e=this._get(\"selectedFeatureIndex\");return\"number\"==typeof e?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this._set(\"selectedFeatureIndex\",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}centerAtLocation(){const{view:e}=this,t=this._getSelectedTarget();if(!t){const o=new r(\"center-at-location:invalid-target-or-view\",\"Cannot center at a location without a target and view.\",{target:t,view:e});return O.error(o),a(o)}return this.callGoTo({target:{target:t,scale:e.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(e,t){const{view:o}=this;if(!o||!e){const t=new r(\"fetch-features:invalid-screenpoint-or-view\",\"Cannot fetch features without a screenPoint and view.\",{screenPoint:e,view:o});return O.error(t),a(t)}return o.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:o}=t;delete t.fetchFeatures,o&&this._setFetchFeaturesPromises(t.location),this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit(\"trigger-action\",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}zoomToLocation(){const{location:e,selectedFeature:t,view:o,zoomFactor:i}=this,s=this._getSelectedTarget();if(!s){const e=new r(\"zoom-to:invalid-target-or-view\",\"Cannot zoom to location without a target and view.\",{target:s,view:o});return O.error(e),a(e)}const n=o.scale/i,l=this.get(\"selectedFeature.geometry\")||e,u=l&&\"point\"===l.type&&this._isZoomScreenSize(t);E.active=!0,E.disabled=!0;const c=this.callGoTo({target:{target:s,scale:u?n:void 0}}).catch((()=>{E.active=!1,E.disabled=!1,this._zoomToLocation=null})).then((()=>{u&&(this.location=l)}));return this._zoomToLocation=c,c}_animationStateChange(e){this._zoomToLocation||(E.disabled=\"waiting-for-target\"===e)}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:o}=this;o&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureChange(e){if(!e)return;const{location:o,updateLocationEnabled:i,view:s}=this;!i&&o||!e.geometry?i&&!e.geometry&&this.centerAtLocation().then((()=>{this.location=s.center.clone()})):this.location=t(this._getPointFromGeometry(e.geometry))}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:o}=e,i=u(t),s=o.map((e=>e.promise));this.promises=[i,...s]}))}_destroyFeatureVMs(){this.featureViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",[])}_updateFeatureVMs(){const{features:e,featureViewModels:t}=this;if(this._destroyFeatureVMs(),!e||!e.length)return;const o=t.slice(0),i=[];e.forEach(((e,t)=>{if(!e)return;let s=null;if(o.some(((t,i)=>(t&&t.graphic===e&&(s=t,o.splice(i,1)),!!s))),s)i[t]=s;else{var n,r;const o=new b({defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,graphic:e,spatialReference:null==(n=this.view)?void 0:n.spatialReference,map:null==(r=this.view)?void 0:r.map});i[t]=o}})),o.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",i)}_getScreenPoint(e){const{view:t}=this;return t&&e&&\"function\"==typeof t.toScreen?t.toScreen(e):null}_getSelectedTarget(){const{selectedFeature:e,location:t,view:o}=this;if(!o)return null;if(\"3d\"===o.type)return e||t;return this.get(\"selectedFeature.geometry\")||t}_autoOpenEnabledChange(){const e=\"auto-fetch-features\",{_handles:t,autoOpenEnabled:o}=this;if(t.remove(e),o&&this.view){const o=this.view.on(\"click\",(e=>{\"mouse\"===e.pointerType&&0!==e.button||this._fetchFeaturesAndOpen(e)}),_.WIDGET);t.add(o,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const o=l(),{signal:i}=o;this._fetchFeaturesController=o,this.notifyChange(\"waitingForResult\");const s=this.fetchFeatures(e,{signal:i,event:t});return s.catch((()=>{})).then((()=>{this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")})),s}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:o}=e,{view:i}=this;this._fetchFeaturesWithController(t,e).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:s,location:n}=e,r=[u(t),...s.map((e=>e.promise))];return i.popup.open({location:n||o,promises:r}),e}))}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange(\"pendingPromisesCount\"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_isZoomScreenSize(e){const{view:t}=this;if(\"3d\"!==t.type||!e||\"esri.Graphic\"!==e.declaredClass)return!0;const o=t.getViewForGraphic(e);if(o&&\"whenGraphicBounds\"in o){let t=!1;return o.whenGraphicBounds(e,{useViewElevation:!0}).then((e=>{t=!e||!e.boundingBox||e.boundingBox[0]===e.boundingBox[3]&&e.boundingBox[1]===e.boundingBox[4]&&e.boundingBox[2]===e.boundingBox[5]})).catch((()=>{const t=new r(\"zoom-to:invalid-graphic\",\"Could not zoom to the location of the graphic.\",{graphic:e});O.error(t)})),t}return!0}_getPointFromGeometry(e){return o(e)?null:\"point\"===e.type?e:\"extent\"===e.type?e.center:\"polygon\"===e.type?e.centroid:\"multipoint\"===e.type||\"polyline\"===e.type?e.extent.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}async _highlightFeature(){const e=\"highlight\";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:o,view:i,visible:s}=this;if(!(t&&i&&o&&s))return;const{layer:n}=t;if(!(n&&n instanceof y))return;const r=this._getLayerView(i,n);this._highlightPromise=r;const a=await r;if(!(a&&P(a)&&this._highlightPromise===r&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l=\"objectIdField\"in n&&n.objectIdField,u=t.attributes,c=u&&l&&u[l],h=a.highlight(c||t);this._handles.add(h,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const o=e.filter((e=>-1===t.indexOf(e)));this.features=t.concat(o)}};e([s({type:x})],V.prototype,\"actions\",void 0),e([s({readOnly:!0,dependsOn:[\"visible\",\"waitingForResult\"]})],V.prototype,\"active\",null),e([s({dependsOn:[\"actions.length\",\"selectedFeature.sourceLayer.popupTemplate.actions.length\",\"selectedFeature.sourceLayer.popupTemplate.overwriteActions\",\"selectedFeature.popupTemplate.actions.length\",\"selectedFeature.popupTemplate.overwriteActions\"],readOnly:!0})],V.prototype,\"allActions\",null),e([s({type:Boolean})],V.prototype,\"defaultPopupTemplateEnabled\",void 0),e([s()],V.prototype,\"autoCloseEnabled\",void 0),e([s()],V.prototype,\"autoOpenEnabled\",void 0),e([s()],V.prototype,\"content\",void 0),e([s({readOnly:!0,dependsOn:[\"features\"]})],V.prototype,\"featureCount\",null),e([s()],V.prototype,\"features\",null),e([s({readOnly:!0})],V.prototype,\"featureViewModels\",void 0),e([s()],V.prototype,\"highlightEnabled\",void 0),e([s({type:h})],V.prototype,\"location\",null),e([s({readOnly:!0,dependsOn:[\"promises\"]})],V.prototype,\"pendingPromisesCount\",null),e([s({readOnly:!0,dependsOn:[\"featureCount\",\"pendingPromisesCount\"]})],V.prototype,\"waitingForResult\",null),e([s({readOnly:!0,dependsOn:[\"promises\"]})],V.prototype,\"promiseCount\",null),e([s()],V.prototype,\"promises\",null),e([s({value:null,readOnly:!0,dependsOn:[\"features\",\"selectedFeatureIndex\",\"updateLocationEnabled\"]})],V.prototype,\"selectedFeature\",null),e([s({value:-1})],V.prototype,\"selectedFeatureIndex\",null),e([s({readOnly:!0,dependsOn:[\"featureViewModels\",\"selectedFeatureIndex\"]})],V.prototype,\"selectedFeatureViewModel\",null),e([s({readOnly:!0,dependsOn:[\"view.ready\"]})],V.prototype,\"state\",null),e([s()],V.prototype,\"title\",void 0),e([s()],V.prototype,\"updateLocationEnabled\",void 0),e([s()],V.prototype,\"view\",void 0),e([s()],V.prototype,\"visible\",void 0),e([s()],V.prototype,\"zoomFactor\",void 0),e([s()],V.prototype,\"centerAtLocation\",null),e([s()],V.prototype,\"zoomToLocation\",null),V=e([n(\"esri.widgets.Popup.PopupViewModel\")],V);var L=V;export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import t from\"../core/Logger.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import{deprecatedProperty as s}from\"../core/deprecate.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{eventKey as l}from\"../core/events.js\";import a from\"../core/Collection.js\";import{substitute as u}from\"../intl/substitute.js\";import\"../intl.js\";import d from\"../core/Handles.js\";import{watch as c,whenFalse as p,on as h,init as g}from\"../core/watchUtils.js\";import{throttle as _}from\"../core/throttle.js\";import{cssTransition as v,isRTL as m}from\"./support/widgetUtils.js\";import{accessibleHandler as f}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as b}from\"./support/decorators/messageBundle.js\";import{renderable as w}from\"./support/decorators/renderable.js\";import{vmEvent as M}from\"./support/decorators/vmEvent.js\";import{j as y}from\"../chunks/index.js\";import k from\"./Widget.js\";import{FeatureContentMixin as A}from\"./Feature/support/FeatureContentMixin.js\";import C from\"./Feature.js\";import F from\"./Spinner.js\";import x from\"./Popup/PopupViewModel.js\";const O=\"esri-icon-left-triangle-arrow\",E=\"esri-icon-right-triangle-arrow\",I=\"esri-icon-maximize\",N=\"esri-icon-dock-bottom\",P=\"esri-icon-dock-left\",B=\"esri-icon-dock-right\",S=\"esri-icon-close\",D=\"esri-icon-minimize\",V=\"esri-icon-check-mark\",U=\"esri-icon-loading-indicator\",j=\"esri-icon-default-action\",L=\"esri-icon-handle-horizontal\",T=\"esri-rotating\",W=\"esri-popup\",R=\"esri-widget\",H=\"esri-popup__main-container\",$=\"esri-popup__loading-container\",z=\"esri-popup--is-collapsible\",K=\"esri-popup--is-collapsed\",q=\"esri-popup--shadow\",G=\"esri-popup--is-docked\",J=\"esri-popup--is-docked-top-left\",Q=\"esri-popup--is-docked-top-center\",X=\"esri-popup--is-docked-top-right\",Y=\"esri-popup--is-docked-bottom-left\",Z=\"esri-popup--is-docked-bottom-center\",ee=\"esri-popup--is-docked-bottom-right\",te=\"esri-popup--aligned-top-center\",ie=\"esri-popup--aligned-bottom-center\",oe=\"esri-popup--aligned-top-left\",ne=\"esri-popup--aligned-bottom-left\",se=\"esri-popup--aligned-top-right\",re=\"esri-popup--aligned-bottom-right\",le=\"esri-popup--feature-menu-open\",ae=\"esri-popup--actions-menu-open\",ue=\"esri-popup--feature-updated\",de=\"esri-popup__header\",ce=\"esri-popup__header-buttons\",pe=\"esri-popup__header-container\",he=\"esri-popup__header-container--button\",ge=\"esri-popup__header-title\",_e=\"esri-popup__content\",ve=\"esri-popup__footer\",me=\"esri-popup__footer--has-pagination\",fe=\"esri-popup__footer--has-actions\",be=\"esri-popup__footer--has-actions-menu\",we=\"esri-popup__button\",Me=\"esri-popup__button--disabled\",ye=\"esri-popup__button--dock\",ke=\"esri-popup__icon\",Ae=\"esri-popup__icon--dock-icon\",Ce=\"esri-popup__inline-actions-container\",Fe=\"esri-popup__actions-menu-button\",xe=\"esri-popup__actions\",Oe=\"esri-popup__action\",Ee=\"esri-popup__action-image\",Ie=\"esri-popup__action-text\",Ne=\"esri-popup__action-toggle\",Pe=\"esri-popup__action-toggle--on\",Be=\"esri-popup__pointer\",Se=\"esri-popup__pointer-direction\",De=\"esri-popup__navigation\",Ve=\"esri-popup__pagination-previous\",Ue=\"esri-popup__pagination-next\",je=\"esri-popup__pagination-previous-icon\",Le=\"esri-popup__pagination-previous-icon--rtl\",Te=\"esri-popup__pagination-next-icon\",We=\"esri-popup__pagination-next-icon--rtl\",Re=\"esri-popup__feature-menu\",He=\"esri-popup__feature-menu-list\",$e=\"esri-popup__feature-menu-item\",ze=\"esri-popup__feature-menu-viewport\",Ke=\"esri-popup__feature-menu-header\",qe=\"esri-popup__feature-menu-item--selected\",Ge=\"esri-popup__feature-menu-button\",Je=\"esri-popup__feature-menu-title\",Qe={buttonEnabled:!0,position:\"auto\",breakpoint:{width:544}};function Xe(e,t){return void 0===t?`esri-popup__${e}`:`esri-popup__${e}-${t}`}const Ye=t.getLogger(\"esri.widgets.Popup\"),Ze={closeButton:!0,featureNavigation:!0};let et=class extends(A(k)){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new d,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._displaySpinnerThrottled=_((()=>this._displaySpinner()),0),this.actions=null,this.alignment=\"auto\",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new x,this.visible=null,this.visibleElements={...Ze},this._addSelectedFeatureIndexHandle(),this.own([c(this,\"viewModel.screenLocation\",(()=>this._positionContainer())),c(this,[\"viewModel.active\",\"dockEnabled\"],(()=>this._toggleScreenLocationEnabled())),c(this,\"viewModel.screenLocation\",((e,t)=>{!!e!=!!t&&this.reposition()})),c(this,[\"viewModel.view.padding\",\"viewModel.view.size\",\"viewModel.active\",\"viewModel.location\",\"alignment\"],(()=>this.reposition())),c(this,\"spinnerEnabled\",(e=>this._spinnerEnabledChange(e))),c(this,\"viewModel.view.size\",((e,t)=>this._updateDockEnabledForViewSize(e,t))),c(this,\"viewModel.view\",((e,t)=>this._viewChange(e,t))),c(this,\"viewModel.view.ready\",((e,t)=>this._viewReadyChange(e,t))),c(this,[\"viewModel.waitingForResult\",\"viewModel.location\"],(()=>{this._hideSpinner(),this._displaySpinnerThrottled()})),c(this,\"selectedFeatureWidget.viewModel.title\",(e=>this._setTitleFromFeatureWidget(e))),c(this,[\"selectedFeatureWidget.viewModel.content\",\"selectedFeatureWidget.viewModel.waitingForContent\"],(()=>this._setContentFromFeatureWidget())),p(this,\"collapsed\",(()=>{var e,t;\"xsmall\"===(null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()})),h(this,\"viewModel.allActions\",\"change\",(()=>this._watchActions())),g(this,\"viewModel.allActions\",(()=>this._watchActions()))])}destroy(){this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles&&this._handles.destroy(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,i,o,n;return!!(this.selectedFeatureWidget?(null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.waitingForContent)||(null==(i=this.selectedFeatureWidget)||null==(o=i.viewModel)?void 0:o.content):null==(n=this.viewModel)?void 0:n.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set(\"actionsMenuOpen\",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get(\"actionsMenuOpen\")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get(\"dockOptions\")||Qe}set dockOptions(e){const t={...Qe},i=this.get(\"viewModel.view.breakpoints\"),o={};i&&(o.width=i.xsmall,o.height=i.xsmall);const n={...t,...e},s={...t.breakpoint,...o},{breakpoint:r}=n;!0===r?n.breakpoint=s:\"object\"==typeof r&&(n.breakpoint={...s,...r}),this._set(\"dockOptions\",n),this._setCurrentDockPosition(),this.reposition()}set featureNavigationEnabled(e){s(Ye,\"featureNavigationEnabled\",{replacement:\"visibleElements.featureNavigation\",version:\"4.15\"}),this.visibleElements={...this.visibleElements,featureNavigation:e}}get selectedFeatureWidget(){const{_feature:e,visibleElements:t}=this,{selectedFeatureViewModel:i}=this.viewModel,o={...t,title:!1};return i?(e?(e.viewModel=i,e.visibleElements=o):this._feature=new C({viewModel:i,visibleElements:o}),this._feature):null}castVisibleElements(e){return{...Ze,...e}}blur(){const{active:e}=this.viewModel;e||Ye.warn(\"Popup can only be blurred when currently active.\"),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||Ye.warn(\"Popup can only be focused when currently active.\"),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var t,i;this._handles.remove(\"selected-index\");const o=!!e&&!!e.featureMenuOpen,n=!!e&&!!e.actionsMenuOpen,s={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:n,featureMenuOpen:o};\"xsmall\"===(null==(t=this.viewModel)||null==(i=t.view)?void 0:i.widthBreakpoint)&&(s.collapsed=!0),this.set(s),this.viewModel.open(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var e,t,i,o;const{actionsMenuOpen:n,dockEnabled:s,featureMenuVisible:r,dividedActions:l,currentAlignment:a,currentDockPosition:u}=this,{active:d}=this.viewModel,{menuActions:c}=l,p=d&&c.length>1&&n,h=d&&s,g=d&&!s,_=null==(e=this.selectedFeature)||null==(t=e.layer)?void 0:t.title,v=null==(i=this.selectedFeature)||null==(o=i.layer)?void 0:o.id,m={[te]:\"top-center\"===a,[ie]:\"bottom-center\"===a,[oe]:\"top-left\"===a,[ne]:\"bottom-left\"===a,[se]:\"top-right\"===a,[re]:\"bottom-right\"===a,[G]:h,[q]:g,[J]:\"top-left\"===u,[Q]:\"top-center\"===u,[X]:\"top-right\"===u,[Y]:\"bottom-left\"===u,[Z]:\"bottom-center\"===u,[ee]:\"bottom-right\"===u,[le]:r,[ae]:p};return y(\"div\",{class:this.classes(W,m),role:\"presentation\",\"data-layer-title\":_,\"data-layer-id\":v,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},d?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ke,U,T)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?y(\"div\",{key:Xe(\"loading-container\"),role:\"presentation\",class:$,\"aria-label\":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=m(),t={[E]:e,[Le]:e,[O]:!e,[je]:!e};return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ke,t)})}renderPreviousButton(){const{messages:e}=this;return y(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(we,Ve),\"aria-label\":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=m(),t={[O]:e,[We]:e,[E]:!e,[Te]:!e};return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ke,t)})}renderNextButton(){const{messages:e}=this;return y(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(we,Ue),\"aria-label\":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:o,selectedFeatureIndex:n}=this.viewModel;return y(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(we,Ge),\"aria-haspopup\":\"true\",\"aria-controls\":t,\"aria-expanded\":e,\"aria-label\":i.menu,title:i.menu},this._getPageText(o,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[D]:e,[Ae]:!e,[B]:!e&&(\"top-right\"===t||\"bottom-right\"===t),[P]:!e&&(\"top-left\"===t||\"bottom-left\"===t),[I]:!e&&\"top-center\"===t,[N]:!e&&\"bottom-center\"===t};return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(i,ke)})}renderDockButton(){var e,t,i;const{dockEnabled:o,messages:n}=this,s=null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint,r=o?n.undock:n.dock;return\"xsmall\"!==s&&null!=(i=this.dockOptions)&&i.buttonEnabled?y(\"div\",{role:\"button\",\"aria-label\":r,title:r,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(we,ye)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:o,messagesCommon:n}=this,s={[he]:i},r=y(\"h2\",{class:ge,innerHTML:e}),l=i?y(\"button\",{key:`${e}--collapsible`,id:t,title:o?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(pe,s),\"aria-expanded\":o?\"false\":\"true\",onclick:this._toggleCollapsed},r):y(\"div\",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(pe,s)},r);return e?l:null}renderCloseIcon(){return y(\"span\",{\"aria-hidden\":\"true\",class:this.classes(ke,S)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?y(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:we,\"aria-label\":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return y(\"header\",{class:de},this.renderTitle(),y(\"div\",{class:ce},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i}=this,{content:o}=this.viewModel;return t&&!i?y(\"article\",{key:o,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:_e},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o,messagesCommon:n}=this,s=i?n.close:n.open,{menuActions:r}=o;return r.length?y(\"div\",{key:Xe(\"actions-menu-button\"),class:this.classes(we,Fe),role:\"button\",id:t,\"aria-haspopup\":\"true\",\"aria-controls\":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,\"aria-label\":s,title:s},y(\"span\",{\"aria-hidden\":\"true\",class:L})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o}=this,{menuActions:n,inlineActions:s}=o;return n.length&&i?y(\"ul\",{id:e,role:\"menu\",\"aria-labelledby\":t,key:Xe(\"actions\"),class:xe,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map(((e,t)=>this.renderAction({action:e,index:t+s.length,type:\"menu-item\"})))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(((e,t)=>this.renderAction({action:e,index:t,type:\"inline\"})))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,o=!!t.length;return i||o?y(\"div\",{key:\"inline-actions-container\",\"data-inline-actions\":i.toString(),\"data-menu-actions\":o.toString(),class:Ce},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?y(\"section\",{key:Xe(\"navigation\"),class:this.classes(De)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:o}=t,n=!!i.length,s=!!o.length,r={[me]:e,[fe]:n,[be]:s};return e||n?y(\"div\",{key:Xe(\"feature-buttons\"),class:this.classes(ve,r)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t}=this.viewModel,i=u(e.selectedFeatures,{total:t.length});return y(\"section\",{key:Xe(\"menu\"),class:Re},y(\"h2\",{class:Ke},i),y(\"nav\",{class:ze,afterCreate:this._featureMenuViewportNodeUpdated,afterUpdate:this._featureMenuViewportNodeUpdated},this.renderFeatureMenu()))}renderPointer(){return this.dockEnabled?null:y(\"div\",{key:Xe(\"pointer\"),class:Be,role:\"presentation\"},y(\"div\",{class:this.classes(Se,q)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:o,contentId:n,collapsible:s,hasContent:r,contentCollapsed:l,visibleElements:a}=this,{title:u}=this.viewModel,d=\"bottom-left\"===t||\"bottom-center\"===t||\"bottom-right\"===t||\"top-left\"===i||\"top-center\"===i||\"top-right\"===i,c=\"top-left\"===t||\"top-center\"===t||\"top-right\"===t||\"bottom-left\"===i||\"bottom-center\"===i||\"bottom-right\"===i,p={[q]:e,[z]:s,[K]:l};return y(\"div\",{class:this.classes(H,R,p),tabIndex:a.closeButton?null:-1,role:\"dialog\",\"aria-labelledby\":u?o:\"\",\"aria-describedby\":r&&!l?n:\"\",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),c?this.renderFooter():null,c?this.renderFeatureMenuContainer():null)}renderContent(){var e;const t=null==(e=this.viewModel)?void 0:e.content;return t?\"string\"==typeof t?y(\"div\",{key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(e){return y(\"span\",{key:\"text\",class:Ie},e)}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),o={[U]:e.active,[T]:e.active,[ke]:!!t,[Ee]:!e.active&&!!i};return t&&(o[t]=!e.active),y(\"span\",{key:\"icon\",\"aria-hidden\":\"true\",class:this.classes(ke,o),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,index:i,type:o}=e,n=this._getActionTitle(t),s={[Oe]:\"toggle\"!==t.type,[Ne]:\"toggle\"===t.type,[Pe]:\"toggle\"===t.type&&t.value,[Me]:t.disabled},r=[this.renderActionIcon(t),this.renderActionText(n)],l=\"menu-item\"===o?y(\"li\",{key:t.uid,role:\"menuitem\",tabIndex:0,title:n,\"aria-label\":n,class:this.classes(we,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-index\":i,onclick:this._triggerAction,onkeydown:this._triggerAction},r):y(\"div\",{key:t.uid,role:\"button\",tabIndex:0,title:n,\"aria-label\":n,class:this.classes(we,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-index\":i,onclick:this._triggerAction,onkeydown:this._triggerAction},r);return t.visible?l:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:o}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:s}=this.viewModel,r=e===s,l={[qe]:r},a=r?y(\"span\",{key:Xe(`feature-menu-selected-feature-${n}`),title:i.selectedFeature,\"aria-label\":i.selectedFeature,class:V}):null,u=y(\"span\",{innerHTML:e.title||o.untitled});return y(\"li\",{role:\"menuitem\",tabIndex:-1,key:Xe(`feature-menu-feature-${n}`),class:this.classes(l,$e),bind:this,\"data-feature-index\":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},y(\"span\",{class:Je},u,a))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?y(\"ol\",{class:He,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:\"menu\"},t.map(((e,t)=>this.renderFeatureMenuItem(e,t)))):null}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:o}=this,{id:n}=e,s=null==i?void 0:i.attributes,r=\"zoom-to-feature\"===n?u(e.title,{messages:t}):\"remove-selected-feature\"===n?u(e.title,{messages:o}):e.title;return r&&s?u(r,s):r}_getActionClass(e){const{selectedFeature:t}=this,i=null==t?void 0:t.attributes,{className:o,image:n}=e,s=n||o?o:j;return s&&i?u(s,i):s}_getActionImage(e){const{selectedFeature:t}=this,i=null==t?void 0:t.attributes,{image:o}=e;return o&&i?u(o,i):o}_createFeatureUpdatedAnimation(){return v(\"enter\",ue)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(\"number\"!=typeof e)return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange(\"dividedActions\");const t=\"actions\";this._handles.remove(t),e&&e.forEach((e=>{this._handles.add(c(e,[\"active\",\"className\",\"disabled\",\"id\",\"title\",\"image\",\"visible\"],(()=>this.scheduleRender())),t)}))}_divideActions(){const{allActions:e}=this.viewModel,t=this._getInlineActionCount(),i=null===t,o=0===t;return{inlineActions:i?e.slice(0):o?new a:e.slice(0,t),menuActions:i?new a:o?e.slice(0):e.slice(t)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(e){const{selectedFeatureWidget:t}=this;t&&(this.viewModel.title=e||\"\")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_handleFeatureMenuKeyup(e){\"Escape\"===l(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){\"Escape\"===l(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(e){const t=l(e),{_featureMenuNode:i}=this,o=e.currentTarget[\"data-feature-index\"];if(!i)return;const n=i.querySelectorAll(\"li\"),s=n.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();n[n.length-1].focus()}else{e.stopPropagation();n[0].focus()}else{e.stopPropagation();n[(o+1+s)%s].focus()}else{e.stopPropagation();n[(o-1+s)%s].focus()}}_handleActionMenuItemKeyup(e){const t=l(e),{_actionsMenuNode:i}=this,o=e.currentTarget[\"data-action-index\"];if(!i)return;const n=i.querySelectorAll(\"li\"),s=n.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();n[n.length-1].focus()}else{e.stopPropagation();n[0].focus()}else{e.stopPropagation();n[(o+1+s)%s].focus()}else{e.stopPropagation();n[(o-1+s)%s].focus()}}_handleMainKeyup(e){const t=l(e);\"ArrowLeft\"===t&&(e.stopPropagation(),this.previous()),\"ArrowRight\"===t&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get(\"viewModel.view\");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i?e.show({location:t}):e.hide()}_getIconStyles(e){return{\"background-image\":e?`url(${e})`:\"\"}}_addSelectedFeatureIndexHandle(){const e=c(this,\"viewModel.selectedFeatureIndex\",((e,t)=>this._selectedFeatureIndexUpdated(e,t)));this._handles.add(e,\"selected-index\")}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&-1!==e&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:o,side:n,view:s}=e;if(isNaN(i)||isNaN(t)||!s||!o)return!1;const r=s.padding;return\"right\"===n&&o.x+i/2>s.width-r.right||(\"left\"===n&&o.x-i/2<r.left||(\"top\"===n&&o.y-t<r.top||\"bottom\"===n&&o.y+t>s.height-r.bottom))}_calculateAutoAlignment(e){if(\"auto\"!==e)return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:o,viewModel:n}=this,{screenLocation:s,view:r}=n;if(!s||!r||!i)return\"top-center\";if(!this._isScreenLocationWithinView(s,r))return this._get(\"currentAlignment\")||\"top-center\";function l(e){return parseInt(e.replace(/[^-\\d\\.]/g,\"\"),10)}const a=o?window.getComputedStyle(o,null):null,u=a?l(a.getPropertyValue(\"max-height\")):0,d=a?l(a.getPropertyValue(\"height\")):0,{height:c,width:p}=i.getBoundingClientRect(),h=p+t,g=Math.max(c,u,d)+t,_=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"right\",view:r}),v=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"left\",view:r}),m=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"top\",view:r}),f=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"bottom\",view:r});return v?m?\"bottom-right\":\"top-right\":_?m?\"bottom-left\":\"top-left\":m?f?\"top-center\":\"bottom-center\":\"top-center\"}_callCurrentAlignment(e){return\"function\"==typeof e?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set(\"currentAlignment\",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set(\"currentDockPosition\",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=[\"left\",\"right\"];return m()&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return\"function\"==typeof e?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(e=this.dockOptions)?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var t;if(\"auto\"!==e)return e;const i=null==(t=this.viewModel)?void 0:t.view,o=m()?\"top-left\":\"top-right\";if(!i)return o;const n=i.padding||{left:0,right:0,top:0,bottom:0},s=i.width-n.left-n.right,{breakpoints:r}=i;return r&&s<=r.xsmall?\"bottom-center\":o}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:i}=e.getBoundingClientRect(),o=this._calculatePositionStyle(t,i);o&&(e.style.top=o.top,e.style.left=o.left,e.style.bottom=o.bottom,e.style.right=o.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return\"top-left\"===t||\"bottom-left\"===t||\"top-right\"===t||\"bottom-right\"===t?e+i:e}_calculateAlignmentPosition(e,t,i,o){const{currentAlignment:n,_pointerOffsetInPx:s}=this,r=o/2,l=i.height-t,a=i.width-e,{padding:u}=this.view;return\"bottom-center\"===n?{top:t+s-u.top,left:e-r-u.left}:\"top-left\"===n?{bottom:l+s-u.bottom,right:a+s-u.right}:\"bottom-left\"===n?{top:t+s-u.top,right:a+s-u.right}:\"top-right\"===n?{bottom:l+s-u.bottom,left:e+s-u.left}:\"bottom-right\"===n?{top:t+s-u.top,left:e+s-u.left}:\"top-center\"===n?{bottom:l+s-u.bottom,left:e-r-u.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:o}=this;if(!o)return;if(i)return{left:\"\",top:\"\",right:\"\",bottom:\"\"};if(!e||!t)return;const n=this._calculateFullWidth(t),s=this._calculateAlignmentPosition(e.x,e.y,o,n);return s?{top:void 0!==s.top?`${s.top}px`:\"auto\",left:void 0!==s.left?`${s.left}px`:\"auto\",bottom:void 0!==s.bottom?`${s.bottom}px`:\"auto\",right:void 0!==s.right?`${s.right}px`:\"auto\"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const e=this.get(\"viewModel.view\");this._wireUpView(e)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[o,n]=e,[s,r]=t,{width:l,height:a}=i;return o<=l&&s>l||o>l&&s<=l||n<=a&&r>a||n>a&&r<=a}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get(\"viewModel.view.padding\")||{left:0,right:0,top:0,bottom:0},o=i.left+i.right,n=i.top+i.bottom,s=[],r=[];s[0]=e[0]-o,s[1]=e[1]-n,r[0]=t[0]-o,r[1]=t[1]-n;const{dockOptions:l}=this,a=l.breakpoint;this._dockingThresholdCrossed(s,r,a)&&this._setDockEnabledForViewSize(l),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportNodeUpdated(e){e&&(e.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){var t,i;const o=e.breakpoint,n=null==(t=this.viewModel)||null==(i=t.view)?void 0:i.ui;if(!n)return!1;const{width:s,height:r}=n;if(isNaN(s)||isNaN(r))return!1;const l=o.hasOwnProperty(\"width\")&&s<=o.width,a=o.hasOwnProperty(\"height\")&&r<=o.height;return l||a}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?u(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,\"popup-spinner\"),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new F({view:e}),e.ui.add(this._spinner,{key:\"popup-spinner\",position:\"manual\"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget[\"data-action-index\"],i=this.viewModel.allActions.getItemAt(t);i&&\"toggle\"===i.type&&(i.value=!i.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(t)}_selectFeature(e){const t=e.currentTarget[\"data-feature-index\"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"actionsMenuId\",null),e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"actionsMenuButtonId\",null),e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"featureMenuId\",null),e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"titleId\",null),e([i({readOnly:!0,dependsOn:[\"id\"]}),w()],et.prototype,\"contentId\",null),e([i({readOnly:!0,dependsOn:[\"selectedFeatureWidget\",\"selectedFeatureWidget.viewModel\",\"selectedFeatureWidget.viewModel.waitingForContent\",\"selectedFeatureWidget.viewModel.content\",\"viewModel.content\"]}),w()],et.prototype,\"hasContent\",null),e([i({readOnly:!0,dependsOn:[\"viewModel.active\",\"viewModel.featureCount\",\"visibleElements.featureNavigation\"]}),w()],et.prototype,\"featureNavigationVisible\",null),e([i({readOnly:!0,dependsOn:[\"collapseEnabled\",\"viewModel.title\",\"hasContent\"]}),w()],et.prototype,\"collapsible\",null),e([i({readOnly:!0,dependsOn:[\"featureNavigationVisible\",\"featureMenuOpen\"]}),w()],et.prototype,\"featureMenuVisible\",null),e([i({readOnly:!0,dependsOn:[\"collapsible\",\"featureMenuVisible\",\"collapsed\"]}),w()],et.prototype,\"contentCollapsed\",null),e([i({readOnly:!0,dependsOn:[\"featureNavigationVisible\",\"maxInlineActions\",\"viewModel.allActions\",\"viewModel.allActions.length\"]}),w()],et.prototype,\"dividedActions\",null),e([o(\"viewModel.actions\"),w()],et.prototype,\"actions\",void 0),e([i({dependsOn:[\"viewModel.active\"]}),w()],et.prototype,\"actionsMenuOpen\",null),e([i()],et.prototype,\"alignment\",void 0),e([o(\"viewModel.autoCloseEnabled\")],et.prototype,\"autoCloseEnabled\",void 0),e([o(\"viewModel.autoOpenEnabled\")],et.prototype,\"autoOpenEnabled\",void 0),e([o(\"viewModel.defaultPopupTemplateEnabled\")],et.prototype,\"defaultPopupTemplateEnabled\",void 0),e([o(\"viewModel.content\"),w()],et.prototype,\"content\",void 0),e([i(),w()],et.prototype,\"collapsed\",void 0),e([i(),w()],et.prototype,\"collapseEnabled\",void 0),e([i({readOnly:!0,dependsOn:[\"dockEnabled\",\"alignment\",\"viewModel.active\"]}),w()],et.prototype,\"currentAlignment\",null),e([i({readOnly:!0,dependsOn:[\"viewModel.view.ready\",\"dockEnabled\",\"dockOptions\",\"viewModel.active\"]}),w()],et.prototype,\"currentDockPosition\",null),e([i(),w()],et.prototype,\"dockOptions\",null),e([i(),w()],et.prototype,\"dockEnabled\",void 0),e([o(\"viewModel.featureCount\"),w()],et.prototype,\"featureCount\",void 0),e([i(),w()],et.prototype,\"featureMenuOpen\",void 0),e([o(\"viewModel.features\"),w()],et.prototype,\"features\",void 0),e([i(),w()],et.prototype,\"featureNavigationEnabled\",null),e([o(\"viewModel.goToOverride\")],et.prototype,\"goToOverride\",void 0),e([o(\"viewModel.highlightEnabled\")],et.prototype,\"highlightEnabled\",void 0),e([o(\"viewModel.location\"),w()],et.prototype,\"location\",void 0),e([i({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],et.prototype,\"label\",void 0),e([i(),w()],et.prototype,\"maxInlineActions\",void 0),e([i(),w(),b(\"esri/widgets/Popup/t9n/Popup\")],et.prototype,\"messages\",void 0),e([i(),w(),b(\"esri/t9n/common\")],et.prototype,\"messagesCommon\",void 0),e([o(\"viewModel.promises\")],et.prototype,\"promises\",void 0),e([o(\"viewModel.selectedFeature\"),w()],et.prototype,\"selectedFeature\",void 0),e([o(\"viewModel.selectedFeatureIndex\"),w()],et.prototype,\"selectedFeatureIndex\",void 0),e([i({readOnly:!0,dependsOn:[\"viewModel.selectedFeatureViewModel\",\"visibleElements\"]}),w()],et.prototype,\"selectedFeatureWidget\",null),e([i()],et.prototype,\"spinnerEnabled\",void 0),e([o(\"viewModel.title\"),w()],et.prototype,\"title\",void 0),e([o(\"viewModel.updateLocationEnabled\")],et.prototype,\"updateLocationEnabled\",void 0),e([o(\"viewModel.view\")],et.prototype,\"view\",void 0),e([i({type:x}),w([\"viewModel.active\",\"viewModel.view.widthBreakpoint\",\"viewModel.allActions\",\"viewModel.screenLocation\",\"viewModel.screenLocationEnabled\",\"viewModel.state\",\"viewModel.pendingPromisesCount\",\"viewModel.promiseCount\",\"viewModel.waitingForResult\"]),M([\"triggerAction\",\"trigger-action\"])],et.prototype,\"viewModel\",void 0),e([o(\"viewModel.visible\"),w()],et.prototype,\"visible\",void 0),e([i(),w()],et.prototype,\"visibleElements\",void 0),e([n(\"visibleElements\")],et.prototype,\"castVisibleElements\",null),e([f()],et.prototype,\"_close\",null),e([f()],et.prototype,\"_toggleDockEnabled\",null),e([f()],et.prototype,\"_toggleFeatureMenu\",null),e([f()],et.prototype,\"_toggleActionsMenu\",null),e([f()],et.prototype,\"_triggerAction\",null),e([f()],et.prototype,\"_selectFeature\",null),e([f()],et.prototype,\"_next\",null),e([f()],et.prototype,\"_previous\",null),et=e([r(\"esri.widgets.Popup\")],et);var tt=et;export default tt;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{addFrameTask as i}from\"../core/scheduling.js\";import{init as o}from\"../core/watchUtils.js\";import{byId as r,reparent as n,empty as h}from\"../core/domUtils.js\";import a from\"./overlay/ViewOverlay.js\";import d from\"../widgets/Popup.js\";const u=[0,0];function l(e){const t=(e.ownerDocument||window.document).defaultView,s=e.getBoundingClientRect();return u[0]=s.left+t.pageXOffset,u[1]=s.top+t.pageYOffset,u}function p(e){e&&(h(e),e.parentNode&&e.parentNode.removeChild(e))}const c=h=>{let u=class extends h{constructor(...e){super(...e),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch(\"cursor\",(e=>{const t=this.surface;t&&t.setAttribute(\"data-cursor\",e)})),this.watch(\"interacting\",(e=>{const t=this.surface;t&&t.setAttribute(\"data-interacting\",e.toString())}))])}initialize(){this.handles.add(this.watch(\"ui\",((e,t)=>this._handleUIChange(e,t)))),this._wireUI(this.ui),this.handles.add([this.on(\"focus\",(()=>this.notifyChange(\"focused\"))),this.on(\"blur\",(()=>this.notifyChange(\"focused\")))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(e){const t=this._get(\"container\");if(t===e)return;const s=\"dom-size\";if(this.handles.remove(s),this._stopMeasuring(),t&&(t.classList.remove(\"esri-view\"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set(\"overlay\",null),p(this.root),this._set(\"root\",null),n(this.userContent,t),p(this.userContent),this._set(\"userContent\",null)),e){e.classList.add(\"esri-view\");const t=document.createElement(\"div\");t.className=\"esri-view-user-storage\",n(e,t),e.appendChild(t),this._set(\"userContent\",t);const r=document.createElement(\"div\");r.className=\"esri-view-root\",e.insertBefore(r,e.firstChild),this._set(\"root\",r);const h=document.createElement(\"div\");h.className=\"esri-view-surface\",h.setAttribute(\"role\",\"application\"),h.tabIndex=0,r.appendChild(h),this._set(\"surface\",h);const d=new a;r.appendChild(d.surface),this._set(\"overlay\",d),d.watch(\"needsRender\",(e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=i({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)})),this.forceDOMReadyCycle(),this.handles.add(o(this,\"size\",(e=>{const[t,s]=e,i=\"esri-view-surface--inset-outline\";t>=document.body.clientWidth||s>=document.body.clientHeight?h.classList.add(i):h.classList.remove(i)})),s),this._set(\"container\",e),this._startMeasuring()}else this._set(\"width\",0),this._set(\"height\",0),this._set(\"position\",null),this._set(\"suspended\",!0),this._set(\"surface\",null),this._set(\"container\",null)}get focused(){const e=document.activeElement===this.surface;return document.hasFocus()&&e}get popup(){return this._get(\"popup\")||new d({view:this})}set popup(e){const t=this._get(\"popup\");t&&t!==e&&t.destroy(),this._set(\"popup\",e)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(e,t,s){const i=this.position;return e-=i[0],t-=i[1],s?(s[0]=e,s[1]=t):s=[e,t],s}containerToPage(e,t,s){const i=this.position;return e+=i[0],t+=i[1],s?(s[0]=e,s[1]=t):s=[e,t],s}_handleUIChange(e,t){t&&(this.handles.remove(\"ui\"),t.destroy()),e&&this._wireUI(e),this._set(\"ui\",e)}_wireUI(e){this.handles.remove(\"ui\"),e&&(e.view=this,this.handles.add([o(this,\"root\",(t=>{e.container=t?function(e){const t=document.createElement(\"div\");return e.appendChild(t),t}(t):null})),o(this,\"popup\",((t,s)=>{const i=\"popup\";s&&e.remove(s,i),t&&(t.view=e.view,e.add(t,{key:i,position:\"manual\"}))}))],\"ui\"))}_stopMeasuring(){this.handles.remove(\"measuring\"),this._get(\"resizing\")&&this._set(\"resizing\",!1)}_startMeasuring(){const e=this._freqInfo;e.freq=16,e.time=750,this.handles.add([(()=>{const t=()=>{e.freq=16,e.time=750};return window.addEventListener(\"resize\",t),{remove(){window.removeEventListener(\"resize\",t)}}})(),i({prepare:e=>{const t=this._measure(),s=this._freqInfo;if(s.time+=e.deltaTime,t&&(s.freq=16,this._get(\"resizing\")||this._set(\"resizing\",!0)),s.time<s.freq)return;s.time=0;const i=this._position();s.freq=i||t?16:Math.min(750,2*s.freq),!t&&s.freq>=512&&this._get(\"resizing\")&&this._set(\"resizing\",!1)}})],\"measuring\"),this._measure(),this._position()}_measure(){const e=this.container,t=e?e.clientWidth:0,s=e?e.clientHeight:0;if(0===t||0===s)return this.suspended||this._set(\"suspended\",!0),!1;const i=this.width,o=this.height;return t===i&&s===o?(this.suspended&&this._set(\"suspended\",!1),!1):(this._set(\"width\",t),this._set(\"height\",s),this.suspended&&this._set(\"suspended\",!1),this.emit(\"resize\",{oldWidth:i,oldHeight:o,width:t,height:s}),!0)}_position(){const e=this.container,t=this.position,s=l(e);return(!t||s[0]!==t[0]||s[1]!==t[1])&&(this._set(\"position\",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return e([t({value:null,cast:e=>r(e)})],u.prototype,\"container\",null),e([t({readOnly:!0,dependsOn:[\"surface\"]})],u.prototype,\"focused\",null),e([t({readOnly:!0})],u.prototype,\"height\",void 0),e([t({type:d})],u.prototype,\"popup\",null),e([t({type:a})],u.prototype,\"overlay\",void 0),e([t({readOnly:!0})],u.prototype,\"position\",void 0),e([t({readOnly:!0})],u.prototype,\"resizing\",void 0),e([t({readOnly:!0})],u.prototype,\"root\",void 0),e([t({value:null,dependsOn:[\"width\",\"height\"],readOnly:!0})],u.prototype,\"size\",null),e([t({readOnly:!0})],u.prototype,\"surface\",void 0),e([t({readOnly:!0})],u.prototype,\"suspended\",void 0),e([t()],u.prototype,\"ui\",void 0),e([t({readOnly:!0})],u.prototype,\"userContent\",void 0),e([t({readOnly:!0})],u.prototype,\"width\",void 0),e([t()],u.prototype,\"widthBreakpoint\",void 0),u=e([s(\"esri.views.DOMContainer\")],u),u};function m(e){return e&&\"focus\"in e}export{c as DOMContainer,m as isDOMContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const t=e.modifiers;for(const e of this.keyModifiers)if(!t.has(e))return!1;return!0}}export{e as EventMatch};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Logger.js\";import{EventMatch as t}from\"./EventMatch.js\";const n=e.getLogger(\"esri.views.input.InputHandler\");class i{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const t=this._incoming[e];for(const e of t)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager?n.error(\"This InputHandler has already been registered with an InputManager\"):(e.setEventCallback((e=>this._handleEvent(e))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e)}onUninstall(){}registerIncoming(e,n,i){let a;\"function\"==typeof n?(i=n,a=[]):a=n||[];const o=\"string\"==typeof e?new t(e,a):e,h=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},r=e=>{const t=this._incoming[e.match.eventType];if(t){const n=t.indexOf(e);t.splice(n,1),h(),this._manager&&this._manager.updateDependencies()}},g=new s(o,i,{onPause:r,onRemove:r,onResume:e=>{const t=this._incoming[e.match.eventType];t&&-1===t.indexOf(e)&&(t.push(e),h(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[o.eventType];return c||(c=[],this._incoming[o.eventType]=c),c.push(g),h(),this._manager&&this._manager.updateDependencies(),g}registerOutgoing(e){if(this._outgoing[e])throw Error(\"There is already a callback registered for this outgoing InputEvent: \"+e);const t=new a(e,{onEmit:(e,t,n,i)=>{this._manager.emit(e.eventType,t,n,i)},onRemove:e=>{delete this._outgoing[e.eventType],this._manager.updateDependencies()}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){this._manager.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):n.error(\"This InputHandler is not registered with an InputManager\")}_handleEvent(e){const t=this._incoming[e.type];if(t)for(const n of t)if(n.match.matches(e)&&(n.callback(e),e.shouldStopPropagation()))break}}class s{constructor(e,t,n){this.match=e,this._callback=t,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class a{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}remove(){this._removed=!0,this._handler.onRemove(this)}}export{i as InputHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{InputHandler as e}from\"../InputHandler.js\";class t extends e{constructor(e){super(!0),this._onChange=e,this._value=\"mouse\",this.registerIncoming(\"pointer-down\",(e=>{const t=\"touch\"===e.data.native.pointerType;this._setValue(t?\"touch\":\"mouse\")})),this._moveHandler=this.registerIncoming(\"pointer-move\",(e=>{const t=\"touch\"===e.data.native.pointerType;this._setValue(t?\"touch\":\"mouse\")})),this._moveHandler.pause()}_setValue(e){e!==this._value&&(\"touch\"===e?this._moveHandler.resume():this._moveHandler.pause(),this._value=e,this._onChange(e))}}export{t as LatestPointerType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import n from\"../../core/Accessor.js\";import s from\"../../core/Queue.js\";import{primaryKey as o,isSystemModifier as a}from\"./keys.js\";import{LatestPointerType as p}from\"./handlers/LatestPointerType.js\";const h=t.getLogger(\"esri.views.input.InputManager\");let l=class extends n{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=o,this.latestPointerType=\"mouse\",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}installHandlers(e,t,r=u.INTERNAL){if(this._nameToGroup[e])return void h.error(\"There is already an InputHandler group registered under the name `\"+e+\"`\");if(0===t.length)return void h.error(\"Can't register a group of zero handlers\");const i={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=i;for(let e=i.handlers.length-1;e>=0;e--){const t=i.handlers[e];this._handlers.push(t),t.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(e,r,i,n,s)=>{this._emitInputEvent(t.priorityIndex+1,e,r,i,s,n)},setPointerCapture:(e,r)=>{this._setPointerCapture(i,t,e,r)},setEventCallback:e=>{t.eventCallback=e},setUninstallCallback:e=>{t.uninstallCallback=e},refreshHasPendingInputs:()=>{this.notifyChange(\"hasPendingInputs\")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):h.error(\"There is no InputHandler group registered under the name `\"+e+\"`\")}hasHandlers(e){return void 0!==this._nameToGroup[e]}updateDependencies(){const e=new Set,t=new Set;this._handlersPriority=[];for(let e=this._handlers.length-1;e>=0;e--){const t=this._handlers[e];t.priorityIndex=e,this._handlersPriority.push(t)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const i=this._handlersPriority[r];i.priorityIndex=r;let n=i.handler.hasSideEffects;if(!n)for(const t of i.handler.outgoingEventTypes)if(e.has(t)){n=!0;break}if(n)for(const r of i.handler.incomingEventMatches){e.add(r.eventType);for(const e of r.keyModifiers)a(e)||t.add(e)}i.active=n}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add(\"pointer-capture-lost\"),this._keyModifiers.size>0&&(this._sourceEvents.add(\"key-down\"),this._sourceEvents.add(\"key-up\")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(e){this._set(\"latestPointerType\",e)}_onEventReceived(e,t){if(\"pointer-capture-lost\"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const r=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const i=()=>{if(!r){const e=new Set;this._activeKeyModifiers.forEach((t=>{e.add(t)})),this._activeKeyModifiers=e,r=!0}},n=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(i(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(i(),this._activeKeyModifiers.delete(e))};if(\"key-down\"===e||\"key-up\"===e){const r=t.key;this._keyModifiers.has(r)&&n(r,\"key-down\"===e)}const s=t.native;n(\"Alt\",!(!s||!s.altKey)),n(\"Ctrl\",!(!s||!s.ctrlKey)),n(\"Shift\",!(!s||!s.shiftKey)),n(\"Meta\",!(!s||!s.metaKey)),n(\"Primary\",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new p((e=>this._setLatestPointerType(e))),this.recognizers.length>0&&this.installHandlers(\"default\",this.recognizers,u.INTERNAL),this.installHandlers(\"input-manager-logic\",[this._latestPointerTypeHandler],u.INTERNAL)}_setPointerCapture(e,t,r,i){const n=e.name+\"-\"+t.priorityIndex,s=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,s),i?(s.add(n),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):s.has(n)&&(s.delete(n),0===s.size&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,r,i){this._emitInputEvent(0,e,t,r,i)}_emitInputEvent(e,t,r,i,n,s){const o=void 0!==i?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==n&&n,p={event:new d(t,r,o,s||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(p):this._doNewPropagation(p)}_doNewPropagation(e){this._currentPropagation={events:new s,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:r}=this._currentPropagation.events.pop(),i=t.data&&t.data.eventId;if(!(null!=i&&this._stoppedPropagationEventIds.has(i)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){null!=i&&this._stoppedPropagationEventIds.add(i);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null}}_pausePropagation(e){const t=new s;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(r.eventType!==e.eventType)continue;const t=r.keyModifiers.filter((t=>-1!==e.keyModifiers.indexOf(t)));if(t.length===r.keyModifiers.length!==(t.length===e.keyModifiers.length))return r.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(r,t[e])>=0;)e++;t.splice(e,0,r)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,r)=>{e((()=>{this._onEventReceived(t,r)}))},disablePointerCapture:e}}};e([r({readOnly:!0})],l.prototype,\"hasPendingInputs\",null),e([r()],l.prototype,\"eventSource\",void 0),e([r()],l.prototype,\"recognizers\",void 0),e([r({readOnly:!0})],l.prototype,\"latestPointerType\",void 0),l=e([i(\"esri.views.input.InputManager\")],l);class d{constructor(e,t,r,i,n){this.type=e,this.data=t,this.timestamp=r,this.modifiers=i,this.cancelable=n,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return 0!=(1&this._propagationState)}async(e){this._propagationState|=2;const t=(e,t)=>{this._propagationState&=-3;const r=this._resumeCallback;if(this._resumeCallback=null,r&&r(),t)throw e;return e};return(\"function\"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}const u={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};export{l as InputManager,u as ViewEventPriorities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport r from\"../../core/has.js\";import{eventKey as e}from\"../../core/events.js\";const t=r(\"mac\")?\"Meta\":\"Ctrl\",o={8:\"Backspace\",9:\"Tab\",13:\"Enter\",27:\"Escape\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\"};for(let r=48;r<58;r++)o[r]=String.fromCharCode(r);for(let r=1;r<25;r++)o[111+r]=`F${r}`;for(let r=65;r<91;r++)o[r]=[String.fromCharCode(r+32),String.fromCharCode(r)];function a(r){if(void 0!==r.key)return e(r);const t=o[r.keyCode];return Array.isArray(t)?r.shiftKey?t[1]:t[0]:t}function n(r){switch(r){case\"Ctrl\":case\"Alt\":case\"Shift\":case\"Meta\":case\"Primary\":return!0}return!1}export{a as eventKey,n as isSystemModifier,t as primaryKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../core/maybe.js\";import o from\"../../core/Collection.js\";import{isDOMContainer as a}from\"../DOMContainer.js\";function i(t,e){const o=t.view;o&&(e&&o.ready&&o.activeTool!==t?(o.activeTool=t,a(o)&&o.focus()):e||o.activeTool!==t||(o.activeTool=null))}function n(e,o,a){const i=e.activeTool;o!==i&&(t(i)&&i.deactivate&&i.deactivate(),a(o),t(o)&&o.activate&&o.activate())}function c(){const t=new o;return t.on(\"after-add\",(t=>{const e=t.item;e.view&&e.view.ready&&e.attach()})),t.on(\"after-remove\",(t=>{const e=t.item;i(e,!1),e.destroyed||e.detach()})),t}function r(t){return!1!==t.visible&&!1!==t.editable&&(null==t.hasEditableFlag||t.hasEditableFlag(1))}function l(t){return e(t)?{}:\"function\"==typeof t?t():t}export{r as areToolManipulatorsEditable,l as evaluateToolConstructorArguments,c as newToolCollection,i as setActive,n as swap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{createScreenPoint as e}from\"../../core/screenUtils.js\";function c(c){return e(c.x,c.y)}function t(c,t){const n=(c instanceof HTMLElement?c:c.surface).getBoundingClientRect();return e(t.clientX-n.left,t.clientY-n.top)}function n(e,n){return n instanceof Event?t(e,n):c(n)}function i(e){if(e instanceof Event)return!0;if(\"object\"==typeof e&&\"type\"in e){switch(e.type){case\"click\":case\"double-click\":case\"pointer-down\":case\"pointer-drag\":case\"pointer-enter\":case\"pointer-leave\":case\"pointer-up\":case\"pointer-move\":case\"immediate-click\":case\"immediate-double-click\":case\"hold\":case\"drag\":case\"mouse-wheel\":return!0;case\"key-down\":case\"key-up\":case\"gamepad\":case\"focus\":case\"blur\":default:return!1}}return!1}export{c as createScreenPointFromEvent,t as createScreenPointFromNativeEvent,n as createScreenPointFromSupportedEvent,i as isSupportedScreenPointEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{reject as i,resolve as t}from\"../../core/promiseUtils.js\";import r from\"../../support/actions/ActionButton.js\";const o=\"esri-icon-trash\",n=new r({id:\"zoom-to-feature\",title:\"{messages.zoom}\",className:\"esri-icon-zoom-in-magnifying-glass\"}),s=new r({id:\"remove-selected-feature\",title:\"{messages.remove}\",className:o}),a=[n,s],c=function(r){const{event:o,view:a}=r,{action:c}=o,m=a&&a.popup;if(!c)return i(new e(\"trigger-action:missing-arguments\",\"Event has no action\"));if(!m)return i(new e(\"trigger-action:missing-arguments\",\"view.popup is missing\"));const{disabled:g,id:u}=c;if(!u)return i(new e(\"trigger-action:invalid-action\",\"action.id is missing\"));if(g)return i(new e(\"trigger-action:invalid-action\",\"Action is disabled\"));if(u===n.id)return m.viewModel.zoomToLocation();if(u===s.id){m.close();const{selectedFeature:r}=m;if(!r)return i(new e(`trigger-action:${s.id}`,\"selectedFeature is required\",{selectedFeature:r}));const{sourceLayer:o}=r;return o?o.remove(r):a.graphics.remove(r),t()}return t()};export{a as all,s as removeSelectedFeature,c as triggerAction,n as zoomToFeature};\n"],"sourceRoot":""}