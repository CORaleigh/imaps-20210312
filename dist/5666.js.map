{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/Queue.js","webpack://imaps/./node_modules/@arcgis/core/views/overlay/ViewOverlay.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/AnchorElementViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Spinner/SpinnerViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Spinner.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup/PopupViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup.js","webpack://imaps/./node_modules/@arcgis/core/views/DOMContainer.js","webpack://imaps/./node_modules/@arcgis/core/views/input/EventMatch.js","webpack://imaps/./node_modules/@arcgis/core/views/input/InputHandler.js","webpack://imaps/./node_modules/@arcgis/core/views/input/handlers/LatestPointerType.js","webpack://imaps/./node_modules/@arcgis/core/views/input/InputManager.js","webpack://imaps/./node_modules/@arcgis/core/views/input/keys.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/interactiveToolUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/support/screenUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Popup/actions.js"],"names":["e","values","next","value","this","_peeker","_items","Set","size","clear","contains","add","has","length","t","peek","delete","forEach","c","super","arguments","items","_watchUpdatingTracking","_callbacks","Map","_projector","_hiddenProjector","document","createElement","className","_set","_hiddenSurface","setAttribute","appendChild","addOnCollectionChange","added","map","render","set","append","surface","removed","detach","get","removeChild","domNode","remove","removeAll","destroy","renderNow","r","o","s","i","left","top","right","bottom","getBoundingClientRect","firstChild","computeBoundingRect","Math","max","min","some","visible","getContext","save","font","getComputedStyle","fontFamily","renderCanvas","restore","readOnly","prototype","aliasOf","_anchorHandles","location","screenLocation","screenLocationEnabled","view","_updateScreenPointAndHandle","_wireUpView","_viewpointHandle","_setScreenLocation","type","_viewpointChange","_toggleWatchingViewpoint","emit","resume","pause","toScreen","p","_animationDelay","_animationPromise","viewModel","own","_visibleChange","promise","catch","then","hide","_getPositionStyles","class","classes","styles","padding","x","y","j","key","defaultKeyValue","base","typeMap","button","toggle","T","V","L","_handles","_pendingPromises","_zoomToLocation","_fetchFeaturesController","actions","defaultPopupTemplateEnabled","autoCloseEnabled","autoOpenEnabled","content","featureViewModels","highlightEnabled","title","updateLocationEnabled","zoomFactor","_autoOpenEnabledChange","on","_autoClose","_highlightFeature","_animationStateChange","_locationChange","_selectedFeatureChange","event","_waitingForResultChange","_updateFeatureVMs","_cancelFetchingFeatures","waitingForResult","_get","selectedFeature","getEffectivePopupTemplate","popupTemplate","overwriteActions","concat","filter","Boolean","features","pendingPromisesCount","promiseCount","selectedFeatureIndex","featureCount","promises","Array","isArray","notifyChange","slice","_updateFeatures","_updatePendingPromises","isNaN","_getSelectedTarget","target","error","Promise","reject","callGoTo","scale","screenPoint","fetchPopupFeatures","signal","fetchFeatures","_setFetchFeaturesPromises","allActions","getItemAt","disabled","action","a","l","_isZoomScreenSize","h","geometry","centerAtLocation","center","clone","_getPointFromGeometry","_fetchFeaturesWithController","_getScreenPoint","clientOnlyGraphics","promisesPerLayerView","resolve","destroyed","_destroyFeatureVMs","graphic","splice","n","spatialReference","pointerType","_fetchFeaturesAndOpen","abort","mapPoint","popup","open","declaredClass","getViewForGraphic","whenGraphicBounds","useViewElevation","boundingBox","centroid","extent","when","whenLayerView","layer","_getLayerView","_highlightPromise","objectIdField","attributes","u","highlight","indexOf","N","E","buttonEnabled","position","breakpoint","width","B","D","P","closeButton","featureNavigation","S","_blurClose","_blurContainer","_containerNode","_mainContainerNode","_featureMenuNode","_actionsMenuNode","_focusClose","_focusContainer","_focusDockButton","_focusFeatureMenuButton","_focusActionsMenuButton","_focusFirstFeature","_focusFirstAction","_pointerOffsetInPx","_spinner","_feature","_displaySpinnerThrottled","_displaySpinner","alignment","collapsed","collapseEnabled","dockEnabled","featureMenuOpen","goToOverride","label","maxInlineActions","messages","messagesCommon","spinnerEnabled","visibleElements","_addSelectedFeatureIndexHandle","_positionContainer","_toggleScreenLocationEnabled","reposition","_spinnerEnabledChange","_updateDockEnabledForViewSize","_viewChange","_viewReadyChange","_hideSpinner","_setTitleFromFeatureWidget","_setContentFromFeatureWidget","widthBreakpoint","active","_watchActions","_destroySelectedFeatureWidget","_destroySpinner","id","selectedFeatureWidget","waitingForContent","hasContent","featureNavigationVisible","collapsible","featureMenuVisible","_divideActions","_getCurrentAlignment","_getCurrentDockPosition","xsmall","height","_setCurrentDockPosition","replacement","version","selectedFeatureViewModel","warn","scheduleRender","actionsMenuOpen","previous","_setCurrentAlignment","triggerAction","dividedActions","currentAlignment","currentDockPosition","menuActions","d","g","_","f","v","role","bind","afterCreate","afterUpdate","renderMainContainer","renderPointer","loading","renderLoadingIcon","tabIndex","onclick","_previous","onkeydown","renderPreviousIcon","_next","renderNextIcon","featureMenuId","_toggleFeatureMenu","_focusFeatureMenuButtonNode","toString","menu","_getPageText","renderPreviousButton","renderNavigationLoading","renderFeatureMenuButton","renderNextButton","_wouldDockTo","undock","dock","dockOptions","_toggleDockEnabled","_focusDockButtonNode","renderDockIcon","titleId","contentCollapsed","innerHTML","expand","collapse","enterAnimation","_createFeatureUpdatedAnimation","_toggleCollapsed","_close","close","_closeButtonNodeUpdated","renderCloseIcon","renderTitle","renderDockButton","renderCloseButton","contentId","renderContent","actionsMenuId","actionsMenuButtonId","_toggleActionsMenu","_focusActionsMenuButtonNode","inlineActions","onkeyup","_handleActionMenuKeyup","_actionsMenuNodeUpdated","toArray","renderAction","index","renderInlineActions","renderActionsMenuButton","renderMenuActions","renderNavigationButtons","renderInlineActionsContainer","renderNavigation","selectedFeatures","total","_featureMenuViewportNodeUpdated","renderFeatureMenu","_handleMainKeyup","_mainContainerNodeUpdated","renderFooter","renderFeatureMenuContainer","renderHeader","renderContentContainer","renderNodeContent","_getActionClass","_getActionImage","_getIconStyles","_getActionTitle","renderActionIcon","renderActionText","uid","_handleActionMenuItemKeyup","_triggerAction","untitled","_handleFeatureMenuItemKeyup","_selectFeature","_featureMenuNodeUpdated","_handleFeatureMenuKeyup","renderFeatureMenuItem","image","round","_getInlineActionCount","stopPropagation","currentTarget","querySelectorAll","focus","_createSpinner","show","_selectedFeatureIndexUpdated","popupHeight","popupWidth","side","_isScreenLocationWithinView","parseInt","replace","window","getPropertyValue","_isOutsideView","m","call","_calculatePositionResult","_calculateAutoAlignment","_callCurrentAlignment","reverse","_calculateAutoDockPosition","_callDockPosition","_getDockPosition","breakpoints","_calculatePositionStyle","style","_calculateFullWidth","_calculateAlignmentPosition","_setDockEnabledForViewSize","_dockingThresholdCrossed","blur","scrollTop","ui","hasOwnProperty","_shouldDockAtCurrentViewSize","pageText","_featureMenuOpenChanged","_actionsMenuOpenChanged","source","overridable","ownerDocument","defaultView","pageXOffset","pageYOffset","parentNode","_freqInfo","freq","time","_overlayRenderTaskHandle","resizing","root","suspended","userContent","handles","watch","_handleUIChange","_wireUI","container","_stopMeasuring","classList","overlay","insertBefore","forceDOMReadyCycle","body","clientWidth","clientHeight","_startMeasuring","activeElement","hasFocus","addEventListener","removeEventListener","prepare","_measure","deltaTime","_position","oldWidth","oldHeight","cast","eventType","keyModifiers","modifiers","_manager","_incoming","_outgoing","_incomingEventMatches","_incomingEventTypes","_outgoingEventTypes","_hasSideEffects","push","match","incomingEventMatches","Object","keys","setEventCallback","_handleEvent","setUninstallCallback","_onUninstall","updateDependencies","onPause","onRemove","onResume","Error","onEmit","setPointerCapture","refreshHasPendingInputs","onUninstall","matches","callback","shouldStopPropagation","_callback","_handler","_removed","_onChange","_value","registerIncoming","data","native","_setValue","_moveHandler","_pointerCaptures","_nameToGroup","_handlers","_currentPropagation","_sourceEvents","_keyModifiers","_activeKeyModifiers","_stoppedPropagationEventIds","primaryKey","latestPointerType","test","timestamp","hasCurrentPropagation","eventSource","onEventReceived","_onEventReceived","_installRecognizers","uninstallHandlers","handler","hasPendingInputs","INTERNAL","name","handlers","priorityIndex","groupPriority","eventCallback","uninstallCallback","onInstall","_emitInputEvent","_setPointerCapture","needsHandlerGarbageCollect","_garbageCollectRemovedHandlers","_handlersPriority","_sortHandlersPriority","hasSideEffects","outgoingEventTypes","activeEvents","pointerId","_updateKeyModifiers","cancelable","_emitInputEventFromSource","altKey","ctrlKey","shiftKey","metaKey","_latestPointerTypeHandler","_setLatestPointerType","recognizers","installHandlers","performance","now","events","_doNewPropagation","currentHandler","_continuePropagation","pop","eventId","shouldPausePropagation","_pausePropagation","_compareHandlerPriority","injectEvent","disablePointerCapture","_propagationState","_resumeCallback","preventDefault","DEFAULT","TOOL","WIDGET","8","9","13","27","33","34","35","36","37","38","39","40","45","46","String","fromCharCode","keyCode","ready","activeTool","deactivate","activate","item","attach","editable","hasEditableFlag","HTMLElement","clientX","clientY","Event","zoomToLocation","sourceLayer","graphics"],"mappings":"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","file":"5666.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{assumeNonNull as e}from\"./maybe.js\";class t{constructor(e=(e=>e.values().next().value)){this._peeker=e,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(e){this.contains(e)||this._items.add(e)}contains(e){return this._items.has(e)}pop(){if(0===this.length)return;const t=this.peek();return this._items.delete(e(t)),t}remove(e){this._items.delete(e)}filter(e){return this._items.forEach((t=>{e(t)||this._items.delete(t)})),this}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/Accessor.js\";import s from\"../../core/Collection.js\";import{WatchUpdatingTracking as i}from\"../support/WatchUpdatingTracking.js\";import\"../../libs/maquette/projection.js\";import{createProjector as a}from\"../../libs/maquette/projector.js\";let c=class extends o{constructor(){super(...arguments),this.items=new s,this._watchUpdatingTracking=new i,this._callbacks=new Map,this._projector=a(),this._hiddenProjector=a()}get needsRender(){return this.items.length>0}initialize(){const t=document.createElement(\"div\");t.className=\"esri-overlay-surface\",this._set(\"surface\",t),this._hiddenSurface=document.createElement(\"div\"),this._hiddenSurface.setAttribute(\"style\",\"visibility: hidden;\"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(this.items,(t=>{t.added.map((t=>{const e=()=>t.render();this._callbacks.set(t,e),this._projector.append(this.surface,e)})),t.removed.map((t=>{const e=this._projector.detach(this._callbacks.get(t));this.surface.removeChild(e.domNode),this._callbacks.delete(t)}))}))}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach((t=>this._projector.detach(t))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const e=this._hiddenSurface,r=this._hiddenProjector;let o=null;const s=()=>(o=t.render(),o);r.append(e,s),r.renderNow();const i={left:0,top:0,right:0,bottom:0};if(o&&o.domNode){const t=o.domNode.getBoundingClientRect();i.left=t.left,i.top=t.top,i.right=t.right,i.bottom=t.bottom}for(r.detach(s);e.firstChild;)e.removeChild(e.firstChild);return i}overlaps(t,e){const r=this.computeBoundingRect(t),o=this.computeBoundingRect(e);return Math.max(r.left,o.left)<=Math.min(r.right,o.right)&&Math.max(r.top,o.top)<=Math.min(r.bottom,o.bottom)}get hasVisibleItems(){return this.items.some((t=>t.visible))}renderCanvas(t){if(!this.items.some((t=>t.visible)))return;const e=t.getContext(\"2d\");e.save(),e.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach((t=>{e.save(),t.renderCanvas(e),e.restore()})),e.restore()}};t([e({readOnly:!0})],c.prototype,\"surface\",void 0),t([e({readOnly:!0})],c.prototype,\"items\",void 0),t([e({readOnly:!0})],c.prototype,\"needsRender\",null),t([e({readOnly:!0})],c.prototype,\"_watchUpdatingTracking\",void 0),t([e({readOnly:!0,aliasOf:\"_watchUpdatingTracking.updating\"})],c.prototype,\"updating\",void 0),c=t([r(\"esri.views.overlay.ViewOverlay\")],c);var n=c;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Evented.js\";import s from\"../../core/Handles.js\";import{watch as n,pausable as r}from\"../../core/watchUtils.js\";let c=class extends i.EventedAccessor{constructor(...e){super(...e),this._anchorHandles=new s,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([n(this,[\"screenLocationEnabled\",\"location\",\"view.size\",\"view.stationary\"],(()=>this._updateScreenPointAndHandle())),n(this,[\"view\",\"view.ready\"],(()=>this._wireUpView()))])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const e=\"view\";this._anchorHandles.remove(e),this._viewpointHandle=null;if(!this.get(\"view.ready\"))return;this._setScreenLocation();const{view:t}=this,o=\"3d\"===t.type?\"camera\":\"viewpoint\",i=r(t,o,(()=>this._viewpointChange()));this._anchorHandles.add(i,e),this._viewpointHandle=i,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit(\"view-change\")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:e,location:t,screenLocationEnabled:o}=this;if(!e)return;t&&o?e.resume():e.pause()}_setScreenLocation(){const{location:e,view:t,screenLocationEnabled:o}=this,i=this.get(\"view.ready\"),s=o&&e&&i?t.toScreen(e):null;this._set(\"screenLocation\",s)}};e([t()],c.prototype,\"location\",void 0),e([t({readOnly:!0})],c.prototype,\"screenLocation\",void 0),e([t()],c.prototype,\"screenLocationEnabled\",void 0),e([t()],c.prototype,\"view\",void 0),c=e([o(\"esri.widgets.support.AnchorElementViewModel\")],c);var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"../support/AnchorElementViewModel.js\";const t=\"esri.widgets.CompassViewModel\";let p=class extends e{constructor(o){super(o),this.visible=!1}};o([r()],p.prototype,\"visible\",void 0),p=o([s(t)],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as e}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{after as t}from\"../core/promiseUtils.js\";import{watch as r}from\"../core/watchUtils.js\";import\"./support/widgetUtils.js\";import{j as n}from\"../chunks/index.js\";import p from\"./Widget.js\";import l from\"./Spinner/SpinnerViewModel.js\";const a={base:\"esri-spinner\",spinnerStart:\"esri-spinner--start\",spinnerFinish:\"esri-spinner--finish\"};let c=class extends p{constructor(i,s){super(i,s),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new l,this.visible=!1}initialize(){this.own([r(this,\"visible\",(i=>this._visibleChange(i)))])}destroy(){this._animationPromise=null}show(i){const{location:s,promise:e}=i;s&&(this.viewModel.location=s),this.visible=!0;const o=()=>this.hide();e&&e.catch((()=>{})).then(o)}hide(){this.visible=!1}render(){const{visible:i}=this,{screenLocation:s}=this.viewModel,e=!!s,o=i&&e,t=!i&&e,r={[a.spinnerStart]:o,[a.spinnerFinish]:t},p=this._getPositionStyles();return n(\"div\",{class:this.classes(a.base,r),styles:p})}_visibleChange(i){if(i)return void(this.viewModel.screenLocationEnabled=!0);const s=t(this._animationDelay);this._animationPromise=s,s.catch((()=>{})).then((()=>{this._animationPromise===s&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)}))}_getPositionStyles(){const{screenLocation:i,view:s}=this.viewModel;if(!s||!i)return{};const{padding:e}=s;return{left:i.x-e.left+\"px\",top:i.y-e.top+\"px\"}}};i([e(\"viewModel.location\")],c.prototype,\"location\",void 0),i([e(\"viewModel.view\")],c.prototype,\"view\",void 0),i([s({type:l})],c.prototype,\"viewModel\",void 0),i([e(\"viewModel.visible\")],c.prototype,\"visible\",void 0),c=i([o(\"esri.widgets.Spinner\")],c);var h=c;export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as t,isNone as o}from\"../../core/maybe.js\";import i from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{createAbortController as a}from\"../../core/promiseUtils.js\";import{geographicToWebMercator as l}from\"../../geometry/support/webMercatorUtils.js\";import h from\"../../geometry/Point.js\";import\"../../geometry.js\";import u from\"../../core/Collection.js\";import c from\"../../support/actions/ActionBase.js\";import p from\"../../support/actions/ActionButton.js\";import d from\"../../support/actions/ActionToggle.js\";import g from\"../../core/Handles.js\";import m from\"../../layers/Layer.js\";import{init as f,watch as y,whenFalse as v}from\"../../core/watchUtils.js\";import{ViewEventPriorities as w}from\"../../views/input/InputManager.js\";import F from\"../Feature/FeatureViewModel.js\";import _ from\"../support/AnchorElementViewModel.js\";import{highlightsSupported as b}from\"../../views/support/layerViewUtils.js\";import{zoomToFeature as P,triggerAction as C}from\"./actions.js\";import{GoToMixin as E}from\"../support/GoTo.js\";const j=u.ofType({key:\"type\",defaultKeyValue:\"button\",base:c,typeMap:{button:p,toggle:d}}),x=()=>new j([P.clone()]),T=\"esri.widgets.Popup.PopupViewModel\",V=i.getLogger(T);let L=class extends(E(_)){constructor(e){super(e),this._handles=new g,this._pendingPromises=new Set,this._zoomToLocation=null,this._fetchFeaturesController=null,this.actions=x(),this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.content=null,this.featureViewModels=[],this.highlightEnabled=!0,this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4}initialize(){this._handles.add([f(this,[\"autoOpenEnabled\",\"view\"],(()=>this._autoOpenEnabledChange())),this.on(\"view-change\",(()=>this._autoClose())),y(this,[\"highlightEnabled\",\"selectedFeature\",\"visible\",\"view\"],(()=>this._highlightFeature())),y(this,\"view.animation.state\",(e=>this._animationStateChange(e))),y(this,\"location\",(e=>this._locationChange(e))),y(this,\"selectedFeature\",(e=>this._selectedFeatureChange(e))),this.on(\"trigger-action\",(e=>C({event:e,view:this.view}))),v(this,\"waitingForResult\",(()=>this._waitingForResultChange())),y(this,[\"features\",\"view\",\"view.map\",\"view.spatialReference\"],(()=>this._updateFeatureVMs()))])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get(\"allActions\")||new j;e.removeAll();const t=this.selectedFeature&&(\"function\"==typeof this.selectedFeature.getEffectivePopupTemplate&&this.selectedFeature.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled)||this.selectedFeature.popupTemplate),o=t&&t.actions,i=t&&t.overwriteActions?o:o?o.concat(this.actions):this.actions;return i&&i.filter(Boolean).forEach((t=>e.add(t))),e}get featureCount(){return this.features.length}get features(){return this._get(\"features\")||[]}set features(e){const t=e||[];this._set(\"features\",t);const{pendingPromisesCount:o,promiseCount:i,selectedFeatureIndex:s}=this,r=i&&t.length;r&&o&&-1===s?this.selectedFeatureIndex=0:r&&-1!==s||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get(\"location\")||null}set location(e){const t=this.get(\"view.spatialReference.isWebMercator\");e&&e.get(\"spatialReference.isWGS84\")&&t&&(e=l(e)),this._set(\"location\",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get(\"promises\")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set(\"promises\",[]),void this.notifyChange(\"pendingPromisesCount\");this._set(\"promises\",e),(e=e.slice(0)).forEach((e=>{this._pendingPromises.add(e);const t=t=>{this._pendingPromises.has(e)&&this._updateFeatures(t),this._updatePendingPromises(e)},o=()=>this._updatePendingPromises(e);e.then(t,o)})),this.notifyChange(\"pendingPromisesCount\")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;if(-1===t)return null;return e[t]||null}get selectedFeatureIndex(){const e=this._get(\"selectedFeatureIndex\");return\"number\"==typeof e?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this._set(\"selectedFeatureIndex\",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}centerAtLocation(){const{view:e}=this,t=this._getSelectedTarget();if(!t){const o=new n(\"center-at-location:invalid-target-or-view\",\"Cannot center at a location without a target and view.\",{target:t,view:e});return V.error(o),Promise.reject(o)}return this.callGoTo({target:{target:t,scale:e.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(e,t){const{view:o}=this;if(!o||!e){const t=new n(\"fetch-features:invalid-screenpoint-or-view\",\"Cannot fetch features without a screenPoint and view.\",{screenPoint:e,view:o});return V.error(t),Promise.reject(t)}return o.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:o}=t;delete t.fetchFeatures,o&&this._setFetchFeaturesPromises(t.location),this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit(\"trigger-action\",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}zoomToLocation(){const{location:e,selectedFeature:t,view:o,zoomFactor:i}=this,s=this._getSelectedTarget();if(!s){const e=new n(\"zoom-to:invalid-target-or-view\",\"Cannot zoom to location without a target and view.\",{target:s,view:o});return V.error(e),Promise.reject(e)}const r=o.scale/i,a=this.get(\"selectedFeature.geometry\")||e,l=a&&\"point\"===a.type&&this._isZoomScreenSize(t);P.active=!0,P.disabled=!0;const h=this.callGoTo({target:{target:s,scale:l?r:void 0}}).catch((()=>{P.active=!1,P.disabled=!1,this._zoomToLocation=null})).then((()=>{l&&(this.location=a)}));return this._zoomToLocation=h,h}_animationStateChange(e){this._zoomToLocation||(P.disabled=\"waiting-for-target\"===e)}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:o}=this;o&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureChange(e){if(!e)return;const{location:o,updateLocationEnabled:i,view:s}=this;!i&&o||!e.geometry?i&&!e.geometry&&this.centerAtLocation().then((()=>{this.location=s.center.clone()})):this.location=t(this._getPointFromGeometry(e.geometry))}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:o}=e,i=Promise.resolve(t),s=o.map((e=>e.promise));this.promises=[i,...s]}))}_destroyFeatureVMs(){this.featureViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",[])}_updateFeatureVMs(){const{features:e,featureViewModels:t}=this;if(this._destroyFeatureVMs(),!e||!e.length)return;const o=t.slice(0),i=[];e.forEach(((e,t)=>{if(!e)return;let s=null;if(o.some(((t,i)=>(t&&t.graphic===e&&(s=t,o.splice(i,1)),!!s))),s)i[t]=s;else{var r,n;const o=new F({defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,graphic:e,spatialReference:null==(r=this.view)?void 0:r.spatialReference,map:null==(n=this.view)?void 0:n.map,view:this.view});i[t]=o}})),o.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",i)}_getScreenPoint(e){const{view:t}=this;return t&&e&&\"function\"==typeof t.toScreen?t.toScreen(e):null}_getSelectedTarget(){const{selectedFeature:e,location:t,view:o}=this;if(!o)return null;if(\"3d\"===o.type)return e||t;return this.get(\"selectedFeature.geometry\")||t}_autoOpenEnabledChange(){const e=\"auto-fetch-features\",{_handles:t,autoOpenEnabled:o}=this;if(t.remove(e),o&&this.view){const o=this.view.on(\"click\",(e=>{\"mouse\"===e.pointerType&&0!==e.button||this._fetchFeaturesAndOpen(e)}),w.WIDGET);t.add(o,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const o=a(),{signal:i}=o;this._fetchFeaturesController=o,this.notifyChange(\"waitingForResult\");const s=this.fetchFeatures(e,{signal:i,event:t});return s.catch((()=>{})).then((()=>{this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")})),s}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:o}=e,{view:i}=this;this._fetchFeaturesWithController(t,e).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:s,location:r}=e,n=[Promise.resolve(t),...s.map((e=>e.promise))];return i.popup.open({location:r||o,promises:n}),e}))}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange(\"pendingPromisesCount\"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_isZoomScreenSize(e){const{view:t}=this;if(\"3d\"!==t.type||!e||\"esri.Graphic\"!==e.declaredClass)return!0;const o=t.getViewForGraphic(e);if(o&&\"whenGraphicBounds\"in o){let t=!1;return o.whenGraphicBounds(e,{useViewElevation:!0}).then((e=>{t=!e||!e.boundingBox||e.boundingBox[0]===e.boundingBox[3]&&e.boundingBox[1]===e.boundingBox[4]&&e.boundingBox[2]===e.boundingBox[5]})).catch((()=>{const t=new n(\"zoom-to:invalid-graphic\",\"Could not zoom to the location of the graphic.\",{graphic:e});V.error(t)})),t}return!0}_getPointFromGeometry(e){return o(e)?null:\"point\"===e.type?e:\"extent\"===e.type?e.center:\"polygon\"===e.type?e.centroid:\"multipoint\"===e.type||\"polyline\"===e.type?e.extent.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}async _highlightFeature(){const e=\"highlight\";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:o,view:i,visible:s}=this;if(!(t&&i&&o&&s))return;const{layer:r}=t;if(!(r&&r instanceof m))return;const n=this._getLayerView(i,r);this._highlightPromise=n;const a=await n;if(!(a&&b(a)&&this._highlightPromise===n&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l=\"objectIdField\"in r&&r.objectIdField,h=t.attributes,u=h&&l&&h[l],c=a.highlight(u||t);this._handles.add(c,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const o=e.filter((e=>-1===t.indexOf(e)));this.features=t.concat(o)}};e([s({type:j})],L.prototype,\"actions\",void 0),e([s({readOnly:!0})],L.prototype,\"active\",null),e([s({readOnly:!0})],L.prototype,\"allActions\",null),e([s({type:Boolean})],L.prototype,\"defaultPopupTemplateEnabled\",void 0),e([s()],L.prototype,\"autoCloseEnabled\",void 0),e([s()],L.prototype,\"autoOpenEnabled\",void 0),e([s()],L.prototype,\"content\",void 0),e([s({readOnly:!0})],L.prototype,\"featureCount\",null),e([s()],L.prototype,\"features\",null),e([s({readOnly:!0})],L.prototype,\"featureViewModels\",void 0),e([s()],L.prototype,\"highlightEnabled\",void 0),e([s({type:h})],L.prototype,\"location\",null),e([s({readOnly:!0})],L.prototype,\"pendingPromisesCount\",null),e([s({readOnly:!0})],L.prototype,\"waitingForResult\",null),e([s({readOnly:!0})],L.prototype,\"promiseCount\",null),e([s()],L.prototype,\"promises\",null),e([s({value:null,readOnly:!0})],L.prototype,\"selectedFeature\",null),e([s({value:-1})],L.prototype,\"selectedFeatureIndex\",null),e([s({readOnly:!0})],L.prototype,\"selectedFeatureViewModel\",null),e([s({readOnly:!0})],L.prototype,\"state\",null),e([s()],L.prototype,\"title\",void 0),e([s()],L.prototype,\"updateLocationEnabled\",void 0),e([s()],L.prototype,\"view\",void 0),e([s()],L.prototype,\"visible\",void 0),e([s()],L.prototype,\"zoomFactor\",void 0),e([s()],L.prototype,\"centerAtLocation\",null),e([s()],L.prototype,\"zoomToLocation\",null),L=e([r(T)],L);var O=L;export default O;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import t from\"../core/Logger.js\";import{property as i}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import{deprecatedProperty as s}from\"../core/deprecate.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{eventKey as a}from\"../core/events.js\";import l from\"../core/Collection.js\";import{substitute as u}from\"../intl/substitute.js\";import\"../intl.js\";import c from\"../core/Handles.js\";import{watch as d,whenFalse as p,on as h,init as g}from\"../core/watchUtils.js\";import{throttle as _}from\"../core/throttle.js\";import{cssTransition as f,isRTL as v}from\"./support/widgetUtils.js\";import{accessibleHandler as m}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as b}from\"./support/decorators/messageBundle.js\";import{vmEvent as M}from\"./support/decorators/vmEvent.js\";import{j as w}from\"../chunks/index.js\";import y from\"./Widget.js\";import{FeatureContentMixin as k}from\"./Feature/support/FeatureContentMixin.js\";import A from\"./Feature.js\";import C from\"./Spinner.js\";import F from\"./Popup/PopupViewModel.js\";const x=\"selected-index\",I=0,N=\"popup-spinner\",E={iconLeftTriangleArrow:\"esri-icon-left-triangle-arrow\",iconRightTriangleArrow:\"esri-icon-right-triangle-arrow\",iconDockToTop:\"esri-icon-maximize\",iconDockToBottom:\"esri-icon-dock-bottom\",iconDockToLeft:\"esri-icon-dock-left\",iconDockToRight:\"esri-icon-dock-right\",iconClose:\"esri-icon-close\",iconUndock:\"esri-icon-minimize\",iconCheckMark:\"esri-icon-check-mark\",iconLoading:\"esri-icon-loading-indicator\",iconDefaultAction:\"esri-icon-default-action\",iconActionsMenu:\"esri-icon-handle-horizontal\",rotating:\"esri-rotating\",base:\"esri-popup\",widget:\"esri-widget\",main:\"esri-popup__main-container\",loadingContainer:\"esri-popup__loading-container\",isCollapsible:\"esri-popup--is-collapsible\",isCollapsed:\"esri-popup--is-collapsed\",shadow:\"esri-popup--shadow\",isDocked:\"esri-popup--is-docked\",isDockedTopLeft:\"esri-popup--is-docked-top-left\",isDockedTopCenter:\"esri-popup--is-docked-top-center\",isDockedTopRight:\"esri-popup--is-docked-top-right\",isDockedBottomLeft:\"esri-popup--is-docked-bottom-left\",isDockedBottomCenter:\"esri-popup--is-docked-bottom-center\",isDockedBottomRight:\"esri-popup--is-docked-bottom-right\",alignTopCenter:\"esri-popup--aligned-top-center\",alignBottomCenter:\"esri-popup--aligned-bottom-center\",alignTopLeft:\"esri-popup--aligned-top-left\",alignBottomLeft:\"esri-popup--aligned-bottom-left\",alignTopRight:\"esri-popup--aligned-top-right\",alignBottomRight:\"esri-popup--aligned-bottom-right\",isFeatureMenuOpen:\"esri-popup--feature-menu-open\",isActionsMenuOpen:\"esri-popup--actions-menu-open\",hasFeatureUpdated:\"esri-popup--feature-updated\",header:\"esri-popup__header\",headerButtons:\"esri-popup__header-buttons\",headerContainer:\"esri-popup__header-container\",headerContainerButton:\"esri-popup__header-container--button\",headerTitle:\"esri-popup__header-title\",content:\"esri-popup__content\",footer:\"esri-popup__footer\",footerHasPagination:\"esri-popup__footer--has-pagination\",footerHasActions:\"esri-popup__footer--has-actions\",footerHasActionsMenu:\"esri-popup__footer--has-actions-menu\",button:\"esri-popup__button\",buttonDisabled:\"esri-popup__button--disabled\",buttonDock:\"esri-popup__button--dock\",icon:\"esri-popup__icon\",iconDock:\"esri-popup__icon--dock-icon\",inlineActionsContainer:\"esri-popup__inline-actions-container\",actionsMenuButton:\"esri-popup__actions-menu-button\",actions:\"esri-popup__actions\",action:\"esri-popup__action\",actionImage:\"esri-popup__action-image\",actionText:\"esri-popup__action-text\",actionToggle:\"esri-popup__action-toggle\",actionToggleOn:\"esri-popup__action-toggle--on\",pointer:\"esri-popup__pointer\",pointerDirection:\"esri-popup__pointer-direction\",navigation:\"esri-popup__navigation\",paginationPrevious:\"esri-popup__pagination-previous\",paginationNext:\"esri-popup__pagination-next\",paginationPreviousIconLTR:\"esri-popup__pagination-previous-icon\",paginationPreviousIconRTL:\"esri-popup__pagination-previous-icon--rtl\",paginationNextIconLTR:\"esri-popup__pagination-next-icon\",paginationNextIconRTL:\"esri-popup__pagination-next-icon--rtl\",featureMenu:\"esri-popup__feature-menu\",featureMenuList:\"esri-popup__feature-menu-list\",featureMenuItem:\"esri-popup__feature-menu-item\",featureMenuViewport:\"esri-popup__feature-menu-viewport\",featureMenuHeader:\"esri-popup__feature-menu-header\",featureMenuNote:\"esri-popup__feature-menu-note\",featureMenuSelected:\"esri-popup__feature-menu-item--selected\",featureMenuButton:\"esri-popup__feature-menu-button\",featureMenuTitle:\"esri-popup__feature-menu-title\",collapseButton:\"esri-popup__collapse-button\"},O={buttonEnabled:!0,position:\"auto\",breakpoint:{width:544}},B=\"esri-popup\";function T(e,t){return void 0===t?`${B}__${e}`:`${B}__${e}-${t}`}const D=\"esri.widgets.Popup\",P=t.getLogger(D),L={closeButton:!0,featureNavigation:!0};let S=class extends(k(y)){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new c,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._displaySpinnerThrottled=_((()=>this._displaySpinner()),I),this.actions=null,this.alignment=\"auto\",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new F,this.visible=null,this.visibleElements={...L},this._addSelectedFeatureIndexHandle(),this.own([d(this,\"viewModel.screenLocation\",(()=>this._positionContainer())),d(this,[\"viewModel.active\",\"dockEnabled\"],(()=>this._toggleScreenLocationEnabled())),d(this,\"viewModel.screenLocation\",((e,t)=>{!!e!=!!t&&this.reposition()})),d(this,[\"viewModel.view.padding\",\"viewModel.view.size\",\"viewModel.active\",\"viewModel.location\",\"alignment\"],(()=>this.reposition())),d(this,\"spinnerEnabled\",(e=>this._spinnerEnabledChange(e))),d(this,\"viewModel.view.size\",((e,t)=>this._updateDockEnabledForViewSize(e,t))),d(this,\"viewModel.view\",((e,t)=>this._viewChange(e,t))),d(this,\"viewModel.view.ready\",((e,t)=>this._viewReadyChange(e,t))),d(this,[\"viewModel.waitingForResult\",\"viewModel.location\"],(()=>{this._hideSpinner(),this._displaySpinnerThrottled()})),d(this,\"selectedFeatureWidget.viewModel.title\",(e=>this._setTitleFromFeatureWidget(e))),d(this,[\"selectedFeatureWidget.viewModel.content\",\"selectedFeatureWidget.viewModel.waitingForContent\"],(()=>this._setContentFromFeatureWidget())),p(this,\"collapsed\",(()=>{var e,t;\"xsmall\"===(null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()})),h(this,\"viewModel.allActions\",\"change\",(()=>this._watchActions())),g(this,\"viewModel.allActions\",(()=>this._watchActions()))])}destroy(){this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles&&this._handles.destroy(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,i,o,n;return!!(this.selectedFeatureWidget?(null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.waitingForContent)||(null==(i=this.selectedFeatureWidget)||null==(o=i.viewModel)?void 0:o.content):null==(n=this.viewModel)?void 0:n.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set(\"actionsMenuOpen\",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get(\"actionsMenuOpen\")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get(\"dockOptions\")||O}set dockOptions(e){const t={...O},i=this.get(\"viewModel.view.breakpoints\"),o={};i&&(o.width=i.xsmall,o.height=i.xsmall);const n={...t,...e},s={...t.breakpoint,...o},{breakpoint:r}=n;!0===r?n.breakpoint=s:\"object\"==typeof r&&(n.breakpoint={...s,...r}),this._set(\"dockOptions\",n),this._setCurrentDockPosition(),this.reposition()}set featureNavigationEnabled(e){s(P,\"featureNavigationEnabled\",{replacement:\"visibleElements.featureNavigation\",version:\"4.15\"}),this.visibleElements={...this.visibleElements,featureNavigation:e}}get selectedFeatureWidget(){const{_feature:e,visibleElements:t}=this,{selectedFeatureViewModel:i}=this.viewModel,o={...t,title:!1};return i?(e?(e.viewModel=i,e.visibleElements=o):this._feature=new A({viewModel:i,visibleElements:o}),this._feature):null}castVisibleElements(e){return{...L,...e}}blur(){const{active:e}=this.viewModel;e||P.warn(\"Popup can only be blurred when currently active.\"),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||P.warn(\"Popup can only be focused when currently active.\"),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var t,i;this._handles.remove(x);const o=!!e&&!!e.featureMenuOpen,n=!!e&&!!e.actionsMenuOpen,s={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:n,featureMenuOpen:o};\"xsmall\"===(null==(t=this.viewModel)||null==(i=t.view)?void 0:i.widthBreakpoint)&&(s.collapsed=!0),this.set(s),this.viewModel.open(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var e,t,i,o;const{actionsMenuOpen:n,dockEnabled:s,featureMenuVisible:r,dividedActions:a,currentAlignment:l,currentDockPosition:u}=this,{active:c}=this.viewModel,{menuActions:d}=a,p=c&&d.length>1&&n,h=c&&s,g=c&&!s,_=null==(e=this.selectedFeature)||null==(t=e.layer)?void 0:t.title,f=null==(i=this.selectedFeature)||null==(o=i.layer)?void 0:o.id,v={[E.alignTopCenter]:\"top-center\"===l,[E.alignBottomCenter]:\"bottom-center\"===l,[E.alignTopLeft]:\"top-left\"===l,[E.alignBottomLeft]:\"bottom-left\"===l,[E.alignTopRight]:\"top-right\"===l,[E.alignBottomRight]:\"bottom-right\"===l,[E.isDocked]:h,[E.shadow]:g,[E.isDockedTopLeft]:\"top-left\"===u,[E.isDockedTopCenter]:\"top-center\"===u,[E.isDockedTopRight]:\"top-right\"===u,[E.isDockedBottomLeft]:\"bottom-left\"===u,[E.isDockedBottomCenter]:\"bottom-center\"===u,[E.isDockedBottomRight]:\"bottom-right\"===u,[E.isFeatureMenuOpen]:r,[E.isActionsMenuOpen]:p};return w(\"div\",{class:this.classes(E.base,v),role:\"presentation\",\"data-layer-title\":_,\"data-layer-id\":f,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},c?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(E.icon,E.iconLoading,E.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?w(\"div\",{key:T(\"loading-container\"),role:\"presentation\",class:E.loadingContainer,\"aria-label\":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=v(),t={[E.iconRightTriangleArrow]:e,[E.paginationPreviousIconRTL]:e,[E.iconLeftTriangleArrow]:!e,[E.paginationPreviousIconLTR]:!e};return w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(E.icon,t)})}renderPreviousButton(){const{messages:e}=this;return w(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(E.button,E.paginationPrevious),\"aria-label\":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=v(),t={[E.iconLeftTriangleArrow]:e,[E.paginationNextIconRTL]:e,[E.iconRightTriangleArrow]:!e,[E.paginationNextIconLTR]:!e};return w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(E.icon,t)})}renderNextButton(){const{messages:e}=this;return w(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(E.button,E.paginationNext),\"aria-label\":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:o,selectedFeatureIndex:n}=this.viewModel;return w(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(E.button,E.featureMenuButton),\"aria-haspopup\":\"true\",\"aria-controls\":t,\"aria-expanded\":e.toString(),\"aria-label\":i.menu,title:i.menu},this._getPageText(o,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[E.iconUndock]:e,[E.iconDock]:!e,[E.iconDockToRight]:!e&&(\"top-right\"===t||\"bottom-right\"===t),[E.iconDockToLeft]:!e&&(\"top-left\"===t||\"bottom-left\"===t),[E.iconDockToTop]:!e&&\"top-center\"===t,[E.iconDockToBottom]:!e&&\"bottom-center\"===t};return w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(i,E.icon)})}renderDockButton(){var e,t,i;const{dockEnabled:o,messages:n}=this,s=null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint,r=o?n.undock:n.dock;return\"xsmall\"!==s&&null!=(i=this.dockOptions)&&i.buttonEnabled?w(\"div\",{role:\"button\",\"aria-label\":r,title:r,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(E.button,E.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:o,messagesCommon:n}=this,s={[E.headerContainerButton]:i},r=w(\"h2\",{class:E.headerTitle,innerHTML:e}),a=i?w(\"button\",{key:`${e}--collapsible`,id:t,title:o?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(E.headerContainer,s),\"aria-expanded\":o?\"false\":\"true\",onclick:this._toggleCollapsed},r):w(\"div\",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(E.headerContainer,s)},r);return e?a:null}renderCloseIcon(){return w(\"span\",{\"aria-hidden\":\"true\",class:this.classes(E.icon,E.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?w(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:E.button,\"aria-label\":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return w(\"header\",{class:E.header},this.renderTitle(),w(\"div\",{class:E.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i}=this,{content:o}=this.viewModel;return t&&!i?w(\"article\",{key:o,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:E.content},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o,messagesCommon:n}=this,s=i?n.close:n.open,{menuActions:r}=o;return r.length?w(\"div\",{key:T(\"actions-menu-button\"),class:this.classes(E.button,E.actionsMenuButton),role:\"button\",id:t,\"aria-haspopup\":\"true\",\"aria-controls\":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,\"aria-label\":s,title:s},w(\"span\",{\"aria-hidden\":\"true\",class:E.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o}=this,{menuActions:n,inlineActions:s}=o;return n.length&&i?w(\"ul\",{id:e,role:\"menu\",\"aria-labelledby\":t,key:T(\"actions\"),class:E.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map(((e,t)=>this.renderAction({action:e,index:t+s.length,type:\"menu-item\"})))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(((e,t)=>this.renderAction({action:e,index:t,type:\"inline\"})))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,o=!!t.length;return i||o?w(\"div\",{key:\"inline-actions-container\",\"data-inline-actions\":i.toString(),\"data-menu-actions\":o.toString(),class:E.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?w(\"section\",{key:T(\"navigation\"),class:this.classes(E.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:o}=t,n=!!i.length,s=!!o.length,r={[E.footerHasPagination]:e,[E.footerHasActions]:n,[E.footerHasActionsMenu]:s};return e||n?w(\"div\",{key:T(\"feature-buttons\"),class:this.classes(E.footer,r)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t}=this.viewModel,i=u(e.selectedFeatures,{total:t.length});return w(\"section\",{key:T(\"menu\"),class:E.featureMenu},w(\"h2\",{class:E.featureMenuHeader},i),w(\"nav\",{class:E.featureMenuViewport,afterCreate:this._featureMenuViewportNodeUpdated,afterUpdate:this._featureMenuViewportNodeUpdated},this.renderFeatureMenu()))}renderPointer(){return this.dockEnabled?null:w(\"div\",{key:T(\"pointer\"),class:E.pointer,role:\"presentation\"},w(\"div\",{class:this.classes(E.pointerDirection,E.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:o,contentId:n,collapsible:s,hasContent:r,contentCollapsed:a,visibleElements:l}=this,{title:u}=this.viewModel,c=\"bottom-left\"===t||\"bottom-center\"===t||\"bottom-right\"===t||\"top-left\"===i||\"top-center\"===i||\"top-right\"===i,d=\"top-left\"===t||\"top-center\"===t||\"top-right\"===t||\"bottom-left\"===i||\"bottom-center\"===i||\"bottom-right\"===i,p={[E.shadow]:e,[E.isCollapsible]:s,[E.isCollapsed]:a};return w(\"div\",{class:this.classes(E.main,E.widget,p),tabIndex:l.closeButton?null:-1,role:\"dialog\",\"aria-labelledby\":u?o:\"\",\"aria-describedby\":r&&!a?n:\"\",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},c?this.renderFooter():null,c?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null)}renderContent(){var e;const t=null==(e=this.viewModel)?void 0:e.content;return t?\"string\"==typeof t?w(\"div\",{key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(e){return w(\"span\",{key:\"text\",class:E.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),o={[E.iconLoading]:e.active,[E.rotating]:e.active,[E.icon]:!!t,[E.actionImage]:!e.active&&!!i};return t&&(o[t]=!e.active),w(\"span\",{key:\"icon\",\"aria-hidden\":\"true\",class:this.classes(E.icon,o),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,index:i,type:o}=e,n=this._getActionTitle(t),s={[E.action]:\"toggle\"!==t.type,[E.actionToggle]:\"toggle\"===t.type,[E.actionToggleOn]:\"toggle\"===t.type&&t.value,[E.buttonDisabled]:t.disabled},r=[this.renderActionIcon(t),this.renderActionText(n)],a=\"menu-item\"===o?w(\"li\",{key:t.uid,role:\"menuitem\",tabIndex:0,title:n,\"aria-label\":n,class:this.classes(E.button,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-index\":i,onclick:this._triggerAction,onkeydown:this._triggerAction},r):w(\"div\",{key:t.uid,role:\"button\",tabIndex:0,title:n,\"aria-label\":n,class:this.classes(E.button,s),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-index\":i,onclick:this._triggerAction,onkeydown:this._triggerAction},r);return t.visible?a:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:o}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:s}=this.viewModel,r=e===s,a={[E.featureMenuSelected]:r},l=r?w(\"span\",{key:T(`feature-menu-selected-feature-${n}`),title:i.selectedFeature,\"aria-label\":i.selectedFeature,class:E.iconCheckMark}):null,u=w(\"span\",{innerHTML:e.title||o.untitled});return w(\"li\",{role:\"menuitem\",tabIndex:-1,key:T(`feature-menu-feature-${n}`),class:this.classes(a,E.featureMenuItem),bind:this,\"data-feature-index\":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},w(\"span\",{class:E.featureMenuTitle},u,l))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?w(\"ol\",{class:E.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:\"menu\"},t.map(((e,t)=>this.renderFeatureMenuItem(e,t)))):null}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:o}=this,{id:n}=e,s=null==i?void 0:i.attributes,r=\"zoom-to-feature\"===n?u(e.title,{messages:t}):\"remove-selected-feature\"===n?u(e.title,{messages:o}):e.title;return r&&s?u(r,s):r}_getActionClass(e){const{selectedFeature:t}=this,i=null==t?void 0:t.attributes,{className:o,image:n}=e,s=n||o?o:E.iconDefaultAction;return s&&i?u(s,i):s}_getActionImage(e){const{selectedFeature:t}=this,i=null==t?void 0:t.attributes,{image:o}=e;return o&&i?u(o,i):o}_createFeatureUpdatedAnimation(){return f(\"enter\",E.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(\"number\"!=typeof e)return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange(\"dividedActions\");const t=\"actions\";this._handles.remove(t),e&&e.forEach((e=>{this._handles.add(d(e,[\"active\",\"className\",\"disabled\",\"id\",\"title\",\"image\",\"visible\"],(()=>this.scheduleRender())),t)}))}_divideActions(){const{allActions:e}=this.viewModel,t=this._getInlineActionCount(),i=null===t,o=0===t;return{inlineActions:i?e.slice(0):o?new l:e.slice(0,t),menuActions:i?new l:o?e.slice(0):e.slice(t)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(e){const{selectedFeatureWidget:t}=this;t&&(this.viewModel.title=e||\"\")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_handleFeatureMenuKeyup(e){\"Escape\"===a(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){\"Escape\"===a(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(e){const t=a(e),{_featureMenuNode:i}=this,o=e.currentTarget[\"data-feature-index\"];if(!i)return;const n=i.querySelectorAll(\"li\"),s=n.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();n[n.length-1].focus()}else{e.stopPropagation();n[0].focus()}else{e.stopPropagation();n[(o+1+s)%s].focus()}else{e.stopPropagation();n[(o-1+s)%s].focus()}}_handleActionMenuItemKeyup(e){const t=a(e),{_actionsMenuNode:i}=this,o=e.currentTarget[\"data-action-index\"];if(!i)return;const n=i.querySelectorAll(\"li\"),s=n.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();n[n.length-1].focus()}else{e.stopPropagation();n[0].focus()}else{e.stopPropagation();n[(o+1+s)%s].focus()}else{e.stopPropagation();n[(o-1+s)%s].focus()}}_handleMainKeyup(e){const t=a(e);\"ArrowLeft\"===t&&(e.stopPropagation(),this.previous()),\"ArrowRight\"===t&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get(\"viewModel.view\");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i?e.show({location:t}):e.hide()}_getIconStyles(e){return{\"background-image\":e?`url(${e})`:\"\"}}_addSelectedFeatureIndexHandle(){const e=d(this,\"viewModel.selectedFeatureIndex\",((e,t)=>this._selectedFeatureIndexUpdated(e,t)));this._handles.add(e,x)}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&-1!==e&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:o,side:n,view:s}=e;if(isNaN(i)||isNaN(t)||!s||!o)return!1;const r=s.padding;return\"right\"===n&&o.x+i/2>s.width-r.right||(\"left\"===n&&o.x-i/2<r.left||(\"top\"===n&&o.y-t<r.top||\"bottom\"===n&&o.y+t>s.height-r.bottom))}_calculateAutoAlignment(e){if(\"auto\"!==e)return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:o,viewModel:n}=this,{screenLocation:s,view:r}=n;if(!s||!r||!i)return\"top-center\";if(!this._isScreenLocationWithinView(s,r))return this._get(\"currentAlignment\")||\"top-center\";function a(e){return parseInt(e.replace(/[^-\\d\\.]/g,\"\"),10)}const l=o?window.getComputedStyle(o,null):null,u=l?a(l.getPropertyValue(\"max-height\")):0,c=l?a(l.getPropertyValue(\"height\")):0,{height:d,width:p}=i.getBoundingClientRect(),h=p+t,g=Math.max(d,u,c)+t,_=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"right\",view:r}),f=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"left\",view:r}),v=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"top\",view:r}),m=this._isOutsideView({popupHeight:g,popupWidth:h,screenLocation:s,side:\"bottom\",view:r});return f?v?\"bottom-right\":\"top-right\":_?v?\"bottom-left\":\"top-left\":v?m?\"top-center\":\"bottom-center\":\"top-center\"}_callCurrentAlignment(e){return\"function\"==typeof e?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set(\"currentAlignment\",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set(\"currentDockPosition\",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=[\"left\",\"right\"];return v()&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return\"function\"==typeof e?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(e=this.dockOptions)?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var t;if(\"auto\"!==e)return e;const i=null==(t=this.viewModel)?void 0:t.view,o=v()?\"top-left\":\"top-right\";if(!i)return o;const n=i.padding||{left:0,right:0,top:0,bottom:0},s=i.width-n.left-n.right,{breakpoints:r}=i;return r&&s<=r.xsmall?\"bottom-center\":o}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:i}=e.getBoundingClientRect(),o=this._calculatePositionStyle(t,i);o&&(e.style.top=o.top,e.style.left=o.left,e.style.bottom=o.bottom,e.style.right=o.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return\"top-left\"===t||\"bottom-left\"===t||\"top-right\"===t||\"bottom-right\"===t?e+i:e}_calculateAlignmentPosition(e,t,i,o){const{currentAlignment:n,_pointerOffsetInPx:s}=this,r=o/2,a=i.height-t,l=i.width-e,{padding:u}=this.view;return\"bottom-center\"===n?{top:t+s-u.top,left:e-r-u.left}:\"top-left\"===n?{bottom:a+s-u.bottom,right:l+s-u.right}:\"bottom-left\"===n?{top:t+s-u.top,right:l+s-u.right}:\"top-right\"===n?{bottom:a+s-u.bottom,left:e+s-u.left}:\"bottom-right\"===n?{top:t+s-u.top,left:e+s-u.left}:\"top-center\"===n?{bottom:a+s-u.bottom,left:e-r-u.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:o}=this;if(!o)return;if(i)return{left:\"\",top:\"\",right:\"\",bottom:\"\"};if(!e||!t)return;const n=this._calculateFullWidth(t),s=this._calculateAlignmentPosition(e.x,e.y,o,n);return s?{top:void 0!==s.top?`${s.top}px`:\"auto\",left:void 0!==s.left?`${s.left}px`:\"auto\",bottom:void 0!==s.bottom?`${s.bottom}px`:\"auto\",right:void 0!==s.right?`${s.right}px`:\"auto\"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const e=this.get(\"viewModel.view\");this._wireUpView(e)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[o,n]=e,[s,r]=t,{width:a,height:l}=i;return o<=a&&s>a||o>a&&s<=a||n<=l&&r>l||n>l&&r<=l}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get(\"viewModel.view.padding\")||{left:0,right:0,top:0,bottom:0},o=i.left+i.right,n=i.top+i.bottom,s=[],r=[];s[0]=e[0]-o,s[1]=e[1]-n,r[0]=t[0]-o,r[1]=t[1]-n;const{dockOptions:a}=this,l=a.breakpoint;this._dockingThresholdCrossed(s,r,l)&&this._setDockEnabledForViewSize(a),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportNodeUpdated(e){e&&(e.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){var t,i;const o=e.breakpoint,n=null==(t=this.viewModel)||null==(i=t.view)?void 0:i.ui;if(!n)return!1;const{width:s,height:r}=n;if(isNaN(s)||isNaN(r))return!1;const a=o.hasOwnProperty(\"width\")&&s<=o.width,l=o.hasOwnProperty(\"height\")&&r<=o.height;return a||l}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?u(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,N),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new C({view:e}),e.ui.add(this._spinner,{key:N,position:\"manual\"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget[\"data-action-index\"],i=this.viewModel.allActions.getItemAt(t);i&&\"toggle\"===i.type&&(i.value=!i.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(t)}_selectFeature(e){const t=e.currentTarget[\"data-feature-index\"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};e([i({readOnly:!0})],S.prototype,\"actionsMenuId\",null),e([i({readOnly:!0})],S.prototype,\"actionsMenuButtonId\",null),e([i({readOnly:!0})],S.prototype,\"featureMenuId\",null),e([i({readOnly:!0})],S.prototype,\"titleId\",null),e([i({readOnly:!0})],S.prototype,\"contentId\",null),e([i({readOnly:!0})],S.prototype,\"hasContent\",null),e([i({readOnly:!0})],S.prototype,\"featureNavigationVisible\",null),e([i({readOnly:!0})],S.prototype,\"collapsible\",null),e([i({readOnly:!0})],S.prototype,\"featureMenuVisible\",null),e([i({readOnly:!0})],S.prototype,\"contentCollapsed\",null),e([i({readOnly:!0})],S.prototype,\"dividedActions\",null),e([o(\"viewModel.actions\")],S.prototype,\"actions\",void 0),e([i()],S.prototype,\"actionsMenuOpen\",null),e([i()],S.prototype,\"alignment\",void 0),e([o(\"viewModel.autoCloseEnabled\")],S.prototype,\"autoCloseEnabled\",void 0),e([o(\"viewModel.autoOpenEnabled\")],S.prototype,\"autoOpenEnabled\",void 0),e([o(\"viewModel.defaultPopupTemplateEnabled\")],S.prototype,\"defaultPopupTemplateEnabled\",void 0),e([o(\"viewModel.content\")],S.prototype,\"content\",void 0),e([i()],S.prototype,\"collapsed\",void 0),e([i()],S.prototype,\"collapseEnabled\",void 0),e([i({readOnly:!0})],S.prototype,\"currentAlignment\",null),e([i({readOnly:!0})],S.prototype,\"currentDockPosition\",null),e([i()],S.prototype,\"dockOptions\",null),e([i()],S.prototype,\"dockEnabled\",void 0),e([o(\"viewModel.featureCount\")],S.prototype,\"featureCount\",void 0),e([i()],S.prototype,\"featureMenuOpen\",void 0),e([o(\"viewModel.features\")],S.prototype,\"features\",void 0),e([i()],S.prototype,\"featureNavigationEnabled\",null),e([o(\"viewModel.goToOverride\")],S.prototype,\"goToOverride\",void 0),e([o(\"viewModel.highlightEnabled\")],S.prototype,\"highlightEnabled\",void 0),e([o(\"viewModel.location\")],S.prototype,\"location\",void 0),e([i({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],S.prototype,\"label\",void 0),e([i()],S.prototype,\"maxInlineActions\",void 0),e([i(),b(\"esri/widgets/Popup/t9n/Popup\")],S.prototype,\"messages\",void 0),e([i(),b(\"esri/t9n/common\")],S.prototype,\"messagesCommon\",void 0),e([o(\"viewModel.promises\")],S.prototype,\"promises\",void 0),e([o(\"viewModel.selectedFeature\")],S.prototype,\"selectedFeature\",void 0),e([o(\"viewModel.selectedFeatureIndex\")],S.prototype,\"selectedFeatureIndex\",void 0),e([i({readOnly:!0})],S.prototype,\"selectedFeatureWidget\",null),e([i()],S.prototype,\"spinnerEnabled\",void 0),e([o(\"viewModel.title\")],S.prototype,\"title\",void 0),e([o(\"viewModel.updateLocationEnabled\")],S.prototype,\"updateLocationEnabled\",void 0),e([o(\"viewModel.view\")],S.prototype,\"view\",void 0),e([i({type:F}),M([\"triggerAction\",\"trigger-action\"])],S.prototype,\"viewModel\",void 0),e([o(\"viewModel.visible\")],S.prototype,\"visible\",void 0),e([i()],S.prototype,\"visibleElements\",void 0),e([n(\"visibleElements\")],S.prototype,\"castVisibleElements\",null),e([m()],S.prototype,\"_close\",null),e([m()],S.prototype,\"_toggleDockEnabled\",null),e([m()],S.prototype,\"_toggleFeatureMenu\",null),e([m()],S.prototype,\"_toggleActionsMenu\",null),e([m()],S.prototype,\"_triggerAction\",null),e([m()],S.prototype,\"_selectFeature\",null),e([m()],S.prototype,\"_next\",null),e([m()],S.prototype,\"_previous\",null),S=e([r(D)],S);var V=S;export default V;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{addFrameTask as i}from\"../core/scheduling.js\";import{init as o}from\"../core/watchUtils.js\";import{byId as r,reparent as n,empty as h}from\"../core/domUtils.js\";import a from\"./overlay/ViewOverlay.js\";import d from\"../widgets/Popup.js\";const u=[0,0];function l(e){const t=(e.ownerDocument||window.document).defaultView,s=e.getBoundingClientRect();return u[0]=s.left+t.pageXOffset,u[1]=s.top+t.pageYOffset,u}function p(e){e&&(h(e),e.parentNode&&e.parentNode.removeChild(e))}function c(e){const t=document.createElement(\"div\");return e.appendChild(t),t}const m=16,f=750,y=512,v=2,_=h=>{let u=class extends h{constructor(...e){super(...e),this._freqInfo={freq:m,time:f},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch(\"cursor\",(e=>{const t=this.surface;t&&t.setAttribute(\"data-cursor\",e)})),this.watch(\"interacting\",(e=>{const t=this.surface;t&&t.setAttribute(\"data-interacting\",e.toString())}))])}initialize(){this.handles.add(this.watch(\"ui\",((e,t)=>this._handleUIChange(e,t)))),this._wireUI(this.ui),this.handles.add([this.on(\"focus\",(()=>this.notifyChange(\"focused\"))),this.on(\"blur\",(()=>this.notifyChange(\"focused\")))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(e){const t=this._get(\"container\");if(t===e)return;const s=\"dom-size\";if(this.handles.remove(s),this._stopMeasuring(),t&&(t.classList.remove(\"esri-view\"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set(\"overlay\",null),p(this.root),this._set(\"root\",null),n(this.userContent,t),p(this.userContent),this._set(\"userContent\",null)),e){e.classList.add(\"esri-view\");const t=document.createElement(\"div\");t.className=\"esri-view-user-storage\",n(e,t),e.appendChild(t),this._set(\"userContent\",t);const r=document.createElement(\"div\");r.className=\"esri-view-root\",e.insertBefore(r,e.firstChild),this._set(\"root\",r);const h=document.createElement(\"div\");h.className=\"esri-view-surface\",h.setAttribute(\"role\",\"application\"),h.tabIndex=0,r.appendChild(h),this._set(\"surface\",h);const d=new a;r.appendChild(d.surface),this._set(\"overlay\",d),d.watch(\"needsRender\",(e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=i({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)})),this.forceDOMReadyCycle(),this.handles.add(o(this,\"size\",(e=>{const[t,s]=e,i=\"esri-view-surface--inset-outline\";t>=document.body.clientWidth||s>=document.body.clientHeight?h.classList.add(i):h.classList.remove(i)})),s),this._set(\"container\",e),this._startMeasuring()}else this._set(\"width\",0),this._set(\"height\",0),this._set(\"position\",null),this._set(\"suspended\",!0),this._set(\"surface\",null),this._set(\"container\",null)}get focused(){const e=document.activeElement===this.surface;return document.hasFocus()&&e}get popup(){return this._get(\"popup\")||new d({view:this})}set popup(e){const t=this._get(\"popup\");t&&t!==e&&t.destroy(),this._set(\"popup\",e)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(e,t,s){const i=this.position;return e-=i[0],t-=i[1],s?(s[0]=e,s[1]=t):s=[e,t],s}containerToPage(e,t,s){const i=this.position;return e+=i[0],t+=i[1],s?(s[0]=e,s[1]=t):s=[e,t],s}_handleUIChange(e,t){t&&(this.handles.remove(\"ui\"),t.destroy()),e&&this._wireUI(e),this._set(\"ui\",e)}_wireUI(e){this.handles.remove(\"ui\"),e&&(e.view=this,this.handles.add([o(this,\"root\",(t=>{e.container=t?c(t):null})),o(this,\"popup\",((t,s)=>{const i=\"popup\",o=\"manual\";s&&e.remove(s,i),t&&(t.view=e.view,e.add(t,{key:i,position:o}))}))],\"ui\"))}_stopMeasuring(){this.handles.remove(\"measuring\"),this._get(\"resizing\")&&this._set(\"resizing\",!1)}_startMeasuring(){const e=this._freqInfo;e.freq=m,e.time=f,this.handles.add([(()=>{const t=()=>{e.freq=m,e.time=f};return window.addEventListener(\"resize\",t),{remove(){window.removeEventListener(\"resize\",t)}}})(),i({prepare:e=>{const t=this._measure(),s=this._freqInfo;if(s.time+=e.deltaTime,t&&(s.freq=m,this._get(\"resizing\")||this._set(\"resizing\",!0)),s.time<s.freq)return;s.time=0;const i=this._position();s.freq=i||t?m:Math.min(f,s.freq*v),!t&&s.freq>=y&&this._get(\"resizing\")&&this._set(\"resizing\",!1)}})],\"measuring\"),this._measure(),this._position()}_measure(){const e=this.container,t=e?e.clientWidth:0,s=e?e.clientHeight:0;if(0===t||0===s)return this.suspended||this._set(\"suspended\",!0),!1;const i=this.width,o=this.height;return t===i&&s===o?(this.suspended&&this._set(\"suspended\",!1),!1):(this._set(\"width\",t),this._set(\"height\",s),this.suspended&&this._set(\"suspended\",!1),this.emit(\"resize\",{oldWidth:i,oldHeight:o,width:t,height:s}),!0)}_position(){const e=this.container,t=this.position,s=l(e);return(!t||s[0]!==t[0]||s[1]!==t[1])&&(this._set(\"position\",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return e([t({value:null,cast:e=>r(e)})],u.prototype,\"container\",null),e([t({readOnly:!0})],u.prototype,\"focused\",null),e([t({readOnly:!0})],u.prototype,\"height\",void 0),e([t({type:d})],u.prototype,\"popup\",null),e([t({type:a})],u.prototype,\"overlay\",void 0),e([t({readOnly:!0})],u.prototype,\"position\",void 0),e([t({readOnly:!0})],u.prototype,\"resizing\",void 0),e([t({readOnly:!0})],u.prototype,\"root\",void 0),e([t({value:null,readOnly:!0})],u.prototype,\"size\",null),e([t({readOnly:!0})],u.prototype,\"surface\",void 0),e([t({readOnly:!0})],u.prototype,\"suspended\",void 0),e([t()],u.prototype,\"ui\",void 0),e([t({readOnly:!0})],u.prototype,\"userContent\",void 0),e([t({readOnly:!0})],u.prototype,\"width\",void 0),e([t()],u.prototype,\"widthBreakpoint\",void 0),u=e([s(\"esri.views.DOMContainer\")],u),u};function g(e){return e&&\"focus\"in e}export{_ as DOMContainer,g as isDOMContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const t=e.modifiers;for(const i of this.keyModifiers)if(!t.has(i))return!1;return!0}}export{e as EventMatch};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Logger.js\";import{EventMatch as t}from\"./EventMatch.js\";const n=e.getLogger(\"esri.views.input.InputHandler\");class i{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const t=this._incoming[e];for(const e of t)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager?n.error(\"This InputHandler has already been registered with an InputManager\"):(e.setEventCallback((e=>this._handleEvent(e))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e)}onUninstall(){}registerIncoming(e,n,i){let a;\"function\"==typeof n?(i=n,a=[]):a=n||[];const o=\"string\"==typeof e?new t(e,a):e,h=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},r=e=>{const t=this._incoming[e.match.eventType];if(t){const n=t.indexOf(e);t.splice(n,1),h(),this._manager&&this._manager.updateDependencies()}},g=new s(o,i,{onPause:r,onRemove:r,onResume:e=>{const t=this._incoming[e.match.eventType];t&&-1===t.indexOf(e)&&(t.push(e),h(),this._manager&&this._manager.updateDependencies())}});let c=this._incoming[o.eventType];return c||(c=[],this._incoming[o.eventType]=c),c.push(g),h(),this._manager&&this._manager.updateDependencies(),g}registerOutgoing(e){if(this._outgoing[e])throw Error(\"There is already a callback registered for this outgoing InputEvent: \"+e);const t=new a(e,{onEmit:(e,t,n,i)=>{this._manager.emit(e.eventType,t,n,i)},onRemove:e=>{delete this._outgoing[e.eventType],this._manager.updateDependencies()}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){this._manager.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):n.error(\"This InputHandler is not registered with an InputManager\")}_handleEvent(e){const t=this._incoming[e.type];if(t)for(const n of t)if(n.match.matches(e)&&(n.callback(e),e.shouldStopPropagation()))break}}class s{constructor(e,t,n){this.match=e,this._callback=t,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class a{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}remove(){this._removed=!0,this._handler.onRemove(this)}}export{i as InputHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{InputHandler as e}from\"../InputHandler.js\";class t extends e{constructor(e){super(!0),this._onChange=e,this._value=\"mouse\",this.registerIncoming(\"pointer-down\",(e=>{const t=\"touch\"===e.data.native.pointerType;this._setValue(t?\"touch\":\"mouse\")})),this._moveHandler=this.registerIncoming(\"pointer-move\",(e=>{const t=\"touch\"===e.data.native.pointerType;this._setValue(t?\"touch\":\"mouse\")})),this._moveHandler.pause()}_setValue(e){e!==this._value&&(\"touch\"===e?this._moveHandler.resume():this._moveHandler.pause(),this._value=e,this._onChange(e))}}export{t as LatestPointerType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import n from\"../../core/Accessor.js\";import s from\"../../core/Queue.js\";import{primaryKey as o,isSystemModifier as a}from\"./keys.js\";import{LatestPointerType as p}from\"./handlers/LatestPointerType.js\";const h=t.getLogger(\"esri.views.input.InputManager\");let l=class extends n{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=o,this.latestPointerType=\"mouse\",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}installHandlers(e,t,r=u.INTERNAL){if(this._nameToGroup[e])return void h.error(\"There is already an InputHandler group registered under the name `\"+e+\"`\");if(0===t.length)return void h.error(\"Can't register a group of zero handlers\");const i={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=i;for(let n=i.handlers.length-1;n>=0;n--){const e=i.handlers[n];this._handlers.push(e),e.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(t,r,i,n,s)=>{this._emitInputEvent(e.priorityIndex+1,t,r,i,s,n)},setPointerCapture:(t,r)=>{this._setPointerCapture(i,e,t,r)},setEventCallback:t=>{e.eventCallback=t},setUninstallCallback:t=>{e.uninstallCallback=t},refreshHasPendingInputs:()=>{this.notifyChange(\"hasPendingInputs\")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):h.error(\"There is no InputHandler group registered under the name `\"+e+\"`\")}hasHandlers(e){return void 0!==this._nameToGroup[e]}updateDependencies(){const e=new Set,t=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const e=this._handlers[r];e.priorityIndex=r,this._handlersPriority.push(e)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const i=this._handlersPriority[r];i.priorityIndex=r;let n=i.handler.hasSideEffects;if(!n)for(const t of i.handler.outgoingEventTypes)if(e.has(t)){n=!0;break}if(n)for(const r of i.handler.incomingEventMatches){e.add(r.eventType);for(const e of r.keyModifiers)a(e)||t.add(e)}i.active=n}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add(\"pointer-capture-lost\"),this._keyModifiers.size>0&&(this._sourceEvents.add(\"key-down\"),this._sourceEvents.add(\"key-up\")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(e){this._set(\"latestPointerType\",e)}_onEventReceived(e,t){if(\"pointer-capture-lost\"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const r=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const i=()=>{if(!r){const e=new Set;this._activeKeyModifiers.forEach((t=>{e.add(t)})),this._activeKeyModifiers=e,r=!0}},n=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(i(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(i(),this._activeKeyModifiers.delete(e))};if(\"key-down\"===e||\"key-up\"===e){const r=t.key;this._keyModifiers.has(r)&&n(r,\"key-down\"===e)}const s=t.native;n(\"Alt\",!(!s||!s.altKey)),n(\"Ctrl\",!(!s||!s.ctrlKey)),n(\"Shift\",!(!s||!s.shiftKey)),n(\"Meta\",!(!s||!s.metaKey)),n(\"Primary\",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new p((e=>this._setLatestPointerType(e))),this.recognizers.length>0&&this.installHandlers(\"default\",this.recognizers,u.INTERNAL),this.installHandlers(\"input-manager-logic\",[this._latestPointerTypeHandler],u.INTERNAL)}_setPointerCapture(e,t,r,i){const n=e.name+\"-\"+t.priorityIndex,s=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,s),i?(s.add(n),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):s.has(n)&&(s.delete(n),0===s.size&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,r,i){this._emitInputEvent(0,e,t,r,i)}_emitInputEvent(e,t,r,i,n,s){const o=void 0!==i?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==n&&n,p={event:new d(t,r,o,s||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(p):this._doNewPropagation(p)}_doNewPropagation(e){this._currentPropagation={events:new s,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:r}=this._currentPropagation.events.pop(),i=t.data&&t.data.eventId;if(!(null!=i&&this._stoppedPropagationEventIds.has(i)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){null!=i&&this._stoppedPropagationEventIds.add(i);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null}}_pausePropagation(e){const t=new s;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(r.eventType!==e.eventType)continue;const t=r.keyModifiers.filter((t=>-1!==e.keyModifiers.indexOf(t)));if(t.length===r.keyModifiers.length!==(t.length===e.keyModifiers.length))return r.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(r,t[e])>=0;)e++;t.splice(e,0,r)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,r)=>{e((()=>{this._onEventReceived(t,r)}))},disablePointerCapture:e}}};e([r({readOnly:!0})],l.prototype,\"hasPendingInputs\",null),e([r()],l.prototype,\"eventSource\",void 0),e([r()],l.prototype,\"recognizers\",void 0),e([r({readOnly:!0})],l.prototype,\"latestPointerType\",void 0),l=e([i(\"esri.views.input.InputManager\")],l);class d{constructor(e,t,r,i,n){this.type=e,this.data=t,this.timestamp=r,this.modifiers=i,this.cancelable=n,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return 0!=(1&this._propagationState)}async(e){this._propagationState|=2;const t=(e,t)=>{this._propagationState&=-3;const r=this._resumeCallback;if(this._resumeCallback=null,r&&r(),t)throw e;return e};return(\"function\"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}const u={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};export{l as InputManager,u as ViewEventPriorities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../core/has.js\";import{eventKey as e}from\"../../core/events.js\";const t=r(\"mac\")?\"Meta\":\"Ctrl\",o={8:\"Backspace\",9:\"Tab\",13:\"Enter\",27:\"Escape\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\"};for(let s=48;s<58;s++)o[s]=String.fromCharCode(s);for(let s=1;s<25;s++)o[111+s]=`F${s}`;for(let s=65;s<91;s++)o[s]=[String.fromCharCode(s+32),String.fromCharCode(s)];function a(r){if(void 0!==r.key)return e(r);const t=o[r.keyCode];return Array.isArray(t)?r.shiftKey?t[1]:t[0]:t}function n(r){switch(r){case\"Ctrl\":case\"Alt\":case\"Shift\":case\"Meta\":case\"Primary\":return!0}return!1}export{a as eventKey,n as isSystemModifier,t as primaryKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../core/maybe.js\";import o from\"../../core/Collection.js\";import{isDOMContainer as a}from\"../DOMContainer.js\";function i(t,e){const o=t.view;o&&(e&&o.ready&&o.activeTool!==t?(o.activeTool=t,a(o)&&o.focus()):e||o.activeTool!==t||(o.activeTool=null))}function n(e,o,a){const i=e.activeTool;o!==i&&(t(i)&&i.deactivate&&i.deactivate(),a(o),t(o)&&o.activate&&o.activate())}function c(){const t=new o;return t.on(\"after-add\",(t=>{const e=t.item;e.view&&e.view.ready&&e.attach()})),t.on(\"after-remove\",(t=>{const e=t.item;i(e,!1),e.destroyed||e.detach()})),t}function r(t){return!1!==t.visible&&!1!==t.editable&&(null==t.hasEditableFlag||t.hasEditableFlag(1))}function l(t){return e(t)?{}:\"function\"==typeof t?t():t}export{r as areToolManipulatorsEditable,l as evaluateToolConstructorArguments,c as newToolCollection,i as setActive,n as swap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{createScreenPoint as e}from\"../../core/screenUtils.js\";function c(c){return e(c.x,c.y)}function t(c,t){const n=(c instanceof HTMLElement?c:c.surface).getBoundingClientRect();return e(t.clientX-n.left,t.clientY-n.top)}function n(e,n){return n instanceof Event?t(e,n):c(n)}function i(e){if(e instanceof Event)return!0;if(\"object\"==typeof e&&\"type\"in e){switch(e.type){case\"click\":case\"double-click\":case\"pointer-down\":case\"pointer-drag\":case\"pointer-enter\":case\"pointer-leave\":case\"pointer-up\":case\"pointer-move\":case\"immediate-click\":case\"immediate-double-click\":case\"hold\":case\"drag\":case\"mouse-wheel\":return!0;case\"key-down\":case\"key-up\":case\"gamepad\":case\"focus\":case\"blur\":default:return!1}}return!1}export{c as createScreenPointFromEvent,t as createScreenPointFromNativeEvent,n as createScreenPointFromSupportedEvent,i as isSupportedScreenPointEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import i from\"../../support/actions/ActionButton.js\";const r={iconZoom:\"esri-icon-zoom-in-magnifying-glass\",iconTrash:\"esri-icon-trash\"},o=new i({id:\"zoom-to-feature\",title:\"{messages.zoom}\",className:r.iconZoom}),t=new i({id:\"remove-selected-feature\",title:\"{messages.remove}\",className:r.iconTrash}),s=[o,t],n=function(i){const{event:r,view:s}=i,{action:n}=r,c=s&&s.popup;if(!n)return Promise.reject(new e(\"trigger-action:missing-arguments\",\"Event has no action\"));if(!c)return Promise.reject(new e(\"trigger-action:missing-arguments\",\"view.popup is missing\"));const{disabled:a,id:m}=n;if(!m)return Promise.reject(new e(\"trigger-action:invalid-action\",\"action.id is missing\"));if(a)return Promise.reject(new e(\"trigger-action:invalid-action\",\"Action is disabled\"));if(m===o.id)return c.viewModel.zoomToLocation();if(m===t.id){c.close();const{selectedFeature:i}=c;if(!i)return Promise.reject(new e(`trigger-action:${t.id}`,\"selectedFeature is required\",{selectedFeature:i}));const{sourceLayer:r}=i;return r?r.remove(i):s.graphics.remove(i),Promise.resolve()}return Promise.resolve()};export{s as all,t as removeSelectedFeature,n as triggerAction,o as zoomToFeature};\n"],"sourceRoot":""}