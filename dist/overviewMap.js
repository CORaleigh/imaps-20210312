(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[555,6194,7521,3282],{94850:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>V});var n,i=r(56140),s=(r(95830),r(36544)),o=r(79881),a=r(60263),l=r(87566),c=(r(10923),r(57002),r(86035),r(82677)),u=r(35470),p=r(22696),d=r(94588),h=r(82550),f=r(68055),m=r(60538),y=r(32656),g=r(39105),v=r(58385),b=r(28293),w=r(78745),_=r(3277),x=r(32105),S=r(809),C=r(1721),M=r(9870);let E=n=class extends v.wq{constructor(e){super(e),this.type="none"}clone(){return new n({type:this.type})}};var T;(0,i._)([(0,M.J)({none:"none",stayAbove:"stay-above"})],E.prototype,"type",void 0),E=n=(0,i._)([(0,l.j)("esri.ground.NavigationConstraint")],E);const L=s.Z.getLogger("esri.Ground");let z=T=class extends((0,v.eC)(S.Z)){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new b.Z;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&L.error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>(e=>{e.parent=null})(e.item)))}initialize(){this.when().catch((e=>{L.error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",(0,x.Z)(e,this._get("layers")))}writeLayers(e,t,r,n){const i=[];e?(n={...n,layerContainerType:"ground"},e.forEach((e=>{if("write"in e){const t={};(0,d.sM)(e)().write(t,n)&&i.push(t)}else n&&n.messages&&n.messages.push(new y.Z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))})),t.layers=i):t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,C.GZ)(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:null==t?void 0:t.signal});const{ElevationQuery:n}=await Promise.all([r.e(8157),r.e(7333),r.e(3549)]).then(r.bind(r,93549));(0,g.throwIfAborted)(t);const i=new n,s=this.layers.filter(F).toArray();return i.queryAll(s,e,t)}async createElevationSampler(e,t){await this.load({signal:null==t?void 0:t.signal});const{ElevationQuery:n}=await Promise.all([r.e(8157),r.e(7333),r.e(3549)]).then(r.bind(r,93549));(0,g.throwIfAborted)(t);const i=new n,s=this.layers.filter(F).toArray();return i.createSamplerAll(s,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:(0,h.d9)(this.surfaceColor),navigationConstraint:(0,h.d9)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new T({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}_loadLayersFromJSON(e,t,n){const i=t&&t.origin||"web-scene",s=t&&t.portal||null,o=t&&t.url||null;return r.e(7254).then(r.bind(r,87254)).then((({populateOperationalLayers:t})=>{(0,g.throwIfAborted)(n);const r=[];if(e.layers&&Array.isArray(e.layers)){const n={context:{origin:i,url:o,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};r.push(t(this.layers,e.layers,n))}return(0,g.eachAlways)(r)})).then((()=>{}))}};function F(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}(0,i._)([(0,o.Cb)({json:{read:!1}})],z.prototype,"layers",null),(0,i._)([(0,m.c)("layers")],z.prototype,"writeLayers",null),(0,i._)([(0,o.Cb)({readOnly:!0})],z.prototype,"resourceInfo",void 0),(0,i._)([(0,o.Cb)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:f.z8,read:{reader:_.b,source:"transparency"},write:{writer:(e,t)=>{t.transparency=(0,_.a)(e)},target:"transparency"}}})],z.prototype,"opacity",void 0),(0,i._)([(0,o.Cb)({type:w.default,json:{type:[f.z8],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],z.prototype,"surfaceColor",void 0),(0,i._)([(0,o.Cb)({type:E,json:{write:!0}})],z.prototype,"navigationConstraint",void 0),z=T=(0,i._)([(0,l.j)("esri.Ground")],z);const I=z;var R=r(78452),P=r(80882);const j=s.Z.getLogger("esri.support.groundUtils"),N={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var O=r(90921),Z=r(16137);const D=s.Z.getLogger("esri.Map");let A=class extends((0,Z.Q)((0,O.K)(u.Z.EventedMixin(c.default)))){constructor(e){super(e),this.allLayers=new R.Z({root:this,rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:e=>e.layers}),this.allTables=this._createTablesFlattener(this),this.basemap=null,this.ground=new I,this._basemapCache=(0,P.Df)()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),null==(e=this.ground)||e.destroy(),null==(t=this.basemap)||t.destroy(),(0,P.Bf)(this._basemapCache),this._basemapCache=null}castBasemap(e){return(0,P.se)(e,this._basemapCache)}castGround(e){return function(e){let t;"string"==typeof e?e in N?t=new I({resourceInfo:{data:{layers:[N[e]]}}}):j.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`):t=(0,f.se)(I,e);return t}(e)||(D.error("Map.ground may not be set to null or undefined"),this._get("ground"))}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}_createTablesFlattener(e){return new R.Z({root:e,rootCollectionNames:["tables","layers"],getChildrenFunction:e=>e&&"group"===e.type?this._createTablesFlattener(e):null,itemFilterFunction:e=>this._isMapOrGroupLayer(e.parent)&&e.parent.tables.includes(e)})}_isMapOrGroupLayer(e){return e&&(e===this||this._isGroupLayer(e))}_isGroupLayer(e){return e&&"group"===e.type}};(0,i._)([(0,o.Cb)({readOnly:!0,dependsOn:[]})],A.prototype,"allLayers",void 0),(0,i._)([(0,o.Cb)({readOnly:!0})],A.prototype,"allTables",void 0),(0,i._)([(0,o.Cb)({type:p.default})],A.prototype,"basemap",void 0),(0,i._)([(0,a.p)("basemap")],A.prototype,"castBasemap",null),(0,i._)([(0,o.Cb)({type:I,nonNullable:!0})],A.prototype,"ground",void 0),(0,i._)([(0,a.p)("ground")],A.prototype,"castGround",null),A=(0,i._)([(0,l.j)("esri.Map")],A);const V=A},40522:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n,i=r(56140),s=(r(95830),r(36544),r(68055),r(79881)),o=r(87566),a=(r(10923),r(57002),r(86035),r(58385)),l=r(98034);let c=n=class extends a.wq{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return this.value*l.fM[this.unit]}clone(){return new n({value:this.value,unit:this.unit})}};(0,i._)([(0,s.Cb)({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0),(0,i._)([(0,s.Cb)({type:l.vU.apiValues,json:{type:l.vU.jsonValues,read:l.vU.read,write:l.vU.write},nonNullable:!0})],c.prototype,"unit",void 0),c=n=(0,i._)([(0,o.j)("esri.TimeInterval")],c);const u=c},65984:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n,i=r(56140),s=(r(95830),r(59472)),o=(r(36544),r(79881)),a=r(60263),l=r(87566),c=(r(10923),r(57002),r(86035),r(58385)),u=r(56885),p=r(36348),d=r(68055),h=r(30590),f=r(60538),m=r(61106),y=r(33655),g=r(17154);let v=n=class extends c.wq{constructor(...e){super(...e),this.position=new m.Z([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,r,n){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const i={position:e};return null!=t&&(i.heading=t),null!=r&&(i.tilt=r),null!=n&&(i.fov=n),i}return e}writePosition(e,t,r,n){const i=e.clone();i.x=(0,d.q9)(e.x||0),i.y=(0,d.q9)(e.y||0),i.z=e.hasZ?(0,d.q9)(e.z||0):e.z,t[r]=i.write(null,n)}readPosition(e,t){const r=new m.Z;return r.read(e,t),r.x=(0,d.q9)(r.x||0),r.y=(0,d.q9)(r.y||0),r.z=r.hasZ?(0,d.q9)(r.z||0):r.z,r}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}clone(){return new n({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}};(0,i._)([(0,o.Cb)({type:m.Z,json:{write:{isRequired:!0}}})],v.prototype,"position",void 0),(0,i._)([(0,f.c)("position")],v.prototype,"writePosition",null),(0,i._)([(0,h.r)("position")],v.prototype,"readPosition",null),(0,i._)([(0,o.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,a.p)((e=>g.LU.normalize((0,d.q9)(e))))],v.prototype,"heading",void 0),(0,i._)([(0,o.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,a.p)((e=>(0,y.uZ)((0,d.q9)(e),-180,180)))],v.prototype,"tilt",void 0),(0,i._)([(0,o.Cb)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],v.prototype,"fov",void 0),v=n=(0,i._)([(0,l.j)("esri.Camera")],v);const b=v;var w;let _=w=class extends c.wq{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new w({rotation:this.rotation,scale:this.scale,targetGeometry:(0,s.pC)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,s.pC)(this.camera)?this.camera.clone():null})}};function x(){return{enabled:!this.camera}}(0,i._)([(0,o.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:x}}}}})],_.prototype,"rotation",void 0),(0,i._)([(0,a.p)("rotation")],_.prototype,"castRotation",null),(0,i._)([(0,o.Cb)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:x}}}}})],_.prototype,"scale",void 0),(0,i._)([(0,o.Cb)({types:p.qM,json:{read:u.im,write:!0,origins:{"web-scene":{read:u.im,write:{overridePolicy:x}}}}})],_.prototype,"targetGeometry",void 0),(0,i._)([(0,o.Cb)({type:b,json:{write:!0}})],_.prototype,"camera",void 0),_=w=(0,i._)([(0,l.j)("esri.Viewpoint")],_);const S=_},42738:(e,t,r)=>{"use strict";r.d(t,{a:()=>s,b:()=>u,f:()=>p,i:()=>i,m:()=>o,r:()=>a,s:()=>l,t:()=>c});var n=r(60418);function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function s(e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5];let l=r*s-n*i;return l?(l=1/l,e[0]=s*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*a-s*o)*l,e[5]=(n*o-r*a)*l,e):null}function o(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=r[0],u=r[1],p=r[2],d=r[3],h=r[4],f=r[5];return e[0]=n*c+s*u,e[1]=i*c+o*u,e[2]=n*p+s*d,e[3]=i*p+o*d,e[4]=n*h+s*f+a,e[5]=i*h+o*f+l,e}function a(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=Math.sin(r),u=Math.cos(r);return e[0]=n*u+s*c,e[1]=i*u+o*c,e[2]=n*-c+s*u,e[3]=i*-c+o*u,e[4]=a,e[5]=l,e}function l(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=r[0],u=r[1];return e[0]=n*c,e[1]=i*c,e[2]=s*u,e[3]=o*u,e[4]=a,e[5]=l,e}function c(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=r[0],u=r[1];return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e[4]=n*c+s*u+a,e[5]=i*c+o*u+l,e}function u(e,t){const r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function p(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function d(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}const h=o,f=d;Object.freeze({__proto__:null,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:i,set:function(e,t,r,n,i,s,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=s,e[5]=o,e},invert:s,determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:o,rotate:a,scale:l,translate:c,fromRotation:u,fromScaling:p,fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e},subtract:d,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e},multiplyScalarAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},equals:function(e,t){const r=e[0],i=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=t[0],u=t[1],p=t[2],d=t[3],h=t[4],f=t[5];return Math.abs(r-c)<=n.E*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-u)<=n.E*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-p)<=n.E*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(o-d)<=n.E*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-h)<=n.E*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(l-f)<=n.E*Math.max(1,Math.abs(l),Math.abs(f))},mul:h,sub:f})},75384:(e,t,r)=>{"use strict";function n(){return[1,0,0,1,0,0]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}r.d(t,{a:()=>i,c:()=>n});Object.freeze({__proto__:null,create:n,clone:i,fromValues:function(e,t,r,n,i,s){return[e,t,r,n,i,s]},createView:function(e,t){return new Float64Array(e,t,6)}})},14286:(e,t,r)=>{"use strict";r.d(t,{a:()=>u,b:()=>E,c:()=>i,d:()=>d,e:()=>a,f:()=>g,g:()=>b,h:()=>v,i:()=>o,j:()=>h,k:()=>C,l:()=>f,m:()=>w,n:()=>y,o:()=>_,p:()=>p,q:()=>m,r:()=>S,s:()=>s,t:()=>x});var n=r(60418);function i(e,t){return e[0]=t[0],e[1]=t[1],e}function s(e,t,r){return e[0]=t,e[1]=r,e}function o(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function a(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function l(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function c(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function u(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function p(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function d(e,t){const r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function h(e,t){const r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function f(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function m(e){const t=e[0],r=e[1];return t*t+r*r}function y(e,t){return e[0]=-t[0],e[1]=-t[1],e}function g(e,t){const r=t[0],n=t[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function v(e,t){return e[0]*t[0]+e[1]*t[1]}function b(e,t,r){const n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function w(e,t,r,n){const i=t[0],s=t[1];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e}function _(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function x(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function S(e,t,r,n){const i=t[0]-r[0],s=t[1]-r[1],o=Math.sin(n),a=Math.cos(n);return e[0]=i*a-s*o+r[0],e[1]=i*o+s*a+r[1],e}function C(e,t){return e[0]===t[0]&&e[1]===t[1]}const M=f,E=a,T=l,L=c,z=d,F=h,I=m;Object.freeze({__proto__:null,copy:i,set:s,add:o,subtract:a,multiply:l,divide:c,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:u,scaleAndAdd:p,distance:d,squaredDistance:h,length:f,squaredLength:m,negate:y,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},normalize:g,dot:v,cross:b,lerp:w,random:function(e,t){t=t||1;const r=2*(0,n.R)()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e},transformMat2:_,transformMat2d:x,transformMat3:function(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e},transformMat4:function(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e},rotate:S,angle:function(e,t){const r=e[0],n=e[1],i=t[0],s=t[1];let o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));let a=i*i+s*s;a>0&&(a=1/Math.sqrt(a));const l=(r*i+n*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)},str:function(e){return"vec2("+e[0]+", "+e[1]+")"},exactEquals:C,equals:function(e,t){const r=e[0],i=e[1],s=t[0],o=t[1];return Math.abs(r-s)<=n.E*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-o)<=n.E*Math.max(1,Math.abs(i),Math.abs(o))},len:M,sub:E,mul:T,div:L,dist:z,sqrDist:F,sqrLen:I})},55735:(e,t,r)=>{"use strict";function n(){return[0,0]}function i(e){return[e[0],e[1]]}function s(e,t){return[e,t]}function o(e){const t=[0,0],r=Math.min(2,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function a(e,t){return new Float64Array(e,t,2)}function l(){return[0,0]}function c(){return s(1,1)}function u(){return s(1,0)}function p(){return s(0,1)}r.d(t,{a:()=>a,b:()=>i,c:()=>n,d:()=>o,f:()=>s});const d=[0,0],h=c(),f=u(),m=p();Object.freeze({__proto__:null,create:n,clone:i,fromValues:s,fromArray:o,createView:a,zeros:l,ones:c,unitX:u,unitY:p,ZEROS:d,ONES:h,UNIT_X:f,UNIT_Y:m})},78452:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(56140),i=r(79881),s=r(87566),o=r(28293),a=r(59691);let l=class extends o.Z{constructor(e){super(e),this._handles=new a.Z,this.root=null}initialize(){this._handles.add(this.rootCollectionNames.map((e=>this.watch("root."+e,(()=>this.updateCollections()),!0)))),this.updateCollections()}destroy(){this.root=null,this.refresh(),this._handles.destroy(),this._handles=null}updateCollections(){this._collections=this.rootCollectionNames.map((e=>this.get("root."+e))).filter((e=>null!=e)),this.refresh()}refresh(){const e=this._handles;e.remove("collections");const t=new Array;let r=0;for(const e of this._collections)r=this._processCollection(t,r,e);this.splice(r,this.length);for(const r of t)e.add(r.on("after-changes",(()=>this.refresh())),"collections")}_createNewInstance(e){return new o.Z(e)}_processCollection(e,t,r){return r?(e.push(r),r.forEach((r=>{if(r){if(!this.itemFilterFunction||this.itemFilterFunction(r)){const e=this.indexOf(r,t);e>=0?e!==t&&this.reorder(r,t):this.add(r,t),++t}this.getChildrenFunction&&(t=this._processCollection(e,t,this.getChildrenFunction(r)))}})),t):t}};(0,n._)([(0,i.Cb)()],l.prototype,"rootCollectionNames",void 0),(0,n._)([(0,i.Cb)()],l.prototype,"root",void 0),(0,n._)([(0,i.Cb)()],l.prototype,"getChildrenFunction",void 0),(0,n._)([(0,i.Cb)()],l.prototype,"itemFilterFunction",void 0),l=(0,n._)([(0,s.j)("esri.core.CollectionFlattener")],l);const c=l},77204:(e,t,r)=>{"use strict";r.d(t,{r:()=>u,p:()=>c});var n=r(56140),i=r(79881),s=r(87566),o=r(82677),a=r(59691),l=r(45671);const c=e=>{let t=class extends e{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get("handles")||new a.Z}get updatingHandles(){return this._get("updatingHandles")||new l.t}};return(0,n._)([(0,i.Cb)({readOnly:!0})],t.prototype,"handles",null),(0,n._)([(0,i.Cb)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,n._)([(0,s.j)("esri.core.HandleOwner")],t),t};let u=class extends(c(o.default)){};u=(0,n._)([(0,s.j)("esri.core.HandleOwner")],u)},77293:(e,t,r)=>{"use strict";function n(e,t){for(const[r,n]of e)if(t(n,r))return!0;return!1}r.d(t,{o:()=>n})},92823:(e,t,r)=>{"use strict";r.d(t,{Xq:()=>i,WJ:()=>s});var n=r(62698);class i{constructor(e,t,r){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(e,t,r,n=0){this._storage.put(this._namespace+e,t,r,n)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class s{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new n.Z}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs=this._removeFuncs.filter((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,r,n){const i=this._db.get(e);if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemoved(e,i.entry)),r>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return void console.warn("Refusing to cache entry with invalid size "+r);const s=1+Math.max(n,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:s,lives:s}),this._size+=r,this._checkSizeLimit()}updateSize(e,t,r){const n=this._db.get(e);if(n&&n.entry===t){if(this._size-=n.size,r>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);n.size=r,this._size+=r,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,n)=>{const i=e.lifetime;r[i]=(r[i]||0)+e.size,this._users.forAll((r=>{const i=r.namespace;if(n.startsWith(i)){const r=t[i]||0;t[i]=r+e.size}}))}));const n={};this._users.forAll((e=>{const r=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const i=t[r]||0;t[r]=i,n[r]=Math.round(100*e.hitRate)+"%"}else n[r]="0%"}));const i=Object.keys(t);i.forEach((e=>t[e]=t[e]/this._size*100)),i.sort(((e,r)=>t[r]-t[e])),i.forEach((r=>e[r]=Math.round(t[r])+"% / "+n[r]));for(let t=r.length-1;t>=0;--t){const n=r[t];n&&(e["Priority "+(t+-3-1)]=Math.round(n/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,r)=>{r.startsWith(e)&&(this._size-=t.size,this._db.delete(r),this._notifyRemoved(r,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forEach((r=>{e.startsWith(r[0])&&r[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},23229:(e,t,r)=>{"use strict";r.d(t,{Hg:()=>m,uD:()=>h,V7:()=>f});var n=r(59472),i=r(65575),s=r(82677),o=r(28293);const a=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function l(e){return e instanceof s.default}function c(e){return e instanceof o.Z?Object.keys(e.items):l(e)?(0,i.vw)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof o.Z?e.items[t]:e[t]}function p(e){return e?e.declaredClass:null}function d(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const i=c(e),s=c(t);if(0===i.length&&0===s.length)return;if(!i.length||!s.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const o=s.filter((e=>-1===i.indexOf(e))),h=i.filter((e=>-1===s.indexOf(e))),f=i.filter((r=>s.indexOf(r)>-1&&u(e,r)!==u(t,r))).concat(o,h).sort(),m=p(e);if(m&&a.indexOf(m)>-1&&f.length)return{type:"complete",oldValue:e,newValue:t};let y;const g=l(e)&&l(t);for(const i of f){const s=u(e,i),o=u(t,i);let a;(g||"function"!=typeof s&&"function"!=typeof o)&&s!==o&&(null==s&&null==o||(a=r&&r[i]&&"function"==typeof r[i]?r[i](s,o):"object"==typeof s&&"object"==typeof o&&p(s)===p(o)?d(s,o):{type:"complete",oldValue:s,newValue:o},(0,n.pC)(a)&&((0,n.pC)(y)?y.diff[i]=a:y={type:"partial",diff:{[i]:a}})))}return y}function h(e,t){if((0,n.Wi)(e))return!1;const r=t.split(".");let i=e;for(const e of r){if("complete"===i.type)return!0;if("partial"!==i.type)return!1;{const t=i.diff[e];if(!t)return!1;i=t}}return!0}function f(e,t){for(const r of t)if(h(e,r))return!0;return!1}function m(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&p(e)!==p(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}},94588:(e,t,r)=>{"use strict";r.d(t,{Bg:()=>n,sM:()=>i});r(95830);function n(e){}function i(e){return()=>e}},50897:(e,t,r)=>{"use strict";r.d(t,{Gv:()=>w,SO:()=>d,d9:()=>s,r3:()=>v,BD:()=>h,Qn:()=>f,Zm:()=>y,jE:()=>m,Ue:()=>i,cS:()=>b,Ho:()=>c,oJ:()=>a,al:()=>o,Cb:()=>p,kK:()=>g,HH:()=>l,bf:()=>u});r(95830);var n=r(52937);function i(e=_){return[e[0],e[1],e[2],e[3]]}function s(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,r,n,s=i()){return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s}function a(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new n.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function c(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function u(e){return e[0]>=e[2]?0:e[2]-e[0]}function p(e){return e[1]>=e[3]?0:e[3]-e[1]}function d(e){return u(e)*p(e)}function h(e,t){return m(e,t[0],t[1])}function f(e,t){return m(e,t.x,t.y)}function m(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function y(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function g(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function v(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function b(e){return e?function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}(e,w):i(w)}const w=[1/0,1/0,-1/0,-1/0],_=[0,0,0,0]},91535:(e,t,r)=>{"use strict";r.d(t,{aX:()=>S,or:()=>C});var n=r(34926),i=r(59472),s=r(36544),o=r(32656),a=r(27780),l=r(41241),c=r(53817),u=r(93833),p=r(49573),d=r(10923),h=r(56885),f=(r(36348),r(36654));async function m(e,t,r){const n="string"==typeof e?(0,d.mN)(e):e,i=t[0].spatialReference,s=(0,h.Ji)(t[0]),o={...r,query:{...n.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify(y(t))}};return function(e,t,r){const n=(0,h.q9)(t);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=r,t}))}((await(0,f.default)(n.path+"/simplify",o)).data,s,i)}function y(e){return{geometryType:(0,h.Ji)(e[0]),geometries:e.map((e=>e.toJSON()))}}const g=s.Z.getLogger("esri.geometry.support.normalizeUtils");function v(e){return"polygon"===e[0].type}function b(e){return"polyline"===e[0].type}function w(e,t,r){if(t){const t=function(e,t){if(!(e instanceof u.Z||e instanceof c.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw g.error(e),new o.Z(e)}const r=(0,p.x3)(e),n=[];for(const e of r){const r=[];n.push(r),r.push([e[0][0],e[0][1]]);for(let n=0;n<e.length-1;n++){const i=e[n][0],s=e[n][1],o=e[n+1][0],a=e[n+1][1],l=Math.sqrt((o-i)*(o-i)+(a-s)*(a-s)),c=(a-s)/l,u=(o-i)/l,p=l/t;if(p>1){for(let e=1;e<=p-1;e++){const n=e*t,o=u*n+i,a=c*n+s;r.push([o,a])}const e=(l+Math.floor(p-1)*t)/2,n=u*e+i,o=c*e+s;r.push([n,o])}r.push([o,a])}}return function(e){return"polygon"===e.type}(e)?new c.Z({rings:n,spatialReference:e.spatialReference}):new u.Z({paths:n,spatialReference:e.spatialReference})}(e,1e6);e=(0,l.Sx)(t,!0)}return r&&(e=(0,p.Sy)(e,r)),e}function _(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const r=(0,p.XZ)(n,t);e[0]=n+r*(-2*t)}else if(n<r){const t=(0,p.XZ)(n,r);e[0]=n+t*(-2*r)}}else{const n=e.x;if(n>t){const r=(0,p.XZ)(n,t);e=e.clone().offset(r*(-2*t),0)}else if(n<r){const t=(0,p.XZ)(n,r);e=e.clone().offset(t*(-2*r),0)}}return e}function x(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const i=t.cutIndexes[n],s=t.geometries[n],o=(0,p.x3)(s);for(let e=0;e<o.length;e++){const t=o[e];t.some((r=>{if(r[0]<180)return!0;{let r=0;for(let e=0;e<t.length;e++){const n=t[e][0];r=n>r?n:r}r=Number(r.toFixed(9));const n=-360*(0,p.XZ)(r,180);for(let r=0;r<t.length;r++){const t=s.getPoint(e,r);s.setPoint(e,r,t.clone().offset(n,0))}return!0}}))}if(i===r){if(v(e))for(const t of(0,p.x3)(s))e[i]=e[i].addRing(t);else if(b(e))for(const t of(0,p.x3)(s))e[i]=e[i].addPath(t)}else r=i,e[i]=s}return e}async function S(e,t,r){if(!Array.isArray(e))return S([e],t);const s=t?t.url:n.default.geometryServiceUrl;let o,y,g,v,b,C,M,E,T=0;const L=[],z=[];for(const t of e)if((0,i.Wi)(t))z.push(t);else if(o||(o=t.spatialReference,y=(0,a.C5)(o),g=o.isWebMercator,C=g?102100:4326,v=p.UZ[C].maxX,b=p.UZ[C].minX,M=p.UZ[C].plus180Line,E=p.UZ[C].minus180Line),y)if("mesh"===t.type)z.push(t);else if("point"===t.type)z.push(_(t.clone(),v,b));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>_(e,v,b))),z.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,y);z.push(e.rings?new c.Z(e):e)}else if(t.extent){const e=t.extent,r=(0,p.XZ)(e.xmin,b)*(2*v);let n=0===r?t.clone():(0,p.Sy)(t.clone(),r);e.offset(r,0),e.intersects(M)&&e.xmax!==v?(T=e.xmax>T?e.xmax:T,n=w(n,g),L.push(n),z.push("cut")):e.intersects(E)&&e.xmin!==b?(T=e.xmax*(2*v)>T?e.xmax*(2*v):T,n=w(n,g,360),L.push(n),z.push("cut")):z.push(n)}else z.push(t.clone());else z.push(t);let F=(0,p.XZ)(T,v),I=-90;const R=F,P=new u.Z;for(;F>0;){const e=360*F-180;P.addPath([[e,I],[e,-1*I]]),I*=-1,F--}if(L.length>0&&R>0){const t=x(L,await async function(e,t,r,n){const i="string"==typeof e?(0,d.mN)(e):e,s=t[0].spatialReference,o={...n,query:{...i.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:(0,h.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await(0,f.default)(i.path+"/cut",o),{cutIndexes:l,geometries:c=[]}=a.data;return{cutIndexes:l,geometries:c.map((e=>{const t=(0,h.im)(e);return t.spatialReference=s,t}))}}(s,L,P,r)),n=[],o=[];for(let r=0;r<z.length;r++){const s=z[r];if("cut"!==s)o.push(s);else{const s=t.shift(),a=e[r];(0,i.pC)(a)&&"polygon"===a.type&&a.rings&&a.rings.length>1&&s.rings.length>=a.rings.length?(n.push(s),o.push("simplify")):o.push(g?(0,l.$)(s):s)}}if(!n.length)return o;const a=await m(s,n,r),c=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?c.push(t):c.push(g?(0,l.$)(a.shift()):a.shift())}return c}const j=[];for(let e=0;e<z.length;e++){const t=z[e];if("cut"!==t)j.push(t);else{const e=L.shift();j.push(!0===g?(0,l.$)(e):e)}}return Promise.resolve(j)}function C(e,t){const r=(0,a.C5)(t);if(r){const[t,n]=r.valid,i=n-t;if(e<t)for(;e<t;)e+=i;if(e>n)for(;e>n;)e-=i}return e}},49573:(e,t,r)=>{"use strict";r.d(t,{UZ:()=>o,x3:()=>c,uS:()=>u,XZ:()=>a,Sy:()=>l});var n=r(73032),i=r(93833),s=r(56885);const o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new i.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.Z.WebMercator}),minus180Line:new i.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new i.Z({paths:[[[180,-180],[180,180]]],spatialReference:n.Z.WGS84}),minus180Line:new i.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:n.Z.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const r=c(e);for(const e of r)for(const r of e)r[0]+=t;return e}function c(e){return(0,s.oU)(e)?e.rings:e.paths}function u(e){const t=(null==e?void 0:e.isWebMercator)?102100:4326;return[o[t].minX,o[t].maxX]}},7783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(56140),i=(r(95830),r(82550)),s=(r(36544),r(68055),r(79881)),o=r(56274),a=r(87566),l=r(60538),c=(r(10923),r(57002),r(86035),r(58385));const u=new o.Xn({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let p=class extends c.wq{constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(e,t){t.drawingTool=u.toJSON(e)}writePrototype(e,t){t.prototype=(0,i.yd)((0,i.d9)(e),!0)}writeThumbnail(e,t){t.thumbnail=(0,i.yd)((0,i.d9)(e))}};(0,n._)([(0,s.Cb)({json:{write:!0}})],p.prototype,"name",void 0),(0,n._)([(0,s.Cb)({json:{write:!0}})],p.prototype,"description",void 0),(0,n._)([(0,s.Cb)({json:{read:u.read,write:u.write}})],p.prototype,"drawingTool",void 0),(0,n._)([(0,l.c)("drawingTool")],p.prototype,"writeDrawingTool",null),(0,n._)([(0,s.Cb)({json:{write:!0}})],p.prototype,"prototype",void 0),(0,n._)([(0,l.c)("prototype")],p.prototype,"writePrototype",null),(0,n._)([(0,s.Cb)({json:{write:!0}})],p.prototype,"thumbnail",void 0),(0,n._)([(0,l.c)("thumbnail")],p.prototype,"writeThumbnail",null),p=(0,n._)([(0,a.j)("esri.layers.support.FeatureTemplate")],p);const d=p},21872:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(56140),i=(r(95830),r(82550)),s=(r(36544),r(68055),r(79881)),o=r(30590),a=r(87566),l=r(60538),c=(r(10923),r(57002),r(86035),r(58385)),u=r(43950),p=r(79057),d=r(61618),h=(r(6585),r(7783));let f=class extends c.wq{constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(n.type){case"range":t[r]=d.Z.fromJSON(n);break;case"codedValue":t[r]=u.Z.fromJSON(n);break;case"inherited":t[r]=p.Z.fromJSON(n)}}return t}writeDomains(e,t){const r={};for(const t in e)e.hasOwnProperty(t)&&(r[t]=e[t]&&e[t].toJSON());(0,i.yd)(r),t.domains=r}readTemplates(e){return e&&e.map((e=>new h.Z(e)))}writeTemplates(e,t){t.templates=e&&e.map((e=>e.toJSON()))}};(0,n._)([(0,s.Cb)({json:{write:!0}})],f.prototype,"id",void 0),(0,n._)([(0,s.Cb)({json:{write:!0}})],f.prototype,"name",void 0),(0,n._)([(0,s.Cb)({json:{write:!0}})],f.prototype,"domains",void 0),(0,n._)([(0,o.r)("domains")],f.prototype,"readDomains",null),(0,n._)([(0,l.c)("domains")],f.prototype,"writeDomains",null),(0,n._)([(0,s.Cb)({json:{write:!0}})],f.prototype,"templates",void 0),(0,n._)([(0,o.r)("templates")],f.prototype,"readTemplates",null),(0,n._)([(0,l.c)("templates")],f.prototype,"writeTemplates",null),f=(0,n._)([(0,a.j)("esri.layers.support.FeatureType")],f);const m=f},70834:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n,i=r(56140),s=(r(95830),r(36544),r(68055)),o=r(79881),a=r(56274),l=r(9870),c=r(30590),u=r(87566),p=(r(10923),r(57002),r(86035),r(58385)),d=r(6585),h=r(88210);const f=new a.Xn({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=n=class extends p.wq{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch(e){}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch(e){}return r?f.fromJSON(r.fieldValueType):null}clone(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,i._)([(0,o.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,i._)([(0,o.Cb)()],m.prototype,"description",void 0),(0,i._)([(0,c.r)("description")],m.prototype,"readDescription",null),(0,i._)([(0,o.Cb)({types:d.V5,json:{read:{reader:d.im},write:!0}})],m.prototype,"domain",void 0),(0,i._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,i._)([(0,o.Cb)({type:s.z8,json:{write:!0}})],m.prototype,"length",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,i._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,i._)([(0,l.J)(h.v)],m.prototype,"type",void 0),(0,i._)([(0,o.Cb)()],m.prototype,"valueType",void 0),(0,i._)([(0,c.r)("valueType",["description"])],m.prototype,"readValueType",null),m=n=(0,i._)([(0,u.j)("esri.layers.support.Field")],m);const y=m},61121:(e,t,r)=>{"use strict";function n(e){return"date"===e.type||"esriFieldTypeDate"===e.type}r.d(t,{Z:()=>s});function i(e){return e.toLowerCase().trim()}const s=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const r of e){const e=r&&r.name;if(e){const s=i(e);this._fieldsMap.set(e,r),this._fieldsMap.set(s,r),t.push(s),n(r)&&(this.dateFields.push(r),this._dateFieldsSet.add(r))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(i(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}},18897:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n,i=r(56140),s=(r(95830),r(36544),r(68055)),o=r(79881),a=r(87566),l=(r(10923),r(57002),r(86035),r(58385));let c=n=class extends l.wq{constructor(e){super(e),this.level=0,this.levelValue=null,this.resolution=0,this.scale=0}clone(){return new n({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}};(0,i._)([(0,o.Cb)({type:s.z8,json:{write:!0}})],c.prototype,"level",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],c.prototype,"levelValue",void 0),(0,i._)([(0,o.Cb)({type:Number,json:{write:!0}})],c.prototype,"resolution",void 0),(0,i._)([(0,o.Cb)({type:Number,json:{write:!0}})],c.prototype,"scale",void 0),c=n=(0,i._)([(0,a.j)("esri.layers.support.LOD")],c);const u=c},26360:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n,i=r(56140),s=(r(95830),r(82550)),o=(r(36544),r(68055),r(79881)),a=r(56274),l=r(30590),c=r(87566),u=r(60538),p=(r(10923),r(57002),r(86035),r(58385)),d=r(54734),h=r(49684);let f=n=class extends p.wq{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?(0,h.dI)(t.value):e}writeExpression(e,t,r){null!=this.value&&(e=(0,h.dI)(this.value)),t[r]=e}clone(){return new n({expression:this.expression,title:this.title,value:this.value})}};(0,i._)([(0,o.Cb)({type:String,json:{write:{allowNull:!0}}})],f.prototype,"expression",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"title",void 0),(0,i._)([(0,o.Cb)({json:{read:!1,write:!1}})],f.prototype,"value",void 0),(0,i._)([(0,l.r)("expression",["expression","value"])],f.prototype,"readExpression",null),(0,i._)([(0,u.c)("expression")],f.prototype,"writeExpression",null),f=n=(0,i._)([(0,c.j)("esri.layers.support.LabelExpressionInfo")],f);const m=f;var y,g=r(5684);const v=new a.Xn({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function b(e){return!e||"service"!==e.origin&&!(e.layer&&"map-image"===e.layer.type)}let w=y=class extends p.wq{constructor(e){super(e),this.type="label",this.name=null,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.maxScale=0,this.minScale=0,this.symbol=g.Rz,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;const n=e.split(" ");if(3===n.length)return r(t[n[0]],n[1],n[2]);if(7===n.length){const e=r(t[n[0]],n[1],n[2]),i=n[3],s=r(t[n[4]],n[5],n[6]);switch(i){case"AND":return e&&s;case"OR":return e||s}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r,n){if(this.labelExpressionInfo&&(b(n)||n&&"service"===n.origin))if(null!=this.labelExpressionInfo.value)e=(0,h.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=(0,h.el)(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,n){if(null==e&&null!=this.labelExpression&&b(n))e=new m({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(n);i.expression&&(t[r]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return(0,h.hV)(this)}getLabelExpressionArcade(){return(0,h.YI)(this)}getLabelExpressionSingleField(){return(0,h.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new y({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,s.d9)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:(0,s.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],w.prototype,"name",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],w.prototype,"deconflictionStrategy",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:{allowNull:!0}}})],w.prototype,"labelExpression",void 0),(0,i._)([(0,l.r)("labelExpression")],w.prototype,"readLabelExpression",null),(0,i._)([(0,u.c)("labelExpression")],w.prototype,"writeLabelExpression",null),(0,i._)([(0,o.Cb)({type:m,json:{write:{overridePolicy:(e,t,r)=>b(r)?{allowNull:!0}:{enabled:!1}}}})],w.prototype,"labelExpressionInfo",void 0),(0,i._)([(0,u.c)("labelExpressionInfo")],w.prototype,"writeLabelExpressionInfo",null),(0,i._)([(0,o.Cb)({type:v.apiValues,json:{type:v.jsonValues,read:v.read,write:v.write}})],w.prototype,"labelPlacement",void 0),(0,i._)([(0,o.Cb)({type:Number})],w.prototype,"maxScale",void 0),(0,i._)([(0,u.c)("maxScale")],w.prototype,"writeMaxScale",null),(0,i._)([(0,o.Cb)({type:Number})],w.prototype,"minScale",void 0),(0,i._)([(0,u.c)("minScale")],w.prototype,"writeMinScale",null),(0,i._)([(0,o.Cb)({types:d.d,json:{origins:{"web-scene":{types:d.g,write:d.w,default:null}},write:d.w,default:null}})],w.prototype,"symbol",void 0),(0,i._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],w.prototype,"useCodedValues",void 0),(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],w.prototype,"where",void 0),w=y=(0,i._)([(0,c.j)("esri.layers.support.LabelClass")],w);const _=w},40920:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n,i=r(56140),s=(r(95830),r(36544),r(68055)),o=r(79881),a=r(56274),l=r(30590),c=r(87566),u=r(60538),p=(r(10923),r(57002),r(86035),r(58385)),d=r(27780),h=r(73032),f=r(41241),m=r(61106),y=(r(36348),r(93533)),g=r(50897),v=r(18897);const b=new a.Xn({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let w=n=class extends p.wq{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={size:256,spatialReference:h.Z.WebMercator}){const t=e.resolutionFactor||1,r=e.scales,i=e.size||256,s=e.spatialReference||h.Z.WebMercator;if(!(0,d.JY)(s)){const e=[];if(r)for(let t=0;t<r.length;t++){const n=r[t];e.push({level:t,scale:n,resolution:n})}else{let t=5e-4;for(let r=23;r>=0;r--)e.unshift({level:r,scale:t,resolution:t}),t*=2}return new n({dpi:96,lods:e,origin:new m.Z(0,0,s),size:[i,i],spatialReference:s})}const o=(0,d.C5)(s),a=e.origin?new m.Z({x:e.origin.x,y:e.origin.y,spatialReference:s}):new m.Z(o?{x:o.origin[0],y:o.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),l=1/(39.37*(0,y.c9)(s)*96),c=[];if(r)for(let e=0;e<r.length;e++){const t=r[e],n=t*l;c.push({level:e,scale:t,resolution:n})}else{let e=(0,d.sT)(s)?512/i*591657527.5917094:256/i*591657527.591555;const r=Math.ceil(24/t);c.push({level:0,scale:e,resolution:e*l});for(let n=1;n<r;n++){const r=e/2**t,i=r*l;c.push({level:n,scale:r,resolution:i}),e=r}}return new n({dpi:96,lods:c,origin:a,size:[i,i],spatialReference:s})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=(0,d.C5)(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return m.Z.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const n=[];this._levelToLOD={},e&&(t=-1/0,r=1/0,e.forEach((e=>{n.push(e.scale),t=e.scale>t?e.scale:t,r=e.scale<r?e.scale:r,this._levelToLOD[e.level]=e}))),this._set("scales",n),this._set("minScale",t),this._set("maxScale",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[0]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];{const r=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[r]-t[n])}}scaleToZoom(e){const t=this.scales,r=t.length-1;let n=0;for(;n<r;n++){const r=t[n],i=t[n+1];if(r<=e)return n;if(i===e)return n+1;if(r>e&&i<e)return n+1-(e-i)/(r-i)}return n}snapScale(e,t=.95){const r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}tileAt(e,t,r,n){const i=this.lodAt(e);if(!i)return null;let s,o;if("number"==typeof t)s=t,o=r;else if((0,d.fS)(t.spatialReference,this.spatialReference))s=t.x,o=t.y,n=r;else{const e=(0,f.iV)(t,this.spatialReference);if(!e)return null;s=e.x,o=e.y,n=r}const a=i.resolution*this.size[0],l=i.resolution*this.size[1];return n||(n={id:null,level:0,row:0,col:0,extent:(0,g.Ue)()}),n.level=e,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(n),n}updateTileInfo(e){const t=this.lodAt(e.level);if(!t)return;const r=t.resolution*this.size[0],n=t.resolution*this.size[1];e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,g.Ue)()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*n,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+n}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}getTileBounds(e,t){const{resolution:r}=this.lodAt(t.level),n=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+n,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return n.fromJSON(this.write({}))}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};(0,i._)([(0,o.Cb)({type:Number,json:{write:!0}})],w.prototype,"compressionQuality",void 0),(0,i._)([(0,o.Cb)({type:Number,json:{write:!0}})],w.prototype,"dpi",void 0),(0,i._)([(0,o.Cb)({type:String,json:{read:b.read,write:b.write,origins:{"web-scene":{read:!1,write:!1}}}})],w.prototype,"format",void 0),(0,i._)([(0,o.Cb)({readOnly:!0})],w.prototype,"isWrappable",null),(0,i._)([(0,o.Cb)({type:m.Z,json:{write:!0}})],w.prototype,"origin",void 0),(0,i._)([(0,l.r)("origin")],w.prototype,"readOrigin",null),(0,i._)([(0,o.Cb)({type:[v.Z],value:null,json:{write:!0}})],w.prototype,"lods",null),(0,i._)([(0,o.Cb)({readOnly:!0})],w.prototype,"minScale",void 0),(0,i._)([(0,o.Cb)({readOnly:!0})],w.prototype,"maxScale",void 0),(0,i._)([(0,o.Cb)({readOnly:!0})],w.prototype,"scales",void 0),(0,i._)([(0,o.Cb)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],w.prototype,"size",void 0),(0,i._)([(0,l.r)("size",["rows","cols"])],w.prototype,"readSize",null),(0,i._)([(0,u.c)("size",{cols:{type:s.z8},rows:{type:s.z8}})],w.prototype,"writeSize",null),(0,i._)([(0,o.Cb)({type:h.Z,json:{write:!0}})],w.prototype,"spatialReference",void 0),w=n=(0,i._)([(0,c.j)("esri.layers.support.TileInfo")],w);const _=w},97849:(e,t,r)=>{"use strict";r.d(t,{ld:()=>p,B5:()=>c,M8:()=>h,h3:()=>v,G:()=>g,Qc:()=>u,Nm:()=>f,XG:()=>m,a7:()=>d,wH:()=>y});var n=r(59472),i=r(10923),s=r(37704);const o=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i");function c(e){return!!a.test(e)}function u(e){const t=(0,i.mN)(e),r=t.path.match(a)||t.path.match(l);if(!r)return null;const[,n,s,o,c]=r,u=s.indexOf("/");return{title:p(-1!==u?s.slice(u+1):s),serverType:o,sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:n}}}function p(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function d(e,t){const r=[];if(e){const t=u(e);(0,n.pC)(t)&&t.title&&r.push(t.title)}if(t){const e=p(t);r.push(e)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function h(e){if(!e)return!1;const t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function f(e,t){return e?(0,i.Qj)((0,i.Hu)(e,t)):e}function m(e,t,r){if(!t)return{url:t};t=(0,i.Hu)(t,r);const s=u((0,i.mN)(t).path);let o;return(0,n.pC)(s)&&(null!=s.sublayer&&null==e.layerId&&(o=s.sublayer),t=s.url.path),{url:(0,i.Qj)(t),layerId:o}}function y(e,t,r,n,o){(0,s.w)(t,n,"url",o),n.url&&null!=e.layerId&&(n.url=(0,i.v_)(n.url,r,e.layerId.toString()))}function g(e){if(!e)return!1;const t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),i=-1!==t.indexOf("/imageserver/wmsserver"),s=-1!==t.indexOf("/wmsserver");return r&&(n||i||s)}function v(e){if(!e)return!1;const t=new i.R9((0,i.hF)(e)).authority.toLowerCase();return"server.arcgisonline.com"===t||"services.arcgisonline.com"===t}},88210:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});const n=new(r(56274).Xn)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},49684:(e,t,r)=>{"use strict";r.d(t,{dI:()=>m,hV:()=>d,YI:()=>h,UO:()=>f,el:()=>w,z7:()=>p});var n=r(88263);const i="__begin__",s="__end__",o=new RegExp(i,"ig"),a=new RegExp(s,"ig"),l=new RegExp("^"+i,"i"),c=new RegExp(s+"$","i"),u='"';function p(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function d(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function h(e){const t=d(e);if(!t)return null;switch(t.type){case"conventional":return m(t.expression);case"arcade":return t.expression}return null}function f(e){const t=d(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e.match(y);return t&&t[1].trim()||null}(t.expression);case"arcade":return w(t.expression)}return null}function m(e){let t;return e?(t=(0,n.gx)(e,(e=>i+'$feature["'+e+'"]'+s)),t=l.test(t)?t.replace(l,""):u+t,t=c.test(t)?t.replace(c,""):t+u,t=t.replace(o,'" + ').replace(a,' + "')):t='""',t}const y=/^\s*\{([^}]+)\}\s*$/i;const g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,v=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,b=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function w(e){if(!e)return null;let t=g.exec(e)||v.exec(e);return t?t[1]||t[3]:(t=b.exec(e),t?t[2]:null)}},2961:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(49840),i=r(93533);const s={inches:(0,i.En)(1,"meters","inches"),feet:(0,i.En)(1,"meters","feet"),"us-feet":(0,i.En)(1,"meters","us-feet"),yards:(0,i.En)(1,"meters","yards"),miles:(0,i.En)(1,"meters","miles"),"nautical-miles":(0,i.En)(1,"meters","nautical-miles"),millimeters:(0,i.En)(1,"meters","millimeters"),centimeters:(0,i.En)(1,"meters","centimeters"),decimeters:(0,i.En)(1,"meters","decimeters"),meters:(0,i.En)(1,"meters","meters"),kilometers:(0,i.En)(1,"meters","kilometers"),"decimal-degrees":1/(0,i.ty)(1,"meters",n.sv.radius)}},95005:(e,t,r)=>{"use strict";function n(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function i(e){return null!=e&&!isNaN(e)&&isFinite(e)}function s(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){const r=t||s(e),n=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===n?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,{PS:()=>s,QW:()=>o,iY:()=>n,qh:()=>i})},5328:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getAllSizes:()=>C,getColor:()=>f,getOpacity:()=>m,getRotationAngle:()=>y,getSize:()=>g,getSizeForValue:()=>w,getSizeFromNumberOrVariable:()=>v,getSizeRangeAtScale:()=>_,getVisualVariableValues:()=>x,viewScaleRE:()=>h});var n=r(94588),i=r(59472),s=r(36544),o=r(78745),a=r(15988),l=r(95005),c=r(2961);const u=s.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),p=new a.default,d=Math.PI,h=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function f(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.ColorVariable"!==n.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof t,a=s?null:t,l=a&&a.attributes;let c=s?t:null;const p=n.field,{ipData:d,hasExpression:h}=n.cache;let f=n.cache.compiledFunc;if(!p&&!h){const e=n.stops;return e&&e[0]&&e[0].color}if("number"!=typeof c)if(h){if(!(0,i.pC)(r)||!(0,i.pC)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,s=t.getViewInfo(e),o=t.createExecContext(a,s);if(!f){const e=t.createSyntaxTree(n.valueExpression);f=t.createFunction(e),n.cache.compiledFunc=f}c=t.executeFunction(f,o)}else l&&(c=l[p]);const m=n.normalizationField,y=l?parseFloat(l[m]):void 0;if(null!=c&&(!m||s||!isNaN(y)&&0!==y)){isNaN(y)||s||(c/=y);const e=S(c,d);if(e){const t=e[0],s=e[1],a=t===s?n.stops[t].color:o.default.blendColors(n.stops[t].color,n.stops[s].color,e[2],(0,i.pC)(r)?r.color:void 0);return new o.default(a)}}}function m(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.OpacityVariable"!==n.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const s="number"==typeof t,o=s?null:t,a=o&&o.attributes;let l=s?t:null;const c=n.field,{ipData:p,hasExpression:d}=n.cache;let h=n.cache.compiledFunc;if(!c&&!d){const e=n.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(d){if((0,i.Wi)(r)||(0,i.Wi)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,s=t.getViewInfo(e),a=t.createExecContext(o,s);if(!h){const e=t.createSyntaxTree(n.valueExpression);h=t.createFunction(e),n.cache.compiledFunc=h}l=t.executeFunction(h,a)}else a&&(l=a[c]);const f=n.normalizationField,m=a?parseFloat(a[f]):void 0;if(null!=l&&(!f||s||!isNaN(m)&&0!==m)){isNaN(m)||s||(l/=m);const e=S(l,p);if(e){const t=e[0],r=e[1];if(t===r)return n.stops[t].opacity;{const i=n.stops[t].opacity;return i+(n.stops[r].opacity-i)*e[2]}}}}function y(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.RotationVariable"!==n.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const s=n.axis||"heading",o="heading"===s&&"arithmetic"===n.rotationType?90:0,a="heading"===s&&"arithmetic"===n.rotationType?-1:1,l="number"==typeof t?null:t,c=l&&l.attributes,p=n.field,{hasExpression:d}=n.cache;let h=n.cache.compiledFunc,f=0;if(!p&&!d)return f;if(d){if((0,i.Wi)(r)||(0,i.Wi)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,s=t.getViewInfo(e),o=t.createExecContext(l,s);if(!h){const e=t.createSyntaxTree(n.valueExpression);h=t.createFunction(e),n.cache.compiledFunc=h}f=t.executeFunction(h,o)}else c&&(f=c[p]||0);return f="number"!=typeof f||isNaN(f)?null:o+a*f,f}function g(e,t,r){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.SizeVariable"!==n.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const s=w(function(e,t,r){const n="number"==typeof t,s=n?null:t,o=s&&s.attributes;let a=n?t:null;const{isScaleDriven:c}=e.cache;let p=e.cache.compiledFunc;if(c){const t=(0,i.pC)(r)?r.scale:void 0,n=(0,i.pC)(r)?r.view:void 0;a=null==t||"3d"===n?function(e){let t=null,r=null;const n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):t}else if(!n)switch(e.inputValueType){case"expression":{if((0,i.Wi)(r)||(0,i.Wi)(r.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},n=r.arcade.arcadeUtils,o=n.getViewInfo(t),l=n.createExecContext(s,o);if(!p){const t=n.createSyntaxTree(e.valueExpression);p=n.createFunction(t),e.cache.compiledFunc=p}a=n.executeFunction(p,l);break}case"field":o&&(a=o[e.field]);break;case"unknown":a=null}if(!(0,l.qh)(a))return null;if(n||!e.normalizationField)return a;const d=o?parseFloat(o[e.normalizationField]):null;return(0,l.qh)(d)&&0!==d?a/d:null}(n,t,r),n,t,r,n.cache.ipData);return null==s||isNaN(s)?0:s}function v(e,t,r){return null==e?null:(0,l.iY)(e)?g(e,t,r):(0,l.qh)(e)?e:null}function b(e,t,r){return(0,l.qh)(r)&&e>r?r:(0,l.qh)(t)&&e<t?t:e}function w(e,t,r,n,s){switch(t.transformationType){case"additive":return function(e,t,r,n){return e+(v(t.minSize,r,n)||t.minDataValue)}(e,t,r,n);case"constant":return function(e,t,r){const n=e.stops;let i=n&&n.length&&n[0].size;return null==i&&(i=e.minSize),v(i,t,r)}(t,r,n);case"clamped-linear":return function(e,t,r,n){const s=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),o=v(t.minSize,r,n),a=v(t.maxSize,r,n),l=(0,i.pC)(n)?n.shape:void 0;if(e<=t.minDataValue)return o;if(e>=t.maxDataValue)return a;if("area"===t.scaleBy&&l){const e="circle"===l,t=e?d*(o/2)**2:o*o,r=t+s*((e?d*(a/2)**2:a*a)-t);return e?2*Math.sqrt(r/d):Math.sqrt(r)}return o+s*(a-o)}(e,t,r,n);case"proportional":return function(e,t,r,n){const s=(0,i.pC)(n)?n.shape:void 0,o=e/t.minDataValue,a=v(t.minSize,r,n),l=v(t.maxSize,r,n);let c=null;return c="circle"===s?2*Math.sqrt(o*(a/2)**2):"square"===s||"diamond"===s||"image"===s?Math.sqrt(o*a**2):o*a,b(c,a,l)}(e,t,r,n);case"stops":return function(e,t,r,n,i){const[s,o,a]=S(e,i);if(s===o)return v(t.stops[s].size,r,n);{const e=v(t.stops[s].size,r,n);return e+(v(t.stops[o].size,r,n)-e)*a}}(e,t,r,n,s);case"real-world-size":return function(e,t,r,n){const s=((0,i.pC)(n)&&n.resolution?n.resolution:1)*c.a[t.valueUnit],o=v(t.minSize,r,n),a=v(t.maxSize,r,n),{valueRepresentation:l}=t;let u=null;return u="area"===l?2*Math.sqrt(e/d)/s:"radius"===l||"distance"===l?2*e/s:e/s,b(u,o,a)}(e,t,r,n);case"identity":return e;case"unknown":return null}}function _(e,t,r){const{isScaleDriven:n}=e.cache;if(!(n&&"3d"===r||t))return null;const i={scale:t,view:r};let s=v(e.minSize,p,i),o=v(e.maxSize,p,i);if(null!=s||null!=o){if(s>o){const e=o;o=s,s=e}return{minSize:s,maxSize:o}}}function x(e,t,r){if(!e.visualVariables)return;const n=[],i=[],s=[],o=[],a=[];for(const t of e.visualVariables)switch(t.type){case"color":i.push(t);break;case"opacity":s.push(t);break;case"rotation":a.push(t);break;case"size":o.push(t)}return i.forEach((e=>{const i=f(e,t,r);n.push({variable:e,value:i})})),s.forEach((e=>{const i=m(e,t,r);n.push({variable:e,value:i})})),a.forEach((e=>{const i=y(e,t,r);n.push({variable:e,value:i})})),o.forEach((e=>{const i=g(e,t,r);n.push({variable:e,value:i})})),n.filter((e=>null!=e.value))}function S(e,t){if(!t)return;let r=0,n=t.length-1;return t.some(((t,i)=>e<t?(n=i,!0):(r=i,!1))),[r,n,(e-t[r])/(t[n]-t[r])]}function C(e,t,r){const i=["proportional","proportional","proportional"];for(const s of e){const e=s.useSymbolValue?"symbol-value":g(s,t,r);switch(s.axis){case"width":i[0]=e;break;case"depth":i[1]=e;break;case"height":i[2]=e;break;case"width-and-depth":i[0]=e,i[1]=e;break;case"all":case void 0:case null:i[0]=e,i[1]=e,i[2]=e;break;default:(0,n.Bg)(s.axis)}}return i}},99322:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>h,JN:()=>p,$o:()=>d});var n=r(56140),i=(r(95830),r(36544)),s=(r(68055),r(79881)),o=r(87566),a=(r(10923),r(57002),r(86035),r(28293)),l=r(32105),c=r(15988);const u=a.Z.ofType(c.default);i.Z.getLogger("esri.support.GraphicsCollection");let p=class extends u{constructor(e){super(e),this.on("before-add",(e=>{e.item||e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(({item:e})=>{e.layer=null}))}destroy(){this._unownAll()}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._unownAll(),this._set("owner",e),this._ownAll())}_createNewInstance(e){return new u(e)}_ownAll(){this.items.forEach((e=>this._own(e)))}_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_unownAll(){this.items.forEach((e=>this._unown(e)))}_unown(e){e.layer===this.owner&&(e.layer=null)}};(0,n._)([(0,s.Cb)()],p.prototype,"owner",null),p=(0,n._)([(0,o.j)("esri.support.GraphicsCollection")],p);const d=(e="graphics")=>({type:p,cast:l.R,set(t){const r=(0,l.Z)(t,this._get(e),p);r.owner=this,this._set(e,r)}});const h=p},90921:(e,t,r)=>{"use strict";r.d(t,{K:()=>f});var n=r(56140),i=(r(95830),r(36544)),s=(r(68055),r(79881)),o=r(87566),a=(r(10923),r(57002),r(86035),r(39105)),l=r(28293),c=r(32105),u=r(56700);function p(e){return e&&"group"===e.type}function d(e,t,r){let n,i;if(e)for(let s=0,o=e.length;s<o;s++){if(n=e.getItemAt(s),n[t]===r)return n;if(p(n)&&(i=d(n.layers,t,r),i))return i}}const h=i.Z.getLogger("esri.support.LayersMixin"),f=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new l.Z;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||h.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},r=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on("before-add",(e=>(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item))),this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>r(e.item)))}destroy(){const e=this.layers.removeAll();for(const t of e)this.layerRemoved(t),t.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,c.Z)(e,this._get("layers")))}add(e,t){const r=this.layers;t=r.getNextIndex(t),e instanceof u.Z?e.parent===this?this.reorder(e,t):r.add(e,t):(0,a.isPromiseLike)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):h.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const r=this.layers;t=r.getNextIndex(t),e.slice().forEach((e=>{e.parent!==this?(r.add(e,t),t+=1):this.reorder(e,t)}))}findLayerById(e){return d(this.layers,"id",e)}findLayerByUid(e){return d(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return(0,n._)([(0,s.Cb)()],t.prototype,"layers",null),t=(0,n._)([(0,o.j)("esri.support.LayersMixin")],t),t}},16137:(e,t,r)=>{"use strict";r.d(t,{Q:()=>h});var n=r(56140),i=(r(95830),r(36544)),s=(r(68055),r(79881)),o=r(87566),a=(r(10923),r(57002),r(86035),r(28293)),l=r(32105);const c="esri.support.TablesMixin",u=i.Z.getLogger(c);function p(e){return e&&"group"===e.type}function d(e,t,r){if(e)for(let n=0,i=e.length;n<i;n++){const i=e.getItemAt(n);if(i[t]===r)return i;if(p(i)){const e=d(i.tables,t,r);if(e)return e}}}const h=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new a.Z,this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&u.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))}destroy(){const e=this.tables.removeAll();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",(0,l.Z)(e,this._get("tables")))}findTableById(e){return d(this.tables,"id",e)}findTableByUid(e){return d(this.tables,"uid",e)}};return(0,n._)([(0,s.Cb)()],t.prototype,"tables",null),t=(0,n._)([(0,o.j)(c)],t),t}},80882:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>f,Df:()=>u,Bf:()=>p,se:()=>d,tR:()=>h,zb:()=>m,aL:()=>y});var n=r(36544),i=r(68055),s=r(10923),o=r(28293),a=r(93776),l=r(22696);const c=n.Z.getLogger("esri.support.basemapUtils");function u(){return{}}function p(e){for(const t in e){const r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function d(e,t){var r;let n;if("string"==typeof e){if(!(e in a.s)){const t=Object.keys(a.s).map((e=>`"${e}"`)).join(", ");return c.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`),null}t&&(n=t[e]),n||(n=l.default.fromId(e),t&&(t[e]=n))}else n=(0,i.se)(l.default,e);return null!=(r=n)&&r.destroyed&&(c.warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function h(e){let t=null;const r=b(e),n=!r.baseLayers.length;for(const e in a.s){const i=C(r,x(a.s[e]),{mustMatchReferences:n});if("equal"===i){t=e;break}"base-layers-equal"===i&&(t=e)}return t}function f(e,t){return e===t||"equal"===C(b(e),b(t),{mustMatchReferences:!0})}function m(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(y))}function y(e){if(v(e.url))return!0;if("vector-tile"===e.type)for(const t in e.sourceNameToSource){const r=e.sourceNameToSource[t];if(v(null==r?void 0:r.sourceUrl))return!0}return!1}const g=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function v(e){if(!e)return!1;const t=new s.R9((0,s.hF)(e));return g.test(t.authority)}function b(e){return e?!e.loaded&&e.resourceInfo?x(e.resourceInfo.data):{baseLayers:w(e.baseLayers),referenceLayers:w(e.referenceLayers)}:null}function w(e){return(o.Z.isCollection(e)?e.toArray():e).map(_)}function _(e){return{type:e.type,url:T("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function x(e){return e?{baseLayers:S(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:S(e.baseMapLayers.filter((e=>e.isReference)))}:null}function S(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:T(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}(e)))}function C(e,t,r){return null!=e!=(null!=t)?"not-equal":e?M(e.baseLayers,t.baseLayers)?M(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function M(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!E(e[r],t[r]))return!1;return!0}function E(e,t){return e.type===t.type&&e.url===t.url&&e.minScale===t.minScale&&e.maxScale===t.maxScale&&e.visible===t.visible&&e.opacity===t.opacity}function T(e){return e?(0,s.Fv)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},43551:(e,t,r)=>{"use strict";r.d(t,{eZ:()=>p});var n=r(4665),i=(r(4529),r(67472)),s=(r(97948),r(99217)),o=r(20628),a=r(38173),l=(r(16839),r(75107),r(58484));const c=["oid","global-id"],u=["oid","global-id","guid"];function p({displayField:e,editFieldsInfo:t,fields:r,objectIdField:s,title:o},c){if(!r)return null;const u=g({editFieldsInfo:t,fields:r,objectIdField:s},c);if(!u.length)return null;const p=function(e){const t=(0,n.O5)(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}({titleBase:o,fields:r,displayField:e}),d=[new a.Z,new i.Z];return new l.default({title:p,content:d,fieldInfos:u})}const d=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],h=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:n})=>n?n.has(e.name):!(m(e.name,t)||r&&e.name===r||c.indexOf(e.type)>-1||d.some((t=>t.test(e.name))));function f(e,t){return"oid"===e.type?-1:"oid"===t.type?1:b(e)?-1:b(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function m(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:n,editDateField:i,editorField:s}=t;return-1!==[r&&r.toLowerCase(),n&&n.toLowerCase(),i&&i.toLowerCase(),s&&s.toLowerCase()].indexOf(e.toLowerCase())}function y(e,t){return e.editable&&-1===u.indexOf(e.type)&&!m(e.name,t)}function g({editFieldsInfo:e,fields:t,objectIdField:r},n){return function(e,t){const r=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===r&&(e=e.slice()),e.sort(f),e}(t,(null==n?void 0:n.ignoreFieldTypes)||w).map((t=>new o.Z({fieldName:t.name,isEditable:y(t,e),label:t.alias,format:v(t),visible:h(t,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:null==n?void 0:n.visibleFieldNames})})))}function v(e){switch(e.type){case"small-integer":case"integer":case"single":return new s.Z({digitSeparator:!0,places:0});case"double":return new s.Z({digitSeparator:!0,places:2});case"date":return new s.Z({dateFormat:"long-month-day-year"});default:return null}}function b(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}const w=["geometry","blob","raster","guid","xml"]},5684:(e,t,r)=>{"use strict";r.d(t,{Rz:()=>d,G:()=>f,kD:()=>y,mW:()=>m,js:()=>h});r(95830);var n=r(59472),i=r(48142),s=r(5674),o=r(88083),a=r(44190),l=r(7767);const c=o.Z.fromJSON(l.I4),u=i.Z.fromJSON(l.ET),p=s.default.fromJSON(l.lF),d=a.default.fromJSON(l.qP);function h(e){if((0,n.Wi)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return c;case"polyline":return u;case"polygon":case"extent":return p}return null}const f=o.Z.fromJSON(l.eG),m=i.Z.fromJSON(l.wW),y=s.default.fromJSON(l.lj)},7767:(e,t,r)=>{"use strict";r.d(t,{I4:()=>i,lF:()=>o,ET:()=>s,qP:()=>a,eG:()=>l,lj:()=>u,wW:()=>c});const n=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},95986:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(56140),i=(r(95830),r(36544),r(68055),r(79881)),s=r(87566),o=r(10923),a=(r(57002),r(86035),r(82677));let l=class extends a.default{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return"string"!=typeof e?e:{url:e,...t}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?(0,o.mN)(e):null}_encode(e,t,r){const n={};for(const i in e){if("declaredClass"===i)continue;const s=e[i];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){n[i]=[];for(let e=0;e<s.length;e++)n[i][e]=this._encode(s[e])}else if("object"==typeof s)if(s.toJSON){const e=s.toJSON(r&&r[i]);n[i]=t?e:JSON.stringify(e)}else n[i]=t?s:JSON.stringify(s);else n[i]=s}return n}};(0,n._)([(0,i.Cb)({readOnly:!0})],l.prototype,"parsedUrl",null),(0,n._)([(0,i.Cb)()],l.prototype,"requestOptions",void 0),(0,n._)([(0,i.Cb)({type:String})],l.prototype,"url",void 0),l=(0,n._)([(0,s.j)("esri.tasks.Task")],l);const c=l},76194:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(56140),i=(r(95830),r(59472)),s=(r(36544),r(68055),r(79881)),o=r(56274),a=r(30590),l=r(87566),c=r(60538),u=(r(10923),r(57002),r(86035),r(58385)),p=r(73032),d=r(56885),h=r(36348),f=r(15988),m=r(70834);const y=new o.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let g=class extends u.wq{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=p.Z.fromJSON(t.spatialReference),n=[];for(let t=0;t<e.length;t++){const s=e[t],o=f.default.fromJSON(s),a=s.geometry&&s.geometry.spatialReference;(0,i.pC)(o.geometry)&&!a&&(o.geometry.spatialReference=r),n.push(o)}return n}writeGeometryType(e,t,r,n){if(e)return void y.write(e,t,r,n);const{features:s}=this;if(s)for(const e of s)if(e&&(0,i.pC)(e.geometry))return void y.write(e.geometry.type,t,r,n)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=(0,d.im)(e);return!r&&t.spatialReference&&(n.spatialReference=p.Z.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)e&&(0,i.pC)(e.geometry)&&e.geometry.spatialReference&&(t.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const t=e&&e[r];n.geometry=t&&t.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,s]}=e,o=this.features,a=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-n)/t)),(e=>Math.round((s-e)/r)));for(let e=0,t=o.length;e<t;e++)a((0,i.Wg)(o[e].geometry))||(o.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,s],scale:[o,a]}=r,l=this._getHydrationFunction(e,(e=>e*o+n),(e=>s-e*a));for(const{geometry:e}of t)(0,i.pC)(e)&&l(e);return this.transform=null,this}_quantizePoints(e,t,r){let n,i;const s=[];for(let o=0,a=e.length;o<a;o++){const a=e[o];if(o>0){const e=t(a[0]),o=r(a[1]);e===n&&o===i||(s.push([e-n,o-i]),n=e,i=o)}else n=t(a[0]),i=r(a[1]),s.push([n,i])}return s.length>0?s:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const n=(0,d.oU)(e)?e.rings:e.paths,i=[];for(let e=0,s=n.length;e<s;e++){const s=n[e],o=this._quantizePoints(s,t,r);o&&i.push(o)}return i.length>0?((0,d.oU)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?e=>{const n=this._quantizePoints(e.points,t,r);return n.length>0?(e.points=n,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?e=>{const n=(0,d.oU)(e)?e.rings:e.paths;let i,s;for(let e=0,o=n.length;e<o;e++){const o=n[e];for(let e=0,n=o.length;e<n;e++){const n=o[e];e>0?(i+=n[0],s+=n[1]):(i=n[0],s=n[1]),n[0]=t(i),n[1]=r(s)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?e=>{const n=e.points;let i,s;for(let e=0,o=n.length;e<o;e++){const o=n[e];e>0?(i+=o[0],s+=o[1]):(i=o[0],s=o[1]),o[0]=t(i),o[1]=r(s)}}:void 0}};(0,n._)([(0,s.Cb)({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0),(0,n._)([(0,s.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"exceededTransferLimit",void 0),(0,n._)([(0,s.Cb)({type:[f.default],json:{write:!0}})],g.prototype,"features",void 0),(0,n._)([(0,a.r)("features")],g.prototype,"readFeatures",null),(0,n._)([(0,s.Cb)({type:[m.Z],json:{write:!0}})],g.prototype,"fields",void 0),(0,n._)([(0,s.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:y.read}}})],g.prototype,"geometryType",void 0),(0,n._)([(0,c.c)("geometryType")],g.prototype,"writeGeometryType",null),(0,n._)([(0,s.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasM",void 0),(0,n._)([(0,s.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasZ",void 0),(0,n._)([(0,s.Cb)({types:h.qM,json:{write:!0}})],g.prototype,"queryGeometry",void 0),(0,n._)([(0,a.r)("queryGeometry")],g.prototype,"readQueryGeometry",null),(0,n._)([(0,s.Cb)({type:p.Z,json:{write:!0}})],g.prototype,"spatialReference",void 0),(0,n._)([(0,c.c)("spatialReference")],g.prototype,"writeSpatialReference",null),(0,n._)([(0,s.Cb)({json:{write:!0}})],g.prototype,"transform",void 0),g=(0,n._)([(0,l.j)("esri.tasks.support.FeatureSet")],g),g.prototype.toJSON.isDefaultToJSON=!0,g||(g={});const v=g},5201:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(38035);class i{constructor(e,t,r,n){this.set(e,t,r,n)}static getId(e,t,r,n){return"object"==typeof e?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${t}/${r}/${n}`}get key(){return this}get id(){return this.toString()}set id(e){this.set(e)}acquire(e,t,r,n){this.set(e,t,r,n)}contains(e){const t=e.level-this.level;return this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new i(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,t,r,n){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){const[t,r,n,i]=e.split("/");this.level=parseFloat(t),this.row=parseFloat(r),this.col=parseFloat(n),this.world=parseFloat(i)}else this.level=+e,this.row=+t,this.col=+r,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new i(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const e=this.level+1,t=this.row<<1,r=this.col<<1,n=this.world;return[new i(e,t,r,n),new i(e,t,r+1,n),new i(e,t+1,r,n),new i(e,t+1,r+1,n)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}i.pool=new n.Z(i,null,null,25,50);const s=i},59054:(e,t,r)=>{"use strict";function n(e,t,r,n){const i=3*e,s=3*(r-e)-i,o=1-i-s,a=3*t,l=3*(n-t)-a,c=1-a-l;function u(e){return((o*e+s)*e+i)*e}function p(e){return(3*o*e+2*s)*e+i}return function(e,t=1e-6){return function(e){return((c*e+l)*e+a)*e}(function(e,t){let r,n,i,s,o,a;for(i=e,a=0;a<8;a++){if(s=u(i)-e,Math.abs(s)<t)return i;if(o=p(i),Math.abs(o)<1e-6)break;i-=s/o}if(r=0,n=1,i=e,i<r)return r;if(i>n)return n;for(;r<n;){if(s=u(i),Math.abs(s-e)<t)return i;e>s?r=i:n=i,i=.5*(n-r)+r}return i}(e,t))}}r.d(t,{LI:()=>s,Qc:()=>o,n_:()=>n});const i=/^cubic-bezier\((.*)\)/,s={};function o(e){let t=s[e]||null;if(!t){const r=i.exec(e);if(r){const e=r[1].split(",").map((e=>parseFloat(e.trim())));4!==e.length||e.some((e=>isNaN(e)))||(t=n.apply(n,e))}}return t}s.ease=n(.25,.1,.25,1),s.linear=n(0,0,1,1),s.easeIn=s["ease-in"]=n(.42,0,1,1),s.easeOut=s["ease-out"]=n(0,0,.58,1),s.easeInOut=s["ease-in-out"]=n(.42,0,.58,1)},17154:(e,t,r)=>{"use strict";r.d(t,{jE:()=>c,c5:()=>v,LU:()=>w,Q4:()=>b,tB:()=>u,T:()=>a,u1:()=>o,pG:()=>f,ZA:()=>p,ek:()=>d,_F:()=>l});var n=r(33655),i=r(77625),s=r(17387);function o(e){const t=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],r=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],n=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(Math.max(t,r),n))}function a(e,t,r){r=r||e;const n=(0,s.d)(e,t);(0,s.s)(r,e[0]-n*t[0],e[1]-n*t[1],e[2]-n*t[2]),(0,s.n)(r,r)}function l(e,t,r){Math.abs(e[0])>Math.abs(e[1])?(0,s.s)(t,0,1,0):(0,s.s)(t,1,0,0),(0,s.c)(r,e,t),(0,s.n)(t,t),(0,s.c)(t,r,e),(0,s.n)(r,r)}function c(e,t){const r=(0,s.l)(e),i=(0,n.Kt)(e[2]/r),o=Math.atan2(e[1]/r,e[0]/r);return(0,s.s)(t,r,i,o),t}function u(e,t,r){const n=r[0]-t[0],i=r[1]-t[1],s=r[2]-t[2];let o=n*n+i*i+s*s;return o?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}function p(e,t,r,n=(0,i.c)()){const o=(0,s.l)(e),a=(0,s.l)(t),l=(0,s.d)(e,t)/(o*a);if(l<.9999999999999999){const i=Math.acos(l),c=((1-r)*o+r*a)/Math.sin(i),u=c/o*Math.sin((1-r)*i),p=c/a*Math.sin(r*i);return(0,s.a)(_,e,u),(0,s.a)(x,t,p),(0,s.b)(n,_,x)}return(0,s.e)(n,e,t,r)}function d(e,t,r,n=(0,i.c)(),o=(0,i.c)()){const a=(0,s.l)(e),l=(0,s.l)(t),c=(0,s.d)(e,t)/(a*l);if(c<.9999999999999999){const i=Math.acos(c),u=Math.sin(i),p=Math.sin(r*i),d=Math.sin((1-r)*i),h=(1-r)*a+r*l;{const r=h/u,i=r/l*p;(0,s.a)(_,e,r/a*d),(0,s.a)(x,t,i),(0,s.b)(n,_,x)}{const n=1/a*(-Math.cos((1-r)*i)*i*h+d*(-a+l));(0,s.a)(_,e,n);const c=1/l*(Math.cos(r*i)*i*h+p*(-a+l));(0,s.a)(x,t,c),(0,s.b)(o,_,x),(0,s.a)(o,o,1/u)}return o}return(0,s.e)(n,e,t,r),(0,s.f)(o,t,e),(0,s.n)(o,o),o}class h{constructor(e,t){this.min=e,this.max=t,this.range=t-e}ndiff(e,t=0){return Math.ceil((e-t)/this.range)*this.range+t}_normalize(e,t,r,n=0,i=!1){return(r-=n)<e?r+=this.ndiff(e-r):r>t&&(r-=this.ndiff(r-t)),i&&r===t&&(r=e),r+n}normalize(e,t=0,r=!1){return this._normalize(this.min,this.max,e,t,r)}clamp(e,t=0){return(0,n.uZ)(e-t,this.min,this.max)+t}monotonic(e,t,r){return e<t?t:t+this.ndiff(e-t,r)}minimalMonotonic(e,t,r){return this._normalize(e,e+this.range,t,r)}center(e,t,r){return t=this.monotonic(e,t,r),this.normalize((e+t)/2,r)}diff(e,t,r){return this.monotonic(e,t,r)-e}shortestSignedDiff(e,t){e=this.normalize(e);const r=(t=this.normalize(t))-e,n=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(r)<Math.abs(n)?r:n}contains(e,t,r){return t=this.minimalMonotonic(e,t),(r=this.minimalMonotonic(e,r))>e&&r<t}}function f(e,t,r,n){(0,s.f)(m,t,e),(0,s.f)(y,r,e),(0,s.c)(n,m,y),(0,s.n)(n,n),n[3]=-(0,s.d)(e,n)}const m=(0,i.c)(),y=(0,i.c)();function g(e){for(const t in e){const r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}const v=g(new h(0,2*Math.PI)),b=g(new h(-Math.PI,Math.PI)),w=g(new h(0,360)),_=((0,i.c)(),(0,i.c)()),x=(0,i.c)()},94535:(e,t,r)=>{"use strict";r.d(t,{M:()=>o,e:()=>a});var n=r(2992),i=r(46539),s=r(16853);const o={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class a extends i.a{constructor(e=o.maximumClickDelay,t=o.movementUntilMouseDrag,r=o.movementUntilPenDrag,i=o.movementUntilTouchDrag,s=o.holdDelay,a=n.Z){super(!1),this.maximumClickDelay=e,this.movementUntilMouseDrag=t,this.movementUntilPenDrag=r,this.movementUntilTouchDrag=i,this.holdDelay=s,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",(e=>{this._handlePointerLoss(e,"pointer-up")})),this.registerIncoming("pointer-capture-lost",(e=>{this._handlePointerLoss(e,"pointer-capture-lost")})),this.registerIncoming("pointer-cancel",(e=>{this._handlePointerLoss(e,"pointer-cancel")})),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach((e=>{null!=e.holdTimeout&&(e.holdTimeout.remove(),e.holdTimeout=null)})),super.onUninstall()}_handlePointerDown(e){const t=e.data,r=t.native.pointerId;let n=null;0===this._pointerState.size&&(n=this._clock.setTimeout((()=>{const t=this._pointerState.get(r);if(t){if(!t.isDragging){const r=t.previousEvent;this._pointerHold.emit(r,void 0,e.modifiers),t.holdEmitted=!0}t.holdTimeout=null}}),this.holdDelay));const i={startEvent:t,previousEvent:t,startTimestamp:e.timestamp,isDragging:!1,downButton:t.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(r,i),this.startCapturingPointer(t.native),this._moveHandle.resume(),this._pointerState.size>1&&this.startDragging(e)}_createPointerDragData(e,t,r){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:r}}_handlePointerMove(e){const t=e.data,r=t.native.pointerId,n=this._pointerState.get(r);n&&(n.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",n,t),void 0,n.modifiers):(0,s.WI)(t,n.startEvent)>this._getDragThreshold(t.native.pointerType)&&this.startDragging(e),n.previousEvent=t)}_getDragThreshold(e){switch(e){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;case"mouse":default:return this.movementUntilMouseDrag}}startDragging(e){const t=e.data,r=t.native.pointerId;this._pointerState.forEach((n=>{null!=n.holdTimeout&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=e.modifiers,n.isDragging=!0,r===n.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",n,t)):this._pointerDrag.emit(this._createPointerDragData("start",n,n.previousEvent),e.timestamp))}))}_handlePointerLoss(e,t){const r=e.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(null!=i.holdTimeout&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",i,"pointer-up"===t?r:i.previousEvent),void 0,i.modifiers):"pointer-up"===t&&i.downButton===r.native.button&&e.timestamp-i.startTimestamp<=this.maximumClickDelay&&!i.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(n),this.stopCapturingPointer(r.native),0===this._pointerState.size&&this._moveHandle.pause())}}},16853:(e,t,r)=>{"use strict";r.d(t,{WI:()=>s,y_:()=>o,nk:()=>i});var n=r(96071);function i(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function s(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}function o(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:(0,n.vW)()},0===e.length)return t;if(1===e.length)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(2===e.length){const[r,n]=e,[i,s]=[n.x-r.x,n.y-r.y];return t.radius=Math.sqrt(i*i+s*s)/2,t.center.x=(r.x+n.x)/2,t.center.y=(r.y+n.y)/2,t}let r=0,i=0;for(let t=0;t<e.length;t++)r+=e[t].x,i+=e[t].y;r/=e.length,i/=e.length;const s=e.map((e=>e.x-r)),o=e.map((e=>e.y-i));let a=0,l=0,c=0,u=0,p=0,d=0,h=0;for(let e=0;e<s.length;e++){const t=s[e],r=o[e],n=t*t,i=r*r;a+=n,l+=i,c+=t*r,u+=n*t,p+=i*r,d+=t*i,h+=r*n}const f=.5*(u+d),m=.5*(p+h),y=a*l-c*c,g=(f*l-m*c)/y,v=(a*m-c*f)/y,b=(0,n.vW)(g+r,v+i);return{radius:Math.sqrt(g*g+v*v+(a+l)/e.length),center:b}}},45671:(e,t,r)=>{"use strict";r.d(t,{t:()=>d});var n=r(56140),i=r(95844),s=r(79881),o=r(87566),a=r(74386),l=r(9419),c=r(82677),u=r(59691),p=r(80621);let d=class extends c.default{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new u.Z,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r,n=0){const i=0!=(1&n),s=++this.handleId;i||this.installSyncUpdatingWatch(e,t,s);const o=0!=(2&n)?(0,p.init)(e,t,r,i):e.watch(t,r,i);return this.handles.add(o,s),{remove:()=>{this.handles.remove(s)}}}addOnCollectionPropertyChange(e,t,r,n=0){const i=0!=(2&n),s=++this.handleId;return this.handles.add([(0,p.on)(e,t,"after-changes",this.createSyncUpdatingCallback()),(0,p.on)(e,t,"change",r,i?e=>{r({added:e.items,removed:[],moved:[],target:e})}:void 0)],s),{remove:()=>{this.handles.remove(s)}}}addOnCollectionChange(e,t,r=0){const n=0!=(2&r),i=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",t)],i),n&&t({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(i)}}}addPromise(e){if(!e)return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(h)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(e,t,r){const n=this.createSyncUpdatingCallback(),s=(0,l.U5)((()=>(0,i.$z)(e,t)),n);return this.handles.add(s,r),s}createSyncUpdatingCallback(){return()=>{this.handles.remove(h),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,a.Os)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(h))})),h)}}};(0,n._)([(0,s.Cb)({readOnly:!0})],d.prototype,"updating",void 0),d=(0,n._)([(0,o.j)("esri.views.support.WatchUpdatingTracking")],d);const h=-42},43129:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(27938);let i;const s=function(){return i||(i=function(){const e={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};if(void 0===typeof WebGLRenderingContext)return e;const t=document.createElement("canvas");if(!t)return e;let r=(0,n.k)(t,{failIfMajorPerformanceCaveat:!0},"webgl");if(r||(r=(0,n.k)(t,{},"webgl"),r&&(e.majorPerformanceCaveat=!0)),!r)return e;const i=r.getParameter(r.VERSION);if(!i)return e;const s=i.match(/^WebGL\s+([\d.]*)/);if(s){const t=parseFloat(s[1]);e.available=t>=.94;const n=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);n&&(e.supportsHighPrecisionFragment=n.precision>0),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,e.supportsElementIndexUint=null!==r.getExtension("OES_element_index_uint"),e.supportsStandardDerivatives=null!==r.getExtension("OES_standard_derivatives"),e.supportsInstancedArrays=null!==r.getExtension("ANGLE_instanced_arrays"),e.supportsTextureFloat=null!==r.getExtension("OES_texture_float"),e.supportsColorBufferFloat=null!==r.getExtension("WEBGL_color_buffer_float")&&null!==r.getExtension("EXT_float_blend")}return e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.version=function(){if(void 0===typeof WebGL2RenderingContext)return!1;const e=document.createElement("canvas");return!!e&&!!(0,n.k)(e,{},"webgl2")}()?2:1,e}()),i}},27938:(e,t,r)=>{"use strict";function n(e,t={},r){if(!window.WebGLRenderingContext)return s(e,o),null;return i(e,t,r)||(s(e,a),null)}function i(e,t={},r){let n;switch(r){case"webgl":n=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case"webgl2":n=["webgl2"];break;default:n=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}let i=null;for(const r of n){try{i=e.getContext(r,t)}catch(e){}if(i)break}return i}function s(e,t){const r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}r.d(t,{k:()=>i,s:()=>n});const o='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',a='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},29155:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n,i=r(56140),s=(r(95830),r(82550)),o=(r(36544),r(68055),r(79881)),a=r(87566),l=(r(10923),r(57002),r(86035),r(58385)),c=r(78745);let u=n=class extends l.wq{constructor(e){super(e),this.color=new c.default([0,0,0,1])}clone(){return new n((0,s.d9)({color:this.color}))}};(0,i._)([(0,o.Cb)({type:c.default,json:{write:!0}})],u.prototype,"color",void 0),u=n=(0,i._)([(0,a.j)("esri.webmap.background.ColorBackground")],u);const p=u}},0,[[84893,3666,2673,8834,3005,1518,6369,142,9632,8157,7333,2551,5640,9090,2905,5666,3533,2696,4288,1397],[91397,3666,2673,8834,3005,1518,6369,142,9632,8157,7333,2551,5640,9090,2905,5666,3533,2696,4288,1397],[81610,3666,2673,8834,3005,1518,6369,142,9632,8157,7333,2551,5640,9090,2905,5666,3533,2696,4288,1397]]]);
//# sourceMappingURL=overviewMap.js.map