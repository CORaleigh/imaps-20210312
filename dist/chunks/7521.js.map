{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/compilerUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/simplify.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/cut.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/Field.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/fieldType.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/sizeVariableUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/Task.js","webpack://imaps/./node_modules/@arcgis/core/tasks/support/FeatureSet.js"],"names":["n","o","async","i","f","m","p","spatialReference","a","u","query","sr","wkid","JSON","stringify","geometries","r","geometryType","map","toJSON","t","fromJSON","path","data","g","102100","maxX","minX","plus180Line","paths","minus180Line","4326","x","e","type","y","w","rings","R","Math","ceil","d","L","error","s","push","length","l","sqrt","c","floor","M","b","Array","isArray","clone","offset","P","url","j","X","U","W","k","A","S","v","isWebMercator","points","_normalize","extent","xmin","intersects","xmax","z","G","I","q","addPath","cutIndexes","some","Number","toFixed","getPoint","setPoint","addRing","target","cutter","shift","D","valid","binary","coordinate","countOrAmount","dateAndTime","description","locationOrPlaceName","measurement","nameOrTitle","none","orderedOrRanked","percentageOrRatio","typeOrCategory","uniqueIdentifier","super","this","alias","defaultValue","domain","editable","name","nullable","valueType","parse","value","fieldValueType","String","json","write","prototype","allowNull","types","read","reader","Boolean","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","declaredClass","isNaN","isFinite","valueExpression","field","valueUnit","stops","minSize","maxSize","minDataValue","maxDataValue","PI","visualVariables","filter","warn","attributes","ipData","hasExpression","cache","compiledFunc","color","arcade","viewingMode","scale","arcadeUtils","getViewInfo","createExecContext","createSyntaxTree","createFunction","executeFunction","normalizationField","h","parseFloat","opacity","axis","rotationType","isScaleDriven","view","inputValueType","V","transformationType","size","shape","scaleBy","pow","resolution","valueRepresentation","forEach","variable","useSymbolValue","requestOptions","_parseUrl","_encode","readOnly","dependsOn","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","displayFieldName","exceededTransferLimit","features","fields","hasM","hasZ","queryGeometry","geometry","translate","_getQuantizationFunction","round","splice","transform","_getHydrationFunction","_quantizePoints","ymin","ymax","overridePolicy","enabled","isDefaultToJSON"],"mappings":"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","file":"chunks/7521.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"./has.js\";function n(n){}function t(n){}function o(n){return()=>n}const c=(...n)=>n;export{n as neverReached,t as neverReachedSilent,c as tuple,o as typeCast};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(i,n,f){const m=\"string\"==typeof i?r(i):i,p=n[0].spatialReference,a=t(n[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(n))}};return function(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import{isNone as t,isSome as n}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import o from\"../../core/Error.js\";import{resolve as r}from\"../../core/promiseUtils.js\";import{getInfo as i}from\"./spatialReferenceUtils.js\";import f from\"../SpatialReference.js\";import{geographicToWebMercator as l,webMercatorToGeographic as c}from\"./webMercatorUtils.js\";import p from\"../Polygon.js\";import a from\"../Polyline.js\";import{cut as u}from\"../../tasks/geometry/cut.js\";import{simplify as h}from\"../../tasks/geometry/simplify.js\";const m=s.getLogger(\"esri.geometry.support.normalizeUtils\"),g={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator}),minus180Line:new a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new a({paths:[[[180,-180],[180,180]]],spatialReference:f.WGS84}),minus180Line:new a({paths:[[[-180,-180],[-180,180]]],spatialReference:f.WGS84})}};function x(e){return\"polygon\"===e.type}function y(e){return\"polyline\"===e[0].type}function w(e){return x(e)?e.rings:e.paths}function R(e,t){return Math.ceil((e-t)/(2*t))}function d(e,t){const n=w(e);for(const e of n)for(const n of e)n[0]+=t;return e}function j(e){const t=[];let n=0,s=0;for(let o=0;o<e.length;o++){const r=e[o];let i=null;for(let e=0;e<r.length;e++)i=r[e],t.push(i),0===e?(n=i[0],s=n):(n=Math.min(n,i[0]),s=Math.max(s,i[0]));i&&t.push([(n+s)/2,0])}return t}function M(e,t){if(!(e instanceof a||e instanceof p)){const e=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw m.error(e),new o(e)}const n=w(e),s=[];for(const e of n){const n=[];s.push(n),n.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const o=e[s][0],r=e[s][1],i=e[s+1][0],f=e[s+1][1],l=Math.sqrt((i-o)*(i-o)+(f-r)*(f-r)),c=(f-r)/l,p=(i-o)/l,a=l/t;if(a>1){for(let e=1;e<=a-1;e++){const s=e*t,i=p*s+o,f=c*s+r;n.push([i,f])}const e=(l+Math.floor(a-1)*t)/2,s=p*e+o,i=c*e+r;n.push([s,i])}n.push([i,f])}}return x(e)?new p({rings:s,spatialReference:e.spatialReference}):new a({paths:s,spatialReference:e.spatialReference})}function L(e,t,n){if(t){const t=M(e,1e6);e=c(t,!0)}return n&&(e=d(e,n)),e}function b(e,t,n){if(Array.isArray(e)){const s=e[0];if(s>t){const n=R(s,t);e[0]=s+n*(-2*t)}else if(s<n){const t=R(s,n);e[0]=s+t*(-2*n)}}else{const s=e.x;if(s>t){const n=R(s,t);e=e.clone().offset(n*(-2*t),0)}else if(s<n){const t=R(s,n);e=e.clone().offset(t*(-2*n),0)}}return e}async function P(s,o,f){if(!Array.isArray(s))return P([s],o);const c=o?o.url:e.geometryServiceUrl;let m,x,j,M,X,U,W,k,A=0;const S=[],v=[];for(const e of s)if(t(e))v.push(e);else if(m||(m=e.spatialReference,x=i(m),j=m.isWebMercator,U=j?102100:4326,M=g[U].maxX,X=g[U].minX,W=g[U].plus180Line,k=g[U].minus180Line),x)if(\"mesh\"===e.type)v.push(e);else if(\"point\"===e.type)v.push(b(e.clone(),M,X));else if(\"multipoint\"===e.type){const t=e.clone();t.points=t.points.map((e=>b(e,M,X))),v.push(t)}else if(\"extent\"===e.type){const t=e.clone()._normalize(!1,!1,x);v.push(t.rings?new p(t):t)}else if(e.extent){const t=e.extent,n=R(t.xmin,X)*(2*M);let s=0===n?e.clone():d(e.clone(),n);t.offset(n,0),t.intersects(W)&&t.xmax!==M?(A=t.xmax>A?t.xmax:A,s=L(s,j),S.push(s),v.push(\"cut\")):t.intersects(k)&&t.xmin!==X?(A=t.xmax*(2*M)>A?t.xmax*(2*M):A,s=L(s,j,360),S.push(s),v.push(\"cut\")):v.push(s)}else v.push(e.clone());else v.push(e);let z=R(A,M),G=-90;const I=z,q=new a;for(;z>0;){const e=360*z-180;q.addPath([[e,G],[e,-1*G]]),G*=-1,z--}if(S.length>0&&I>0){const e=function(e,t){let n=-1;for(let s=0;s<t.cutIndexes.length;s++){const o=t.cutIndexes[s],r=t.geometries[s],i=w(r);for(let e=0;e<i.length;e++){const t=i[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const s=t[e][0];n=s>n?s:n}n=Number(n.toFixed(9));const s=-360*R(n,180);for(let n=0;n<t.length;n++){const t=r.getPoint(e,n);r.setPoint(e,n,t.clone().offset(s,0))}return!0}}))}if(o===n){if(\"polygon\"===e[0].type)for(const t of w(r))e[o]=e[o].addRing(t);else if(y(e))for(const t of w(r))e[o]=e[o].addPath(t)}else n=o,e[o]=r}return e}(S,await u(c,S,q,f)),t=[],o=[];for(let r=0;r<v.length;r++){const i=v[r];if(\"cut\"!==i)o.push(i);else{const i=e.shift(),f=s[r];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&i.rings.length>=f.rings.length?(t.push(i),o.push(\"simplify\")):o.push(j?l(i):i)}}if(!t.length)return o;const r=await h(c,t,f),i=[];for(let e=0;e<o.length;e++){const t=o[e];\"simplify\"!==t?i.push(t):i.push(j?l(r.shift()):r.shift())}return i}const D=[];for(let e=0;e<v.length;e++){const t=v[e];if(\"cut\"!==t)D.push(t);else{const e=S.shift();D.push(!0===j?l(e):e)}}return r(D)}function X(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&i(e.spatialReference);if(!n)return t;const[s,o]=n.valid,r=2*o,{width:f}=t;let l,{xmin:c,xmax:p}=t;if([c,p]=[p,c],\"extent\"===e.type||0===f||f<=o||f>r||c<s||p>o)return t;switch(e.type){case\"polygon\":if(!(e.rings.length>1))return t;l=j(e.rings);break;case\"polyline\":if(!(e.paths.length>1))return t;l=j(e.paths);break;case\"multipoint\":l=e.points}const a=t.clone();for(let e=0;e<l.length;e++){let t=l[e][0];t<0?(t+=o,p=Math.max(t,p)):(t-=o,c=Math.min(t,c))}return a.xmin=c,a.xmax=p,a.width<f?(a.xmin-=o,a.xmax-=o,a):t}function U(e,t){const n=i(t);if(n){const[t,s]=n.valid,o=s-t;if(e<t)for(;e<t;)e+=o;if(e>s)for(;e>s;)e-=o}return e}export{X as getDenormalizedExtent,P as normalizeCentralMeridian,U as normalizeMapX,M as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{Integer as t}from\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as r}from\"../../core/jsonMap.js\";import{enumeration as i}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as a}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";import{types as n,fromJSON as l}from\"./domains.js\";import{kebabDict as d}from\"./fieldType.js\";var u;const c=new r({binary:\"binary\",coordinate:\"coordinate\",countOrAmount:\"count-or-amount\",dateAndTime:\"date-and-time\",description:\"description\",locationOrPlaceName:\"location-or-place-name\",measurement:\"measurement\",nameOrTitle:\"name-or-title\",none:\"none\",orderedOrRanked:\"ordered-or-ranked\",percentageOrRatio:\"percentage-or-ratio\",typeOrCategory:\"type-or-category\",uniqueIdentifier:\"unique-identifier\"});let m=u=class extends p{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let o;try{o=JSON.parse(t)}catch(e){}return o?o.value:null}readValueType(e,{description:t}){let o;try{o=JSON.parse(t)}catch(e){}return o?c.fromJSON(o.fieldValueType):null}clone(){return new u({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};e([o({type:String,json:{write:!0}})],m.prototype,\"alias\",void 0),e([o({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,\"defaultValue\",void 0),e([o()],m.prototype,\"description\",void 0),e([a(\"description\")],m.prototype,\"readDescription\",null),e([o({types:n,json:{read:{reader:l},write:!0}})],m.prototype,\"domain\",void 0),e([o({type:Boolean,json:{write:!0}})],m.prototype,\"editable\",void 0),e([o({type:t,json:{write:!0}})],m.prototype,\"length\",void 0),e([o({type:String,json:{write:!0}})],m.prototype,\"name\",void 0),e([o({type:Boolean,json:{write:!0}})],m.prototype,\"nullable\",void 0),e([i(d)],m.prototype,\"type\",void 0),e([o()],m.prototype,\"valueType\",void 0),e([a(\"valueType\",[\"description\"])],m.prototype,\"readValueType\",null),m=u=e([s(\"esri.layers.support.Field\")],m);var y=m;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{JSONMap as e}from\"../../core/jsonMap.js\";const i=new e({esriFieldTypeSmallInteger:\"small-integer\",esriFieldTypeInteger:\"integer\",esriFieldTypeSingle:\"single\",esriFieldTypeDouble:\"double\",esriFieldTypeLong:\"long\",esriFieldTypeString:\"string\",esriFieldTypeDate:\"date\",esriFieldTypeOID:\"oid\",esriFieldTypeGeometry:\"geometry\",esriFieldTypeBlob:\"blob\",esriFieldTypeRaster:\"raster\",esriFieldTypeGUID:\"guid\",esriFieldTypeGlobalID:\"global-id\",esriFieldTypeXML:\"xml\"});export{i as kebabDict};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){return n&&\"esri.renderers.visualVariables.SizeVariable\"===n.declaredClass}function e(n){return null!=n&&!isNaN(n)&&isFinite(n)}function i(n){return n.valueExpression?\"expression\":n.field&&\"string\"==typeof n.field?\"field\":\"unknown\"}function l(n,e){const l=e||i(n),a=n.valueUnit||\"unknown\";return\"unknown\"===l?\"constant\":n.stops?\"stops\":null!=n.minSize&&null!=n.maxSize&&null!=n.minDataValue&&null!=n.maxDataValue?\"clamped-linear\":\"unknown\"===a?null!=n.minSize&&null!=n.minDataValue?n.minSize&&n.minDataValue?\"proportional\":\"additive\":\"identity\":\"real-world-size\"}export{i as getInputValueType,l as getTransformationType,n as isSizeVariable,e as isValidNumber};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as a,isNone as r}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import t from\"../../../Color.js\";import n from\"../../../Graphic.js\";import{meterIn as s}from\"../../support/lengthUtils.js\";import{isSizeVariable as o,isValidNumber as l}from\"./sizeVariableUtils.js\";const c=i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),u=new n,f=Math.PI,p=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function d(e,r,i){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"color\"===e.type))[0]:e;if(!n)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==n.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");const s=\"number\"==typeof r,o=s?null:r,l=o&&o.attributes;let u=s?r:null;const f=n.field,{ipData:p,hasExpression:d}=n.cache;let v=n.cache.compiledFunc;if(!f&&!d){const e=n.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof u)if(d){if(!a(i)||!a(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,t=r.getViewInfo(e),s=r.createExecContext(o,t);if(!v){const e=r.createSyntaxTree(n.valueExpression);v=r.createFunction(e),n.cache.compiledFunc=v}u=r.executeFunction(v,s)}else l&&(u=l[f]);const b=n.normalizationField,h=l?parseFloat(l[b]):void 0;if(null!=u&&(!b||s||!isNaN(h)&&0!==h)){isNaN(h)||s||(u/=h);const e=g(u,p);if(e){const r=e[0],s=e[1],o=r===s?n.stops[r].color:t.blendColors(n.stops[r].color,n.stops[s].color,e[2],a(i)?i.color:void 0);return new t(o)}}}function v(e,a,i){const t=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"opacity\"===e.type))[0]:e;if(!t)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==t.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");const n=\"number\"==typeof a,s=n?null:a,o=s&&s.attributes;let l=n?a:null;const u=t.field,{ipData:f,hasExpression:p}=t.cache;let d=t.cache.compiledFunc;if(!u&&!p){const e=t.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof l)if(p){if(r(i)||r(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,n=a.getViewInfo(e),o=a.createExecContext(s,n);if(!d){const e=a.createSyntaxTree(t.valueExpression);d=a.createFunction(e),t.cache.compiledFunc=d}l=a.executeFunction(d,o)}else o&&(l=o[u]);const v=t.normalizationField,b=o?parseFloat(o[v]):void 0;if(null!=l&&(!v||n||!isNaN(b)&&0!==b)){isNaN(b)||n||(l/=b);const e=g(l,f);if(e){const a=e[0],r=e[1];if(a===r)return t.stops[a].opacity;{const i=t.stops[a].opacity;return i+(t.stops[r].opacity-i)*e[2]}}}}function b(e,a,i){const t=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"rotation\"===e.type))[0]:e;if(!t)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==t.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");const n=t.axis||\"heading\",s=\"heading\"===n&&\"arithmetic\"===t.rotationType?90:0,o=\"heading\"===n&&\"arithmetic\"===t.rotationType?-1:1,l=\"number\"==typeof a?null:a,u=l&&l.attributes,f=t.field,{hasExpression:p}=t.cache;let d=t.cache.compiledFunc,v=0;if(!f&&!p)return v;if(p){if(r(i)||r(i.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,n=a.getViewInfo(e),s=a.createExecContext(l,n);if(!d){const e=a.createSyntaxTree(t.valueExpression);d=a.createFunction(e),t.cache.compiledFunc=d}v=a.executeFunction(d,s)}else u&&(v=u[f]||0);return v=\"number\"!=typeof v||isNaN(v)?null:s+o*v,v}function h(e,i,t){const n=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.filter((e=>\"size\"===e.type))[0]:e;if(!n)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==n.declaredClass)return void c.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");const s=x(function(e,i,t){const n=\"number\"==typeof i,s=n?null:i,o=s&&s.attributes;let u=n?i:null;const{isScaleDriven:f}=e.cache;let p=e.cache.compiledFunc;if(f){const r=a(t)?t.scale:void 0,i=a(t)?t.view:void 0;u=null==r||\"3d\"===i?function(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}(e):r}else if(!n)switch(e.inputValueType){case\"expression\":{if(r(t)||r(t.arcade))return void c.error(\"Use of arcade expressions requires an arcade context\");const a={viewingMode:t.viewingMode,scale:t.scale,spatialReference:t.spatialReference},i=t.arcade.arcadeUtils,n=i.getViewInfo(a),o=i.createExecContext(s,n);if(!p){const a=i.createSyntaxTree(e.valueExpression);p=i.createFunction(a),e.cache.compiledFunc=p}u=i.executeFunction(p,o);break}case\"field\":o&&(u=o[e.field]);break;case\"unknown\":u=null}if(!l(u))return null;if(n||!e.normalizationField)return u;const d=o?parseFloat(o[e.normalizationField]):null;return l(d)&&0!==d?u/d:null}(n,i,t),n,i,t,n.cache.ipData);return null==s||isNaN(s)?0:s}function m(e,a,r){return null==e?null:o(e)?h(e,a,r):l(e)?e:null}function V(e,a,r){return l(r)&&e>r?r:l(a)&&e<a?a:e}function x(e,r,i,t,n){switch(r.transformationType){case\"additive\":return function(e,a,r,i){return e+(m(a.minSize,r,i)||a.minDataValue)}(e,r,i,t);case\"constant\":return function(e,a,r){const i=e.stops;let t=i&&i.length&&i[0].size;return null==t&&(t=e.minSize),m(t,a,r)}(r,i,t);case\"clamped-linear\":return function(e,r,i,t){const n=(e-r.minDataValue)/(r.maxDataValue-r.minDataValue),s=m(r.minSize,i,t),o=m(r.maxSize,i,t),l=a(t)?t.shape:void 0;if(e<=r.minDataValue)return s;if(e>=r.maxDataValue)return o;if(\"area\"===r.scaleBy&&l){const e=\"circle\"===l,a=e?f*Math.pow(s/2,2):s*s,r=a+n*((e?f*Math.pow(o/2,2):o*o)-a);return e?2*Math.sqrt(r/f):Math.sqrt(r)}return s+n*(o-s)}(e,r,i,t);case\"proportional\":return function(e,r,i,t){const n=a(t)?t.shape:void 0,s=e/r.minDataValue,o=m(r.minSize,i,t),l=m(r.maxSize,i,t);let c=null;return c=\"circle\"===n?2*Math.sqrt(s*Math.pow(o/2,2)):\"square\"===n||\"diamond\"===n||\"image\"===n?Math.sqrt(s*Math.pow(o,2)):s*o,V(c,o,l)}(e,r,i,t);case\"stops\":return function(e,a,r,i,t){const[n,s,o]=g(e,t);if(n===s)return m(a.stops[n].size,r,i);{const e=m(a.stops[n].size,r,i);return e+(m(a.stops[s].size,r,i)-e)*o}}(e,r,i,t,n);case\"real-world-size\":return function(e,r,i,t){const n=(a(t)&&t.resolution?t.resolution:1)*s[r.valueUnit],o=m(r.minSize,i,t),l=m(r.maxSize,i,t),{valueRepresentation:c}=r;let u=null;return u=\"area\"===c?2*Math.sqrt(e/f)/n:\"radius\"===c||\"distance\"===c?2*e/n:e/n,V(u,o,l)}(e,r,i,t);case\"identity\":return e;case\"unknown\":return null}}function w(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&\"3d\"===r||a))return null;const t={scale:a,view:r};let n=m(e.minSize,u,t),s=m(e.maxSize,u,t);if(null!=n||null!=s){if(n>s){const e=s;s=n,n=e}return{minSize:n,maxSize:s}}}function y(e,a,r){if(!e.visualVariables)return;const i=[],t=[],n=[],s=[],o=[];for(const a of e.visualVariables)switch(a.type){case\"color\":t.push(a);break;case\"opacity\":n.push(a);break;case\"rotation\":o.push(a);break;case\"size\":s.push(a)}return t.forEach((e=>{const t=d(e,a,r);i.push({variable:e,value:t})})),n.forEach((e=>{const t=v(e,a,r);i.push({variable:e,value:t})})),o.forEach((e=>{const t=b(e,a,r);i.push({variable:e,value:t})})),s.forEach((e=>{const t=h(e,a,r);i.push({variable:e,value:t})})),i.filter((e=>null!=e.value))}function g(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,t)=>e<a?(i=t,!0):(r=t,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function z(a,r,i){const t=[\"proportional\",\"proportional\",\"proportional\"];for(const n of a){const a=n.useSymbolValue?\"symbol-value\":h(n,r,i);switch(n.axis){case\"width\":t[0]=a;break;case\"depth\":t[1]=a;break;case\"height\":t[2]=a;break;case\"width-and-depth\":t[0]=a,t[1]=a;break;case\"all\":case void 0:case null:t[0]=a,t[1]=a,t[2]=a;break;default:e(n.axis)}}return t}export{z as getAllSizes,d as getColor,v as getOpacity,b as getRotationAngle,h as getSize,x as getSizeForValue,m as getSizeFromNumberOrVariable,w as getSizeRangeAtScale,y as getVisualVariableValues,p as viewScaleRE};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";import{urlToObject as s}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import t from\"../core/Accessor.js\";let p=class extends t{constructor(...r){super(...r),this.requestOptions=null,this.url=null}normalizeCtorArgs(r,o){return\"string\"!=typeof r?r:{url:r,...o}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(r){return r?s(r):null}_encode(r,o,e){const s={};for(const t in r){if(\"declaredClass\"===t)continue;const p=r[t];if(null!=p&&\"function\"!=typeof p)if(Array.isArray(p)){s[t]=[];for(let r=0;r<p.length;r++)s[t][r]=this._encode(p[r])}else if(\"object\"==typeof p)if(p.toJSON){const r=p.toJSON(e&&e[t]);s[t]=o?r:JSON.stringify(r)}else s[t]=o?p:JSON.stringify(p);else s[t]=p}return s}};r([o({readOnly:!0,dependsOn:[\"url\"]})],p.prototype,\"parsedUrl\",null),r([o()],p.prototype,\"requestOptions\",void 0),r([o({type:String})],p.prototype,\"url\",void 0),p=r([e(\"esri.tasks.Task\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrap as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import a from\"../../geometry/SpatialReference.js\";import{fromJSON as y,isPolygon as u}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as m}from\"../../geometry.js\";import c from\"../../Graphic.js\";import f from\"../../layers/support/Field.js\";const h=new s({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let d=class extends l{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,r){const o=a.fromJSON(r.spatialReference),s=[];for(let r=0;r<e.length;r++){const i=e[r],n=c.fromJSON(i),p=i.geometry&&i.geometry.spatialReference;t(n.geometry)&&!p&&(n.geometry.spatialReference=o),s.push(n)}return s}writeGeometryType(e,r,o,s){if(e)return void h.write(e,r,o,s);const{features:i}=this;if(i)for(const e of i)if(e&&t(e.geometry))return void h.write(e.geometry.type,r,o,s)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=y(e);return!r&&t.spatialReference&&(o.spatialReference=a.fromJSON(t.spatialReference)),o}writeSpatialReference(e,r){if(e)return void(r.spatialReference=e.toJSON());const{features:o}=this;if(o)for(const e of o)e&&t(e.geometry)&&e.geometry.spatialReference&&(r.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,o],translate:[s,i]}=e,n=this.features,p=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-s)/t)),(e=>Math.round((i-e)/o)));for(let e=0,t=n.length;e<t;e++)p(r(n[e].geometry))||(n.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:r,transform:o}=this;if(!o)return this;const{translate:[s,i],scale:[n,p]}=o,l=this._getHydrationFunction(e,(e=>e*n+s),(e=>i-e*p));for(const{geometry:e}of r)t(e)&&l(e);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const i=[];for(let n=0,p=e.length;n<p;n++){const p=e[n];if(n>0){const e=t(p[0]),n=r(p[1]);e===o&&n===s||(i.push([e-o,n-s]),o=e,s=n)}else o=t(p[0]),s=r(p[1]),i.push([o,s])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths,s=[];for(let e=0,i=o.length;e<i;e++){const i=o[e],n=this._quantizePoints(i,t,r);n&&s.push(n)}return s.length>0?(u(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{let o;return o=this._quantizePoints(e.points,t,r),o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths;let s,i;for(let e=0,n=o.length;e<n;e++){const n=o[e];for(let e=0,o=n.length;e<o;e++){const o=n[e];e>0?(s+=o[0],i+=o[1]):(s=o[0],i=o[1]),o[0]=t(s),o[1]=r(i)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,i;for(let e=0,n=o.length;e<n;e++){const n=o[e];e>0?(s+=n[0],i+=n[1]):(s=n[0],i=n[1]),n[0]=t(s),n[1]=r(i)}}:void 0}};e([o({type:String,json:{write:!0}})],d.prototype,\"displayFieldName\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"exceededTransferLimit\",void 0),e([o({type:[c],json:{write:!0}})],d.prototype,\"features\",void 0),e([i(\"features\")],d.prototype,\"readFeatures\",null),e([o({type:[f],json:{write:!0}})],d.prototype,\"fields\",void 0),e([o({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],d.prototype,\"geometryType\",void 0),e([p(\"geometryType\")],d.prototype,\"writeGeometryType\",null),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasM\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasZ\",void 0),e([o({types:m,json:{write:!0}})],d.prototype,\"queryGeometry\",void 0),e([i(\"queryGeometry\")],d.prototype,\"readQueryGeometry\",null),e([o({type:a,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),e([p(\"spatialReference\")],d.prototype,\"writeSpatialReference\",null),e([o({json:{write:!0}})],d.prototype,\"transform\",void 0),d=e([n(\"esri.tasks.support.FeatureSet\")],d),d.prototype.toJSON.isDefaultToJSON=!0,d||(d={});var g=d;export default g;\n"],"sourceRoot":""}