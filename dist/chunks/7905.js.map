{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js","webpack://imaps/./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","webpack://imaps/./node_modules/@arcgis/core/chunks/NativeLine.glsl.js","webpack://imaps/./node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js","webpack://imaps/./node_modules/@arcgis/core/core/colorUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://imaps/./node_modules/@arcgis/core/support/requestImageUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/sdfPrimitives.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2f64.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolConfig.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Slice/SlicePlane.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/heading-rotate-png.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassGeometryTest.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialTexture.js","webpack://imaps/./node_modules/@arcgis/core/libs/basisu/BasisU.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/createUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["b","m","e","o","i","signedDistanceFieldEnabled","include","output","fragment","varyings","add","binaryHighlightOcclusionEnabled","vertex","uniforms","screenSizePerspectiveEnabled","debugDrawBorder","attributes","code","vvSize","occlusionTestEnabled","pixelSnappingEnabled","vvColor","x","h","FrontFacePass","C","textureIsSignedDistanceField","anchorPos","distanceFieldBoundingBox","bindUniforms","r","setUniform4fv","color","outlineColor","outlineSize","setUniform1f","setUniform2f","screenOffset","setUniform2fv","z","Object","freeze","__proto__","build","calculateAnchorPosForRendering","s","n","linearDepth","multipassTerrainEnabled","l","OITEnabled","p","stippleEnabled","stippleIntegerRepeatsEnabled","attributeColor","extensions","a","t","u","c","length","push","g","map","y","Math","min","max","round","f","M","sqrt","atan2","PI","d","cos","sin","v","abs","floor","k","q","xoffset","yoffset","stops","size","filter","type","maxSize","minSize","renderer","event","pointerType","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","async","data","responseType","super","this","_ray","_externalResources","_handles","_isWorldDown","_start","_end","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stippleIntegerRepeats","_stipplePattern","_stippleOffColor","_falloff","_extensionType","_laserlineStyle","_laserlineEnabled","_renderOccluded","_fadedExtensions","applyProps","materialParameters","view","state","watch","updateGeometry","attached","material","laserline","destroy","removeAll","extensionType","Float32Array","addGeometry","updateVertices","updateVisibility","visible","renderCoordsHelper","worldUpAtPosition","updateMaterial","recreate","_laserlineAttached","style","recreateGeometry","setParameterValues","width","stippleOffColor","stipplePattern","stippleIntegerRepeats","innerWidth","innerColor","falloff","polygonOffset","renderOccluded","writeDepth","object","geometries","updateLineSegmentFinite","updateLineSegmentInfinite","updateVertexAttributes","intersectsLine","camera","c0","Number","MAX_VALUE","origin","elevationProvider","getElevation","spatialReference","getAltitude","ray","direction","c1","frustum","getMutableAttribute","fadedExtensions","start","end","geometryVertexAttrsUpdated","_location","_direction","_offset","_length","projectToScreen","location","V","geometryRecords","geometry","offset","unprojectFromScreen","Array","isArray","shader","get","configuration","transparencyPassType","viewingMode","sdf","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","binaryHighlightOcclusion","screenCenterOffsetUnitsEnabled","screenSizePerspective","verticalOffsetEnabled","verticalOffset","vvInstancingEnabled","isDraped","multipassGeometryEnabled","rctx","generateSource","program","projectionMatrix","aboveGround","tan","fovY","fullViewport","setUniformMatrix4fv","viewInverseTransposeMatrix","shaderPolygonOffset","pixelRatio","nearFar","getViewport","height","polygonOffsetEnabled","depthEnabled","blending","depthTest","func","depthWrite","colorWrite","setPipelineState","factor","units","arguments","count","prototype","techniqueConfig","params","centerOffsetUnits","occlusionTest","vvSizeEnabled","vvColorEnabled","intersectDrapedHudGeometry","intersectHudGeometry","vertexAttributes","screenToWorldRatio","options","selectionMode","hud","S","P","O","point","T","D","E","viewMatrix","normalAndViewAngle","ce","applyVerticalOffsetTransformationView","applyProjection","factorAlignment","ae","unprojectFromRenderScreen","indices","normal","cosAngle","ie","he","scale","minPixelSize","paddingPixels","screenSizePerspectiveAlignment","applyVerticalGroundOffsetView","applyPolygonOffsetView","applyCenterOffsetView","applyCenterOffsetNDC","applyPolygonOffsetNDC","viewport","computeRenderPixelSizeAtDist","screenLength","updateScaleInfo","fullWidth","fullHeight","J","updateParameters","drawInSecondSlot","updateTexture","textureId","selectProgram","technique","techniqueRep","acquireAndReleaseExisting","getTechniqueConfig","bindProgram","bindTexture","bindTextureScale","bindPass","isOcclusionSlot","occlusionTechnique","getTechnique","texCoordScale","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvColorValues","vvColorColors","vec3f","vec2f","vec4u8","vec4f","vertexBufferLayout","createBuffer","transformation","position","invTranspTransformation","uv0","set","auxpos1","auxpos2","cachedResult","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","centerPointInElevationSR","mode","unit","calculateOffsetRenderUnits","featureExpressionInfoContext","arcade","modules","arcadeUtils","executeFunction","context","unitInMeters","offsetElevationInfoUnits","createExecContext","sr","errorOncePerTick","_geometry","updateExecContext","createFeature","setFromElevationInfo","Uint8Array","w","Q","SQRT2","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncVisible","_createOrDestroyResources","_createResources","_stage","remove","removeAllGeometries","layer","addMany","isPickable","castShadow","createResources","processDirtyLayer","id","setVisible","cameraChanged","cameraHandle","dispose","_size","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","resources","console","error","preferredTextureSize","updateSizeAttribute","texture","geometrySize","createRenderGeometry","createTexture","mipmap","wrap","components","noUnpackFlip","elevationInfo","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_outlineRenderOccluded","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","previous","center","next","quadMaterialParameters","outlineMaterialParameters","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","computeScreenPixelSizeAt","exclusive","Uint16Array","transparent","getUniqueHints","visualizeIntersectionPoint","visualizeLine","visualizeParallelSign","visualizeRightAngleQuad","visualizePoint","equals","coordinateHelper","primitive","createPoint","intersectionPoint","createLineSegmentHintFromMap","lineStart","lineEnd","fadeLeft","fadeRight","setDirectionFromPoints","outlineRenderOccluded","previousVertex","centerVertex","nextVertex","createLineSegmentHint","main","selected","staged","outline","selectedOutline","clone","coneHeight","coneWidth","collisionPadding","hoverOutlineColor","edge","shape","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","radius","heightFillColor","intersectsLineRadius","laserlineStyle","shadowStyle","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","visualElements","reshapeManipulators","zManipulator","layerUid","graphicUid","boundingSphere","instanceParameters","highlights","occludees","shaderTransformationDirty","boundingInfo","calculateShaderTransformation","updateTransformation","computeBoundingSphere","getCenter","getBSRadius","primitiveType","shaderTransformation","computeAttachmentOrigin","_syncGeometriesToRenderer","ensureRenderGeometriesRemoved","layerView","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","addGeometries","drapeSourceType","constructOnly","readOnly","_attachmentOrigin","_attachmentOriginDirty","events","_isDraped","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","updateAttached","laserlineAttached","laserlineEnabled","isClosed","fromRenderCoords","join","normalizedRenderOccluded","createRenderGeometries","emit","lines","attributeData","removeDuplicateStartEnd","Float64Array","mapPosition","pathVerticalPlane","_vertices","_spatialReference","updateOutlineMaterial","screenSize","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","projectionSuccess","sampledElevation","vertexGeometry","vertexOutlineGeometry","cullFace","screenSizeEnabled","shadingEnabled","drawOperation","_createGraphic","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","hasZ","defaultZ","snapToScene","snappingOptions","geometryType","_internalGraphicsLayer","listMode","layers","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","hasM","snappingVisualizer","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","_set","onInputEvent","hasStagedVertex","slice","splice","regularVertices","stagedVertices","full","createPointFromArray","makeMapPoint","resolution","forceUniformSize","centered","rings","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","_getCreateGeometry","createGraphicSymbol","maskOccludee","notifyChange","interactive","_updateCreateGraphic","canRedo","redo","canUndo","undo","complete","isCompleted","cancel","vertexIndex","graphic","nonNullable","value","tracking","displaying","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","visualElement","trackGraphicState","writeDepthEnabled","j","angleCutoff","G","L","update","setStartEndFromWorldDownAtLocation","renderLocation","heightManifoldTarget","attachmentOrigin","toRenderCoords","onManipulatorsChanged","extent","intersectsLineInfinite","A","intersectsWorldUpAtLocation","calculateMapBounds","ceil","copy","identity","transpose","invert","adjoint","determinant","multiply","rotate","fromRotation","fromScaling","str","frob","LDU","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","mul","sub","create","fromValues","createView","action","dxScreen","screenDeltaX","dyScreen","screenDeltaY","translationX","translationY","translationZ","sort","POSITIVE_INFINITY","_available","forEachManipulator3D","elevationAlignedLocation","available","someManipulator","dragging","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_radius","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","transform","renderObjects","stateMask","_createArrowManipulator","displayScale","modelTransform","autoScaleRenderObjects","worldOriented","focusMultiplier","touchMultiplier","collisionType","arrowManipulators","lastDragEvent","_enabled","mapEnd","snap","screenEnd","mapStart","screenStart","execute","toMap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","discManipulator","createManipulator","updateManipulator","paths","selectable","cursor","collisionPriority","applyObjectTransform","eye","_","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","focused","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","graphics","enableZ","_toolHandles","_refreshManipulators","_moveManipulation","toArray","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","destroyed","toScreen","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_snappingPipeline","_snappingPipelineHandle","_vertexLaserLineVisualElement","snappingManager","visualizer","_clear","_recreateManipulators","enableMoveGraphic","handle","_removeVertices","inputGeometry","editGeometry","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","info","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","grabbable","_watchAndUpdateGrabState","_clearSelection","createSnapDragEventPipelineStep","predicate","snappingContext","pointer","_updateMoveManipulationPosition","Vertex","Edge","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","isMultiVertexSelection","_perVertexManipulatorDragAction","_manipulatorClickCallback","doneSnapping","_updateSelection","indexOf","toPoint","splitEdge","createdVertex","component","coordinates","componentIndex","index","added","orthogonalAvailable","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","key","removeSelectedVertices","st","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","rt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","deltaTime","createRingManipulator","allLayerViews","find","heading","getSymbolLayerSize","lt","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","plane","renderStart","renderEnd","nt","onScaleChanged","ht","R","ct","applySymbolData","startAnimation","gt","dt","updateDelayedFocusedState","updateStateEnabled","concat","enforceNonZeroSize","depth","computeRenderPixelSizeAt","projectToRenderScreen","ut","renderToScreen","mt","enableRotation","enableScaling","handles","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","stippleTextureBind","stippleTextureRepository","vertexColors","stippleOffColorEnabled","stippleUVMaxEnabled","release","swap","setUniform1i","setUniform4f","stencilWrite","sceneHasOcludees","stencilTest","_occludeePipelineState","pipeline","intersectLineGeometry","H","rayBeginPoint","rayEndPoint","hasOccludees","_updateOccludeeState","getPassParameters","getPipelineState","writeAuxpos1","getField","typedBufferStride","typedBuffer","backgroundColor","gridColor","gridWidth","cullAboveGround","opacity","culling","face","enableOffset","supportsEdges","relativeElevation","initTextureTransparent","tilt","json","read","write","range","Be","basis","basis1","basis2","Ne","qe","We","$e","Xe","tt","pt","inputState","resizeManipulators","rotateManipulator","displayBoundsStart","mapBounds","displayBounds","resizeHandles","reshapeHelper","_createMoveDragPipeline","_onResizeGrab","_createResizeDragPipeline","rotateManipulatorTexture","preMultiplyAlpha","Uint32Array","_onRotateGrab","_createRotateDragPipeline","calculateDisplayBounds","sign","updateManipulators","_moveDragUpdateGeometry","_calculatePickRay","screenPoint","activeHandleIdx","startPoint","startMapBounds","_resizeDragUpdatePlane","_resizeDragUpdateGeometry","scaleVertices","fromXYZ","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","_rotateDragUpdateGeometry","rotateAxis","rotateAngle","rotateVertices","perDistance","minWorldLength","maxWorldLength","constants","renderTransparentlyOccludedHUD","bindVisibilityTexture","hudVisibilityTexture","setActiveTexture","geometryLinearDepthTextureUnit","geometryLinearDepthTexture","_textureIDs","Set","_textureRepository","textureRep","_textureId","_initTransparent","_texture","_acquireIfNotUndefined","_textureNormal","normalTextureId","_textureEmissive","emissiveTextureId","_textureOcclusion","occlusionTextureId","_textureMetallicRoughness","metallicRoughnessTextureId","clear","_releaseIfNotUndefined","glTexture","descriptor","textureCoordinateScaleFactor","acquire","delete","then","default","locateFile","initializeBasis","charCodeAt","Int32Array","String","fromCharCode","F","warn","U","I","textureData","levels","internalFormat","powerOfTwoStretchInfo","loadingPromise","loadingController","powerOfTwoResizeMode","estimatedTexMemRequired","estimateTexMemRequired","startPreload","HTMLVideoElement","startPreloadVideoElement","HTMLImageElement","startPreloadImageElement","src","preload","crossOrigin","videoWidth","videoHeight","encoding","BASIS_ENCODING","byteLength","BasisFile","getNumImages","getNumLevels","getHasAlpha","getImageWidth","getImageHeight","close","Image","ImageData","HTMLCanvasElement","getDataDimensions","disableAnisotropy","target","pixelFormat","dataType","wrapMode","flipped","samplingMode","hasMipmap","maxAnisotropy","parameters","maxMaxAnisotropy","createDescriptor","loadFromURL","loadFromImageElement","loadFromVideoElement","loadFromImage","DDS_ENCODING","loadFromDDSData","loadFromBasis","loadFromPixelData","readyState","currentTime","framebuffer","vao","sourceTexture","setData","drawStretchedTexture","updateData","generateMipmap","loadAsync","compressedTextureETC","compressedTextureS3TC","capabilities","startTranscoding","getImageTranscodedSizeInBytes","transcodeImage","signal","loadFromVideoElementAsync","Promise","removeEventListener","addEventListener","requiresPowerOfTwo","makePowerOfTwoTexture","gl","stretchToPowerOfTwo","colorTarget","depthStencilTarget","requiresFrameUpdates","detachColorTexture","bindFramebuffer","setViewport","bindVAO","drawArrays","abort","points","reverse","isSelfIntersecting","mapToLocalMultiple","localToMap","doUnnormalization","radiusUnit","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","_focused","originalPoint","mapPoint","radiusPx","renderSpatialReference","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects"],"mappings":"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","file":"chunks/7905.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"./vec2f64.js\";import{Z as o}from\"./vec4f64.js\";import{c as i}from\"./vec2.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{AlignPixel as a}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js\";import{Slice as s}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ScreenSizePerspective as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{HUD as c}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js\";import{RgbaFloatEncoding as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{HUDOcclusionPass as u}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{OutputHighlight as v}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as g,defaultMaskAlphaCutoff as p}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";function m(e){const o=new l,i=e.signedDistanceFieldEnabled;if(o.include(a),o.include(c,e),o.include(s,e),6===e.output)return o.include(u,e),o;o.include(n),o.fragment.include(d),o.fragment.include(t),o.include(f,e),o.varyings.add(\"vcolor\",\"vec4\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vsize\",\"vec2\"),e.binaryHighlightOcclusionEnabled&&o.varyings.add(\"voccluded\",\"float\"),o.vertex.uniforms.add(\"screenOffset\",\"vec2\").add(\"anchorPos\",\"vec2\").add(\"textureCoordinateScaleFactor\",\"vec2\").add(\"materialColor\",\"vec4\"),i&&o.vertex.uniforms.add(\"outlineColor\",\"vec4\"),e.screenSizePerspectiveEnabled&&o.vertex.uniforms.add(\"screenSizePerspective\",\"vec4\"),(e.debugDrawBorder||e.binaryHighlightOcclusionEnabled)&&o.varyings.add(\"debugBorderCoords\",\"vec4\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"color\",\"vec4\"),o.attributes.add(\"size\",\"vec2\"),o.attributes.add(\"auxpos2\",\"vec4\"),o.vertex.code.add(r`\n    void main(void) {\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n\n      if (rejectBySlice(projectAux.posModel)) {\n        // Project outside of clip plane\n        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n        return;\n      }\n      vec2 inputSize;\n      ${e.screenSizePerspectiveEnabled?r`\n      inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);\n      vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);\n         `:r`\n      inputSize = size;\n      vec2 screenOffsetScaled = screenOffset;`}\n\n      ${e.vvSize?\"inputSize *= vvScale(auxpos2).xx;\":\"\"}\n\n      vec2 combinedSize = inputSize * pixelRatio;\n      vec4 quadOffset = vec4(0.0);\n\n      ${e.occlusionTestEnabled||e.binaryHighlightOcclusionEnabled?\"bool visible = testVisibilityHUD(posProj);\":\"\"}\n\n      ${e.binaryHighlightOcclusionEnabled?\"voccluded = visible ? 0.0 : 1.0;\":\"\"}\n    `);const m=r`\n      vec2 uv01 = floor(uv0);\n      vec2 uv = uv0 - uv01;\n      quadOffset.xy = ((uv01 - anchorPos) * 2.0 * combinedSize + screenOffsetScaled) / viewport.zw * posProj.w;\n  `,b=e.pixelSnappingEnabled?i?r`\n  posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:r`\n  posProj += quadOffset;\n  if (inputSize.x == size.x) {\n    posProj = alignToPixelOrigin(posProj, viewport.zw);\n  }`:r`posProj += quadOffset;`;o.vertex.code.add(r`\n      ${e.occlusionTestEnabled?\"if (visible) {\":\"\"}\n      ${m}\n      ${e.vvColor?\"vcolor = vvGetColor(auxpos2, vvColorValues, vvColorColors) * materialColor;\":\"vcolor = color / 255.0 * materialColor;\"}\n\n      bool alphaDiscard = vcolor.a < ${r.float(g)};\n      ${i?`alphaDiscard = alphaDiscard && outlineColor.a < ${r.float(g)};`:\"\"}\n      if (alphaDiscard) {\n        // \"early discard\" if both symbol color (= fill) and outline color (if applicable) are transparent\n        gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        return;\n      } else {\n        ${b}\n        gl_Position = posProj;\n      }\n\n      vtc = uv * textureCoordinateScaleFactor;\n\n      ${e.debugDrawBorder?\"debugBorderCoords = vec4(uv01, 1.5 / combinedSize);\":\"\"}\n      vsize = inputSize;\n      ${e.occlusionTestEnabled?r`} else { vtc = vec2(0.0);\n        ${e.debugDrawBorder?\"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);}\":\"}\"}`:\"\"}\n    }\n    `),o.fragment.uniforms.add(\"tex\",\"sampler2D\"),i&&(o.fragment.uniforms.add(\"outlineColor\",\"vec4\"),o.fragment.uniforms.add(\"outlineSize\",\"float\"));const x=e.debugDrawBorder?r`(isBorder > 0.0 ? 0.0 : ${r.float(p)})`:r.float(p),h=r`\n    ${e.debugDrawBorder?r`\n      float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`:\"\"}\n\n    ${i?r`\n      vec4 fillPixelColor = vcolor;\n\n      // Attempt to sample texel centers to avoid that thin cross outlines\n      // disappear with large symbol sizes.\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603041\n      const float txSize = 128.0;\n      const float texelSize = 1.0 / txSize;\n      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel\n      vec2 scaleFactor = (vsize - txSize) * texelSize;\n      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;\n\n      // Get distance and map it into [-0.5, 0.5]\n      float d = rgba2float(texture2D(tex, samplePos)) - 0.5;\n\n      // Distance in output units (i.e. pixels)\n      float dist = d * vsize.x;\n\n      // Create smooth transition from the icon into its outline\n      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);\n      fillPixelColor.a *= fillAlphaFactor;\n\n      if (outlineSize > 0.25) {\n        vec4 outlinePixelColor = outlineColor;\n        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);\n\n        // Create smooth transition around outline\n        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);\n        outlinePixelColor.a *= outlineAlphaFactor;\n\n        if (\n          outlineAlphaFactor + fillAlphaFactor < ${x} ||\n          fillPixelColor.a + outlinePixelColor.a < ${r.float(g)}\n        ) {\n          discard;\n        }\n\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\n        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\n        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +\n          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\n\n        gl_FragColor = vec4(compositeColor, compositeAlpha);\n      } else {\n        if (fillAlphaFactor < ${x}) {\n          discard;\n        }\n\n        gl_FragColor = premultiplyAlpha(fillPixelColor);\n      }\n\n      // visualize SDF:\n      // gl_FragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\n      `:r`\n          vec4 texColor = texture2D(tex, vtc, -0.5);\n          if (texColor.a < ${x}) {\n            discard;\n          }\n          gl_FragColor = texColor * premultiplyAlpha(vcolor);\n          `}\n\n    ${e.debugDrawBorder?r`gl_FragColor = mix(gl_FragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder);`:\"\"}\n  `;return 7===e.output&&o.fragment.code.add(r`\n      void main() {\n        ${h}\n        gl_FragColor = vec4(gl_FragColor.a);\n      }\n      `),0===e.output&&o.fragment.code.add(r`\n    void main() {\n      ${h}\n      ${e.FrontFacePass?\"gl_FragColor.rgb /= gl_FragColor.a;\":\"\"}\n    }\n    `),4===e.output&&(o.include(v),o.fragment.code.add(r`\n    void main() {\n      ${h}\n      ${e.binaryHighlightOcclusionEnabled?r`\n          if (voccluded == 1.0) {\n            gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n          } else {\n            gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n          }`:\"outputHighlight();\"}\n    }\n    `)),o}var b;function x(e,o=C){return e.textureIsSignedDistanceField?h(e.anchorPos,e.distanceFieldBoundingBox,o):i(o,e.anchorPos),o}function h(e,o,i){i[0]=e[0]*(o[2]-o[0])+o[0],i[1]=e[1]*(o[3]-o[1])+o[1]}!function(e){function i(e,i,r){e.setUniform4fv(\"materialColor\",i.color),i.textureIsSignedDistanceField&&(i.outlineColor[3]<=0||i.outlineSize<=0?(e.setUniform4fv(\"outlineColor\",o),e.setUniform1f(\"outlineSize\",0)):(e.setUniform4fv(\"outlineColor\",i.outlineColor),e.setUniform1f(\"outlineSize\",i.outlineSize))),e.setUniform2f(\"screenOffset\",2*i.screenOffset[0]*r,2*i.screenOffset[1]*r),e.setUniform2fv(\"anchorPos\",x(i))}e.bindUniforms=i}(b||(b={}));const C=e();var z=Object.freeze({__proto__:null,build:m,get HUDMaterial(){return b},calculateAnchorPosForRendering:x});export{b as H,z as a,m as b,x as c};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as d}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{defaultMaskAlphaCutoff as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";function s(s){const n=new a;return n.include(r,{linearDepth:!1}),n.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"uv0\",\"vec2\"),n.varyings.add(\"vpos\",\"vec3\"),s.multipassTerrainEnabled&&n.varyings.add(\"depth\",\"float\"),n.vertex.uniforms.add(\"textureCoordinateScaleFactor\",\"vec2\"),n.vertex.code.add(e`\n    void main(void) {\n      vpos = position;\n      ${s.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),n.include(i,s),s.multipassTerrainEnabled&&(n.fragment.include(d),n.include(l,s)),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"opacity\",\"float\"),n.varyings.add(\"vTexCoord\",\"vec2\"),7===s.output?n.fragment.code.add(e`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${e.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(n.fragment.include(o),n.fragment.code.add(e`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${e.float(t)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${s.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),n}var n=Object.freeze({__proto__:null,build:s});export{n as I,s as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{LineStipple as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js\";import{VertexColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";function n(n){const p=new o;return p.include(i,{linearDepth:!1}),p.include(s,n),p.include(a,n),p.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),p.attributes.add(\"position\",\"vec3\"),p.varyings.add(\"vpos\",\"vec3\"),p.vertex.code.add(e`\n    void main(void) {\n      vpos = position;\n      forwardNormalizedVertexColor();\n      gl_Position = transformPosition(proj, view, vpos);\n  `),n.stippleEnabled&&(p.attributes.add(\"auxpos1\",\"vec3\"),p.vertex.uniforms.add(\"ndcToPixel\",\"vec2\"),p.vertex.code.add(e`\n    vec4 vpos2 = transformPosition(proj, view, auxpos1);\n    float lineSegmentPixelSize = length((vpos2.xy / vpos2.w - gl_Position.xy / gl_Position.w) * ndcToPixel);\n\n    stipplePatternUv = lineSegmentPixelSize * stipplePatternPixelSizeInv;\n    ${n.stippleIntegerRepeatsEnabled?\"stipplePatternUv = floor(stipplePatternUv + 0.5);\":\"\"}\n\n    // Cancel out perspective correct interpolation because we want this length the really represent\n    // the screen distance\n    stipplePatternUv *= gl_Position.w;\n    `)),p.vertex.code.add(e`\n  }\n  `),4===n.output&&p.include(t),p.include(r,n),p.fragment.uniforms.add(\"constantColor\",\"vec4\").add(\"alphaCoverage\",\"float\"),p.fragment.code.add(e`\n  void main() {\n    discardBySlice(vpos);\n\n    vec4 color = ${n.attributeColor?\"vColor\":\"constantColor\"};\n\n    float stippleAlpha = getStippleAlpha();\n    discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);\n\n    vec4 finalColor = blendStipple(vec4(color.rgb, color.a * alphaCoverage), stippleAlpha);\n\n    if (finalColor.a < ${e.float(l)}) {\n      discard;\n    }\n\n    ${0===n.output?e`gl_FragColor = highlightSlice(finalColor, vpos);`:\"\"}\n    ${4===n.output?e`outputHighlight();`:\"\"}\n  }\n  `),p}var p=Object.freeze({__proto__:null,build:n});export{p as N,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as e}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function r(){const r=new e;return r.extensions.add(\"GL_OES_standard_derivatives\"),r.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),r.attributes.add(\"position\",\"vec3\"),r.attributes.add(\"uv0\",\"vec2\"),r.varyings.add(\"vUV\",\"vec2\"),r.vertex.code.add(d`\n    void main(void) {\n      vUV = uv0;\n      gl_Position = proj * view * vec4(position, 1.0);\n    }\n  `),r.fragment.uniforms.add(\"backgroundColor\",\"vec4\").add(\"gridColor\",\"vec4\").add(\"ratio\",\"float\").add(\"gridWidth\",\"float\"),r.fragment.code.add(d`\n    void main() {\n      const float LINE_WIDTH = 1.0;\n\n      vec2 uvScaled = vUV * gridWidth;\n      vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\n      vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\n\n      // mask aliasing along edges\n      grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\n      grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\n\n      float gridFade = max(grid.x, grid.y);\n\n      float gridAlpha = gridColor.a * gridFade;\n\n      // premultiply alpha in output\n      gl_FragColor =\n        vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\n        vec4(gridColor.rgb, 1.0) * gridAlpha;\n    }\n  `),r}var a=Object.freeze({__proto__:null,build:r});export{a as S,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n){return\"r\"in n&&\"g\"in n&&\"b\"in n}function t(n){return\"h\"in n&&\"s\"in n&&\"v\"in n}function r(n){return\"l\"in n&&\"a\"in n&&\"b\"in n}function u(n){return\"l\"in n&&\"c\"in n&&\"h\"in n}function o(n){return\"x\"in n&&\"y\"in n&&\"z\"in n}const e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function i(n,t){const r=[];let u,o;if(n[0].length!==t.length)throw\"dimensions do not match\";const e=n.length,c=n[0].length;let i=0;for(u=0;u<e;u++){for(i=0,o=0;o<c;o++)i+=n[u][o]*t[o];r.push(i)}return r}function a(n){const t=[n.r/255,n.g/255,n.b/255].map((n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4)),r=i(e,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function h(n){const t=i(c,[n.x/100,n.y/100,n.z/100]).map((n=>{const t=n<=.0031308?12.92*n:1.055*n**(1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function s(n){const t=[n.x/95.047,n.y/100,n.z/108.883].map((n=>n>(6/29)**3?n**(1/3):1/3*(29/6)**2*n+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function f(n){const t=n.l,r=[(t+16)/116+n.a/500,(t+16)/116,(t+16)/116-n.b/200].map((n=>n>6/29?n**3:3*(6/29)**2*(n-4/29)));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function b(n){const t=n.l,r=n.a,u=n.b,o=Math.sqrt(r*r+u*u);let e=Math.atan2(u,r);return e=e>0?e:e+2*Math.PI,{l:t,c:o,h:e}}function l(n){const t=n.l,r=n.c,u=n.h;return{l:t,a:r*Math.cos(u),b:r*Math.sin(u)}}function g(n){return s(a(n))}function M(n){return h(f(n))}function m(n){return b(s(a(n)))}function d(n){return h(f(l(n)))}function x(n){const t=n.r,r=n.g,u=n.b,o=Math.max(t,r,u),e=o-Math.min(t,r,u);let c=o,i=0===e?0:o===t?(r-u)/e%6:o===r?(u-t)/e+2:(t-r)/e+4,a=0===e?0:e/c;return i<0&&(i+=6),i*=60,a*=100,c*=100/255,{h:i,s:a,v:c}}function k(n){const t=(n.h+360)%360/60,r=n.s/100,u=n.v/100*255,o=u*r,e=o*(1-Math.abs(t%2-1));let c;switch(Math.floor(t)){case 0:c={r:o,g:e,b:0};break;case 1:c={r:e,g:o,b:0};break;case 2:c={r:0,g:o,b:e};break;case 3:c={r:0,g:e,b:o};break;case 4:c={r:e,g:0,b:o};break;case 5:case 6:c={r:o,g:0,b:e};break;default:c={r:0,g:0,b:0}}return c.r=Math.round(c.r+u-o),c.g=Math.round(c.g+u-o),c.b=Math.round(c.b+u-o),c}function p(e){return n(e)?e:u(e)?d(e):r(e)?M(e):o(e)?h(e):t(e)?k(e):e}function y(n){if(t(n))return n;return x(p(n))}function z(n){return r(n)?n:g(p(n))}function v(n){return u(n)?n:m(p(n))}function w(n){return o(n)?n:a(p(n))}function q(n,t){const r=g(n);return r.l*=1-t,M(r)}export{q as darken,y as toHSV,z as toLAB,v as toLCH,p as toRGB,w as toXYZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,r){const{data:a}=await e(t,{responseType:\"image\",...r});return a}export{t as requestImage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,unwrap as t,isNone as s,unwrapOr as i}from\"../../../../core/maybe.js\";import{c as r,f as n}from\"../../../../chunks/vec3f64.js\";import{g as a,f as l,o,m as h}from\"../../../../chunks/vec3.js\";import d from\"../../../../core/Handles.js\";import{g as p,c as _}from\"../../../../chunks/vec4.js\";import{f as c,g as u,d as f,b as m}from\"../../../../chunks/clipRay.js\";import{ray as y,lineSegment as g,frustum as x}from\"../../support/geometryUtils.js\";import w from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as b}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{f as R,a as E}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as O}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as P}from\"./Object3DVisualElement.js\";class C extends P{constructor(e){super(e),this._ray=y.create(),this._externalResources=null,this._handles=new d,this._isWorldDown=!1,this._start=r(),this._end=n(1,0,0),this._width=1,this._color=R(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=R(1,1,1,1),this._stippleIntegerRepeats=!0,this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._extensionType=0,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=4,this._fadedExtensions=W,this.applyProps(e)}createExternalResources(){const e=new b(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()})));const t=new O({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){e(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(t){e(this._externalResources)&&t(this._externalResources.material)}createGeometries(e){const s=[r(),r()],i=3===this.extensionType;i&&s.push(r(),r());const n=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,a=w.createPolylineGeometry(s,null,n);e.addGeometry(a,t(this._externalResources).material),this.updateVertices(a)}updateVisibility(t){super.updateVisibility(t),e(this._externalResources)&&(this._externalResources.laserline.visible=t)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,a(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),l(this._end,e,this._end),y.fromPoints(this._start,this._end,this._ray),this.updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,o(this._start,e)||(a(this._start,e),y.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,o(this._end,e)||(a(this._end,e),y.fromPoints(this._start,this._end,this._ray),this.updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){p(e,this._color)||(_(this._color,e),this.updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this.updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){p(e,this._innerColor)||(_(this._innerColor,e),this.updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){e!==this._stippleIntegerRepeats&&(this._stippleIntegerRepeats=e,this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const s=e(t)!==e(this._stipplePattern);this._stipplePattern=t,s?this.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(t){(s(t)||s(this._stippleOffColor)||!p(t,this._stippleOffColor))&&(this._stippleOffColor=e(t)?E(t):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&e(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,e(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,e(t)&&(this._externalResources.laserline.style=t))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(t){this._laserlineEnabled!==t&&(this._laserlineEnabled=t,e(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=i(e,W),this.recreateGeometry()}updateMaterial(){if(s(this._externalResources))return;this._externalResources.material.setParameterValues(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stippleIntegerRepeats:this._stippleIntegerRepeats,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}updateGeometry(){e(this.object)&&this.updateVertices(this.object.geometries[0])}updateVertices(t){const s=3===this._extensionType?this.updateLineSegmentFinite(M):this.updateLineSegmentInfinite(this._extensionType,M);this.updateVertexAttributes(t,s),e(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}updateLineSegmentFinite(e){return g.fromPoints(this._start,this._end,e)}updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(c(this._ray,A),e){case 0:A.c0=-Number.MAX_VALUE;break;case 1:case 2:{const e=this._ray.origin,t=i(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&h(A.ray.direction,A.ray.direction),2===this._extensionType&&null!=t&&(A.c1=Math.abs(s-t));break}}if(!x.intersectClipRay(s.frustum,A))return g.fromPoints(this._start,this._end,t);const r=u(A,j),n=f(A,v);return g.fromPoints(r,n,t)}updateVertexAttributes(t,s){const i=t.getMutableAttribute(\"position\").data;if(3===this.extensionType){const e=g.pointAt(s,-this.fadedExtensions.start,j);i[0]=e[0],i[1]=e[1],i[2]=e[2];const t=g.pointAt(s,0,j);i[3]=t[0],i[4]=t[1],i[5]=t[2];const r=g.pointAt(s,1,j);i[6]=r[0],i[7]=r[1],i[8]=r[2];const n=g.pointAt(s,1+this.fadedExtensions.end,j);i[9]=n[0],i[10]=n[1],i[11]=n[2]}else{const e=g.pointAt(s,0,j);i[0]=e[0],i[1]=e[1],i[2]=e[2];const t=g.pointAt(s,1,j);i[3]=t[0],i[4]=t[1],i[5]=t[2]}e(this.object)&&this.object.geometryVertexAttrsUpdated(0)}}const A=m(),j=r(),v=r(),M=g.create(),D=1/3,W={start:D,end:D};export{C as ExtendedLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as e,isSome as t,isNone as s}from\"../../../../core/maybe.js\";import{createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{c as i,f as o}from\"../../../../chunks/vec3f64.js\";import{o as a,g as c,n as h,f as n,b as l}from\"../../../../chunks/vec3.js\";import d from\"../../../../core/Handles.js\";import{I as m}from\"../../../../chunks/mat4f64.js\";import{g as u,c as _}from\"../../../../chunks/vec4.js\";import{f as p,e as f,a as g,s as y,i as j}from\"../../../../chunks/vec2.js\";import w from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as x}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{f as b}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as G}from\"./Object3DVisualElement.js\";class R extends G{constructor(e){super(e),this._handles=new d,this._location=i(),this._direction=o(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=b(1,0,1,1),this._renderOccluded=4,this.applyProps(e)}get location(){return this._location}set location(e){a(this._location,e)||(c(this._location,e),this.updateGeometry())}get direction(){return this._direction}set direction(e){a(this._direction,e)||(c(this._direction,e),this.updateGeometry())}setDirectionFromPoints(e,t){h(this._direction,n(this._direction,t,e)),this.updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this.updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this.updateGeometry())}get color(){return this._color}set color(e){u(e,this._color)||(_(this._color,e),this.updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}createExternalResources(){const e=new x(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(t){const s=w.createPolylineGeometry([i(),i()]),r=w.createPolylineGeometry([i(),i()]),o=e(this._externalResources).material;t.addGeometry(s,o,m),t.addGeometry(r,o,m),this.updateVertices(t)}forEachExternalMaterial(e){t(this._externalResources)&&e(this._externalResources.material)}updateMaterial(){if(s(this._externalResources))return;this._externalResources.material.setParameterValues(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}updateGeometry(){const e=this.object;s(e)||this.updateVertices(e)}updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,V),l(O,this.location,this.direction),t.projectToScreen(O,v),p(v,f(v,v,V)),this.updateVertexAttributes(t,e,0,V,v,1),this.updateVertexAttributes(t,e,1,V,v,-1)}updateVertexAttributes(e,t,s,r,i,o){const a=t.geometryRecords[s].geometry.getMutableAttribute(\"position\").data,c=g(P,y(P,i[1]*o,i[0]*-o),this.offset+this.width/2),h=j(M,j(M,j(M,r,g(M,i,this.length/2)),c),c),n=j(k,h,g(k,i,-this.length));e.unprojectFromScreen(h,O),a[0]=O[0],a[1]=O[1],a[2]=O[2],e.unprojectFromScreen(n,O),a[3]=O[0],a[4]=O[1],a[5]=O[2],t.geometryVertexAttrsUpdated(s)}}const O=i(),V=r(),v=r(),P=r(),M=r(),k=r();export{R as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}export{t as isMat4,n as isMat4f32,r as isMat4f64};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as t,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{defaultDepthWriteParams as n,makePipelineState as p,defaultColorWriteParams as l,simpleBlendingParams as d}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as h}from\"../core/shaderLibrary/Slice.glsl.js\";import{ScreenSizePerspective as m}from\"../core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{HUD as u}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{bindMultipassGeometryUniforms as g}from\"../core/shaderLibrary/shading/MultipassGeometryTest.glsl.js\";import{HUDOcclusion as f}from\"../core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{OutputHighlight as b}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as v}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{H as y,a as E}from\"../../../../chunks/HUDMaterial.glsl.js\";import{VerticalOffset as P}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{OITBlending as O}from\"../lib/OrderIndependentTransparency.js\";class S extends i{initializeProgram(e){const r=S.shader.get(),i=this.configuration,t=r.build({output:i.output,FrontFacePass:2===i.transparencyPassType,viewingMode:e.viewingMode,occlusionTestEnabled:i.occlusionTestEnabled,signedDistanceFieldEnabled:i.sdf,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,debugDrawBorder:i.debugDrawBorder,binaryHighlightOcclusionEnabled:i.binaryHighlightOcclusion,screenCenterOffsetUnitsEnabled:i.screenCenterOffsetUnitsEnabled,screenSizePerspectiveEnabled:i.screenSizePerspective,verticalOffsetEnabled:i.verticalOffset,pixelSnappingEnabled:i.pixelSnappingEnabled,vvSize:i.vvSize,vvColor:i.vvColor,vvInstancingEnabled:!1,isDraped:i.isDraped,multipassGeometryEnabled:i.multipassGeometryEnabled});return new a(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),s)}bindPass(e,r,i){c.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform1f(\"cameraGroundRelative\",i.camera.aboveGround?1:-1),this.program.setUniform1f(\"perDistancePixelRatio\",Math.tan(i.camera.fovY/2)/(i.camera.fullViewport[2]/2)),this.program.setUniformMatrix4fv(\"viewNormal\",i.camera.viewInverseTransposeMatrix),this.program.setUniform1f(\"polygonOffset\",r.shaderPolygonOffset),P.bindUniforms(this.program,r,i),m.bindUniforms(this.program,r),this.program.setUniform1f(\"pixelRatio\",i.camera.pixelRatio||1),c.bindViewport(this.program,i),6===this.configuration.output?(f.bindUniforms(this.program),this.program.setUniform2fv(\"cameraNearFar\",i.camera.nearFar),this.program.setUniform2fv(\"viewportDim\",[e.getViewport().width,e.getViewport().height]),g(this.program,e,i)):(u.bindUniforms(this.program,i),y.bindUniforms(this.program,r,i.camera.pixelRatio||1),v.bindUniforms(this.program,r),this.configuration.occlusionTestEnabled&&u.bindVisibilityTexture(e,this.program,i)),4===this.configuration.output&&b.bindOutputHighlight(e,this.program,i)}bindDraw(e){c.bindView(this.program,e),c.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),h.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e,o=515,s=this.configuration.polygonOffsetEnabled&&w,a=(i||t)&&4!==r.output?(r.depthEnabled||6===r.output)&&n:null;return p({blending:0===r.output||7===r.output||4===r.output?i?U:O(e):null,depthTest:{func:o},depthWrite:a,colorWrite:l,polygonOffset:s})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return 6===this.configuration.output?0:4}}S.shader=new r(E,(()=>import(\"./HUDMaterial.glsl.js\")));const w={factor:0,units:-4},U=d(1,771);class j extends t{constructor(){super(...arguments),this.output=0,this.occlusionTestEnabled=!0,this.sdf=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.screenSizePerspective=!1,this.screenCenterOffsetUnitsEnabled=0,this.debugDrawBorder=!0,this.binaryHighlightOcclusion=!0,this.slicePlaneEnabled=!1,this.polygonOffsetEnabled=!1,this.depthEnabled=!0,this.transparencyPassType=3,this.pixelSnappingEnabled=!0,this.isDraped=!1,this.multipassGeometryEnabled=!1}}e([o({count:8})],j.prototype,\"output\",void 0),e([o()],j.prototype,\"occlusionTestEnabled\",void 0),e([o()],j.prototype,\"sdf\",void 0),e([o()],j.prototype,\"vvSize\",void 0),e([o()],j.prototype,\"vvColor\",void 0),e([o()],j.prototype,\"verticalOffset\",void 0),e([o()],j.prototype,\"screenSizePerspective\",void 0),e([o({count:2})],j.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([o()],j.prototype,\"debugDrawBorder\",void 0),e([o()],j.prototype,\"binaryHighlightOcclusion\",void 0),e([o()],j.prototype,\"slicePlaneEnabled\",void 0),e([o()],j.prototype,\"polygonOffsetEnabled\",void 0),e([o()],j.prototype,\"depthEnabled\",void 0),e([o({count:4})],j.prototype,\"transparencyPassType\",void 0),e([o()],j.prototype,\"pixelSnappingEnabled\",void 0),e([o()],j.prototype,\"isDraped\",void 0),e([o()],j.prototype,\"multipassGeometryEnabled\",void 0);export{S as HUDMaterialTechnique,j as HUDMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{clamp as t,sign as i}from\"../../../../core/mathUtils.js\";import{createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{c as r,f as n}from\"../../../../chunks/vec3f64.js\";import{s as a,k as o,n as c,f as l,a as u,g as f,l as p,i as h,t as m,d,b as g}from\"../../../../chunks/vec3.js\";import{c as v}from\"../../../../chunks/mat4.js\";import{create as x}from\"../../../../geometry/support/aaBoundingRect.js\";import{f as b}from\"../../../../chunks/mat3.js\";import{c as S}from\"../../../../chunks/mat3f64.js\";import{c as P}from\"../../../../chunks/mat4f64.js\";import{c as q,f as O}from\"../../../../chunks/vec2f64.js\";import{c as y}from\"../../../../chunks/vec2.js\";import{assert as z}from\"../lib/Util.js\";import{isInstanceHidden as A}from\"./renderers/utils.js\";import{newLayout as C}from\"../../support/buffer/InterleavedLayout.js\";import{computeAttachmentOriginPoints as T}from\"../lib/geometryDataUtils.js\";import{applyScaleFactor as w,applyPrecomputedScaleFactor as j,precomputeScaleFactor as D}from\"../lib/screenSizePerspectiveUtils.js\";import{isMat4 as E}from\"../../../../core/libs/gl-matrix-2/types/mat4.js\";import M from\"../lib/GLMaterialTexture.js\";import{verticalOffsetAtDistance as V}from\"./internal/MaterialUtil.js\";import{Material as R,materialParametersDefaults as I}from\"../lib/Material.js\";import{writePosition as U,writeNormal as B,writeColor as G,writeBufferVec4 as k}from\"./internal/bufferWriterUtils.js\";import{c as H}from\"../../../../chunks/HUDMaterial.glsl.js\";import{HUDMaterialTechniqueConfiguration as F,HUDMaterialTechnique as W}from\"../shaders/HUDMaterialTechnique.js\";class L extends R{constructor(e){super(e,me),this.techniqueConfig=new F}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.verticalOffset=!!this.params.verticalOffset,this.techniqueConfig.screenSizePerspective=!!this.params.screenSizePerspective,this.techniqueConfig.screenCenterOffsetUnitsEnabled=\"screen\"===this.params.centerOffsetUnits?1:0,this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig.isDraped=this.params.isDraped,this.techniqueConfig.occlusionTestEnabled=this.params.occlusionTest,this.techniqueConfig.pixelSnappingEnabled=this.params.pixelSnappingEnabled,this.techniqueConfig.sdf=this.params.textureIsSignedDistanceField,this.techniqueConfig.vvSize=!!this.params.vvSizeEnabled,this.techniqueConfig.vvColor=!!this.params.vvColorEnabled,0===e&&(this.techniqueConfig.debugDrawBorder=!!this.params.debugDrawBorder),4===e&&(this.techniqueConfig.binaryHighlightOcclusion=this.params.binaryHighlightOcclusion),this.techniqueConfig.depthEnabled=this.params.depthEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassGeometryEnabled=!!t&&t.multipassGeometryEnabled,this.techniqueConfig}intersect(e,t,i,s,r,n,a,o,c){c?this.intersectDrapedHudGeometry(e,n,a,o):this.intersectHudGeometry(e,t,i,s,a,o)}intersectDrapedHudGeometry(t,i,s,r){const n=t.vertexAttributes.get(\"position\"),a=t.vertexAttributes.get(\"size\"),o=this.params,c=H(o);let l=1,u=1;if(e(r)){const e=r(le);l=e[0],u=e[5]}l*=t.screenToWorldRatio,u*=t.screenToWorldRatio;const f=fe*t.screenToWorldRatio;for(let e=0;e<n.data.length/n.size;e++){const r=e*n.size,p=n.data[r],h=n.data[r+1],m=e*a.size;let d;pe[0]=a.data[m]*l,pe[1]=a.data[m+1]*u,o.textureIsSignedDistanceField&&(d=o.outlineSize*t.screenToWorldRatio/2),Y(i,p,h,pe,f,d,o,c)&&s()}}intersectHudGeometry(t,i,s,n,m,d){if(!n.options.selectionMode||!n.options.hud)return;if(A(i))return;const g=this.params;let x=1,S=1;if(b(re,s),e(d)){const e=d(le);x=e[0],S=e[5],X(re)}const P=t.vertexAttributes.get(\"position\"),q=t.vertexAttributes.get(\"size\"),O=t.vertexAttributes.get(\"normal\"),y=t.vertexAttributes.get(\"auxpos1\");z(P.size>=3);const C=n.point,T=n.camera,D=H(g);x*=T.pixelRatio,S*=T.pixelRatio;const E=\"screen\"===this.params.centerOffsetUnits;for(let e=0;e<P.data.length/P.size;e++){const t=e*P.size;a(_,P.data[t],P.data[t+1],P.data[t+2]),o(_,_,s);const i=e*q.size;pe[0]=q.data[i]*x,pe[1]=q.data[i+1]*S,o(_,_,T.viewMatrix);const d=e*y.size;if(a(oe,y.data[d+0],y.data[d+1],y.data[d+2]),!E&&(_[0]+=oe[0],_[1]+=oe[1],0!==oe[2])){const e=oe[2];c(oe,_),l(_,_,u(oe,oe,e))}const b=e*O.size;if(a(ee,O.data[b],O.data[b+1],O.data[b+2]),this.normalAndViewAngle(ee,re,T,ce),this.applyVerticalOffsetTransformationView(_,ce,T,Z),T.applyProjection(_,te),te[0]>-1){let e=Math.floor(te[0])+this.params.screenOffset[0],t=Math.floor(te[1])+this.params.screenOffset[1];E&&(e+=oe[0],0!==oe[1]&&(t+=w(oe[1],Z.factorAlignment))),j(pe,Z.factor,pe);const i=ue*T.pixelRatio;let s;if(g.textureIsSignedDistanceField&&(s=g.outlineSize*T.pixelRatio/2),Y(C,e,t,pe,i,s,g,D)){const e=n.ray;if(o(se,_,v(ae,T.viewMatrix)),te[0]=C[0],te[1]=C[1],T.unprojectFromRenderScreen(te,_)){const t=r();f(t,e.direction);const i=1/p(t);u(t,t,i);m(h(e.origin,_)*i,t,-1,1,!0,se)}}}}}computeAttachmentOrigin(e,t){const i=e.vertexAttributes;if(!i)return!1;const s=i.get(\"position\"),r=e.indices.get(\"position\");return T(s,r,t)}createBufferWriter(){return new ge(this)}normalAndViewAngle(e,t,i,s){return E(t)&&(t=b(ne,t)),m(s.normal,e,t),o(s.normal,s.normal,i.viewInverseTransposeMatrix),s.cosAngle=d(ie,he),s}updateScaleInfo(e,t,i){const s=this.params;s.screenSizePerspective?D(i,t,s.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minPixelSize=0,e.factor.paddingPixels=0),s.screenSizePerspectiveAlignment?D(i,t,s.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minPixelSize=e.factor.minPixelSize,e.factorAlignment.paddingPixels=e.factor.paddingPixels)}applyShaderOffsetsView(e,t,i,s,r,n,a){const o=this.normalAndViewAngle(t,i,r,ce);return this.applyVerticalGroundOffsetView(e,o,r,a),this.applyVerticalOffsetTransformationView(a,o,r,n),this.applyPolygonOffsetView(a,o,s[3],r,a),this.applyCenterOffsetView(a,s,a),a}applyShaderOffsetsNDC(t,i,s,r,n){return this.applyCenterOffsetNDC(t,i,s,r),e(n)&&f(n,r),this.applyPolygonOffsetNDC(r,i,s,r),r}applyPolygonOffsetView(e,s,r,n,a){const o=n.aboveGround?1:-1;let c=i(r);0===c&&(c=o);const l=o*c;if(this.params.shaderPolygonOffset<=0)return f(a,e);const p=t(Math.abs(s.cosAngle),.01,1),h=1-Math.sqrt(1-p*p)/p/n.viewport[2];return u(a,e,l>0?h:1/h),a}applyVerticalGroundOffsetView(e,t,i,s){const r=p(e),n=i.aboveGround?1:-1,a=.5*i.computeRenderPixelSizeAtDist(r),o=u(_,t.normal,n*a);return g(s,e,o),s}applyVerticalOffsetTransformationView(e,t,i,s){const r=this.params;if(!r.verticalOffset||!r.verticalOffset.screenLength){if(r.screenSizePerspective||r.screenSizePerspectiveAlignment){const i=p(e);this.updateScaleInfo(s,i,t.cosAngle)}else s.factor.scale=1,s.factorAlignment.scale=1;return e}const n=p(e),a=r.screenSizePerspectiveAlignment||r.screenSizePerspective,o=V(i,n,r.verticalOffset,t.cosAngle,a);return this.updateScaleInfo(s,n,t.cosAngle),u(t.normal,t.normal,o),g(e,e,t.normal)}applyCenterOffsetView(e,t,i){const s=\"screen\"!==this.params.centerOffsetUnits;return i!==e&&f(i,e),s&&(i[0]+=t[0],i[1]+=t[1],t[2]&&(c(ee,i),g(i,i,u(ee,ee,t[2])))),i}applyCenterOffsetNDC(e,t,i,s){const r=\"screen\"!==this.params.centerOffsetUnits;return s!==e&&f(s,e),r||(s[0]+=t[0]/i.fullWidth*2,s[1]+=t[1]/i.fullHeight*2),s}applyPolygonOffsetNDC(e,t,s,r){const n=this.params.shaderPolygonOffset;if(e!==r&&f(r,e),n){const e=s.aboveGround?1:-1,a=e*i(t[3]);r[2]-=(a||e)*n}return r}getGLMaterial(e){return 0===e.output||7===e.output?new J(e):4===e.output?new K(e):void 0}calculateRelativeScreenBounds(e,t,i=x()){return Q(this.params,e,t,i),i[2]=i[0]+e[0],i[3]=i[1]+e[1],i}}class N extends M{constructor(e){super({...e,...e.material.params}),this.updateParameters()}beginSlot(e){return e===(this.material.params.drawInSecondSlot?19:18)}updateParameters(e){this.updateTexture(this.material.params.textureId),this.selectProgram(e)}selectProgram(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(W,this.material.getTechniqueConfig(this.output,e),this.technique)}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.bindTexture(e,this.technique.program),this.bindTextureScale(e,this.technique.program),this.technique.bindPass(e,this.material.params,t)}}class J extends N{constructor(e){super(e),this.isOcclusionSlot=!1}beginSlot(e){const t=this.material.params.drawInSecondSlot?19:18;return this.material.params.occlusionTest?(this.isOcclusionSlot=12===e,12===e||e===t):(this.isOcclusionSlot=!1,e===t)}getTechnique(){return this.isOcclusionSlot?this.occlusionTechnique:this.technique}selectProgram(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(W,this.material.getTechniqueConfig(this.output,e),this.technique),this.occlusionTechnique=this.techniqueRep.acquireAndReleaseExisting(W,this.material.getTechniqueConfig(6,e),this.occlusionTechnique)}bind(e,t){const i=this.getTechnique();e.bindProgram(i.program),this.isOcclusionSlot||(this.bindTexture(e,i.program),this.bindTextureScale(e,i.program)),i.bindPass(e,this.material.params,t)}}class K extends N{constructor(e){super({...e,output:4})}}function Q(e,t,i,s=$){return y(s,e.anchorPos),s[0]*=-t[0],s[1]*=-t[1],s[0]+=e.screenOffset[0]*i,s[1]+=e.screenOffset[1]*i,s}function X(e){const t=e[0],i=e[1],s=e[2],r=e[3],n=e[4],a=e[5],o=e[6],c=e[7],l=e[8],u=1/Math.sqrt(t*t+i*i+s*s),f=1/Math.sqrt(r*r+n*n+a*a),p=1/Math.sqrt(o*o+c*c+l*l);return e[0]=t*u,e[1]=i*u,e[2]=s*u,e[3]=r*f,e[4]=n*f,e[5]=a*f,e[6]=o*p,e[7]=c*p,e[8]=l*p,e}function Y(e,t,i,s,r,n,a,o){let c=t-r-(o[0]>0?s[0]*o[0]:0),l=c+s[0]+2*r,u=i-r-(o[1]>0?s[1]*o[1]:0),f=u+s[1]+2*r;if(a.textureIsSignedDistanceField){const e=a.distanceFieldBoundingBox;c+=s[0]*e[0],u+=s[1]*e[1],l-=s[0]*(1-e[2]),f-=s[1]*(1-e[3]),c-=n,l+=n,u-=n,f+=n}return e[0]>c&&e[0]<l&&e[1]>u&&e[1]<f}const Z={factor:{scale:0,factor:0,minPixelSize:0,paddingPixels:0},factorAlignment:{scale:0,factor:0,minPixelSize:0,paddingPixels:0}},$=q(),_=r(),ee=r(),te=s(),ie=r(),se=r(),re=S(),ne=S(),ae=P(),oe=r(),ce={normal:ie,cosAngle:0},le=P(),ue=1,fe=2,pe=[0,0],he=n(0,0,1),me={texCoordScale:[1,1],occlusionTest:!0,binaryHighlightOcclusion:!0,drawInSecondSlot:!1,color:[1,1,1,1],outlineColor:[1,1,1,1],outlineSize:0,textureIsSignedDistanceField:!1,distanceFieldBoundingBox:null,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],screenOffset:[0,0],verticalOffset:null,screenSizePerspective:null,screenSizePerspectiveAlignment:null,slicePlaneEnabled:!1,anchorPos:O(.5,.5),shaderPolygonOffset:1e-5,polygonOffset:!1,textureId:null,centerOffsetUnits:\"world\",depthEnabled:!0,pixelSnappingEnabled:!0,debugDrawBorder:!1,isDraped:!1,...I},de=C().vec3f(\"position\").vec3f(\"normal\").vec2f(\"uv0\").vec4u8(\"color\").vec2f(\"size\").vec4f(\"auxpos1\").vec4f(\"auxpos2\");class ge{constructor(e){this.material=e,this.vertexBufferLayout=de}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 6*e.indices.get(\"position\").length}write(e,t,i,s){U(t.indices.get(\"position\"),t.vertexAttributes.get(\"position\").data,e.transformation,i.position,s,6),B(t.indices.get(\"normal\"),t.vertexAttributes.get(\"normal\").data,e.invTranspTransformation,i.normal,s,6);{const e=t.vertexAttributes.get(\"uv0\").data;let r,n,a,o;if(null==e||e.length<4){const e=this.material.params;r=0,n=0,a=e.texCoordScale[0],o=e.texCoordScale[1]}else r=e[0],n=e[1],a=e[2],o=e[3];a=Math.min(1.99999,a+1),o=Math.min(1.99999,o+1);const c=t.indices.get(\"position\").length,l=i.uv0;let u=s;for(let t=0;t<c;++t)l.set(u,0,r),l.set(u,1,n),u+=1,l.set(u,0,a),l.set(u,1,n),u+=1,l.set(u,0,a),l.set(u,1,o),u+=1,l.set(u,0,a),l.set(u,1,o),u+=1,l.set(u,0,r),l.set(u,1,o),u+=1,l.set(u,0,r),l.set(u,1,n),u+=1}G(t.indices.get(\"color\"),t.vertexAttributes.get(\"color\").data,4,i.color,s,6);{const e=t.indices.get(\"size\"),r=t.vertexAttributes.get(\"size\").data,n=e.length,a=i.size;let o=s;for(let t=0;t<n;++t){const i=r[2*e[t]],s=r[2*e[t]+1];for(let e=0;e<6;++e)a.set(o,0,i),a.set(o,1,s),o+=1}}t.indices.get(\"auxpos1\")&&t.vertexAttributes.get(\"auxpos1\")&&k(t.indices.get(\"auxpos1\"),t.vertexAttributes.get(\"auxpos1\").data,i.auxpos1,s,6),t.indices.get(\"auxpos2\")&&t.vertexAttributes.get(\"auxpos2\")&&k(t.indices.get(\"auxpos2\"),t.vertexAttributes.get(\"auxpos2\").data,i.auxpos2,s,6)}}export{L as HUDMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{loadArcade as t}from\"../../../../support/arcadeOnDemand.js\";import{hydrateGeometry as r}from\"../../../../layers/graphics/hydratedFeatures.js\";const n=e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function c(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function o(e){const t=e&&e.expression;if(\"string\"==typeof t){const e=p(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,n){const c=e&&e.expression;if(\"string\"!=typeof c)return null;const o=p(c);if(null!=o)return{cachedResult:o};const a=await t(),u=a.arcadeUtils,s=u.createSyntaxTree(c);return u.dependsOnView(s)?(null!=n&&n.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:u.createFunction(s),context:u.createExecContext(null,{sr:r}),modules:a}}}function u(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function s(e,t){if(null!=e&&!f(e)){if(!t||!e.arcade)return void n.errorOncePerTick(\"Arcade support required but not provided\");const c=t;c._geometry&&(c._geometry=r(c._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function l(e){if(null!=e){if(f(e))return e.cachedResult;const t=e.arcade;let r=e.arcade.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function i(e,t=!1){let r=e&&e.featureExpressionInfo;const n=r&&r.expression;return t||\"0\"===n||(r=null),r}const d={cachedResult:0};function f(e){return null!=e.cachedResult}function p(e){return\"0\"===e?0:null}export{c as clone,a as createContext,o as createContextWithoutExpressionSupport,u as createFeature,l as execute,i as extractExpressionInfo,s as setContextFeature,d as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isNone as e,isSome as n}from\"../../../../core/maybe.js\";import{getMetersPerUnit as s,supportsUnit as i}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as r,clone as o,setContextFeature as f,createFeature as u}from\"./featureExpressionInfoUtils.js\";class h{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(t){this._unit=t,this._metersPerElevationInfoUnit=s(t)}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const n=this.featureExpressionInfoContext;return null!=n&&(e+=r(n)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(e){this.mode=e.mode,this.unit=i(e.unit)?e.unit:\"meters\",this.offsetElevationInfoUnits=t(e.offset,0)}updateFeatureExpressionInfoContext(t,s,i){if(e(t))return void(this._featureExpressionInfoContext=null);const r=t&&t.arcade;r&&n(s)&&n(i)?(this._featureExpressionInfoContext=o(t),f(this._featureExpressionInfoContext,u(r.modules,s,i))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new h;return n(t)&&e.setFromElevationInfo(t),e}}export{h as ElevationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{packFloatRGBA as t}from\"../../webgl-engine/lib/Util.js\";function r(t,r,u){switch(t){case\"circle\":return n(r,u);case\"square\":return e(r,u);case\"cross\":return o(r,u);case\"x\":return s(r,u);case\"kite\":return a(r,u);case\"triangle\":return c(r,u);default:return n(r,u)}}function n(r,n){const e=r,a=new Uint8Array(4*e*e),o=e/2-.5,s=n/2;for(let c=0;c<e;c++)for(let n=0;n<e;n++){const u=n+e*c,i=n-o,f=c-o;let l=Math.sqrt(i*i+f*f)-s;l=l/r+.5,t(l,a,4*u)}return a}function e(t,r){return u(t,r,!1)}function a(t,r){return u(t,r,!0)}function o(t,r){return i(t,r,!1)}function s(t,r){return i(t,r,!0)}function c(r,n){const e=new Uint8Array(4*r*r),a=1,o=-.5,s=Math.sqrt(a*a+o*o),c=(r-n)/2;for(let u=0;u<r;u++)for(let i=0;i<r;i++){const f=u*r+i,l=(i-c)/n,h=(u-c+.75)/n,M=-(a*l+o*h)/s,b=(a*(l-1)+o*-h)/s,w=-h,Q=Math.max(M,b,w);t(Q*n/r+.5,e,4*f)}return e}function u(r,n,e){e&&(n/=Math.SQRT2);const a=new Uint8Array(4*r*r);for(let o=0;o<r;o++)for(let s=0;s<r;s++){let c=s-.5*r+.25,u=.5*r-o-.75;const i=o*r+s;if(e){const t=(c+u)/Math.SQRT2;u=(u-c)/Math.SQRT2,c=t}let f=Math.max(Math.abs(c),Math.abs(u))-.5*n;f=f/r+.5,t(f,a,4*i)}return a}function i(r,n,e){e&&(n*=Math.SQRT2);const a=.5*n,o=new Uint8Array(4*r*r);for(let s=0;s<r;s++)for(let n=0;n<r;n++){let c=n-.5*r,u=.5*r-s-1;const i=s*r+n;if(e){const t=(c+u)/Math.SQRT2;u=(u-c)/Math.SQRT2,c=t}let f;c=Math.abs(c),u=Math.abs(u),f=c>u?c>a?Math.sqrt((c-a)*(c-a)+u*u):u:u>a?Math.sqrt(c*c+(u-a)*(u-a)):c,f=f/r+.5,t(f,o,4*i)}return o}export{n as createCircle,o as createCross,a as createKite,e as createSquare,c as createTriangle,r as createType,s as createX};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{init as r}from\"../../../../core/watchUtils.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class o{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return e(this._resources)?this._resources.object:null}get resources(){return e(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this.resourceFactory.recreateGeometry)return void this.recreate();const e=this.resourceFactory.view._stage;if(s(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{2===s.type&&e.remove(s)})),r.removeAllGeometries();const t=this.resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer);e.addMany(t)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this.resourceFactory.view._stage;if(!e)return;const s=new c({isPickable:!1});e.add(s);const o=new t({castShadow:!1}),i=this.resourceFactory.createResources(o,s);i.forEach((s=>e.add(s))),e.add(o),s.add(o),e.processDirtyLayer(s.id),o.setVisible(this._visible);const a=this.resourceFactory.cameraChanged?r(this.resourceFactory.view.state,\"camera\",(e=>this.resourceFactory.cameraChanged(e))):null;this._resources={layer:s,object:o,external:i,cameraHandle:a}}_destroyResources(){if(s(this._resources))return;const e=this.resourceFactory.view._stage;null==e||e.remove(this._resources.object),null==e||e.remove(this._resources.layer),this._resources.external.forEach((s=>{null==e||e.remove(s),\"dispose\"in s&&s.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}_syncVisible(){s(this._resources)||this._resources.object.setVisible(this._visible)}}export{o as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{clamp as r,nextHighestPowerOfTwo as i}from\"../../../../core/mathUtils.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../chunks/vec3.js\";import{projectVectorToVector as n}from\"../../../../geometry/projection.js\";import{expandWithBuffer as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{f as l}from\"../../../../chunks/vec4f64.js\";import{sv3d as u}from\"../../support/stack.js\";import{g as c,c as h}from\"../../../../chunks/vec4.js\";import m from\"../../webgl-engine/lib/GeometryUtil.js\";import{HUDMaterial as p}from\"../../webgl-engine/materials/HUDMaterial.js\";import{evaluateElevationAlignmentAtPoint as g}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as d}from\"../../layers/graphics/ElevationContext.js\";import{createType as f}from\"../../layers/graphics/sdfPrimitives.js\";import{Texture as y}from\"../../webgl-engine/lib/Texture.js\";import{VisualElementResources as _}from\"./VisualElementResources.js\";class v{constructor(t){this.view=null,this._geometry=null,this._size=3,this._color=l(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=l(1,1,1,1),this._elevationInfo=null,this.resources=new _({view:t.view,createResources:e=>this.createResources(e),recreateGeometry:(t,r)=>(t.geometry=this.recreateGeometry(r,t.material),e(t.geometry)?[t.geometry]:[])});let r=!0;for(const e in t)e in this?\"attached\"===e?r=t[e]:this[e]=t[e]:console.error(\"Cannot set unknown property\",e);this.attached=r}destroy(){this.resources.destroy()}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e}get attached(){return this.resources.attached}set attached(e){this.resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry()}get size(){return this._size}set size(t){if(t!==this._size){const r=this.preferredTextureSize;this._size=t,r<this.preferredTextureSize?e(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}get color(){return this._color}set color(e){c(e,this._color)||(h(this._color,e),this.updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this.updateMaterial())}get primitive(){return this._primitive}set primitive(t){this._primitive!==t&&(this._primitive=t,e(this.resources)&&this.resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){c(e,this._outlineColor)||(h(this._outlineColor,e),this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources&&this.resources.recreateGeometry()}updateMaterial(){const e=this.resources.resources;t(e)||e.material.setParameterValues(this.materialParameters(e.texture.id))}updateSizeAttribute(){const e=this.resources.resources,r=this.resources.object;if(t(e)||t(r))return;const i=e.geometry;if(t(i))return;const s=i.getMutableAttribute(\"size\").data,o=this.geometrySize;s[0]=o,s[1]=o,r.geometryVertexAttrsUpdated(0)}materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:x,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get geometrySize(){return this._size/S}recreateGeometry(t,r){const i=this.createRenderGeometry();return e(i)&&t.addGeometry(i,r),i}createResources(t){const r=this.createTexture(),i=new p(this.materialParameters(r.id)),s=this.recreateGeometry(t,i);return{material:i,texture:r,geometry:s,forEach(t){t(r),t(i),e(this.geometry)&&t(this.geometry)}}}get preferredTextureSize(){return r(i(2*this.geometrySize),16,128)}createTexture(){const e=this.preferredTextureSize;return new y(f(this._primitive,e,e*S),{mipmap:!1,wrap:{s:33071,t:33071},width:e,height:e,components:4,noUnpackFlip:!0})}calculateMapBounds(e){if(t(this.resources.resources)||t(this.resources.resources.geometry))return!1;const r=this.resources.resources.geometry.vertexAttributes.get(\"position\");return n(r.data,this.view.renderCoordsHelper.spatialReference,z,this.view.spatialReference),a(e,z),!0}createRenderGeometry(){const e=this.geometry;if(t(e))return null;const{renderCoordsHelper:r,elevationProvider:i}=this.view,s=g(e,i,d.fromElevationInfo(this.elevationInfo),r),a=o(u.get(),e.x,e.y,s),l=u.get();n(a,e.spatialReference,l,r.spatialReference);const c=this.geometrySize;return m.createPointGeometry(null,l,null,[c,c],[0,0,0,1])}}const S=.5,x=[S/2,S/2,1-S/2,1-S/2],z=s();export{v as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{i,n as r,f as s,g as a,b as o}from\"../../../../chunks/vec3.js\";import l from\"../../../../core/Handles.js\";import{i as n,t as u,s as h}from\"../../../../chunks/mat4.js\";import{c as d}from\"../../../../chunks/mat4f64.js\";import{sv3d as c}from\"../../support/stack.js\";import{c as _}from\"../../../../chunks/vec4.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import p from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as M}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{ColorMaterial as f}from\"../../webgl-engine/materials/ColorMaterial.js\";import{f as g}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as O}from\"./Object3DVisualElement.js\";class y extends O{constructor(e){super(e),this._handles=new l,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=t(),this._up=t(),this._right=t(),this._renderOccluded=4,this._color=g(1,0,0,1),this._outlineColor=g(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){_(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){_(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:o}){this._maxSize=Math.min(i(t,e),i(t,o))/3,r(this._up,s(this._up,e,t)),r(this._right,s(this._right,o,t)),a(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new f(this.quadMaterialParameters),this._outlineMaterial=new M(this.outlineMaterialParameters),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=o(c.get(),this._up,this._right),i=p.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(t=this.object){const i=this.view.state.camera,r=this._size*i.computeScreenPixelSizeAt(this._position),s=Math.min(this._maxSize,r);n(z),u(z,z,this._position),h(z,z,[s,s,s]),e(t)&&(t.transformation=z)}_quadGeometryData(e,t){const i=o(c.get(),e,t);return new m([[\"position\",{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[\"position\",new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameterValues(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameterValues(this.outlineMaterialParameters)}}const z=d();export{y as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{destroyHandle as e}from\"../../../core/handleUtils.js\";import n from\"../../../Color.js\";import{e as t}from\"../../../chunks/vec3.js\";import{defaults as i}from\"../../interactive/snapping/Settings.js\";import{anyMapPointToRender as o}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as r}from\"../../interactive/snapping/SnappingVisualizer.js\";import{ExtendedLineVisualElement as a}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as l}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as s}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as c}from\"./visualElements/RightAngleQuadVisualElement.js\";class d extends r{visualizeIntersectionPoint(t,o){const{coordinateHelper:r,elevationInfo:a,view:l}=o;return e(new s({view:l,primitive:\"circle\",geometry:r.createPoint(t.intersectionPoint),elevationInfo:a,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:n.toUnitRGBA(i.orange),pixelSnappingEnabled:!1}))}visualizePoint(t,o){const{coordinateHelper:r,elevationInfo:a,view:l}=o;return e(new s({view:l,primitive:\"circle\",geometry:r.createPoint(t.point),elevationInfo:a,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:n.toUnitRGBA(i.orange),pixelSnappingEnabled:!1}))}visualizeLine(n,t){const{coordinateHelper:i,elevationInfo:o,view:r}=t;return e(this.createLineSegmentHintFromMap(n.type,n.lineStart,n.lineEnd,i,o,r,n.fadeLeft,n.fadeRight))}visualizeParallelSign(r,a){const{coordinateHelper:s,elevationInfo:c,view:d}=a,p=o(r.lineStart,s,c,a.view),m=o(r.lineEnd,s,c,a.view),u=t(m,p,m,.5),v=new l({view:d,attached:!1,offset:i.parallelLineHintOffset,length:i.parallelLineHintLength,width:i.parallelLineHintWidth,color:n.toUnitRGBA(i.orange),location:u,renderOccluded:16});return v.setDirectionFromPoints(p,u),v.attached=!0,e(v)}visualizeRightAngleQuad(t,r){const{coordinateHelper:a,elevationInfo:l,view:s}=r;return e(new c({view:s,attached:!0,color:n.toUnitRGBA(i.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:n.toUnitRGBA(i.orange),outlineSize:i.rightAngleHintOutlineSize,size:i.rightAngleHintSize,geometry:{previous:o(t.previousVertex,a,l,s),center:o(t.centerVertex,a,l,s),next:o(t.nextVertex,a,l,s)}}))}createLineSegmentHintFromMap(e,n,t,i,r,a,l=!0,s=!0){return this.createLineSegmentHint(e,a,o(n,i,r,a),o(t,i,r,a),l,s)}createLineSegmentHint(e,t,o,r,l=!0,s=!0){const c=new a({view:t,extensionType:3,start:o,end:r,color:n.toUnitRGBA(i.orange),renderOccluded:16});switch(e){case 0:c.width=i.lineHintWidthTarget,c.fadedExtensions={start:0,end:i.lineHintFadedExtensions};break;case 2:c.width=i.lineHintWidthReference,c.fadedExtensions={start:0,end:0};break;case 1:c.width=i.lineHintWidthReference,c.fadedExtensions={start:l?i.lineHintFadedExtensions:0,end:s?i.lineHintFadedExtensions:0}}return c.attached=!0,c}}export{d as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{handlesGroup as i}from\"../../../core/handleUtils.js\";import{LineSnappingHint as n}from\"./hints/LineSnappingHint.js\";import{PointSnappingHint as t}from\"./hints/PointSnappingHint.js\";import{ParallelSnappingHint as s}from\"./hints/ParallelSnappingHint.js\";import{RightAngleSnappingHint as o}from\"./hints/RightAngleSnappingHint.js\";import{IntersectionSnappingHint as e}from\"./hints/IntersectionSnappingHint.js\";class r{draw(r,a){const p=this.getUniqueHints(r),h=[];for(const i of p)i instanceof e&&h.push(this.visualizeIntersectionPoint(i,a)),i instanceof n&&h.push(this.visualizeLine(i,a)),i instanceof s&&h.push(this.visualizeParallelSign(i,a)),i instanceof o&&h.push(this.visualizeRightAngleQuad(i,a)),i instanceof t&&h.push(this.visualizePoint(i,a));return i(h)}getUniqueHints(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}}export{r as SnappingVisualizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])},n=.3;function r(t,i){const e=t.clone();return e.a*=i,e}function h(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function c(t,i){if(i)for(const e in i)t[e]=i[e]}class a{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,c(this,t)}}class d{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,c(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:b(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class u{constructor(t){this.vertex=new d({color:s.main,outlineColor:s.outline}),this.edge=new d({color:h(r(s.main,2/3),.5),outlineColor:r(s.outline,.5),size:8,collisionPadding:8}),this.selected=new d({color:s.selected,outlineColor:s.outline}),c(this,t)}}class p{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,c(this,t)}apply(t){t.color=b(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=b(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=b(this.innerColor),t.renderOccluded=this.renderOccluded}}class w{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",c(this,t)}apply(t){t.color=b(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=b(this.outlineColor),t.primitive=this.shape}}class f{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=n,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,c(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class g{constructor(t){this.outline=new p({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new p({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),c(this,t)}}class C{constructor(t){this.outline=new w({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),c(this,t)}}class m extends p{constructor(t){super(),this.extensionType=2,c(this,t)}}class W{constructor(t){this.lineGraphics=new g,this.pointGraphics=new C,this.heightPlane=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new m({color:r(s.main,5*n/3),falloff:2,innerColor:r(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,c(this,t)}}class O{constructor(t){this.visualElements=new W,this.reshapeManipulators=new u,this.zManipulator=new a,c(this,t)}colorToVec4(t){return b(t)}}function b(i){return o(t.toUnitRGBA(i))}const z=new O;export{s as colors,z as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{k as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{e as n}from\"../../../../chunks/mat4.js\";import{I as e,c as o}from\"../../../../chunks/mat4f64.js\";import{c as h}from\"../../../../chunks/vec4f64.js\";import{Object3DStateID as m}from\"./Object3DStateID.js\";import{addObject3DStateID as u,removeObject3DStateID as c}from\"../materials/renderers/utils.js\";import{computeAttachmentOriginTriangles as d}from\"./geometryDataUtils.js\";class f{constructor(t,i,r=null,s=null,a,n,e,o,m){this.data=t,this.material=i,this.layerUid=r,this.graphicUid=s,this.boundingSphere=h(),this.instanceParameters={highlights:null,occludees:null,visible:!0},this.shaderTransformationDirty=!0,this.boundingInfo=a,this.material=i,this.origin=null,this.transformation=null,this.calculateShaderTransformation=e,n&&this.updateTransformation(n,o),this.castShadow=m}updateTransformation(t,i){this.transformation=t,this.shaderTransformationDirty=!0,this.computeBoundingSphere(t,i,this.boundingSphere)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}computeBoundingSphere(i,r,n){t(this.boundingInfo)||(r=r||a(i),s(n,this.boundingInfo.getCenter(),i),n[3]=this.boundingInfo.getBSRadius()*r)}get hasShaderTransformation(){return i(this.calculateShaderTransformation)}get primitiveType(){return this.data.primitiveType}getShaderTransformation(){return t(this.calculateShaderTransformation)?r(this.transformation,e):(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(r(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(i(this.transformation)&&s(t,t,this.transformation),!0);const r=this.indices.get(\"position\"),a=this.vertexAttributes.get(\"position\");return!!d(a,r,t)&&(i(this.transformation)&&s(t,t,this.transformation),!0)}get indices(){return this.data.indices}get vertexAttributes(){return this.data.vertexAttributes}addHighlight(){const t=new m(0),i=this.instanceParameters;return i.highlights=u(i.highlights,t),t}removeHighlight(t){const i=this.instanceParameters;i.highlights=c(i.highlights,t)}}export{f as RenderGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as o,a as n}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{empty as h,expandWithBuffer as c,create as d}from\"../../../../geometry/support/aaBoundingBox.js\";import{g as u,c as p,s as m}from\"../../../../chunks/vec4.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as g}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as _}from\"../../layers/graphics/ElevationContext.js\";import{RibbonLineMaterial as y}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{RenderGeometry as v}from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as O,createGeometry as w,geometryToRenderInfo as C}from\"../../layers/graphics/lineUtils.js\";import{f as R,a as b}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as D}from\"./LaserlineVisualElement.js\";import{VisualElementResources as j}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class E{constructor(e){this.view=null,this._attachmentOrigin=f(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=R(1,0,1,1),this._innerWidth=0,this._innerColor=R(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new j({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new D({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){u(e,this._color)||(p(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){u(e,this._innerColor)||(p(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&u(e,this._stippleOffColor)||(this._stippleOffColor=e?b(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(M,0,0,0);let s=0;for(const e of r){const r=e.vertexAttributes.get(\"position\"),i=e.indices.get(\"position\"),a=t(this.resources.resources).material.isClosed(r.data,i);g(r,i,a,A)&&(o(M,M,A),s++)}return 0===s?null:(n(M,M,1/s),this.view.renderCoordsHelper.fromRenderCoords(M,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new y(this.materialParameters),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new y(this.materialParameters);return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=O(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:r}of s.lines){const t={attributeData:{position:r},removeDuplicateStartEnd:this.isClosed?1:0},s=new v(w(t),e),a=h(G);c(a,r),m(s.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.vertexAttributes.get(\"position\"),i=new Float64Array(s.data.length);l(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),c(e,i)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=C(e,this.view.elevationProvider,this.view.renderCoordsHelper,_.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:r,mapPosition:a}of t.lines){const e={attributeData:{position:r,mapPosition:a},removeDuplicateStartEnd:this.isClosed?1:0};s.push(w(e)),i.push(r)}return this._laserline.pathVerticalPlane=i,s}}const G=d(),A=i(),M=i();export{E as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{Object3D as a}from\"../../webgl-engine/lib/Object3D.js\";import{makeDehydratedPoint as c}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,c,l,m,f,g,d,h){const j=n?n.length:0,y=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(y)&&!s(y,u))return null;const v=t.renderCoordsHelper.spatialReference;o(r,u,v);const w=t.localOriginFactory.getOrigin(u),x=new a({castShadow:!1,metadata:{layerUid:g,graphicUid:d,usesVerticalDistanceToGround:!0}});for(let e=0;e<j;e++){const t=l?l[e]:i;x.addGeometry(n[e],c[e],t,m,w,h)}return{object:x,sampledElevation:p(x,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=c(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return c(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as o}from\"../../layers/graphics/pointUtils.js\";import{ShadedColorMaterial as n}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{Object3DVisualElement as c}from\"./Object3DVisualElement.js\";import{settings as h}from\"../editingTools/settings.js\";class u extends c{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=h.colorToVec4(h.reshapeManipulators.vertex.color),this._size=h.reshapeManipulators.vertex.size,this._outlineColor=h.colorToVec4(h.reshapeManipulators.vertex.outlineColor),this._outlineSize=h.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=.5,s=.5,a=o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),n=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const t=r(d,h[3*e+0],h[3*e+1],h[3*e+2]),a=p(i,t),l=p(s,t);n.push({vertexGeometry:a,vertexOutlineGeometry:l})}return n}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new n({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0}),this.vertexOutlineMaterial=new n({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const d=t();function p(e,t){return a.createSphereGeometry(e,16,16,{offset:t})}export{u as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../core/Evented.js\";import l from\"../../../../../Graphic.js\";import c from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as p}from\"../../../../../support/elevationInfoUtils.js\";import{SnappingOptions as h}from\"../../../../interactive/snapping/SnappingOptions.js\";import{SceneDrawSurface as u}from\"./drawSurfaces.js\";import{DrawOperation as d}from\"./DrawOperation.js\";import{InteractiveToolBase as m}from\"../../../../interactive/InteractiveToolBase.js\";import{createViewAlignedCoordinateSystem as y}from\"../../../../draw/support/surfaceCoordinateSystems.js\";import{SnappingVisualizer3D as v}from\"../../SnappingVisualizer3D.js\";import{settings as g}from\"../settings.js\";import{OutlineVisualElement as V}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as f}from\"../../visualElements/VerticesVisualElement.js\";import{createSquare as _,createRectangle as w,createCircle as E,createEllipse as O,createPolygon as G,createPolyline as b}from\"../../../../draw/support/createUtils.js\";let S=class extends(o.EventedMixin(m)){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingOptions=new h,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new c({elevationInfo:e,listMode:\"hide\"}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new d({view:this.view,manipulators:this.manipulators,geometryType:j(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new u(this.view,e,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:e,snappingOptions:this.snappingOptions,snappingVisualizer:new v}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,o=n.slice(),l=[];i(r)&&(o.splice(r,1),l.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},p=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=o,c.stagedVertices=l,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=b([n],a,p));break;case\"polygon\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=G([n],a,p,!0));break;case\"circle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+C*this.view.resolution,t[1]);c.full=E([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?E(s,e,this.centered):O(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+C*this.view.resolution,t[1]);c.full=_([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?_(s,e,this.centered):w(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=b([n],a,p));break;case\"polygon\":n.length>1&&(c.outline=G([n],a,p));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=G(c.full.rings,a,p))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo,n=\"on-the-ground\"===p(this.hasZ,a);i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new V({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:n,attached:!1}),g.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),g.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new f({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:g.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new f({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:g.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=g.colorToVec4(g.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new l({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new l({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function j(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),e([a()],S.prototype,\"createGraphicSymbol\",void 0),e([a()],S.prototype,\"createGraphic\",null),e([a({value:!0})],S.prototype,\"enabled\",null),e([a({value:!0})],S.prototype,\"centered\",null),e([a({value:!0})],S.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],S.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],S.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],S.prototype,\"elevationInfo\",void 0),e([a()],S.prototype,\"snapToScene\",void 0),e([a()],S.prototype,\"snappingOptions\",void 0),e([a({constructOnly:!0})],S.prototype,\"mode\",void 0),e([a({constructOnly:!0})],S.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],S.prototype,\"type\",void 0),S=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],S);const C=48;export{S as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{Manipulator3D as p}from\"../Manipulator3D.js\";import{LaserlineVisualElement as m}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as h}from\"../visualElements/ExtendedLineVisualElement.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(e){const{view:a,graphic:n}=e,i=new f({graphic:n}),l=y(e,i),s=[l,E(e,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>t(s).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:S(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=S(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(e,l,s){const{graphic:o,view:r}=e,p=[],d=c(o),f=\"on-the-ground\"===d.mode||!d.offset&&\"absolute-height\"!==d.mode,v=new g,y=new h({view:r,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(y);const E=i(u.visualElements.heightPlaneAngleCutoff),j=new m({view:r,attached:!1,angleCutoff:E});u.visualElements.heightPlane.apply(j);let M=1,G=1;const L=()=>{if(v.update(e),!s.displaying||f&&(s.isDraped||!S(o)||!o.geometry.hasZ))return l.laserlineEnabled=!1,y.attached=!1,void(j.attached=!1);l.laserlineEnabled=!0;{const e=4&v.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==M&&(M=e,u.visualElements.lineGraphics.shadowStyle.apply(l,e),u.visualElements.pointGraphics.shadowStyle.apply(y,e))}{const e=2&v.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==G&&(G=e,u.visualElements.heightPlane.apply(j,e))}w(y,v),b(e,l,j,v)};u.visualElements.zVerticalLine.apply(y),p.push(s.on(\"changed\",L),s.watch(\"displaying\",L),l.events.on(\"attachment-origin-changed\",L),a(y),a(j));const D=[],C=()=>{t(D).remove(),D.length=0,e.forEachManipulator((e=>D.push(e.events.on(\"grab-changed\",L)))),e.forEachManipulator((e=>D.push(e.events.on(\"select-changed\",L)))),L()};return C(),p.push(e.onManipulatorsChanged(C),n((()=>t(D)))),t(p)}function w(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}function b(t,a,n,i){if(i.numSelected>0){s(j,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof p&&(o(j,j,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(j,j,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,j)?(n.heightManifoldTarget=j,n.attached=!0):n.attached=!1}}function S(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const j=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{ManipulatorState as j}from\"./ManipulatorState.js\";import{GraphicState as b}from\"../../layers/graphics/GraphicState.js\";function x(e){const{view:n,graphic:o}=e,i=new b({graphic:o}),r=[],a=L(e,i,r);return S(e,i,r,a),r.push(n.trackGraphicState(i)),{visualElement:a,remove(){t(r).remove()}}}function S(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),b=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(b);const x=g(e.graphic),S=f.fromElevationInfo(x),L=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,P=new j;let A=1,C=1;const D=()=>{P.update(e);const n=L&&(t.isDraped||!M(l)||!l.geometry.hasZ);let o=!0;if(!n&&M(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,S,s.renderCoordsHelper);a(R,e.x,e.y,t),p(R,e.spatialReference,R,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(R),m.intersectsWorldUpAtLocation=R}else o=!1;const i=2&P.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;i!==A&&(A=i,w.visualElements.heightPlane.apply(b,i));const g=h(U);!n&&t.displaying&&r.calculateMapBounds(g)&&p(u(g,R),s.spatialReference,R,s.renderCoordsHelper.spatialReference)?(b.heightManifoldTarget=R,b.attached=!0):b.attached=!1;const f=4&P.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;f!==C&&(C=f,w.visualElements.pointGraphics.shadowStyle.apply(m,f));const v=o&&t.displaying&&!n;m.attached=v,c.attached=v};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(b)),D()}function L(e,t,o){const{view:i,graphic:r}=e,a=new E({view:i,geometry:M(r)?r.geometry:null,elevationInfo:g(r),attached:!1});return P(e,a,t,o),o.push(n(a)),a}function P(e,t,n,o){const i=()=>t.attached=n.displaying;A(e,t,n,o),w.visualElements.pointGraphics.outline.apply(t),o.push(s(n,\"displaying\",i))}function A(t,n,i,r){const{view:a,graphic:s}=t;let l=null;const p=()=>{e(l)&&(l.remove(),l=null),i.isDraped&&M(s)&&(l=C(a,s.geometry,(()=>{n.geometry=s.geometry})))},c=()=>{p(),n.geometry=M(s)?s.geometry:null};r.push(i.on(\"changed\",c),o((()=>l))),c()}function C(e,t,n){const o=e.elevationProvider.spatialReference;c(t,R,o);const i=R[0],r=R[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}function M(t){return e(t.geometry)&&\"point\"===t.geometry.type}const R=r(),U=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,n,a,s,r){return t[0]=n,t[1]=a,t[2]=s,t[3]=r,t}function r(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],s=n[1],r=n[2],u=n[3];let o=a*u-r*s;return o?(o=1/o,t[0]=u*o,t[1]=-s*o,t[2]=-r*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function e(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return t[0]=s*c+u*e,t[1]=r*c+o*e,t[2]=s*i+u*f,t[3]=r*i+o*f,t}function i(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=Math.sin(a),e=Math.cos(a);return t[0]=s*e+u*c,t[1]=r*e+o*c,t[2]=s*-c+u*e,t[3]=r*-c+o*e,t}function f(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1];return t[0]=s*c,t[1]=r*c,t[2]=u*e,t[3]=o*e,t}function h(t,n){const a=Math.sin(n),s=Math.cos(n);return t[0]=s,t[1]=a,t[2]=-a,t[3]=s,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function l(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2)}function m(t,n,a,s){return t[2]=s[2]/s[0],a[0]=s[0],a[1]=s[1],a[3]=s[3]-t[2]*a[1],[t,n,a]}function d(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function p(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function x(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function y(n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))}function j(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function q(t,n,a,s){return t[0]=n[0]+a[0]*s,t[1]=n[1]+a[1]*s,t[2]=n[2]+a[2]*s,t[3]=n[3]+a[3]*s,t}const _=e,v=p;var S=Object.freeze({__proto__:null,copy:n,identity:a,set:s,transpose:r,invert:u,adjoint:o,determinant:c,multiply:e,rotate:i,scale:f,fromRotation:h,fromScaling:M,str:l,frob:b,LDU:m,add:d,subtract:p,exactEquals:x,equals:y,multiplyScalar:j,multiplyScalarAndAdd:q,mul:_,sub:v});export{m as L,u as a,o as b,n as c,c as d,e,h as f,f as g,M as h,a as i,l as j,b as k,d as l,S as m,p as n,x as o,y as p,j as q,i as r,s,r as t,q as u,_ as v,v as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{cyclical2PI as n}from\"../../../support/mathUtils.js\";import{empty as e,expandPointInPlace as o,area as r,create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{c as a}from\"../../../../../chunks/vec2f64.js\";import{o as c}from\"../../../../../chunks/vec2.js\";import{convexHull as i}from\"../../../../../geometry/geometryEngine.js\";import{f as m}from\"../../../../../chunks/mat2.js\";import{c as f}from\"../../../../../chunks/mat2f64.js\";import{dragGraphic as p,resetGraphic as l}from\"../../../../interactive/dragEventPipeline.js\";const u=.99,h=.95;function g(t,n,e){const o=t.graphic,r=(t,e)=>n({action:t,graphic:o,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return e(((t,n,e)=>{n.next((t=>(\"start\"===t.action&&r(\"start\",t),t))).next(p(o)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&r(\"update\",t);break;case\"end\":r(\"end\",t)}return t})),e.next(l(o)).next((()=>{r(\"end\",{screenDeltaX:0,screenDeltaY:0})}))}))}function d(s){if(t(s)||\"polyline\"!==s.type&&\"polygon\"!==s.type)return 0;const a=i(s),f=a&&a.rings&&a.rings[0];if(!f)return 0;j(f);const p=[];for(let t=0;t<f.length-1;t++){const e=Math.atan2(f[t+1][1]-f[t][1],f[t+1][0]-f[t][0]),o=n.normalize(e)%(Math.PI/2);p.push(o)}const l=p.sort(((t,n)=>t-n));let g=null,d=0,k=Number.POSITIVE_INFINITY,v=0;for(const t of l){if(t===g)continue;g=t,m(y,t),e(x);for(const t of f)c(I,t,y),o(x,I);const n=r(x);((n>k?k/n:n/k)>=u&&t<d||n<k)&&(d=t,k=n),v=Math.max(v,n)}return k/v>=h?0:d}function j(t){let n=0,e=0;for(const o of t)n+=o[0],e+=o[1];n/=t.length,e/=t.length;for(const o of t)o[0]-=n,o[1]-=e}const y=f(),x=s(),I=a();export{g as createGraphicMoveDragPipeline,d as primaryShapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{c}from\"../../../../../chunks/mat4f64.js\";import{sv3d as d,sm4d as f}from\"../../../support/stack.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as M}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as w,dragAtLocation as v,constrainToMapAxis as j,addScreenDelta as y}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as A}from\"../dragEventPipeline3D.js\";import{Manipulator3D as I}from\"../../Manipulator3D.js\";import{colors as T}from\"../settings.js\";import{DISC_RADIUS as b,DISC_HEIGHT as x,DISC_TRANSLATE_ARROW_OFFSET as D,DISC_TRANSLATE_ARROW_SIZE as P}from\"./config.js\";import{Manipulation as k}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as E}from\"./moveUtils.js\";class S extends k{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=b,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r){const e=a.graphic,i=_(e),o=t(e.geometry).spatialReference;return E(a,r,(t=>this.createDragPipeline(t,i,o)))}createDragPipeline(t,r,e){return a(this._arrowManipulatorInfos.map((({manipulator:a},i)=>w(a,((a,o,s,n,l)=>{const p=o.next((t=>({...t,manipulatorType:1}))).next(v(this._view,a.elevationAlignedLocation)).next(A(this._view,a.elevationAlignedLocation,r,e)).next(j(a.location,this.angle+(i+1)*Math.PI*.5)).next(y());t(a,p,s,n,l)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/b,i=P*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,x);g.transformInPlace(h,n(f.get(),o(d.get(),0,-s/3,0))),t.renderObjects=[{geometry:h,material:this._opaqueMaterial,stateMask:2},{geometry:h,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const m=l(f.get());p(m,r*Math.PI/2);const c=l(f.get());n(c,o(d.get(),0,D*e,0)),u(a,m,c)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(f.get());h(a,a,t,i(0,0,1));const r=m(f.get(),o(d.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(f.get());u(e,r,a);for(const i of this._arrowManipulatorInfos){const t=u(f.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new I({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(T.main);return a[3]*=t,new M({color:a,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{S as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{c as o}from\"../../../../../chunks/mat4f64.js\";import{sv3d as n,sm4d as l}from\"../../../support/stack.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as m,dragAtLocation as h,addScreenDelta as d}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as _}from\"../dragEventPipeline3D.js\";import{Manipulator3D as f}from\"../../Manipulator3D.js\";import{colors as g}from\"../settings.js\";import{DISC_RADIUS as M,DISC_HEIGHT as j,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as y}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as v}from\"./moveUtils.js\";import{SnapToScene as w}from\"../snapping/SnapToScene.js\";class b extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new w,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=M,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i){const a=e.graphic,r=p(a),s=t(a.geometry).spatialReference;return v(e,i,(t=>this.createDragPipeline(t,r,s)))}createDragPipeline(t,e,i){const a=this._view;return m(this._manipulator,((r,s,o,n,l)=>{const p=s.next(h(a,r.elevationAlignedLocation)).next(_(a,r.elevationAlignedLocation,e,i)).next(this._snapToScene.createDragEventPipelineStep(a,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(d());t(r,p,o,n,l)}))}_updateManipulatorTransform(){const t=s(l.get(),a(n.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new f({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=c.createCylinderGeometry(j,1,S,i(0,0,1),i(0,0,0)),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=y*(this._radius/M)}_createMaterial(t=1){const i=e.toUnitRGBA(g.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{discManipulator:this._manipulator}}}export{b as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{j as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{darken as u}from\"../../../../../core/colorUtils.js\";import{t as h,b as d,s as f}from\"../../../../../chunks/mat4.js\";import{c as M}from\"../../../../../chunks/mat4f64.js\";import _ from\"../../../webgl-engine/lib/GeometryUtil.js\";import{createManipulatorDragEventPipeline as g,addScreenDelta as y}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as j}from\"../dragEventPipeline3D.js\";import{Manipulator3D as v}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as w}from\"../../manipulatorUtils.js\";import{settings as k}from\"../settings.js\";import{DISC_RADIUS as z}from\"./config.js\";import{Manipulation as b}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as P}from\"./moveUtils.js\";class x extends b{constructor(t){super(),this._handles=new c,this._radius=z,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r){const a=t(e.graphic.geometry).spatialReference;return P(e,r,(t=>this.createDragPipeline(t,a)))}createDragPipeline(t,e){const r=this._view;return g(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(j(r,a.renderLocation,e)).next(y());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/z,e=k.zManipulator.height*t,r=k.zManipulator.coneHeight*t,a=k.zManipulator.coneWidth*t,o=k.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=_.createTubeGeometry(s,o/2,16,!1),l=_.createConeGeometry(r,a/2,16,!1),m=[i(0,0,0),i(0,0,e+r)],p=(t=>{const r=M();if(h(r,r,[0,0,e]),d(r,r,Math.PI/2),t){const e=1+2*t/a;f(r,r,[e,e,e])}return r})(0),c=(t,e)=>{const r=u(k.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,k.zManipulator.color.a*t]},g=w(c(1,.25),1),y=w(c(1,0),1),j=w(c(.7,0),k.zManipulator.renderOccluded),v=w(c(.85,0),k.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:l,transform:p,material:g,stateMask:1},{geometry:n,material:g,stateMask:1},{geometry:l,transform:p,material:y,stateMask:2},{geometry:n,material:y,stateMask:2},{geometry:l,transform:p,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:l,transform:p,material:v,stateMask:2},{geometry:n,material:v,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[m]}}createManipulator(){const t=new v({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=D;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(E,a,e.eye);n(u,u);const h=O;this._view.renderCoordsHelper.worldUpAtPosition(D,h);const d=Math.abs(l(u,h)),f=m(E,u,h),M=m(E,f,h),_=r(d,.01,1),g=1-Math.sqrt(1-_*_)/_/e.fullWidth,y=this._radius/z,j=k.zManipulator.width*y;p(M,n(M,M),(1/g-1)*i+c*j),t[12]-=E[0],t[13]-=E[1],t[14]-=E[2]},this._manipulator=t,this.updateManipulator()}}const D=a(),E=a(),O=a();export{x as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a){return t([this.xyManipulation.createGraphicDragPipeline(i,a),this.xyAxisManipulation.createGraphicDragPipeline(i,a),this.zManipulation.createGraphicDragPipeline(i,a)])}createDragPipeline(i,a,e){return t([this.xyManipulation.createDragPipeline(i,a,e),this.xyAxisManipulation.createDragPipeline(i,a,e),this.zManipulation.createDragPipeline(i,e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Collection.js\";import l from\"../../../../../core/Handles.js\";import{makeDehydratedPoint as p}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{dragGraphicMany as c,resetGraphicMany as m}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as g}from\"./isSupportedGraphic.js\";import{canMoveZ as v}from\"../manipulatorUtils.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as M}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as _}from\"../manipulations/config.js\";import{primaryShapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveManipulation as w}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";class x{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class E{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class A{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let S=class extends(n.EventedMixin(u)){constructor(t){super(t),this.graphics=new r,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new l,this._handles=new l}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===g(t))).map((t=>new D(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a)=>this.buildDragEventPipeline(e,i,a,t))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new w({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?w.radiusForSymbol(t[0].graphic.symbol):_});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const o=t[t.length-1];this._handles.add(o.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(o)))),this._handles.add(i.createDragPipeline(((e,i,a)=>{this.buildDragEventPipeline(e,i,a,t)}),h(o.graphic),e(o.graphic.geometry).spatialReference)),this.updateMoveManipulationAngle(o)}createVisualElements(t){for(const e of t){const i=e.graphic,o=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>a()});e.geometryRepresentation=o.visualElement,e.geometryRepresentation instanceof f&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(o)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}updateMoveManipulation(t){const e=p(0,0,0,this.view.spatialReference);let a=0,o=!1;const s=this._moveManipulation;for(const n of t){if(!n.state.displaying)continue;const t=n.state.graphic;this.enableZ&&v(t)&&(o=!0);const s=n.geometryRepresentation instanceof f&&!n.state.isDraped?n.geometryRepresentation.attachmentOrigin:d(this.view,t);i(s)&&(e.x+=s.x,e.y+=s.y,e.z+=s.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,s.location=e,s.xyManipulation.available=!0,s.xyAxisManipulation.available=!0,s.zManipulation.available=o):s.available=!1}buildDragEventPipeline(t,e,i,a){const o=[],s=[];let n=null,r=null;const l=()=>{for(const t of o)t.dragging=!1;o.length=0,s.length=0,n=null,r=null,this._moveManipulation.interactive=!0};e.next((e=>{if(\"start\"===e.action){o.length=0,s.length=0;for(const e of a)e.dragging||!e.manipulationXY.hasManipulator(t)&&e.manipulationXY.grabbing||(o.push(e),s.push(e.graphic),e.dragging=!0);if(0!==s.length&&(this._moveManipulation.interactive=!1,n=c(s),r=m(s),this.emit(\"graphic-move-start\",new x(s)),this.destroyed))return null}return 0!==s.length?e:null})).next((t=>n(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,o=i.y-e.y;if(this.emit(\"graphic-move\",new E(a,o,s)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}})),i.next((t=>r(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}))}};t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([o({readOnly:!0})],S.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"enableZ\",void 0),t([o({readOnly:!0})],S.prototype,\"type\",void 0),S=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],S);class D{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new M({graphic:t})}get graphic(){return this.state.graphic}}export{E as GraphicMoveEvent,x as GraphicMoveStartEvent,A as GraphicMoveStopEvent,S as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as o}from\"../../../../../core/handleUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{s as p,b as h,a as u}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{init as m}from\"../../../../../core/watchUtils.js\";import{sv3d as d}from\"../../../support/stack.js\";import{makeDehydratedPoint as g}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as v}from\"../../../../../support/elevationInfoUtils.js\";import _ from\"../../../webgl-engine/lib/GeometryUtil.js\";import{EditGeometry as M}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as y}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingManager as f}from\"../../../../interactive/snapping/SnappingManager.js\";import{addMapDelta as x,createManipulatorDragEventPipeline as b,dragAtLocation as G}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingContext as S}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as E}from\"../../SnappingDragPipelineStep.js\";import{screenToMapXYForGraphicAtLocation as H}from\"../dragEventPipeline3D.js\";import{Manipulator3D as w}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as I,createManipulatorOutlineMaterial as P,placeAtGraphic as O}from\"../../manipulatorUtils.js\";import{canMoveZ as V}from\"../manipulatorUtils.js\";import{SnappingVisualizer3D as D}from\"../../SnappingVisualizer3D.js\";import{settings as j}from\"../settings.js\";import{OutlineVisualElement as k}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as A}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as U}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as L}from\"../manipulations/config.js\";import{primaryShapeOrientation as z}from\"../manipulations/moveUtils.js\";import{MoveManipulation as C}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as T}from\"../manipulations/MoveXYGraphicManipulation.js\";let Z=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=I(j.colorToVec4(j.reshapeManipulators.vertex.color),j.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=P(j.colorToVec4(j.reshapeManipulators.vertex.outlineColor),j.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=P(j.colorToVec4(j.reshapeManipulators.vertex.hoverOutlineColor),j.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=I(j.colorToVec4(j.reshapeManipulators.edge.color),j.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=P(j.colorToVec4(j.reshapeManipulators.edge.outlineColor),j.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=I(j.colorToVec4(j.reshapeManipulators.selected.color),j.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=P(j.colorToVec4(j.reshapeManipulators.selected.outlineColor),j.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=P(j.colorToVec4(j.reshapeManipulators.selected.hoverOutlineColor),j.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new c,this._manipulatorHandles=new c,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._snappingPipeline=new E,this._snappingPipelineHandle=new E,this._vertexLaserLineVisualElement=null,this.snappingManager=new f({view:e.tool.view,options:e.tool.snappingOptions,visualizer:new D})}initialize(){const e=new A({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy(),this.snappingManager.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=null,this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;this._reshapeHelper=new K(M.fromGeometry(e,this.view.viewingMode),e.type);const t=v(this.graphic);for(const i of this._reshapeHelper.editGeometry.components){for(const e of i.vertices)this._createPerVertexManipulator(e,t);for(const e of i.edges)this._createPerVertexManipulator(e,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),o=1===e&&a,n=r(this._reshapeHelper);for(const l of this._manipulatorInfos)\"vertex\"===l.handle.type&&(l.manipulator.grabbing||o&&!l.manipulator.selected||(r(n).moveVertices([l.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(l.handle.pos),this._updateManipulatorPosition(l)));if(0===i.length)return;let s=0;for(const r of this._manipulatorInfos)\"vertex\"===r.handle.type&&s++;this.outputGeometry=n.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)R(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const o=[];for(const r of this._manipulatorInfos)R(r)&&(r.manipulator.selected&&!r.manipulator.grabbing||r===e.info)&&o.push(r);const n=r(this._reshapeHelper);for(const r of o)n.moveVertices([r.handle],t,i,a);this.outputGeometry=n.geometry;for(const r of o)this._updateManipulatorPosition(r);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new T({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\"),e.stopPropagation()}))]))),this._moveManipulation=new C({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&V(this.graphic),snapToScene:!1,radius:C.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\"),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=r(this.graphic.geometry).spatialReference;this._handles.add([this._moveManipulation.createDragPipeline(((t,i,a,o)=>{i.next((e=>this._trackNumDragging(e))).next((e=>{if(\"start\"===e.action){const t=this._manipulatorInfos.filter((e=>R(e)&&e.manipulator.selected));if(1===e.manipulatorType&&1===t.length)return{...e,info:t[0]}}return{...e,info:null}})).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:a,snappingManager:this.snappingManager,snappingContext:new S({geometry:r(this._reshapeHelper),elevationInfo:e,pointer:o})}),this._snappingPipelineHandle.next).next(x()).next((e=>{this._perGraphicManipulatorDragAction(1,e)})),a.next(this._cancelDragOperation())}),e,i),m(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),m(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const a=U({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=a.visualElement instanceof k?a.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(a)}_createPerVertexManipulator(e,t=v(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=j.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=_.createSphereGeometry(a,16,16);const r=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=_.createSphereGeometry(r,16,16)}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=j.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=_.createSphereGeometry(a,16,16);const r=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=_.createSphereGeometry(r,16,16)}const i=new w({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|Y.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|Y.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|Y.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|Y.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|Y.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|Y.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|Y.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const n=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(n),this.manipulators.add(i),this._updateManipulatorPosition(n),\"edge\"===n.type){const e=this._getManipulatorInfoFromHandle(n.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n))),t=this._getManipulatorInfoFromHandle(n.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(n)));n.locationUpdateHandle=o([e,t]),this._manipulatorHandles.add(n.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const s=b(i,((e,i,a,o)=>{i.next((e=>this._trackNumDragging(e))).next((e=>N(n)?{...e,info:this._splitEdgeManipulator(n)}:{...e,info:n})).next(G(this.view,e.elevationAlignedLocation)).next(H(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this.isMultiVertexSelection(),cancel:a,snappingManager:this.snappingManager,snappingContext:new S({geometry:r(this._reshapeHelper),elevationInfo:t,pointer:o})}),this._snappingPipeline.next).next(x()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(s,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,n))),i.events.on(\"select-changed\",(()=>{n.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,this.snappingManager.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=Y.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=j.reshapeManipulators.vertex.size/2+j.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=Y.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=j.reshapeManipulators.edge.size/2+j.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=r(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.editGeometry.coordinateHelper.toPoint(e.handle.pos,X),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,r=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,o=r.location,n=.5,s=t.x+n*(o.x-t.x),l=t.y+n*(o.y-t.y),p=t.hasZ&&o.hasZ?0:void 0;e.manipulator.location=g(s,l,p,i.geometry.spatialReference)}else{const t=a.elevationAlignedLocation,o=r.elevationAlignedLocation,n=.5,s=t.x+n*(o.x-t.x),l=t.y+n*(o.y-t.y),p=t.hasZ&&o.hasZ?t.z+n*(o.z-t.z):void 0;e.manipulator.elevationAlignedLocation=g(s,l,p,i.geometry.spatialReference)}}}_splitEdgeManipulator(e){const t=r(this._reshapeHelper),i=r(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const o=v(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,o),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const n=this._updateEventState(2),s=t.editGeometry.coordinateHelper.toArray(a.handle.pos),l=t.editGeometry.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:r(i.index)}],added:s}),n&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=d.get();p(e,0,0,0);let i=0,o=!1,n=null,s=null;for(const t of this._manipulatorInfos)R(t)&&(t.manipulator.selected?(i++,h(e,e,t.manipulator.renderLocation),a(n)||t.selectedIndex>n.selectedIndex?(s=n,n=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):o=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic)}if(0!==i){let e=0;if(t(n)){const i=n.handle.pos,a=t(s)?s.handle.pos:n.handle.left&&n.handle.left.left?n.handle.left.left.pos:null,r=!t(s)&&n.handle.right&&n.handle.right.right?n.handle.right.right.pos:null;a&&r?this._moveManipulation.xyAxisManipulation.available=!1:a?e=F(a,i):r&&(e=F(i,r))}this._moveManipulation.angle=e,this._moveManipulation.radius=L}else this._moveManipulation.angleDeferred=()=>z(r(this.graphic.geometry)),this._moveManipulation.radius=C.radiusForSymbol(this.graphic.symbol);0!==i&&o?(u(e,e,1/i),X.spatialReference=r(this._reshapeHelper).geometry.spatialReference,X.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,X),this._moveManipulation.elevationAlignedLocation=X):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:O(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=r(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=r(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.editGeometry.components.indexOf(e.component);return{coordinates:i.editGeometry.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:r(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),N(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function F(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function R(e){return\"vertex\"===e.handle.type}function N(e){return\"edge\"===e.handle.type}e([n({constructOnly:!0})],Z.prototype,\"tool\",void 0),e([n()],Z.prototype,\"inputGeometry\",null),e([n()],Z.prototype,\"outputGeometry\",void 0),e([n()],Z.prototype,\"snappingManager\",void 0),Z=e([s(\"esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation\")],Z);const X=g(0,0,null,null);var Y;!function(e){e.Vertex=16,e.Edge=32}(Y||(Y={}));class K extends y{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.editGeometry.toPolyline();break;case\"polygon\":this._geometry=this.editGeometry.toPolygon()}this._dirty=!1}return this._geometry}}export{K as ReshapeGeometryHelper,Z as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{SnappingOptions as n}from\"../../../../interactive/snapping/SnappingOptions.js\";import{InteractiveToolBase as h}from\"../../../../interactive/InteractiveToolBase.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as m}from\"./ReshapeOperation.js\";let l=class extends(s.EventedMixin(h)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingOptions=new n}destroy(){this._handles.removeAll(),this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!t(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){r(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new m({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(()=>this.emit(\"immediate-click\"))),a(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){this._reshapeOperation.snappingManager.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}};e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"view\",void 0),e([o({constructOnly:!0})],l.prototype,\"graphic\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableZ\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableMoveGraphic\",void 0),e([o({readOnly:!0})],l.prototype,\"type\",void 0),e([o()],l.prototype,\"snappingOptions\",void 0),l=e([i(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],l);export{l as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as s,createScreenPointArray as r}from\"../../../../../core/screenUtils.js\";import{a as n,f as l,c}from\"../../../../../chunks/vec3f64.js\";import{a as h}from\"../../../../../chunks/common.js\";import{s as g,f as d,l as u,h as m,c as p,b as f}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as D}from\"../../../support/mathUtils.js\";import M from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as S,r as b,p as R,m as v,s as k}from\"../../../../../chunks/mat4.js\";import{c as w}from\"../../../../../chunks/mat4f64.js\";import{sv3d as _,sm4d as j}from\"../../../support/stack.js\";import{plane as A,ray as F}from\"../../../support/geometryUtils.js\";import{getGraphicEffectiveElevationInfo as I}from\"../../../../../support/elevationInfoUtils.js\";import E from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as P}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as L,resetSymbol as T}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as U}from\"../dragEventPipeline3D.js\";import{Manipulator3D as O}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as x,placeAtGraphic as z}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as C,SCALE_INDICATOR_DIRECTION_BUFFER as N,RING_HEIGHT as Z,ROTATE_INDICATOR_ARROW_TIP_LENGTH as G,ROTATE_INDICATOR_ARROW_TIP_RADIUS as H,RING_THICKNESS as V,DRAG_THRESHOLD_PX as q,RING_RESET_ANIMATION_SPEED_FACTOR as B,RING_INDICATOR_DELAY_MS as J,INDICATOR_THICKNESS as K,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as Q,HANDLE_COLOR as W,RING_RADIUS as X,ROTATE_INDICATOR_ARC_LENGTH as Y,INNER_INDICATOR_RADIUS as $,OUTER_INDICATOR_RADIUS as tt,SCALE_INDICATOR_OFFSET1 as et,SCALE_INDICATOR_OFFSET2 as at,GEOMETRY_SEGMENTS as it,SCALE_INDICATOR_ARC_LENGTH as ot}from\"../manipulations/config.js\";var st;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(st||(st={}));class rt{constructor(e){this.mode=null,this._handles=new M,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,2)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,s=L(a,((a,s,r)=>{this._scaleRotateDragData=null;const l=lt(this.tool.view,i);if(e(l))return this.updateDragState(),null;const c={mode:\"none\",origin:n(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:l};this._scaleRotateDragData=c,this.updateDragState();const h=_.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,h),s.next(U(this.tool.view,A.fromPositionAndNormal(a.renderLocation,h))).next((e=>{const a=A.normal(e.plane),s=x(e.renderStart,e.renderEnd,c.origin,a),r=D.shortestSignedDiff(c.angle,s);c.angleDir=o(c.angleDir+r,-C,C),c.angle=s;const n=nt(c,e),l=n-c.scale;if(c.scaleDir=o(c.scaleDir+l,-N,N),c.scale=n,this.onScaleChanged(),\"none\"===c.mode){const a=this.mode||ct(e,e.plane,c.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,scale:c.scale})}c.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(c.mode){default:case\"none\":break;case\"scale\":a=c.scale;break;case\"rotate\":e=c.angle}this.applySymbolData(t,c.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,scale:c.scale})}break;case\"end\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:c.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(gt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),r.next(T(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:this._scaleRotateDragData.startAngle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:1})}this.startAnimation(gt(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(dt(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>z(this.tool.view,this.ringManipulator,i)))]),z(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(st.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(st.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(st.ScaleIn|st.ScaleOut,!1),this.ringManipulator.updateStateEnabled(st.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(st.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(st.RotateLeft|st.RotateRight,!1),this.ringManipulator.updateStateEnabled(st.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(st.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(st.ScaleIn|st.ScaleOut|st.RotateLeft|st.RotateRight,!1)}updateManipulatorTransform(){const t=S(j.get()),e=this.tool.symbolRotationAngle;b(t,t,e,l(0,0,1));const a=this.getScale(),i=R(j.get(),g(_.get(),a,a,a)),o=S(j.get());v(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(it*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(l(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,Z/2],[-t/2,Z/2]],i=(t,e)=>E.createPathExtrusionGeometry(a(e),t,[],[],!1),o=e(X),s=i(o,V),r={left:[],right:[]},n=[];for(let l=0;l<2;l++){const e=l*Math.PI-Math.PI/4,a=Math.PI/2-Y,o=e+a,s=e+Math.PI/2-a,c=t(o,s,$),h=i(c,K);n.push(c),n.push(t(o,s,tt-V/2)),r.left.push(h),r.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=w();if(e){k(a,a,[1,-1,1]),b(a,a,-o,[0,0,1]);const t=Math.round(Q*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{b(a,a,s,[0,0,1]);const t=Math.round((1-Q)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const i=E.createExtrudedTriangle(G,0,H,Z);E.transformInPlace(i,a),(e?r.left:r.right).push(i)}}const c=[];for(let l=0;l<2;l++){const e=l*Math.PI-Math.PI/4,a=Math.PI/2-ot,o=e+a,s=e+Math.PI/2-a,r=t(o,s,tt);c.push(i(r,K))}const h=e(X+et),g=e(X+at),d=i(h,K),u=i(g,K),m=e(X-et),p=e(X-at),f=i(m,K),D=i(p,K),M=this.createMaterial(),y=this.createMaterial(.66),S=this.createMaterial(.5),R=this.createMaterial(.33);let v=[{geometry:s,material:M,stateMask:st.DelayedFocused},{geometry:s,material:S,stateMask:0}];this.mode&&\"scale\"!==this.mode||(v=v.concat([{geometry:c,material:M,stateMask:st.DelayedFocused|st.Unlocked},{geometry:d,material:y,stateMask:st.DelayedFocused|st.ScaleIn},{geometry:u,material:R,stateMask:st.DelayedFocused|st.ScaleIn},{geometry:f,material:y,stateMask:st.DelayedFocused|st.ScaleOut},{geometry:D,material:R,stateMask:st.DelayedFocused|st.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(v=v.concat([{geometry:r.right,material:M,stateMask:st.DelayedFocused|st.Unlocked},{geometry:r.left,material:M,stateMask:st.DelayedFocused|st.RotateLeft},{geometry:r.right,material:M,stateMask:st.DelayedFocused|st.RotateRight}]));const _=[o,...n];return new O({view:this.tool.view,renderObjects:v,autoScaleRenderObjects:!1,worldOriented:!0,radius:V,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:I(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:_,direction:l(0,0,1)}})}createMaterial(t=1){const e=[...W,t];return new P({color:e,transparent:1!==t,cullFace:2,renderOccluded:2})}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-h(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function nt(t,e){const a=d(_.get(),e.renderStart,t.origin),i=d(_.get(),e.renderEnd,t.origin),o=u(a),s=u(i);return 0===o?0:s/o}function lt(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}function ct(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=ht(o,i,_.get()),n=ht(s,i,_.get());if(m(r,n)<q*q)return null;const l=d(_.get(),o,a),c=p(_.get(),l,e),h=o,g=f(_.get(),h,c),u=ht(a,i,_.get()),D=r,M=ht(g,i,_.get()),y=d(_.get(),M,D),S=d(_.get(),r,u),b=F.wrap(D,y),R=F.wrap(u,S);return F.distance2(b,n)<F.distance2(R,n)?\"rotate\":\"scale\"}function ht(t,e,a){const i=e.projectToRenderScreen(t,s(ut)),o=e.renderToScreen(i,mt);return g(a,o[0],o[1],0)}function gt(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*B,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}function dt(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>J?1:0),destroy:()=>{t.getFocused=i,e()}}}const ut=c(),mt=r();export{rt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as a,isNone as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as e}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import{t as r}from\"../../../../../chunks/common.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{InteractiveToolBase as c}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as p}from\"../../manipulatorUtils.js\";import{canMoveZ as m}from\"../manipulatorUtils.js\";import{GraphicState as u}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as d}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as g}from\"../manipulations/config.js\";import{MoveManipulation as v}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as y}from\"./GraphicScaleRotateTransform.js\";let M=class extends(n.EventedMixin(c)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new l,this.scaleRotate=null}initialize(){if(this.graphicState=new u({graphic:this.graphic}),this.moveManipulation=new v({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&m(this.graphic),radius:v.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic),this.moveManipulation.createGraphicDragPipeline(this.graphicState,(t=>{const{action:a,graphic:i,dxScreen:e,dyScreen:o}=t,s={graphic:i,dxScreen:e,dyScreen:o};switch(a){case\"start\":this.emit(\"graphic-translate-start\",s);break;case\"update\":this.emit(\"graphic-translate\",s);break;case\"end\":this.emit(\"graphic-translate-stop\",s)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new y({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([d({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>e()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),a(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((a=>a.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&m(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),a(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const a=t.symbolLayers.find((t=>\"object\"===t.type)),i=a&&a.heading||0;return r(-i)}return 0}reset(){}onDetach(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(i(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<g?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){p(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:a(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"enableZ\",void 0),t([o()],M.prototype,\"enableRotation\",void 0),t([o()],M.prototype,\"enableScaling\",void 0),t([o({value:!1})],M.prototype,\"snapToScene\",null),t([o({readOnly:!0})],M.prototype,\"type\",void 0),M=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],M);export{M as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t,unwrap as i}from\"../../../../core/maybe.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as l}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{separateBlendingParams as a,makePipelineState as h,defaultColorWriteParams as u,defaultDepthWriteParams as d}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as m}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{depthCompareLess as g,stencilWriteMaskOn as b,stencilToolMaskBaseParams as x,stencilBaseAllZerosParams as P}from\"../lib/StencilUtils.js\";import{N as E}from\"../../../../chunks/NativeLine.glsl.js\";class v extends s{constructor(e,t){super(e,t),this.stipplePattern=null,this.stippleTextureBind=null,this.stippleTextureRepository=e.stippleTextureRepository}initializeProgram(e){const t=v.shader.get(),i=this.configuration,r=t.build({output:i.output,attributeColor:i.vertexColors,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,stippleEnabled:i.stippleEnabled,stippleOffColorEnabled:i.stippleOffColorEnabled,stippleUVMaxEnabled:!1,stippleIntegerRepeatsEnabled:i.stippleIntegerRepeatsEnabled});return new n(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),p)}dispose(){super.dispose(),this.stippleTextureRepository.release(this.stipplePattern),this.stipplePattern=null,this.stippleTextureBind=null}bindPass(e,r,s){if(c.bindProjectionMatrix(this.program,s.camera.projectionMatrix),this.stipplePattern!==r.stipplePattern){const e=r.stipplePattern;this.stippleTextureBind=this.stippleTextureRepository.swap(this.stipplePattern,e),this.stipplePattern=e}if(this.configuration.stippleEnabled){const i=t(this.stippleTextureBind)?this.stippleTextureBind(e,0)*s.camera.pixelRatio:1;this.program.setUniform1i(\"stipplePatternTexture\",0),this.program.setUniform1f(\"stipplePatternPixelSizeInv\",1/i),this.program.setUniform2f(\"ndcToPixel\",s.camera.fullViewport[2]/2,s.camera.fullViewport[3]/2)}if(this.program.setUniform4fv(\"constantColor\",r.color),this.program.setUniform1f(\"alphaCoverage\",Math.min(1,r.width*s.camera.pixelRatio)),this.configuration.stippleOffColorEnabled){const e=i(r.stippleOffColor);this.program.setUniform4f(\"stippleOffColor\",e[0],e[1],e[2],e.length>3?e[3]:1)}4===this.configuration.output&&f.bindOutputHighlight(e,this.program,s)}bindDraw(e){c.bindView(this.program,e),m.bindUniformsWithOrigin(this.program,this.configuration,e)}initializePipeline(){const e=this.configuration,t=a(770,1,771,771),i=(t,i=null,r=null)=>h({blending:i,depthTest:g,depthWrite:r,colorWrite:u,stencilWrite:e.sceneHasOcludees?b:null,stencilTest:e.sceneHasOcludees?t?x:P:null});return 0===e.output?(this._occludeePipelineState=i(!0,e.transparent||e.stippleEnabled?t:null,d),i(!1,e.transparent||e.stippleEnabled?t:null,d)):i(!1)}get primitiveType(){return 1}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}v.shader=new r(E,(()=>import(\"./NativeLine.glsl.js\")));class T extends o{constructor(){super(...arguments),this.output=0,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.vertexColors=!1,this.transparent=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stippleIntegerRepeatsEnabled=!1,this.sceneHasOcludees=!1}}e([l({count:8})],T.prototype,\"output\",void 0),e([l()],T.prototype,\"slicePlaneEnabled\",void 0),e([l()],T.prototype,\"sliceHighlightDisabled\",void 0),e([l()],T.prototype,\"vertexColors\",void 0),e([l()],T.prototype,\"transparent\",void 0),e([l()],T.prototype,\"stippleEnabled\",void 0),e([l()],T.prototype,\"stippleOffColorEnabled\",void 0),e([l()],T.prototype,\"stippleIntegerRepeatsEnabled\",void 0),e([l()],T.prototype,\"sceneHasOcludees\",void 0);export{v as NativeLineTechnique,T as NativeLineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import s from\"../../../../core/Logger.js\";import{createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as n,f as o,d as a,a as c,b as u,g as l,l as p,i as m}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec2.js\";import{plane as h,lineSegment as d}from\"../../support/geometryUtils.js\";import{isTranslationMatrix as g}from\"../lib/Util.js\";import{isInstanceHidden as P}from\"./renderers/utils.js\";import{BufferViewVec3f as b}from\"../../support/buffer/BufferView.js\";import{computeAttachmentOriginLines as j}from\"../lib/geometryDataUtils.js\";import q from\"../lib/GLMaterial.js\";import{intersectDrapedRenderLineGeometry as v}from\"./internal/MaterialUtil.js\";import{Material as C,materialParametersDefaults as x}from\"../lib/Material.js\";import{writeDefaultAttributes as y}from\"./internal/bufferWriterUtils.js\";import{PositionColorLayout as L,PositionLayout as O,DefaultBufferWriter as w}from\"./internal/DefaultBufferWriter.js\";import{NativeLineTechniqueConfiguration as D,NativeLineTechnique as S}from\"../shaders/NativeLineTechnique.js\";const A=s.getLogger(\"esri.views.3d.webgl-engine.materials.NativeLineMaterial\");class B extends C{constructor(e){super(e,T),this.techniqueConfig=new D}getTechniqueConfig(t){this.techniqueConfig.output=t,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.vertexColors=this.params.vertexColors,this.techniqueConfig.transparent=this.params.color[3]<1||this.params.width<1;const s=e(this.params.stipplePattern);return this.techniqueConfig.stippleEnabled=s,this.techniqueConfig.stippleOffColorEnabled=s&&e(this.params.stippleOffColor),this.techniqueConfig.stippleIntegerRepeatsEnabled=s&&this.params.stippleIntegerRepeats,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,s,r,i,n,o,a,c){c?v(e,r,n,1,o):this.intersectLineGeometry(e,t,s,r,o)}intersectLineGeometry(e,t,s,r,i){if(!r.options.selectionMode||P(t))return;if(!g(s))return void A.error(\"intersection assumes a translation-only matrix\");const b=e.vertexAttributes.get(\"position\").data,j=r.camera,q=F;f(q,r.point);const v=2;n(X[0],q[0]-v,q[1]+v,0),n(X[1],q[0]+v,q[1]+v,0),n(X[2],q[0]+v,q[1]-v,0),n(X[3],q[0]-v,q[1]-v,0);for(let n=0;n<4;n++)if(!j.unprojectFromRenderScreen(X[n],z[n]))return;h.fromPoints(j.eye,z[0],z[1],J),h.fromPoints(j.eye,z[1],z[2],K),h.fromPoints(j.eye,z[2],z[3],Q),h.fromPoints(j.eye,z[3],z[0],Y);let C=Number.MAX_VALUE;for(let n=0;n<b.length-5;n+=3){if(M[0]=b[n]+s[12],M[1]=b[n+1]+s[13],M[2]=b[n+2]+s[14],U[0]=b[n+3]+s[12],U[1]=b[n+4]+s[13],U[2]=b[n+5]+s[14],h.signedDistance(J,M)<0&&h.signedDistance(J,U)<0||h.signedDistance(K,M)<0&&h.signedDistance(K,U)<0||h.signedDistance(Q,M)<0&&h.signedDistance(Q,U)<0||h.signedDistance(Y,M)<0&&h.signedDistance(Y,U)<0)continue;if(j.projectToRenderScreen(M,N),j.projectToRenderScreen(U,V),N[2]<0&&V[2]>0){o(H,M,U);const e=j.frustum,t=-h.signedDistance(e[4],M)/a(H,h.normal(e[4]));c(H,H,t),u(M,M,H),j.projectToRenderScreen(M,N)}else if(N[2]>0&&V[2]<0){o(H,U,M);const e=j.frustum,t=-h.signedDistance(e[4],U)/a(H,h.normal(e[4]));c(H,H,t),u(U,U,H),j.projectToRenderScreen(U,V)}else if(N[2]<0&&V[2]<0)continue;N[2]=0,V[2]=0;const e=d.distance2(d.fromPoints(N,V,I),q);e<C&&(C=e,l(_,M),l(k,U))}const x=r.rayBeginPoint,y=r.rayEndPoint;if(C<v*v){let e=Number.MAX_VALUE;if(d.closestLineSegmentPoint(d.fromPoints(_,k,I),d.fromPoints(x,y,W),G)){o(G,G,x);const t=p(G);c(G,G,1/t),e=t/m(x,y)}i(e,G)}}computeAttachmentOrigin(e,t){const s=e.vertexAttributes;if(!s)return!1;const r=s.get(\"position\");return j(r,null,!1,t)}createBufferWriter(){const e=this.params.vertexColors?L:O;return t(this.params.stipplePattern)?new w(e):new R(e.clone().vec3f(\"auxpos1\"))}getGLMaterial(e){return 0===e.output||4===e.output?new E(e):void 0}}class E extends q{constructor(e){super(e),this.updateParameters()}updateParameters(){this.technique=this.techniqueRep.acquireAndReleaseExisting(S,this.material.getTechniqueConfig(this.output),this.technique)}beginSlot(e){return 3===e}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters())}ensureParameters(e){0===this.output&&this._updateOccludeeState(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}class R{constructor(e){this.vertexBufferLayout=e}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,s,r){y(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,s,r),this.writeAuxpos1(e,t,s,r)}writeAuxpos1(e,t,s,r){const i=s.getField(\"auxpos1\",b),n=t.indices.get(\"position\"),o=t.vertexAttributes.get(\"position\").data,a=e.transformation,c=i.typedBufferStride,u=i.typedBuffer;r*=c;for(let l=0;l<n.length;l+=2){const e=3*n[l],t=o[e],s=o[e+1],i=o[e+2],p=a[0]*t+a[4]*s+a[8]*i+a[12],m=a[1]*t+a[5]*s+a[9]*i+a[13],f=a[2]*t+a[6]*s+a[10]*i+a[14];for(let n=0;n<2;++n)u[r]=p,u[r+1]=m,u[r+2]=f,r+=c}}}const T={color:[1,1,1,1],vertexColors:!1,slicePlaneEnabled:!1,width:1,stipplePattern:null,stippleIntegerRepeats:!1,stippleOffColor:null,sceneHasOcludees:!1,...x},M=i(),U=i(),H=i(),G=i(),N=r(),V=r(),_=i(),k=i(),I=d.create(),W=d.create(),F=i(),X=[r(),r(),r(),r()],z=[i(),i(),i(),i()],J=h.create(),K=h.create(),Q=h.create(),Y=h.create();export{B as NativeLineMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../core/has.js\";import{deg2rad as t}from\"../../../../../core/mathUtils.js\";const r=o(\"mac\")?\"Meta\":\"Control\",s=\"Shift\",a=2,c=1.15,m=1.15,h=1.1,e=2500,i=.02,f=Math.cos(t(45)),p=Math.cos(t(5)),M=.95,j=.3,l=.7,n=[1,.5,0],x=2,C=1,S=[...n,l],U=[0,0,0,.04],b=[...n,.5],d=[...n,1],g=[1,1,1,1],k=[1,.8,.6,1],q=[1,.93,.86,1],u=[...n,1],v=[...n,1],w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=4,F=1,G=.3,H=6,I=4,J=12,K=40,L=27,N=1600,O=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,b as GRID_COLOR,n as HANDLE_COLOR,l as HANDLE_OPACITY,i as INITIAL_DEPTH_OFFSET_FRAC,O as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,U as PLANE_BACKGROUND_COLOR,N as PLANE_MIN_BASIS_SCREEN_LEN2,S as PLANE_OUTLINE_COLOR,C as PLANE_OUTLINE_WIDTH,x as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,M as PREVIEW_FADE_DOT_THRESHOLD,j as PREVIEW_FADE_DURATION_SECONDS,H as RESIZE_HANDLE_CORNER_INPUT_RADIUS,E as RESIZE_HANDLE_CORNER_WIDTH,I as RESIZE_HANDLE_EDGE_INPUT_RADIUS,G as RESIZE_HANDLE_EDGE_PADDING_FRAC,F as RESIZE_HANDLE_EDGE_WIDTH,d as ROTATE_HEADING_CALLOUT_COLOR,L as ROTATE_HEADING_DISC_RADIUS,h as ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,K as ROTATE_HEADING_OFFSET_DISTANCE,J as ROTATE_HEADING_TIP_LENGTH,k as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,g as SHIFT_RESTART_ARROW_TIP_COLOR,u as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,v as SHIFT_RESTART_OUTLINE_COLOR,m as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,q as SHIFT_RESTART_TUBE_COLOR,c as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,p as SMALL_ANGLE_DOT_THRESHOLD,f as VERTICAL_DOT_THRESHOLD,r as forceHorizontalModifier,s as forceVerticalModifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import o from\"../../../webgl/Program.js\";import{makePipelineState as t,separateBlendingParams as a,defaultColorWriteParams as n}from\"../../../webgl/renderState.js\";import{View as s}from\"../core/shaderLibrary/util/View.glsl.js\";import{S as l}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";class m extends e{initializeProgram(r){const e=m.shader.get().build();return new o(r.rctx,e.generateSource(\"vertex\"),e.generateSource(\"fragment\"),i)}bindPass(r,e,i){s.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"backgroundColor\",e.backgroundColor),this.program.setUniform4fv(\"gridColor\",e.gridColor),this.program.setUniform1f(\"gridWidth\",e.gridWidth)}bindDraw(r){s.bindView(this.program,r)}initializePipeline(){return t({blending:a(1,1,771,771),depthTest:{func:513},colorWrite:n})}}m.shader=new r(l,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{m as SlicePlaneMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as t}from\"./internal/MaterialUtil.js\";import{Material as e,materialParametersDefaults as i}from\"../lib/Material.js\";import{DefaultBufferWriter as a,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{SlicePlaneMaterialTechnique as s}from\"../shaders/SlicePlaneMaterialTechnique.js\";class o extends e{constructor(r){super(r,l)}intersect(r,e,i,a,n,s,o){return t(r,e,a,n,s,void 0,o)}createBufferWriter(){return new a(n)}getGLMaterial(r){return 0===r.output?new u(r):void 0}}class u extends r{constructor(r){super(r),this.technique=new s(this.techniqueRep.constructionContext,null),this.updateParameters()}updateParameters(){}beginSlot(r){return 8===r}bind(r,t){r.bindProgram(this.technique.program),this.technique.bindPass(r,this.material.params,t)}}const l={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...i};export{o as SlicePlaneMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as r,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as l,defaultColorWriteParams as p,simpleBlendingParams as c}from\"../../../webgl/renderState.js\";import{View as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OITBlending as h,OITDepthTest as m,OITDepthWrite as g,getOITPolygonOffset as f}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as b}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{stencilWriteMaskOn as y,stencilToolMaskBaseParams as P,stencilBaseAllZerosParams as T}from\"../lib/StencilUtils.js\";import{I as v}from\"../../../../chunks/ImageMaterial.glsl.js\";class j extends i{initializeProgram(e){const t=j.shader.get(),i=this.configuration,r=t.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new a(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),o)}bindPass(e,t,i){u.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform1f(\"opacity\",t.opacity),i.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",i.camera.nearFar),this.program.setUniform2fv(\"viewportDim\",[e.getViewport().width,e.getViewport().height]),b(this.program,e,i))}bindDraw(e){u.bindView(this.program,e),d.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e,t){const i=this.configuration,r=3===e,s=2===e,o=e=>0!==e&&{face:1===e?1028:1029,mode:2305};return n({blending:0!==i.output&&7!==i.output||!i.transparent?null:r?O:h(e),culling:o(i.cullFace),depthTest:{func:m(e)},depthWrite:r?i.writeDepth&&l:g(e),colorWrite:p,stencilWrite:i.sceneHasOcludees?y:null,stencilTest:i.sceneHasOcludees?t?P:T:null,polygonOffset:r||s?i.polygonOffset&&w:f(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}j.shader=new t(v,(()=>import(\"./ImageMaterial.glsl.js\")));const w={factor:1,units:1},O=c(1,771);class S extends r{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.transparent=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([s({count:8})],S.prototype,\"output\",void 0),e([s({count:3})],S.prototype,\"cullFace\",void 0),e([s()],S.prototype,\"slicePlaneEnabled\",void 0),e([s()],S.prototype,\"sliceHighlightDisabled\",void 0),e([s()],S.prototype,\"transparent\",void 0),e([s()],S.prototype,\"polygonOffset\",void 0),e([s()],S.prototype,\"enableOffset\",void 0),e([s()],S.prototype,\"writeDepth\",void 0),e([s()],S.prototype,\"sceneHasOcludees\",void 0),e([s({count:4})],S.prototype,\"transparencyPassType\",void 0),e([s()],S.prototype,\"cullAboveGround\",void 0);export{j as ImageMaterialTechnique,S as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterialTexture.js\";import{intersectTriangleGeometry as t}from\"./internal/MaterialUtil.js\";import{Material as i,materialParametersDefaults as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{DefaultBufferWriter as r,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{ImageMaterialTechniqueConfiguration as u,ImageMaterialTechnique as h}from\"../shaders/ImageMaterialTechnique.js\";class c extends i{constructor(e){super(e,o),this.supportsEdges=!0,this.techniqueConfig=new u}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<s,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,this.techniqueConfig}intersect(e,i,a,s,r,n,u){t(e,i,s,r,n,void 0,u)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new l(e):void 0}createBufferWriter(){return new r(n)}}class l extends e{constructor(e){super({...e,...e.material.params}),this.updateParameters()}updateParameters(e){const t=this.material.params;this.updateTexture(t.textureId),this.technique=this.techniqueRep.acquireAndReleaseExisting(h,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;return e===(this.technique.configuration.transparent?this.technique.configuration.writeDepth?5:8:3)}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}ensureParameters(e){0!==this.output&&7!==this.output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.bindTexture(e,this.technique.program),this.bindTextureScale(e,this.technique.program),this.technique.bindPass(e,this.material.params,t)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}const o={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...a};export{c as ImageMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as o}from\"../../core/lang.js\";import{isSome as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import{ensureNumber as i}from\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{persistable as h}from\"../../core/accessorSupport/decorators/persistable.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import n from\"../../geometry/Point.js\";import\"../../geometry.js\";import{cyclicalDeg as m}from\"../../views/3d/support/mathUtils.js\";var l;let c=l=class extends a{constructor(t){super(t),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}clone(){return new l({position:o(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&e(this.position)&&e(t.position)&&this.position.equals(t.position)&&this.width===t.width&&this.height===t.height}};t([r({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),t([r({type:n}),h()],c.prototype,\"position\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),h(),s((t=>m.normalize(i(t),0,!0)))],c.prototype,\"heading\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),h(),s((t=>m.normalize(i(t),0,!0)))],c.prototype,\"tilt\",void 0),t([r({type:Number,nonNullable:!0}),h()],c.prototype,\"width\",void 0),t([r({type:Number,nonNullable:!0}),h()],c.prototype,\"height\",void 0),c=l=t([p(\"esri.widgets.Slice.SlicePlane\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../core/compilerUtils.js\";import{isSome as t,isNone as i}from\"../../../../../core/maybe.js\";import s from\"../../../../../core/Logger.js\";import o from\"../../../../../geometry/Point.js\";import\"../../../../../geometry.js\";import{rad2deg as r,deg2rad as n}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray3 as a}from\"../../../../../core/screenUtils.js\";import{a as c,c as l,f as m}from\"../../../../../chunks/vec3f64.js\";import{a as d,g,d as u,c as p,n as f,b,l as h,f as w,p as y,s as j}from\"../../../../../chunks/vec3.js\";import{a as M,i as P,s as k,m as v,b as O,t as R,q as U}from\"../../../../../chunks/mat4.js\";import{c as T}from\"../../../../../chunks/mat4f64.js\";import{sv3d as A,sm4d as L,sq4d as S}from\"../../../support/stack.js\";import{b as E}from\"../../../../../chunks/vector.js\";import{plane as F,boundedPlane as G,ray as C}from\"../../../support/geometryUtils.js\";import{r as I}from\"../../../../../chunks/quat.js\";import{Geometry as x}from\"../../../webgl-engine/lib/Geometry.js\";import z from\"../../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as V}from\"../../../webgl-engine/materials/RibbonLineMaterial.js\";import{NativeLineMaterial as D}from\"../../../webgl-engine/materials/NativeLineMaterial.js\";import{ColorMaterial as B}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as N}from\"../../Manipulator3D.js\";import{calculateTranslateRotateFromBases as q}from\"../../manipulatorUtils.js\";import{LineVisualElement as W}from\"../../visualElements/LineVisualElement.js\";import{SMALL_ANGLE_DOT_THRESHOLD as $,RESIZE_HANDLE_EDGE_PADDING_FRAC as H,PLANE_MIN_BASIS_SCREEN_LEN2 as J,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as K,SHIFT_RESTART_OFFSET_DISTANCE as Q,SHIFT_RESTART_ARROW_TIP_COLOR as X,SHIFT_RESTART_ARROW_CAP_COLOR as Y,SHIFT_RESTART_TUBE_COLOR as Z,SHIFT_RESTART_OUTLINE_COLOR as _,SHIFT_RESTART_CALLOUT_COLOR as ee,SHIFT_RESTART_TIP_RADIUS as te,ROTATE_HEADING_CALLOUT_COLOR as ie,PLANE_OUTLINE_COLOR as se,PLANE_OUTLINE_WIDTH as oe,PLANE_BACKGROUND_COLOR as re,GRID_COLOR as ne,RESIZE_HANDLE_CORNER_INPUT_RADIUS as ae,RESIZE_HANDLE_EDGE_INPUT_RADIUS as ce,ROTATE_HEADING_TIP_LENGTH as le,VERTICAL_DOT_THRESHOLD as me,SHIFT_RESTART_TUBE_RADIUS as de,SHIFT_RESTART_TIP_LENGTH as ge,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as ue,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as pe,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as fe,ROTATE_HEADING_OFFSET_DISTANCE as be,ROTATE_HEADING_DISC_RADIUS as he,ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as we,HANDLE_COLOR as ye,DISPLAY_FOCUS_MULTIPLIER as je,SHIFT_RESTART_ARROW_LENGTH as Me,RESIZE_HANDLE_CORNER_WIDTH as Pe,RESIZE_HANDLE_EDGE_WIDTH as ke}from\"./sliceToolConfig.js\";import{SlicePlaneVisualElement as ve}from\"../../visualElements/SlicePlaneVisualElement.js\";import{ImageMaterial as Oe}from\"../../../webgl-engine/materials/ImageMaterial.js\";import Re from\"../../../../../widgets/Slice/SlicePlane.js\";const Ue=s.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");function Te(e,t,i,s,o,r,n,a){return Ae(t,n.worldUpAtPosition(e,A.get()),o,r,a.basis1,a.basis2),d(a.basis1,a.basis1,i),d(a.basis2,a.basis2,s),g(a.origin,e),F.fromVectorsAndPoint(a.basis2,a.basis1,a.origin,a.plane),a}function Ae(e,t,i,s,o,r){const n=u(e,t),a=A.get(),c=A.get();switch(0===s?Math.abs(n)>me?1:2:s){case 2:{const s=Math.abs(n)<=$?e:i.viewUp;p(a,s,t),g(c,t);break}case 1:p(a,i.viewUp,t),p(c,t,a);break;case 3:{const s=Math.abs(n)<=$?t:i.viewUp;p(a,s,e),p(c,e,a);break}}const l=p(A.get(),a,c);u(l,i.viewForward)>0&&d(c,c,-1),f(o,a),f(r,c)}function Le(e,t,i){const s=t.worldUpAtPosition(e.origin,A.get()),o=e.basis1,r=tt(e,s),n=Math.round(r/ct)*ct;return G.rotate(e,n-r,o,i)}function Se(e,t,i,s,o,r){const n=g(A.get(),o.origin);b(n,n,d(A.get(),o.basis1,e.direction[0]<0?1:-1)),b(n,n,d(A.get(),o.basis2,e.direction[1]<0?1:-1));const a=h(o.basis1),c=h(o.basis2),l=w(A.get(),i,n),m=w(A.get(),t,n);let p=0,f=0;if($e(e)){const t=We(o),i=We(r);p=a-.5*e.direction[0]*u(o.basis1,m)/a,f=c-.5*e.direction[1]*u(o.basis2,m)/c;const s=i/t;p*=s,f*=s}const y=p+.5*e.direction[0]*u(o.basis1,l)/a,j=f+.5*e.direction[1]*u(o.basis2,l)/c,M=d(A.get(),o.basis1,y/a),P=d(A.get(),o.basis2,j/c);(y<=0||Ne(r.origin,M,s)<=J)&&g(M,r.basis1),(j<=0||Ne(r.origin,P,s)<=J)&&g(P,r.basis2);const k=g(A.get(),n);return b(k,k,d(A.get(),M,e.direction[0]<0?-1:1)),b(k,k,d(A.get(),P,e.direction[1]<0?-1:1)),G.fromValues(k,M,P,r)}function Ee(e,t){return K*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function Fe(e,t,i,s){const o=p(A.get(),t,i);return p(o,o,t),F.fromPositionAndNormal(e,o,s)}function Ge(e,t){return q(e.basis1,e.basis2,e.origin,t)}function Ce(e,t,i,s){const o=t.worldUpAtPosition(e.origin,A.get()),r=A.get();switch(i){case 1:g(r,o);break;case 2:g(r,e.basis1)}return F.fromPositionAndNormal(e.origin,r,s)}function Ie(e,t,i,s){const o=Be(i,2),r=L.get();M(r,t,o.edge*Math.PI/2);const n=f(A.get(),o.basis);let l=d(A.get(),n,o.direction*s.computeScreenPixelSizeAt(o.position)*Q);b(l,l,o.position);const m=s.projectToRenderScreen(l,a(A.get())),g=xe(s,m);C.fromRender(s,m,at),f(at.direction,at.direction);const u=A.get();!g&&G.intersectRay(i,at,u)&&(l=u),r[12]=0,r[13]=0,r[14]=0,e.modelTransform=r,e.renderLocation=c(l),g?e.state|=nt:e.state&=~nt}function xe(e,t){const[i,s,o,r]=e.viewport,n=Math.min(o,r)/16;let a=!0;return t[0]<i+n?(t[0]=i+n,a=!1):t[0]>i+o-n&&(t[0]=i+o-n,a=!1),t[1]<s+n?(t[1]=s+n,a=!1):t[1]>s+r-n&&(t[1]=s+r-n,a=!1),a}function ze(e,t,i,s){const o=h(s.basis1),r=h(s.basis2),n=qe(s),a=We(s),c=j(A.get(),0,0,0);b(c,d(A.get(),s.basis1,t.direction[0]),d(A.get(),s.basis2,t.direction[1])),b(c,s.origin,c);let l=0,m=1;if($e(t))1===t.direction[0]&&-1===t.direction[1]?l=ct:1===t.direction[0]&&1===t.direction[1]?l=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(l=3*Math.PI/2),m=a;else{const e=0!==t.direction[0]?1:2;l=1===e?ct:0,m=(1===e?r:o)-n}const g=P(L.get());M(g,g,l),k(g,g,j(A.get(),m,m,m)),v(g,i,g),g[12]=0,g[13]=0,g[14]=0,e.modelTransform=g,e.renderLocation=c}function Ve(e,t,i,s){const o=s.worldUpAtPosition(i.origin,A.get()),r=Be(i,0),n=P(L.get());M(n,n,r.edge*Math.PI/2),O(n,n,-tt(i,o)),v(n,t,n),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=r.position}function De(e,t,i){const s=Be(i,1),o=P(L.get());M(o,o,s.edge*Math.PI/2),O(o,o,ct),v(o,t,o),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=s.position}function Be(e,t){switch(t){case 0:return{basis:e.basis1,direction:1,position:b(A.get(),e.origin,e.basis1),edge:t};case 1:return{basis:e.basis2,direction:1,position:b(A.get(),e.origin,e.basis2),edge:t};case 2:return{basis:e.basis1,direction:-1,position:w(A.get(),e.origin,e.basis1),edge:t};case 3:return{basis:e.basis2,direction:-1,position:w(A.get(),e.origin,e.basis2),edge:t}}}function Ne(e,t,i){const s=i.projectToRenderScreen(b(A.get(),e,t),a(A.get())),o=i.projectToRenderScreen(w(A.get(),e,t),a(A.get()));return y(w(s,s,o))}function qe(e){const t=h(e.basis1),i=h(e.basis2);return H*Math.min(t,i)}function We(e){return qe(e)}function $e(e){return 0!==e.direction[0]&&0!==e.direction[1]}function He(e){const t=[m(0,0,-Me/2),m(0,0,Me/2)],i=_e(t,!0),s=(e,i)=>Ye(t,t,{tubeRadius:de,tipRadius:te,tipLength:ge,tubeFocusMultiplier:ue,tipFocusMultiplier:pe,padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:i}),o=s(0,!1),r=s(fe,!0),n=new B({color:X,cullFace:2,renderOccluded:16}),a=new B({color:Y,cullFace:2,renderOccluded:16}),c=new B({color:Z,cullFace:2,renderOccluded:16}),l=new B({color:_,transparent:!0,writeDepth:!1,cullFace:1,renderOccluded:2}),d=z.createPolylineGeometry([[0,0,0],[-Q,0,0]]),g=z.createPolylineGeometry([[0,0,0],[-Q,0,0]]),u=new D({color:ee,renderOccluded:4});return new N({view:e,renderObjects:[...o.normal.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?n:\"cap\"===e?a:c,transform:i,stateMask:1|rt}))),...r.normal.map((({geometry:e,transform:t})=>({geometry:e,material:l,transform:t,stateMask:1|rt}))),{geometry:d,material:u,stateMask:1|rt|nt},...o.focused.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?n:\"cap\"===e?a:c,transform:i,stateMask:2|rt}))),...r.focused.map((({geometry:e,transform:t})=>({geometry:e,material:l,transform:t,stateMask:2|rt}))),{geometry:g,material:u,stateMask:2|rt|nt}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[i]},collisionPriority:1,radius:te,state:rt})}function Je(e,t){const i=new Oe({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:16}),s=be,o=he,r=o*we,n=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new x([[\"position\",{size:3,data:[s-e,-e,0,s+e,-e,0,s+e,e,0,s-e,e,0],exclusive:!0}],[\"uv0\",{size:2,data:[0,0,1,0,1,1,0,1]}]],[[\"position\",t],[\"uv0\",t]])},a=z.createPolylineGeometry([[0,0,0],[s-o,0,0]]),c=z.createPolylineGeometry([[0,0,0],[s-r,0,0]]),l=new D({color:ie,renderOccluded:4}),m=[{geometry:n(o),material:i,stateMask:1|rt},{geometry:a,material:l,stateMask:1|rt},{geometry:n(r),material:i,stateMask:2|rt},{geometry:c,material:l,stateMask:2|rt}];return new N({view:e,renderObjects:m,autoScaleRenderObjects:!1,collisionType:{type:\"disc\",direction:[0,0,1],offset:[s,0,0]},collisionPriority:1,radius:o/2,state:rt})}function Ke(e){return new W({view:e,attached:!0,color:se,width:oe,writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function Qe(e){return new ve({view:e,attached:!0,backgroundColor:[...re],gridColor:ne,gridWidth:4,renderOccluded:4})}function Xe(e,t){const i=$e(t),s=i?[m(1,0,0),m(0,0,0),m(0,1,0)]:[m(1,0,0),m(-1,0,0)],o=z.createPolylineGeometry(s),r=[...ye,1],n=e=>new V({color:r,width:e,renderOccluded:4}),a=()=>new D({color:r,renderOccluded:4}),c=i?Pe:ke,l=c*je,d=e=>e>1?n(e):a();return new N({view:e,renderObjects:[{geometry:o,material:d(c),stateMask:1},{geometry:o,material:d(l),stateMask:2}],collisionType:{type:\"line\",paths:[s]},autoScaleRenderObjects:!1,worldSized:!0,radius:i?ae:ce})}function Ye(e,i,s){const o=o=>{const r=(o?i:e).slice(0),n=w(A.get(),r[0],r[1]);f(n,n);const a=w(A.get(),r[r.length-1],r[r.length-2]);if(f(a,a),s.padding>0){const e=d(l(),a,-s.padding);if(r[r.length-1]=b(e,e,r[r.length-1]),s.bothEnds){const e=d(l(),n,-s.padding);r[0]=b(e,e,r[0])}}const c=o?s.tipFocusMultiplier:1,g=s.tipLength*(s.focusTipLength?c:1),u=s.tipRadius*c,p=P(L.get());if(s.padding>0){const e=g/4,t=j(A.get(),0,e,0),i=1+s.padding/e;R(p,p,t),k(p,p,j(A.get(),i,i,i)),R(p,p,d(t,t,-1/i))}const h=P(T()),y=m(0,1,0),M=U(T(),I(S.get(),y,a));M[12]=r[r.length-1][0],M[13]=r[r.length-1][1],M[14]=r[r.length-1][2],v(M,M,p);const O=[{part:\"tube\",geometry:Ze(s.tubeRadius*(o?s.tubeFocusMultiplier:1)+s.padding,s.flat,r),transform:h}];let E,F;if(t(s.flat)?E=z.createExtrudedTriangle(g,u,u,s.flat.thickness):(E=z.createConeGeometry(g,u,24,!1,!1,!0),F=z.createConeGeometry(g,u,24,!1,!0,!1)),O.push({part:\"tip\",geometry:E,transform:M}),F&&O.push({part:\"cap\",geometry:F,transform:M}),s.bothEnds){const e=U(T(),I(S.get(),y,n));e[12]=r[0][0],e[13]=r[0][1],e[14]=r[0][2],v(e,e,p),O.push({part:\"tip\",geometry:E,transform:e}),F&&O.push({part:\"cap\",geometry:F,transform:e})}return O};return{normal:o(!1),focused:o(!0)}}function Ze(e,i,s){const o=[];if(t(i))o.push([e,i.thickness/2],[-e,i.thickness/2],[-e,-i.thickness/2],[e,-i.thickness/2]);else{const t=12;for(let i=0;i<t;i++){const s=i/t*2*Math.PI;o.push([Math.cos(s)*e,Math.sin(s)*e])}}return z.createPathExtrusionGeometry(o,s,[],[],!1)}function _e(e,t){const i=w(l(),e[e.length-1],e[e.length-2]);if(f(i,i),d(i,i,le),b(i,i,e[e.length-1]),t){const t=w(l(),e[0],e[1]);return f(t,t),d(t,t,le),b(t,t,e[0]),[t,...e,i]}return[...e,i]}function et(e,s,n,a=new Re){if(i(e))return null;const c=t(a.position)?a.position:new o;s.fromRenderCoords(e.origin,c,n),a.position=c;const l=s.worldUpAtPosition(e.origin,A.get()),m=s.worldBasisAtPosition(e.origin,1,A.get());return a.width=2*h(e.basis1),a.height=2*h(e.basis2),a.tilt=r(tt(e,l)),a.heading=r(it(e,l,m)),a}function tt(e,t){return E(t,e.basis2,e.basis1)+ct}function it(e,t,i){return E(e.basis1,i,t)-ct}function st(e,t,s=G.create()){return i(e)||i(e.position)?null:t.toRenderCoords(e.position,s.origin)?(t.worldBasisAtPosition(s.origin,0,s.basis1),t.worldBasisAtPosition(s.origin,1,s.basis2),F.fromVectorsAndPoint(s.basis2,s.basis1,s.origin,s.plane),G.rotate(s,-n(e.heading),G.normal(s),s),G.rotate(s,n(e.tilt),s.basis1,s),d(s.basis1,s.basis1,e.width/2),d(s.basis2,s.basis2,e.height/2),G.updateUnboundedPlane(s),s):(Ue.error(`Failed to project slice plane position, projection from ${e.position.spatialReference.wkid} is not supported`),null)}function ot(t){switch(t.type){case\"building-scene\":case\"csv\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"map-notes\":case\"ogc-feature\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"unknown\":case\"unsupported\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(t.type),!1}}const rt=16,nt=32,at=C.create(),ct=Math.PI/2;export{rt as DidPointerMoveRecentlyFlag,_e as addArrowTips,Ge as calculateBoundedPlaneTranslateRotate,We as calculateDiagonalResizeHandleScale,Ee as calculatePlaneHalfSize,qe as calculateResizeHandlePadding,Ne as calculateScreenSpaceBasisLength2,Ye as createArrowGeometry,Qe as createGridVisualElement,Ke as createOutlineVisualElement,Te as createPlane,Xe as createResizeManipulator,Je as createRotateManipulator,Ce as createRotatePlane,He as createShiftManipulator,Fe as createShiftPlane,Le as forceHorizontalOrVertical,ot as isAlwaysDrapedLayer,$e as isDiagonalResizeHandle,Ae as normalToBases,et as planeToShape,Se as resizePlane,st as shapeToPlane,ze as updateResizeHandle,Ve as updateRotateHeadingHandle,De as updateRotateTiltHandle,Ie as updateShiftRestartHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isNone as e,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as s}from\"../../../../../core/handleUtils.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../core/Evented.js\";import{screenPointObjectToArray as n}from\"../../../../../core/screenUtils.js\";import{U as p,a as h,c as l,Z as d}from\"../../../../../chunks/vec3f64.js\";import{E as c,s as u,b as m,f as g,g as y,D as v,a as M,k as f,F as B,n as b}from\"../../../../../chunks/vec3.js\";import w from\"../../../../../core/Handles.js\";import{i as S,r as x}from\"../../../../../chunks/mat4.js\";import{c as j}from\"../../../../../chunks/vec2f64.js\";import{sv3d as D,sm4d as _}from\"../../../support/stack.js\";import{l as R,s as P,f as H}from\"../../../../../chunks/vec2.js\";import{boundedPlane as E,plane as G,ray as z}from\"../../../support/geometryUtils.js\";import{getGraphicEffectiveElevationInfo as T}from\"../../../../../support/elevationInfoUtils.js\";import U from\"../../../support/debugFlags.js\";import{evaluateElevationAlignmentAtPoint as A}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as C}from\"../../../layers/graphics/ElevationContext.js\";import{Texture as k}from\"../../../webgl-engine/lib/Texture.js\";import{EditGeometry as I}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{addMapDelta as Z,createManipulatorDragEventPipeline as F}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as N}from\"../../../../interactive/InteractiveToolBase.js\";import{screenToRenderPlane as O}from\"../dragEventPipeline3D.js\";import{placeAtGraphic as X,getGraphicAttachmentOrigin as Y,calculateInputRotationTransform as L}from\"../../manipulatorUtils.js\";import{canMoveZ as V}from\"../manipulatorUtils.js\";import{createResizeManipulator as q,createRotateManipulator as J,resizePlane as K,createRotatePlane as Q,calculateBoundedPlaneTranslateRotate as W,updateRotateHeadingHandle as $,updateResizeHandle as tt}from\"../../analysisTools/slice/sliceToolUtils.js\";import et from\"../../analysisTools/slice/images/heading-rotate-png.js\";import{GraphicState as it}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as st}from\"../visualElementUtils.js\";import{DISC_RADIUS as at,ALIGN_ARROWS_SCALE_THRESHOLD as rt}from\"../manipulations/config.js\";import{MoveManipulation as ot}from\"../manipulations/MoveManipulation.js\";import{ReshapeGeometryHelper as nt}from\"../reshapeGraphic/ReshapeOperation.js\";let pt=class extends(o.EventedMixin(N)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.inputState=null,this.type=\"transform-3d\",this.handles=new w,this.resizeManipulators=null,this.rotateManipulator=null,this.displayBoundsStart=E.create(),this.mapBounds=E.create(),this.displayBounds=E.create(),this.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}]}initialize(){this.graphicState=new it({graphic:this.graphic});const t=this.graphic.geometry;this.reshapeHelper=new nt(I.fromGeometry(t,this.view.viewingMode),t.type),this.moveManipulation=new ot({tool:this,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&V(this.graphic),snapToScene:this.snapToScene,radius:at}),this.moveManipulation.elevationInfo=T(this.graphic),this.handles.add(this._createMoveDragPipeline()),this.moveManipulation.angle=0,this.resizeManipulators=this.resizeHandles.map(((t,e)=>{const i=q(this.view,t);return i.events.on(\"grab-changed\",(t=>{this._onResizeGrab(t,e)})),this.handles.add(this._createResizeDragPipeline(i)),i})),this.manipulators.addMany(this.resizeManipulators),this.rotateManipulatorTexture=new k(et,{width:64,height:64,mipmap:!0,preMultiplyAlpha:!0}),this.view._stage&&this.view._stage.add(this.rotateManipulatorTexture),this.rotateManipulator=J(this.view,this.rotateManipulatorTexture),this.rotateManipulator.events.on(\"grab-changed\",(t=>{this._onRotateGrab(t)})),this.handles.add(this._createRotateDragPipeline(this.rotateManipulator)),this.manipulators.add(this.rotateManipulator),this.calculateMapBounds(),this.calculateDisplayBounds(this.mapBounds),this.handles.add(st({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>s()})),this.handles.add([this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle())),this.view.trackGraphicState(this.graphicState)]),this.forEachManipulator((t=>{this.handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()})))})),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),this.resizeManipulators.forEach((e=>t(e,2))),t(this.rotateManipulator,2)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((e=>e.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&V(this.graphic)}))}destroy(){this.view._stage&&this.view._stage.remove(this.rotateManipulatorTexture),this.handles.destroy(),this.moveManipulation.destroy(),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}reset(){}onDetach(){this.mapBounds=null,this.displayBounds=null}updateMoveAngle(){if(\"local\"===this.view.viewingMode||this.view.scale<rt){const t=c(p,this.mapBounds.basis1)*Math.sign(this.mapBounds.basis1[1]);this.moveManipulation.angle=t}else this.moveManipulation.angle=0}onGeometryChanged(){X(this.view,this.moveManipulation,this.graphic),this.updateMoveAngle(),(e(this.inputState)||U.EDITING_RECALCULATE_MANIPULATORS_DURING_TRANSFORM)&&this.calculateDisplayBounds(this.mapBounds)}calculateMapBounds(){const t=this.graphic.geometry.extent;u(this.mapBounds.origin,t.center.x,t.center.y,0),u(this.mapBounds.basis1,t.width/2,0,0),u(this.mapBounds.basis2,0,t.height/2,0)}calculateDisplayBounds(t){const e=this.graphic.geometry,s=Y(this.view,this.graphic),a=i(s)?s.z:A(e.extent.center,this.view.elevationProvider,C.fromElevationInfo(T(this.graphic)),this.view.renderCoordsHelper),r=u(this.displayBounds.origin,t.origin[0],t.origin[1],a),o=m(this.displayBounds.basis1,r,t.basis1),n=m(this.displayBounds.basis2,r,t.basis2);this.view.renderCoordsHelper.toRenderCoords(r,e.spatialReference,r),this.view.renderCoordsHelper.toRenderCoords(o,e.spatialReference,o),g(o,o,r),this.view.renderCoordsHelper.toRenderCoords(n,e.spatialReference,n),g(n,n,r),E.updateUnboundedPlane(this.displayBounds),this.updateManipulators()}_createMoveDragPipeline(){return this.moveManipulation.createDragPipeline(((t,e,i)=>{e.next((t=>{if(\"start\"===t.action){const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};this.emit(\"graphic-translate-start\",e)}return t})).next(Z()).next(this._moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit(\"graphic-translate\",e);break;case\"end\":this.emit(\"graphic-translate-stop\",e)}}))}),T(this.graphic),this.reshapeHelper.geometry.spatialReference)}_moveDragUpdateGeometry(){return t=>{const e=[];for(const s of this.reshapeHelper.editGeometry.components)e.push(...s.vertices);const i=\"start\"===t.action?0:1;return this.reshapeHelper.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i),u(this.mapBounds.origin,this.mapBounds.origin[0]+t.mapDeltaX,this.mapBounds.origin[1]+t.mapDeltaY,0),this.graphic.geometry=this.reshapeHelper.geometry,t}}_onResizeGrab(t,e){if(\"end\"===t.action&&(this.inputState=null,this.calculateDisplayBounds(this.mapBounds)),\"start\"!==t.action)return;const i=this._calculatePickRay(t.screenPoint),s=D.get();G.intersectRay(this.displayBounds.plane,i,s)&&(E.copy(this.displayBounds,this.displayBoundsStart),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:h(s),startMapBounds:E.copy(this.mapBounds)})}_createResizeDragPipeline(t){return F(t,((t,i,s)=>{const a=this.inputState;e(a)||\"resize\"!==a.type||i.next(O(this.view,this.displayBounds.plane)).next(this._resizeDragUpdatePlane(a)).next(this._resizeDragUpdateGeometry(a))}))}_resizeDragUpdatePlane(t){return e=>{const i=this.resizeHandles[t.activeHandleIdx];return K(i,t.startPoint,e.renderEnd,this.view.state.camera,this.displayBoundsStart,this.displayBounds),this.updateManipulators(),e}}_resizeDragUpdateGeometry(t){return e=>{const i=this.resizeHandles[t.activeHandleIdx],s=R(this.displayBounds.basis1)/R(this.displayBoundsStart.basis1),a=R(this.displayBounds.basis2)/R(this.displayBoundsStart.basis2),r=y(l(),t.startMapBounds.origin);v(r,r,t.startMapBounds.basis1,-i.direction[0]),v(r,r,t.startMapBounds.basis2,-i.direction[1]);const o=P(j(),t.startMapBounds.basis1[0],t.startMapBounds.basis1[1]);H(o,o);const n=[];for(const t of this.reshapeHelper.editGeometry.components)n.push(...t.vertices);const p=\"start\"===e.action?0:1;this.reshapeHelper.scaleVertices(n,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(r),o,s,a,p,1),M(this.mapBounds.basis1,t.startMapBounds.basis1,s),M(this.mapBounds.basis2,t.startMapBounds.basis2,a),v(this.mapBounds.origin,t.startMapBounds.origin,t.startMapBounds.basis1,Math.sign(i.direction[0])*(s-1)),v(this.mapBounds.origin,this.mapBounds.origin,t.startMapBounds.basis2,Math.sign(i.direction[1])*(a-1)),this.graphic.geometry=this.reshapeHelper.geometry}}_onRotateGrab(t){if(\"end\"===t.action&&(this.inputState=null,this.calculateDisplayBounds(this.mapBounds)),\"start\"!==t.action)return;const e=Q(this.displayBounds,this.view.renderCoordsHelper,1,G.create()),i=this._calculatePickRay(t.screenPoint),s=l();G.intersectRay(e,i,s)&&(E.copy(this.displayBounds,this.displayBoundsStart),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:s,startMapBounds:E.copy(this.mapBounds)})}_createRotateDragPipeline(t){return F(t,((t,e)=>{const i=this.inputState;i&&\"rotate\"===i.type&&e.next(O(this.view,i.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(i)).next(this._rotateDragUpdatePlaneFromRotate()).next(this._rotateDragUpdateGeometry(i))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const i=G.normal(t.rotatePlane),s=L(t.startPoint,e.renderEnd,this.displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:s}}}_rotateDragUpdatePlaneFromRotate(){return t=>{const e=S(_.get());x(e,e,t.rotateAngle,t.rotateAxis);const i=f(D.get(),this.displayBoundsStart.basis1,e),s=f(D.get(),this.displayBoundsStart.basis2,e);return E.fromValues(this.displayBounds.origin,i,s,this.displayBounds),this.updateManipulators(),t}}_rotateDragUpdateGeometry(t){return e=>{const i=y(l(),t.startMapBounds.origin),s=[];for(const t of this.reshapeHelper.editGeometry.components)s.push(...t.vertices);const a=\"start\"===e.action?0:1;this.reshapeHelper.rotateVertices(s,this.reshapeHelper.editGeometry.coordinateHelper.fromXYZ(i),e.rotateAngle,a,1),B(this.mapBounds.basis1,t.startMapBounds.basis1,d,e.rotateAngle),B(this.mapBounds.basis2,t.startMapBounds.basis2,d,e.rotateAngle),this.graphic.geometry=this.reshapeHelper.geometry}}_calculatePickRay(t){const e=z.create(),i=n(t);return z.fromScreen(this.view.state.camera,i,e),b(e.direction,e.direction),e}updateManipulators(){if(!this.visible)return;this.rotateManipulator.available=!0,this.resizeManipulators.forEach((t=>{t.available=!0}));const t=W(this.displayBounds,_.get());$(this.rotateManipulator,t,this.displayBounds,this.view.renderCoordsHelper),this.resizeManipulators.forEach(((e,i)=>{tt(e,this.resizeHandles[i],t,this.displayBounds)}))}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([a({constructOnly:!0,nonNullable:!0})],pt.prototype,\"view\",void 0),t([a({constructOnly:!0,nonNullable:!0})],pt.prototype,\"graphic\",void 0),t([a({constructOnly:!0,nonNullable:!0})],pt.prototype,\"enableZ\",void 0),t([a()],pt.prototype,\"enableRotation\",void 0),t([a()],pt.prototype,\"enableScaling\",void 0),t([a({value:!1})],pt.prototype,\"snapToScene\",null),t([a()],pt.prototype,\"inputState\",void 0),t([a({readOnly:!0})],pt.prototype,\"type\",void 0),pt=t([r(\"esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool\")],pt);export{pt as ExtentTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar A=\"data:image/png;base64,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\";export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSizePerspective as r}from\"../util/ScreenSizePerspective.glsl.js\";function t(t,l){const c=t.vertex.code;l.verticalOffsetEnabled?(t.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),l.screenSizePerspectiveEnabled&&(t.include(r),t.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\")),c.add(e`\n    vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n      ${1===l.viewingMode?e`vec3 worldNormal = normalize(worldPos + localOrigin);`:e`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}\n      ${l.screenSizePerspectiveEnabled?e`\n          float cosAngle = dot(worldNormal, normalize(worldPos - camPos));\n          float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:e`\n          float verticalOffsetScreenHeight = verticalOffset.x;`}\n      // Screen sized offset in world space, used for example for line callouts\n      float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n      return worldNormal * worldOffset;\n    }\n\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n    }\n    `)):c.add(e`\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }\n    `)}function l(e,r,t,l=c){return l.screenLength=e.screenLength,l.perDistance=Math.tan(.5*r)/(.5*t),l.minWorldLength=e.minWorldLength,l.maxWorldLength=e.maxWorldLength,l}!function(e){function r(e,r,t){if(!r.verticalOffset)return;const c=l(r.verticalOffset,t.camera.fovY,t.camera.fullViewport[3]),i=t.camera.pixelRatio||1;e.setUniform4f(\"verticalOffset\",c.screenLength*i,c.perDistance,c.minWorldLength,c.maxWorldLength)}e.bindUniforms=r}(t||(t={}));const c={screenLength:0,perDistance:0,minWorldLength:0,maxWorldLength:0};export{t as VerticalOffset,l as calculateVerticalOffsetFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function c(c){const i=e`\n    vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {\n      vec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;\n      vec2 pixelSz = vec2(1.0) / widthHeight;\n      vec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;\n      vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\n      return vec4(result, clipCoord.zw);\n    }\n  `,o=e`\n\n    vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {\n      vec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;\n      vec2 pixelSz = vec2(1.0) / widthHeight;\n      vec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;\n      vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\n      return vec4(result, clipCoord.zw);\n    }\n  `;c.vertex.code.add(i),c.vertex.code.add(o),c.fragment.code.add(i),c.fragment.code.add(o)}export{c as AlignPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSizePerspective as t}from\"../util/ScreenSizePerspective.glsl.js\";function o(o,a){const i=o;i.include(t),i.attributes.add(\"position\",\"vec3\"),i.attributes.add(\"normal\",\"vec3\"),i.attributes.add(\"auxpos1\",\"vec4\"),i.vertex.uniforms.add(\"proj\",\"mat4\"),i.vertex.uniforms.add(\"view\",\"mat4\"),i.vertex.uniforms.add(\"viewNormal\",\"mat4\"),i.vertex.uniforms.add(\"viewport\",\"vec4\"),i.vertex.uniforms.add(\"camPos\",\"vec3\"),i.vertex.uniforms.add(\"polygonOffset\",\"float\"),i.vertex.uniforms.add(\"cameraGroundRelative\",\"float\"),i.vertex.uniforms.add(\"pixelRatio\",\"float\"),i.vertex.uniforms.add(\"perDistancePixelRatio\",\"float\"),i.vertex.uniforms.add(\"uRenderTransparentlyOccludedHUD\",\"float\"),a.verticalOffsetEnabled&&i.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),a.screenSizePerspectiveEnabled&&i.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\"),i.vertex.uniforms.add(\"hudVisibilityTexture\",\"sampler2D\"),i.vertex.constants.add(\"smallOffsetAngle\",\"float\",.984807753012208),i.vertex.code.add(e`\n    struct ProjectHUDAux {\n      vec3 posModel;\n      vec3 posView;\n      vec3 vnormal;\n\n      float distanceToCamera;\n      float absCosAngle;\n    };\n  `),i.vertex.code.add(e`\n    float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {\n      float pointGroundSign = sign(pointGroundDistance);\n\n      if (pointGroundSign == 0.0) {\n        pointGroundSign = cameraGroundRelative;\n      }\n\n      // cameraGroundRelative is -1 if camera is below ground, 1 if above ground\n      // groundRelative is 1 if both camera and symbol are on the same side of the ground, -1 otherwise\n      float groundRelative = cameraGroundRelative * pointGroundSign;\n\n      // view angle dependent part of polygon offset emulation\n      // we take the absolute value because the sign that is dropped is\n      // instead introduced using the ground-relative position of the symbol and the camera\n      if (polygonOffset > .0) {\n        float cosAlpha = clamp(absCosAngle, 0.01, 1.0);\n\n        float tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\n        float factor = (1.0 - tanAlpha / viewport[2]);\n\n        // same side of the terrain\n        if (groundRelative > 0.0) {\n          posView *= factor;\n        }\n        // opposite sides of the terrain\n        else {\n          posView /= factor;\n        }\n      }\n\n      return groundRelative;\n    }\n  `),a.isDraped||i.vertex.code.add(e`\n    void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {\n      float distanceToCamera = length(posView);\n\n      // Compute offset in world units for a half pixel shift\n      float pixelOffset = distanceToCamera * perDistancePixelRatio * 0.5;\n\n      // Apply offset along normal in the direction away from the ground surface\n      vec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;\n\n      // Apply the same offset also on the view space position\n      vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n\n      posModel += modelOffset;\n      posView += viewOffset;\n    }\n  `),i.vertex.code.add(e`\n    vec4 projectPositionHUD(out ProjectHUDAux aux) {\n      // centerOffset is in view space and is used to implement world size offsetting\n      // of labels with respect to objects. It also pulls the label towards the viewer\n      // so that the label is visible in front of the object.\n      vec3 centerOffset = auxpos1.xyz;\n\n      // The pointGroundDistance is the distance of the geometry to the ground and is\n      // negative if the point is below the ground, or positive if the point is above\n      // ground.\n      float pointGroundDistance = auxpos1.w;\n\n      aux.posModel = position;\n      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;\n      aux.vnormal = normal;\n      ${a.isDraped?\"\":\"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);\"}\n\n      // Screen sized offset in world space, used for example for line callouts\n      // Note: keep this implementation in sync with the CPU implementation, see\n      //   - MaterialUtil.verticalOffsetAtDistance\n      //   - HUDMaterial.applyVerticalOffsetTransformation\n\n      aux.distanceToCamera = length(aux.posView);\n\n      vec3 viewDirObjSpace = normalize(camPos - aux.posModel);\n      float cosAngle = dot(aux.vnormal, viewDirObjSpace);\n\n      aux.absCosAngle = abs(cosAngle);\n\n      ${a.screenSizePerspectiveEnabled&&(a.verticalOffsetEnabled||1===a.screenCenterOffsetUnitsEnabled)?\"vec4 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);\":\"\"}\n\n      ${a.verticalOffsetEnabled?a.screenSizePerspectiveEnabled?\"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);\":\"float verticalOffsetScreenHeight = verticalOffset.x;\":\"\"}\n\n      ${a.verticalOffsetEnabled?e`\n            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);\n            vec3 modelOffset = aux.vnormal * worldOffset;\n            aux.posModel += modelOffset;\n            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n            aux.posView += viewOffset;\n            // Since we elevate the object, we need to take that into account\n            // in the distance to ground\n            pointGroundDistance += worldOffset;`:\"\"}\n\n      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);\n\n      ${1!==a.screenCenterOffsetUnitsEnabled?e`\n            // Apply x/y in view space, but z in screen space (i.e. along posView direction)\n            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);\n\n            // Same material all have same z != 0.0 condition so should not lead to\n            // branch fragmentation and will save a normalization if it's not needed\n            if (centerOffset.z != 0.0) {\n              aux.posView -= normalize(aux.posView) * centerOffset.z;\n            }\n          `:\"\"}\n\n      vec4 posProj = proj * vec4(aux.posView, 1.0);\n\n      ${1===a.screenCenterOffsetUnitsEnabled?a.screenSizePerspectiveEnabled?\"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);\":\"float centerOffsetY = centerOffset.y;\":\"\"}\n\n      ${1===a.screenCenterOffsetUnitsEnabled?\"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;\":\"\"}\n\n      // constant part of polygon offset emulation\n      posProj.z -= groundRelative * polygonOffset * posProj.w;\n      return posProj;\n    }\n  `),i.vertex.code.add(e`\n    bool testVisibilityHUD(vec4 posProj) {\n      // For occlusion testing, use the nearest pixel center to avoid\n      // subpixel filtering messing up the color we use to test for\n      vec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      vec4 occlusionPixel = texture2D(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);\n\n      // the red pixel here indicates that the occlusion pixel passed the depth test against solid geometry and was written\n      // the green pixel stores transparency of transparent geometry (1.0 -> fully transparent)\n      // note that we also check against green == 0.0, i.e. transparent geometry that has opaque parts\n\n      // thus we render visible pixels that are occluded by semi-transparent (but not fully transparent!) geometry here\n      if (uRenderTransparentlyOccludedHUD > 0.5) {\n        // multiplying by uRenderTransparentlyOccludedHUD allows us to ignore the second condition if\n        // uRenderTransparentlyOccludedHUD = 0.75\n        return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * uRenderTransparentlyOccludedHUD < 1.0;\n      }\n\n      // and visible pixels that are not occluded by semi-transparent geometry here\n      return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;\n    }\n  `)}!function(e){function t(e,t){e.setUniform1f(\"uRenderTransparentlyOccludedHUD\",0===t.renderTransparentlyOccludedHUD?1:1===t.renderTransparentlyOccludedHUD?0:.75)}function o(e,t,o){t.setUniform1i(\"hudVisibilityTexture\",4),e.bindTexture(o.hudVisibilityTexture,4),e.setActiveTexture(0)}e.bindUniforms=t,e.bindVisibilityTexture=o}(o||(o={}));export{o as HUD};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{multipassGeometryTest as o}from\"../shading/MultipassGeometryTest.glsl.js\";function r(r,t){const i=r;t.multipassGeometryEnabled&&r.include(o),i.vertex.code.add(e`\n  void main(void) {\n    vec4 posProjCenter;\n    if (dot(position, position) > 0.0) {\n      // Render single point to center of the pixel to avoid subpixel\n      // filtering to affect the marker color\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n      posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      ${t.multipassGeometryEnabled?e`\n        // Don't draw vertices behind geometry\n        if(geometryDepthTest(.5 + .5 * posProjCenter.xy / posProjCenter.w, projectAux.posView.z)){\n          posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n        }`:\"\"}\n\n      vec3 vpos = projectAux.posModel;\n      if (rejectBySlice(vpos)) {\n        // Project out of clip space\n        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n      }\n\n    }\n    else {\n      // Project out of clip space\n      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n\n    gl_Position = posProjCenter;\n    gl_PointSize = 1.0;\n  }\n  `),i.fragment.uniforms.add(\"color\",\"vec4\"),i.fragment.code.add(e`\n  void main() {\n    gl_FragColor = color;\n  }\n  `)}var t;!function(e){function o(e){e.setUniform4f(\"color\",1,1,1,1)}e.bindUniforms=o}(t||(t={}));export{t as HUDOcclusion,r as HUDOcclusionPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ReadLinearDepth as t}from\"../output/ReadLinearDepth.glsl.js\";function r(r){r.vertex.include(t),r.vertex.uniforms.add(\"geometryDepthTexture\",\"sampler2D\"),r.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),r.vertex.code.add(e`\n    //Compare the linearized depths of the vertex and the geometry in the scene. If vertex is behind geometry, don't draw it.\n    bool geometryDepthTest(vec2 pos, float vertexDepth){\n\n      float geometryDepth = linearDepthFromTexture(geometryDepthTexture, pos, cameraNearFar);\n      if(vertexDepth < (geometryDepth - 1.0)){\n        return true;\n      }\n      return false;\n    }\n  `)}function o(e,t,r){r.multipassGeometryEnabled&&(e.setUniform1i(\"geometryDepthTexture\",r.geometryLinearDepthTextureUnit),t.bindTexture(r.geometryLinearDepthTexture,r.geometryLinearDepthTextureUnit))}export{o as bindMultipassGeometryUniforms,r as multipassGeometryTest};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{bindScreenSizePerspective as r}from\"../../../materials/internal/MaterialUtil.js\";function a(r){r.vertex.code.add(e`\n    float screenSizePerspectiveMinSize(float size, vec4 factor) {\n      float nonZeroSize = 1.0 - step(size, 0.0);\n\n      return (\n        factor.z * (\n          1.0 +\n          // Multiply by nzs ensures if size is 0, then we ignore proportionally scaled padding\n          nonZeroSize *\n          2.0 * factor.w / (\n            size + (1.0 - nonZeroSize) // Adding 1 - nzs ensures we divide either by size, or by 1\n          )\n        )\n      );\n    }\n  `),r.vertex.code.add(e`\n    float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\n      return absCosAngle * absCosAngle * absCosAngle;\n    }\n  `),r.vertex.code.add(e`\n    vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\n      return vec4(\n        min(params.x / (distanceToCamera - params.y), 1.0),\n        screenSizePerspectiveViewAngleDependentFactor(absCosAngle),\n        params.z,\n        params.w\n      );\n    }\n  `),r.vertex.code.add(e`\n    float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\n      return max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n    }\n  `),r.vertex.code.add(e`\n    float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\n      return applyScreenSizePerspectiveScaleFactorFloat(\n        size,\n        screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n      );\n    }\n  `),r.vertex.code.add(e`\n    vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\n      return mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / size.y, 1.0), size, factor.y);\n    }\n  `),r.vertex.code.add(e`\n    vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\n      return applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n    }\n  `)}!function(e){function a(e,a){if(a.screenSizePerspective){r(a.screenSizePerspective,e,\"screenSizePerspective\");const s=a.screenSizePerspectiveAlignment||a.screenSizePerspective;r(s,e,\"screenSizePerspectiveAlignment\")}}e.bindUniforms=a}(a||(a={}));export{a as ScreenSizePerspective};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{DefaultTextureUnits as r}from\"./DefaultTextureUnits.js\";import i from\"./GLMaterial.js\";class s extends i{constructor(e){super(e),this._textureIDs=new Set,this._textureRepository=e.textureRep,this._textureId=e.textureId,this._initTransparent=!!e.initTextureTransparent,this._texture=this._acquireIfNotUndefined(this._textureId),this._textureNormal=this._acquireIfNotUndefined(e.normalTextureId),this._textureEmissive=this._acquireIfNotUndefined(e.emissiveTextureId),this._textureOcclusion=this._acquireIfNotUndefined(e.occlusionTextureId),this._textureMetallicRoughness=this._acquireIfNotUndefined(e.metallicRoughnessTextureId)}dispose(){this._textureIDs.forEach((e=>this._textureRepository.release(e))),this._textureIDs.clear()}updateTexture(e){e!==this._textureId&&(this._releaseIfNotUndefined(this._textureId),this._textureId=e,this._texture=this._acquireIfNotUndefined(this._textureId))}bindTexture(t,i){e(this._texture)&&(i.setUniform1i(\"tex\",r.DIFFUSE),t.bindTexture(this._texture.glTexture,r.DIFFUSE)),e(this._textureNormal)&&(i.setUniform1i(\"normalTexture\",r.NORMAL),t.bindTexture(this._textureNormal.glTexture,r.NORMAL)),e(this._textureEmissive)&&(i.setUniform1i(\"texEmission\",r.EMISSION),t.bindTexture(this._textureEmissive.glTexture,r.EMISSION)),e(this._textureOcclusion)&&(i.setUniform1i(\"texOcclusion\",r.OCCLUSION),t.bindTexture(this._textureOcclusion.glTexture,r.OCCLUSION)),e(this._textureMetallicRoughness)&&(i.setUniform1i(\"texMetallicRoughness\",r.METALLIC_ROUGHNESS),t.bindTexture(this._textureMetallicRoughness.glTexture,r.METALLIC_ROUGHNESS))}bindTextureScale(t,r){const i=e(this._texture)&&this._texture.glTexture;i&&i.descriptor.textureCoordinateScaleFactor?r.setUniform2fv(\"textureCoordinateScaleFactor\",i.descriptor.textureCoordinateScaleFactor):r.setUniform2f(\"textureCoordinateScaleFactor\",1,1)}_acquireIfNotUndefined(e){if(!t(e))return this._textureIDs.add(e),this._textureRepository.acquire(e,this._initTransparent)}_releaseIfNotUndefined(e){t(e)||(this._textureIDs.delete(e),this._textureRepository.release(e))}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import{getAssetUrl as t}from\"../../assets.js\";function s(){if(e(i)){const e=e=>t(`esri/libs/basisu/${e}`);i=import(\"../../chunks/basis_transcoder.js\").then((function(e){return e.b})).then((({default:t})=>t({locateFile:e}).then((e=>(e.initializeBasis(),delete e.then,e)))))}return i}let i;export{s as getBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import t from\"../../../webgl/Texture.js\";import{getBytesPerElementFormat as s}from\"../../../webgl/Util.js\";import{getBasisTranscoder as n}from\"../../../../libs/basisu/BasisU.js\";let r=null,a=null;async function i(){return e(a)&&(a=n(),r=await a),a}function o(t){if(e(r))return t.byteLength;const n=new r.BasisFile(new Uint8Array(t));if(n.getNumImages()<1)return 0;const a=n.getNumLevels(0),i=n.getHasAlpha(),o=n.getImageWidth(0,0),l=n.getImageHeight(0,0);n.close(),n.delete();const g=s(i?37496:37492),m=(4**a-1)/(3*4**(a-1));return Math.ceil(o*l*g*m)}async function l(s,n,a){e(r)&&(r=await i());const o=new r.BasisFile(new Uint8Array(a));if(o.getNumImages()<1)return null;const l=o.getNumLevels(0),g=o.getHasAlpha(),m=o.getImageWidth(0,0),c=o.getImageHeight(0,0),{compressedTextureETC:u,compressedTextureS3TC:p}=s.capabilities,[d,h]=u?g?[1,37496]:[0,37492]:p?g?[3,33779]:[2,33776]:[13,6408];o.startTranscoding();const f=[];for(let e=0;e<l;e++)f.push(new Uint8Array(o.getImageTranscodedSizeInBytes(0,e,d))),o.transcodeImage(f[e],0,e,d,0,0);o.close(),o.delete();const w={...n,samplingMode:l>1?9987:9729,hasMipmap:l>1,internalFormat:h,width:m,height:c};return new t(s,w,{type:\"compressed\",levels:f})}export{l as createTextureFromBasis,o as estimateBasisTextureMemoryUsage,i as loadBasis};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{isPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import r from\"../../../webgl/Texture.js\";const n=e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),o=542327876,a=131072,i=4;function s(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function l(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const u=s(\"DXT1\"),c=s(\"DXT3\"),m=s(\"DXT5\"),h=31,d=0,p=1,g=2,f=3,w=4,x=7,C=20,D=21;function b(e,t,n,o){const{textureData:a,internalFormat:i,width:s,height:l}=A(n,o);t.samplingMode=a.levels.length>1?9987:9729,t.hasMipmap=a.levels.length>1,t.internalFormat=i,t.width=s,t.height=l;const u=new r(e,t,a);return e.bindTexture(u,0),u}function A(e,r){const s=new Int32Array(e,0,h);if(s[d]!==o)return n.error(\"Invalid magic number in DDS header\"),null;if(!(s[C]&i))return n.error(\"Unsupported format, must contain a FourCC code\"),null;const b=s[D];let A,v;switch(b){case u:A=8,v=33776;break;case c:A=16,v=33778;break;case m:A=16,v=33779;break;default:return n.error(\"Unsupported FourCC code:\",l(b)),null}let F=1,M=s[w],T=s[f];0==(3&M)&&0==(3&T)||(n.warn(\"Rounding up compressed texture size to nearest multiple of 4.\"),M=M+3&-4,T=T+3&-4);const U=M,j=T;let k,y;s[g]&a&&!1!==r&&(F=Math.max(1,s[x])),1===F||t(M)&&t(T)||(n.warn(\"Ignoring mipmaps of non power of two sized compressed texture.\"),F=1);let I=s[p]+4;const S=[];for(let t=0;t<F;++t)y=(M+3>>2)*(T+3>>2)*A,k=new Uint8Array(e,I,y),S.push(k),I+=y,M=Math.max(1,M>>1),T=Math.max(1,T>>1);return{textureData:{type:\"compressed\",levels:S},internalFormat:v,width:U,height:j}}export{b as createDDSTexture,A as createDDSTextureData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{isArrayBuffer as t,isUint8Array as r}from\"../../../../core/typedArrayUtil.js\";import{isNone as i,isSome as s}from\"../../../../core/maybe.js\";import a from\"../../../../core/Error.js\";import{isBlobProtocol as o,isDataProtocol as n}from\"../../../../core/urlUtils.js\";import{createAbortController as h,onAbort as l,createAbortError as m}from\"../../../../core/promiseUtils.js\";import p from\"../../../../core/Evented.js\";import{isPowerOfTwo as d,nextHighestPowerOfTwo as u}from\"../../../../core/mathUtils.js\";import{loadImageAsync as c}from\"../../../../support/requestUtils.js\";import{ContentObject as g}from\"./ContentObject.js\";import{assert as f}from\"./Util.js\";import{requestImage as w}from\"../../../../support/requestImageUtils.js\";import T from\"../../../webgl/capabilities/isWebGL2Context.js\";import x from\"../../../webgl/Texture.js\";import{vertexCount as D}from\"../../../webgl/Util.js\";import{createQuadVAO as M}from\"./glUtil3D.js\";import y from\"../../../webgl/FramebufferObject.js\";import{estimateBasisTextureMemoryUsage as F,createTextureFromBasis as b}from\"./BasisUtil.js\";import{createDDSTexture as I}from\"./DDSUtil.js\";class E extends g{constructor(e,t){super(),this.data=e,this.type=4,this.glTexture=null,this.powerOfTwoStretchInfo=null,this.loadingPromise=null,this.loadingController=null,this.events=new p,this.params=t||{},this.params.mipmap=!1!==this.params.mipmap,this.params.noUnpackFlip=this.params.noUnpackFlip||!1,this.params.preMultiplyAlpha=this.params.preMultiplyAlpha||!1,this.params.wrap=this.params.wrap||{s:10497,t:10497},this.params.powerOfTwoResizeMode=this.params.powerOfTwoResizeMode||1,this.estimatedTexMemRequired=E.estimateTexMemRequired(this.data,this.params),this.startPreload()}startPreload(){const e=this.data;i(e)||(e instanceof HTMLVideoElement?this.startPreloadVideoElement(e):e instanceof HTMLImageElement&&this.startPreloadImageElement(e))}startPreloadVideoElement(e){o(e.src)||\"auto\"===e.preload&&e.crossOrigin||(e.preload=\"auto\",e.crossOrigin=\"anonymous\",e.src=e.src)}startPreloadImageElement(e){n(e.src)||o(e.src)||e.crossOrigin||(e.crossOrigin=\"anonymous\",e.src=e.src)}static getDataDimensions(e){return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e}static estimateTexMemRequired(e,s){if(i(e))return 0;if(t(e)||r(e))return s.encoding===E.BASIS_ENCODING?F(e):e.byteLength;const{width:a,height:o}=e instanceof Image||e instanceof ImageData||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement?E.getDataDimensions(e):s;return(s.mipmap?4/3:1)*a*o*(s.components||4)||0}dispose(){this.data=void 0}get width(){return this.params.width}get height(){return this.params.height}createDescriptor(e){const t=this.params.mipmap&&!this.params.disableAnisotropy;return{target:3553,pixelFormat:6408,dataType:5121,wrapMode:this.params.wrap,flipped:!this.params.noUnpackFlip,samplingMode:this.params.mipmap?9987:9729,hasMipmap:this.params.mipmap,preMultiplyAlpha:this.params.preMultiplyAlpha,maxAnisotropy:t?e.parameters.maxMaxAnisotropy:void 0}}load(e,a){if(s(this.glTexture))return this.glTexture;if(s(this.loadingPromise))return this.loadingPromise;const o=this.data;return i(o)?(this.glTexture=new x(e,this.createDescriptor(e),null),e.bindTexture(this.glTexture,0),this.glTexture):\"string\"==typeof o?this.loadFromURL(e,a,o):o instanceof Image?this.loadFromImageElement(e,a,o):o instanceof HTMLVideoElement?this.loadFromVideoElement(e,a,o):o instanceof ImageData||o instanceof HTMLCanvasElement?this.loadFromImage(e,o,a):(t(o)||r(o))&&this.params.encoding===E.DDS_ENCODING?this.loadFromDDSData(e,o):(t(o)||r(o))&&this.params.encoding===E.BASIS_ENCODING?this.loadFromBasis(e,o):r(o)?this.loadFromPixelData(e,o):t(o)?this.loadFromPixelData(e,new Uint8Array(o)):null}get requiresFrameUpdates(){return this.data instanceof HTMLVideoElement}frameUpdate(e,t,r){if(!(this.data instanceof HTMLVideoElement)||i(this.glTexture))return r;if(this.data.readyState<2||r===this.data.currentTime)return r;if(s(this.powerOfTwoStretchInfo)){const{framebuffer:r,vao:i,sourceTexture:s}=this.powerOfTwoStretchInfo;s.setData(this.data),this.drawStretchedTexture(e,t,r,i,s,this.glTexture)}else{const{width:e,height:t}=this.data,{width:r,height:i}=this.glTexture.descriptor;e!==r||t!==i?this.glTexture.updateData(0,0,0,Math.min(e,r),Math.min(t,i),this.data):this.glTexture.setData(this.data)}return this.glTexture.descriptor.hasMipmap&&this.glTexture.generateMipmap(),this.data.currentTime}loadFromDDSData(e,t){return this.glTexture=I(e,this.createDescriptor(e),t,this.params.mipmap),e.bindTexture(this.glTexture,0),this.glTexture}loadFromBasis(e,t){return this.loadAsync((()=>b(e,this.createDescriptor(e),t).then((e=>(this.glTexture=e,e)))))}loadFromPixelData(e,t){f(this.params.width>0&&this.params.height>0);const r=this.createDescriptor(e);return r.pixelFormat=1===this.params.components?6409:3===this.params.components?6407:6408,r.width=this.params.width,r.height=this.params.height,this.glTexture=new x(e,r,t),e.bindTexture(this.glTexture,0),this.glTexture}async loadAsync(e){const t=h();this.loadingController=t;const r=e(t.signal);this.loadingPromise=r;const i=()=>{this.loadingController===t&&(this.loadingController=null),this.loadingPromise===r&&(this.loadingPromise=null)};return r.then(i,i),r}loadFromURL(e,t,r){return this.loadAsync((async i=>{const s=await w(r,{signal:i});return this.loadFromImage(e,s,t)}))}loadFromImageElement(e,t,r){return r.complete?this.loadFromImage(e,r,t):this.loadAsync((async i=>{const s=await c(r,r.src,!1,i);return this.loadFromImage(e,s,t)}))}loadFromVideoElement(e,t,r){return r.readyState>=2?this.loadFromImage(e,r,t):this.loadFromVideoElementAsync(e,t,r)}loadFromVideoElementAsync(e,t,r){return this.loadAsync((i=>new Promise(((o,n)=>{const h=()=>{r.removeEventListener(\"loadeddata\",p),r.removeEventListener(\"error\",d),s(u)&&u.remove()},p=()=>{r.readyState>=2&&(h(),o(this.loadFromImage(e,r,t)))},d=e=>{h(),n(e||new a(\"Failed to load video\"))};r.addEventListener(\"loadeddata\",p),r.addEventListener(\"error\",d);const u=l(i,(()=>d(m())))}))))}loadFromImage(e,t,r){const i=E.getDataDimensions(t);this.params.width=i.width,this.params.height=i.height;const s=this.createDescriptor(e);return s.pixelFormat=3===this.params.components?6407:6408,!this.requiresPowerOfTwo(e,s)||d(i.width)&&d(i.height)?(s.width=i.width,s.height=i.height,this.glTexture=new x(e,s,t),e.bindTexture(this.glTexture,0),this.glTexture):(this.glTexture=this.makePowerOfTwoTexture(e,t,i,s,r),e.bindTexture(this.glTexture,0),this.glTexture)}requiresPowerOfTwo(e,t){const r=33071,i=\"number\"==typeof t.wrapMode?t.wrapMode===r:t.wrapMode.s===r&&t.wrapMode.t===r;return!T(e.gl)&&(t.hasMipmap||!i)}makePowerOfTwoTexture(t,r,i,s,a){const{width:o,height:n}=i,h=u(o),l=u(n);let m;switch(s.width=h,s.height=l,this.params.powerOfTwoResizeMode){case 2:s.textureCoordinateScaleFactor=[o/h,n/l],m=new x(t,s),m.updateData(0,0,0,o,n,r);break;case 1:case null:case void 0:m=this.stretchToPowerOfTwo(t,r,s,a);break;default:e(this.params.powerOfTwoResizeMode)}return s.hasMipmap&&m.generateMipmap(),m}stretchToPowerOfTwo(e,t,r,i){const s=new x(e,r),a=new y(e,{colorTarget:0,depthStencilTarget:0},s),o=new x(e,{target:3553,pixelFormat:r.pixelFormat,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!!r.flipped,maxAnisotropy:8,preMultiplyAlpha:r.preMultiplyAlpha},t),n=M(e);return this.drawStretchedTexture(e,i,a,n,o,s),this.requiresFrameUpdates?this.powerOfTwoStretchInfo={vao:n,sourceTexture:o,framebuffer:a}:(n.dispose(!0),o.dispose(),a.detachColorTexture(),e.bindFramebuffer(null),a.dispose()),s}drawStretchedTexture(e,t,r,i,s,a){e.bindFramebuffer(r);const o=e.getViewport();e.setViewport(0,0,a.descriptor.width,a.descriptor.height);const n=t.program;e.bindProgram(n),n.setUniform4f(\"color\",1,1,1,1),n.setUniform1i(\"tex\",0),e.bindTexture(s,0),e.bindVAO(i),e.setPipelineState(t.pipeline),e.drawArrays(5,0,D(i,\"geometry\")),e.bindFramebuffer(null),e.setViewport(o.x,o.y,o.width,o.height)}unload(){if(s(this.powerOfTwoStretchInfo)){const{framebuffer:e,vao:t,sourceTexture:r}=this.powerOfTwoStretchInfo;t.dispose(!0),r.dispose(),e.dispose(),this.glTexture=null,this.powerOfTwoStretchInfo=null}if(s(this.glTexture)&&(this.glTexture.dispose(),this.glTexture=null),s(this.loadingController)){const e=this.loadingController;this.loadingController=null,this.loadingPromise=null,e.abort()}this.events.emit(\"unloaded\")}}E.DDS_ENCODING=\"image/vnd-ms.dds\",E.BASIS_ENCODING=\"image/x.basis\";export{E as Texture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../core/lang.js\";import{isSome as t,filterNones as o,isNone as n}from\"../../../core/maybe.js\";import{equals as r}from\"../../../core/arrayUtils.js\";import{isValid as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import s from\"../../../geometry/Point.js\";import i from\"../../../geometry/Multipoint.js\";import{unnormalizeGeometryOnDatelineCrossing as l,isClockwise as y,unnormalizeVerticesOnDatelineCrossing as c}from\"../../../geometry/support/coordsUtils.js\";import p from\"../../../geometry/Polygon.js\";import x from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import{getMetersPerUnitForSR as m}from\"../../../core/unitUtils.js\";import u from\"../../../geometry/Circle.js\";import{simplify as f,distance as h}from\"../../../geometry/geometryEngine.js\";import{makeSurfacePoint as M}from\"./surfaceCoordinateSystems.js\";function g(e,o,n=null){return t(n)?[e,o,n]:[e,o]}function d(e,t){const o=new s({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function R(e,t){return new i({points:e,spatialReference:t})}function j(e,t,o){const n=new x({paths:e,spatialReference:t});return o&&l(n),n}function b(t,o,n,s=!0){const i=e(t);i.forEach((e=>{const t=e[0],o=e[e.length-1];r(t,o)&&1!==e.length||e.push(e[0])}));let c=new p({rings:i,spatialReference:o});return c.rings.forEach((e=>{y(e,!1,!1)||e.reverse()})),n&&l(c),s&&c.isSelfIntersecting&&a(o)&&(c=f(c)),c}function T(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(M(e.x,t.y),M(t.x,t.y),M(t.x,e.y),M(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(M(s.x,s.y),M(e.x,s.y),M(e.x,e.y),M(s.x,e.y))}return b([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function U(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[M(t.x-e,t.y+e),M(t.x+e,t.y-e),M(t.x+e,t.y-e),M(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(M(s.x-e,s.y-t),M(i.x,s.y-t),M(i.x,i.y),M(s.x-e,i.y))}else a.push(M(s.x,s.y),M(i.x,s.y),M(i.x,i.y),M(s.x,i.y));return b([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,o,r){const s=t.mapToLocalMultiple(e);let i=null,l=null;if(o)i=s[0],l=s[1];else{const e=s[0],t=s[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));i=M(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),l=M(Math.abs(o)>Math.abs(n)?i.x-r/2:i.x,Math.abs(o)>Math.abs(n)?i.y:i.y-r/2)}const y=t.localToMap(i),p=t.localToMap(l);if(n(y)||n(p))return null;t.doUnnormalization&&c([[y,p]],t.spatialReference);const x=d(y,t.spatialReference),f=d(p,t.spatialReference),g=m(t.spatialReference);let R=0;if(a(t.spatialReference))R=g*h(x,f,null);else{const e=i.x-l.x,t=i.y-l.y;R=g*Math.sqrt(e*e+t*t)*(r||1)}const j=new u({center:x,radius:R,radiusUnit:\"meters\",spatialReference:t.spatialReference});return b(j.rings,j.spatialReference,!1)}function z(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=M(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,m=[],u=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*u),t=Math.sin(o*u),n=M(c*e+y.x,p*t+y.y);m.push(n)}return m.push(m[0]),b([o(m.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{w as createCircle,z as createEllipse,R as createMultipoint,d as createPoint,b as createPolygon,j as createPolyline,U as createRectangle,T as createSquare,g as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{i as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{j as f}from\"../../chunks/vec2.js\";import{getDefaultSymbol2D as _}from\"../../symbols/support/defaults.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||_(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return f(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}