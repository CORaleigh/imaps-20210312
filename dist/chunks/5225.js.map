{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/_commonjsHelpers.js","webpack://imaps/./node_modules/@arcgis/core/core/number.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/sources/csv/csv.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/sources/support/CSVSourceWorker.js"],"names":["globalThis","window","global","self","n","e","__esModule","Object","prototype","hasOwnProperty","call","default","o","path","exports","require","r","Error","t","ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","mk","nb","nl","pl","pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh","split","length","i","s","decimal","group","pattern","locale","customs","isNaN","Math","abs","l","indexOf","c","a","match","fractional","places","replace","substring","round","Number","toFixed","String","lastIndexOf","padEnd","substr","pop","padStart","p","u","f","d","push","slice","reverse","join","regexp","signed","separator","strict","exponent","groupSize","groupSize2","test","eSigned","factor","RegExp","exec","NaN","Array","minX","minY","maxX","maxY","this","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","_loadIndex","size","forEach","clear","load","filter","has","get","delete","remove","search","set","getObjectId","objectId","getAttributes","attributes","getAttribute","cloneWithGeometry","getGeometry","geometry","getCentroid","centroid","hasZ","hasM","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","events","featureAdapter","geometryType","numFeatures","min","max","coords","featureCount","vertexCount","_add","_emitChanged","_remove","invalidateIndex","forEachInBounds","emit","error","feature","add","displayId","onFeatureAdd","onFeatureRemove","trim","includes","value","x","done","g","next","h","j","w","E","D","q","v","S","C","y","V","k","isInteger","isFinite","floor","_fieldsIndex","_queryEngine","destroy","_fetch","url","_checkProjection","parsing","spatialReference","_parse","_createQueryEngine","layerDefinition","extent","fullExtent","timeInfo","start","end","timeExtent","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","query","responseType","data","columnDelimiter","locationInfo","latitudeFieldName","latitudeField","longitudeFieldName","longitudeField","csv","name","drawingInfo","objectIdField","fields","xmin","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","wkid","_inferLocationInfo","_inferFields","toLowerCase","some","type","alias","editable","nullable","unshift","startTimeField","endTimeField","trackIdField","find","map","_inferFieldType","Date","_isValidDate","reduce","toString","getTime","I","b","_parseCoordinateValue","cacheSpatialQueries","featureStore","addMany","parseFloat"],"mappings":"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","file":"chunks/5225.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,n,o){return e(o={path:n,exports:{},require:function(e,n){return r(null==n&&o.path)}},o.exports),o.exports}function r(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}export{e as a,r as b,o as c,n as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{escapeRegExpString as e}from\"./string.js\";import{getLocale as n}from\"../intl/locale.js\";const t={ar:[\".\",\",\"],bs:[\",\",\".\"],ca:[\",\",\".\"],cs:[\",\",\" \"],da:[\",\",\".\"],de:[\",\",\".\"],\"de-ch\":[\".\",\"’\"],el:[\",\",\".\"],en:[\".\",\",\"],\"en-au\":[\".\",\",\"],es:[\",\",\".\"],\"es-mx\":[\".\",\",\"],et:[\",\",\" \"],fi:[\",\",\" \"],fr:[\",\",\" \"],\"fr-ch\":[\",\",\" \"],he:[\".\",\",\"],hi:[\".\",\",\",\"#,##,##0.###\"],hr:[\",\",\".\"],hu:[\",\",\" \"],id:[\",\",\".\"],it:[\",\",\".\"],\"it-ch\":[\".\",\"’\"],ja:[\".\",\",\"],ko:[\".\",\",\"],lt:[\",\",\" \"],lv:[\",\",\" \"],mk:[\",\",\".\"],nb:[\",\",\" \"],nl:[\",\",\".\"],pl:[\",\",\" \"],pt:[\",\",\".\"],\"pt-pt\":[\",\",\" \"],ro:[\",\",\".\"],ru:[\",\",\" \"],sk:[\",\",\" \"],sl:[\",\",\".\"],sr:[\",\",\".\"],sv:[\",\",\" \"],th:[\".\",\",\"],tr:[\",\",\".\"],uk:[\",\",\" \"],vi:[\",\",\".\"],zh:[\".\",\",\"]};function r(e){e||(e=n());let r=e in t;if(!r){const n=e.split(\"-\");n.length>1&&n[0]in t&&(e=n[0],r=!0),r||(e=\"en\")}const[o,i,s=\"#,##0.###\"]=t[e];return{decimal:o,group:i,pattern:s}}function o(e,n){const t=r((n={...n}).locale);n.customs=t;const o=n.pattern||t.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,n,t){const r=(t=t||{}).customs.group,o=t.customs.decimal,s=n.split(\";\"),l=s[0];if(-1!==(n=s[e<0?1:0]||\"-\"+l).indexOf(\"%\"))e*=100;else if(-1!==n.indexOf(\"‰\"))e*=1e3;else{if(-1!==n.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");if(-1!==n.indexOf(\"E\"))throw new Error(\"exponential notation not supported\")}const c=i,a=l.match(c);if(!a)throw new Error(\"unable to find a number expression in pattern: \"+n);!1===t.fractional&&(t.places=0);return n.replace(c,function(e,n,t){!0===(t=t||{}).places&&(t.places=0);t.places===1/0&&(t.places=6);const r=n.split(\".\"),o=\"string\"==typeof t.places&&t.places.indexOf(\",\");let i=t.places;o?i=t.places.substring(o+1):i>=0||(i=(r[1]||[]).length);t.round<0||(e=Number(e.toFixed(Number(i))));const s=String(Math.abs(e)).split(\".\"),l=s[1]||\"\";if(r[1]||t.places){o&&(t.places=t.places.substring(0,o));const e=void 0!==t.places?t.places:r[1]&&r[1].lastIndexOf(\"0\")+1;e>l.length&&(s[1]=l.padEnd(Number(e),\"0\")),i<l.length&&(s[1]=l.substr(0,Number(i)))}else s[1]&&s.pop();const c=r[0].replace(\",\",\"\");let a=c.indexOf(\"0\");-1!==a&&(a=c.length-a,a>s[0].length&&(s[0]=s[0].padStart(a,\"0\")),-1===c.indexOf(\"#\")&&(s[0]=s[0].substr(s[0].length-a)));let p,u,f=r[0].lastIndexOf(\",\");if(-1!==f){p=r[0].length-f-1;const e=r[0].substr(0,f);f=e.lastIndexOf(\",\"),-1!==f&&(u=e.length-f-1)}const d=[];for(let e=s[0];e;){const n=e.length-p;d.push(n>0?e.substr(n):e),e=n>0?e.slice(0,n):\"\",u&&(p=u,u=void 0)}return s[0]=d.reverse().join(t.group||\",\"),s.join(t.decimal||\".\")}(e,a[0],{decimal:o,group:r,places:t.places,round:t.round}))}(e,o,n)}const i=/[#0,]*[#0](?:\\.0*#*)?/;function s(e){return l(e).regexp}function l(n){const t=r((n=n||{}).locale),o=n.pattern||t.pattern,s=t.group,l=t.decimal;let c=1;if(-1!==o.indexOf(\"%\"))c/=100;else if(-1!==o.indexOf(\"‰\"))c/=1e3;else if(-1!==o.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");const u=o.split(\";\");1===u.length&&u.push(\"-\"+u[0]);return{regexp:p(u,(function(t){return(t=\"(?:\"+e(t,\".\")+\")\").replace(i,(function(e){const t={signed:!1,separator:n.strict?s:[s,\"\"],fractional:n.fractional,decimal:l,exponent:!1},r=e.split(\".\");let o=n.places;1===r.length&&1!==c&&(r[1]=\"###\"),1===r.length||0===o?t.fractional=!1:(void 0===o&&(o=n.pattern?r[1].lastIndexOf(\"0\")+1:1/0),o&&null==n.fractional&&(t.fractional=!0),!n.places&&o<r[1].length&&(o+=\",\"+r[1].length),t.places=o);const i=r[0].split(\",\");return i.length>1&&(t.groupSize=i.pop().length,i.length>1&&(t.groupSize2=i.pop().length)),\"(\"+function(e){\"places\"in(e=e||{})||(e.places=1/0);\"string\"!=typeof e.decimal&&(e.decimal=\".\");\"fractional\"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]);\"exponent\"in e||(e.exponent=[!0,!1]);\"eSigned\"in e||(e.eSigned=[!0,!1]);const n=a(e),t=p(e.fractional,(function(n){let t=\"\";return n&&0!==e.places&&(t=\"\\\\\"+e.decimal,e.places===1/0?t=\"(?:\"+t+\"\\\\d+)?\":t+=\"\\\\d{\"+e.places+\"}\"),t}),!0),r=p(e.exponent,(function(n){return n?\"([eE]\"+a({signed:e.eSigned})+\")\":\"\"}));let o=n+t;t&&(o=\"(?:(?:\"+o+\")|(?:\"+t+\"))\");return o+r}(t)+\")\"}))}),!0).replace(/[\\xa0 ]/g,\"[\\\\s\\\\xa0]\"),group:s,decimal:l,factor:c}}function c(e,n){const t=l(n),r=new RegExp(\"^\"+t.regexp+\"$\").exec(e);if(!r)return NaN;let o=r[1];if(!r[1]){if(!r[2])return NaN;o=r[2],t.factor*=-1}return o=o.replace(new RegExp(\"[\"+t.group+\"\\\\s\\\\xa0]\",\"g\"),\"\").replace(t.decimal,\".\"),Number(o)*t.factor}function a(n){\"signed\"in(n=n||{})||(n.signed=[!0,!1]),\"separator\"in n?\"groupSize\"in n||(n.groupSize=3):n.separator=\"\";return p(n.signed,(function(e){return e?\"[-+]\":\"\"}),!0)+p(n.separator,(function(t){if(!t)return\"(?:\\\\d+)\";\" \"===(t=e(t))?t=\"\\\\s\":\" \"===t&&(t=\"\\\\s\\\\xa0\");const r=n.groupSize,o=n.groupSize2;if(o){const e=\"(?:0|[1-9]\\\\d{0,\"+(o-1)+\"}(?:[\"+t+\"]\\\\d{\"+o+\"})*[\"+t+\"]\\\\d{\"+r+\"})\";return r-o>0?\"(?:\"+e+\"|(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}))\":e}return\"(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}(?:[\"+t+\"]\\\\d{\"+r+\"})*)\"}),!0)}const p=function(e,n,t){if(!(e instanceof Array))return n(e);const r=[];for(let t=0;t<e.length;t++)r.push(n(e[t]));return u(r.join(\"|\"),t)},u=function(e,n){return\"(\"+(n?\"?:\":\"\")+e+\")\"};export{l as _parseInfo,o as format,r as getCustoms,c as parse,s as regexp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/has.js\";import{r as i}from\"../../../chunks/rbush.js\";const d={minX:0,minY:0,maxX:0,maxY:0};class n{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=i(9,s(\"csp-restrictions\")?s=>({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const s=new Array(this._idByBounds.size);let i=0;this._idByBounds.forEach(((d,n)=>{s[i++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(s)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((s=>this._idByBounds.has(s)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(s){const i=this._boundsById.get(s);this._boundsById.delete(s),i&&(this._idByBounds.delete(i),this._indexInvalid||this._index.remove(i))}forEachInBounds(s,i){this._loadIndex();for(const n of function(s,i){return d.minX=i[0],d.minY=i[1],d.maxX=i[2],d.maxY=i[3],s.search(d)}(this._index,s))i(this._idByBounds.get(n))}get(s){return this._boundsById.get(s)}has(s){return this._boundsById.has(s)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(s,i){if(!this._indexInvalid){const i=this._boundsById.get(s);i&&(this._index.remove(i),this._idByBounds.delete(i))}this._boundsById.set(s,i),i&&(this._idByBounds.set(i,s),this._indexInvalid||(this._boundsToLoad.push(i),this._boundsToLoad.length>5e4&&this._loadIndex()))}}export{n as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../OptimizedFeature.js\";import e from\"../OptimizedGeometry.js\";import{getCentroidOptimizedGeometry as r}from\"../centroid.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new t(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,o)=>(t.centroid||(t.centroid=r(new e,t.geometry,o.hasZ,o.hasM)),t.centroid)};export default o;export{o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import s from\"../../../core/Evented.js\";import{create as o,NEGATIVE_INFINITY as i}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as a}from\"../featureConversionUtils.js\";import{fromRect as d}from\"../../../geometry/support/aaBoundingBox.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";export default class{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new s,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=o(i);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(d(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(s){if(!s)return;const i=s.objectId;if(null==i)return void t.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new r(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:s}));const d=this._featuresById.get(i);let n;if(this._markedIds.add(i),d?(s.displayId=d.displayId,n=this._boundsStore.get(i),this._boundsStore.delete(i)):e(this.onFeatureAdd)&&this.onFeatureAdd(s),!s.geometry||!s.geometry.coords||!s.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,s);n=a(n||o(),s.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(i,n),this._featuresById.set(i,s)}_remove(t){return e(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=/^\\s*\"([\\S\\s]*)\"\\s*$/,t=/\"\"/g,e=[\",\",\" \",\";\",\"|\",\"\\t\"];function o(n,t){const e={},o=n.length;for(let r=0;r<o;r++)e[n[r]]=t[r];return e}function*r(n,t,e){let o=0;for(;o<=n.length;){const r=n.indexOf(t,o),i=n.substring(o,r>-1?r:void 0);o+=i.length+1,e&&!i.trim()||(yield i)}}function i(n){const t=n.includes(\"\\r\\n\")?\"\\r\\n\":\"\\n\";return r(n,t,!0)}function c(n,t){return r(n,t,!1)}function f(n){const t=n.trim();let o=0,r=\"\";for(const n of e){const e=t.split(n).length;e>o&&(o=e,r=n)}return\"\"===r?null:r}function*s(e,r,i){let f=\"\",s=\"\",l=0,d=[];n:for(;;){const{value:x,done:g}=e.next();if(g)return;const h=c(x,i);t:for(;;){const{value:e,done:o}=h.next();if(o)break t;if(f+=s+e,s=\"\",l+=u(e),l%2==0){if(l>0){const e=n.exec(f);if(!e){d=[],f=\"\",l=0;continue n}d.push(e[1].replace(t,'\"'))}else d.push(f);f=\"\",l=0}else s=i}0===l?(yield o(r,d),d=[]):s=\"\\n\"}}function u(n){let t=0,e=0;for(e=n.indexOf('\"',e);e>=0;)t++,e=n.indexOf('\"',e+1);return t}export{f as inferDelimiter,s as parseRows,c as readRowParts,i as readRows};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{mixin as t}from\"../../../../core/lang.js\";import i from\"../../../../core/Error.js\";import{urlToObject as n,getFilename as r}from\"../../../../core/urlUtils.js\";import{all as o}from\"../../../../core/promiseUtils.js\";import{equals as l,isWebMercator as s,WGS84 as a}from\"../../../../geometry/support/spatialReferenceUtils.js\";import d from\"../../../../geometry/SpatialReference.js\";import{lngLatToXY as u}from\"../../../../geometry/support/webMercatorUtils.js\";import\"../../../../geometry.js\";import c from\"../../../../request.js\";import{projectMany as m}from\"../../../../geometry/projection.js\";import{_parseInfo as f}from\"../../../../core/number.js\";import p from\"../../OptimizedFeature.js\";import y from\"../../OptimizedGeometry.js\";import g from\"../../../support/FieldsIndex.js\";import{jsonAdapter as F}from\"../../../../geometry/geometryAdapters/json.js\";import{checkProjectionSupport as h}from\"../../data/projectionSupport.js\";import{createDrawingInfo as I}from\"./clientSideDefaults.js\";import N from\"../../data/FeatureStore.js\";import _ from\"../../data/QueryEngine.js\";import{readRows as x,inferDelimiter as b,parseRows as T}from\"../csv/csv.js\";const j=I(\"esriGeometryPoint\"),w=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"],E=[\"lat\",\"latitude\",\"latitude83\",\"latdecdeg\",\"lat_dd\",\"y\",\"ycenter\",\"point-y\"],D=[\"lon\",\"lng\",\"long\",\"longitude\",\"longitude83\",\"longdecdeg\",\"long_dd\",\"x\",\"xcenter\",\"point-x\"],q=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,v=[\"csv\"],S=[0,0];class C{constructor(e,t){this.x=e,this.y=t}}const V=function(){const e=f(),t=new RegExp(\"^\"+e.regexp+\"$\"),i=new RegExp(\"[\"+e.group+\"\\\\s\\\\xa0]\",\"g\"),n=e.factor;return function(r){const o=t.exec(r);if(e.factor=n,!o)return NaN;let l=o[1];if(!o[1]){if(!o[2])return NaN;l=o[2],e.factor*=-1}return l=l.replace(i,\"\").replace(e.decimal,\".\"),+l*e.factor}}(),k=\"isInteger\"in Number?Number.isInteger:e=>\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e;export default class{constructor(){this._fieldsIndex=null,this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}async load(e,t={}){const[i]=await o([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)]),n=this._parse(i,e);if(this._queryEngine=this._createQueryEngine(i,n),n.layerDefinition.extent=this._queryEngine.fullExtent,n.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;n.layerDefinition.timeInfo.timeExtent=[e,t]}return n}async applyEdits(){throw new i(\"csv-source:editing-not-supported\",\"applyEdits() is not supported on CSVLayer\")}async queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}async _fetch(e,t){if(!e)throw new i(\"csv-source:invalid-source\",\"url not defined\");const r=n(e);return(await c(r.path,{query:r.query,responseType:\"text\",signal:t.signal})).data}_parse(e,n){const o=n.parsing||{},l={columnDelimiter:o.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:o.latitudeField,longitudeFieldName:o.longitudeField}},s=x(e);let{value:a}=s.next();if(!a)throw new i(\"csv\",\"CSV is empty\",{csv:e});if(a=a.trim(),!o.columnDelimiter){const e=b(a);if(!e)throw new i(\"csv-source:invalid-delimiter\",\"Unable to detect the delimiter from CSV\");l.columnDelimiter=e}const d=a.split(l.columnDelimiter),u=l.layerDefinition={name:r(n.url,v)||\"csv\",drawingInfo:j,geometryType:\"esriGeometryPoint\",objectIdField:null,fields:[],timeInfo:o.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:o.spatialReference||{wkid:102100}}};if(!o.latitudeField||!o.longitudeField){const e=this._inferLocationInfo(d);if(!o.longitudeField&&!e.longitudeFieldName||!o.latitudeField&&!e.latitudeFieldName)throw new i(\"csv\",\"Unable to identify latitudeField and/or longitudeField from CSV\");l.locationInfo={longitudeFieldName:o.longitudeField||e.longitudeFieldName,latitudeFieldName:o.latitudeField||e.latitudeFieldName}}const c=this._inferFields(s,l.columnDelimiter,d,l.locationInfo);if(o.fields&&o.fields.length){const e=new Map;for(const t of o.fields)e.set(t.name.toLowerCase(),t);for(const i of c){const n=e.get(i.name.toLowerCase());if(n){const e=i.name;t(i,n),i.name=e}}}u.fields=c;if(!u.fields.some((e=>\"esriFieldTypeOID\"===e.type&&(u.objectIdField=e.name,!0)))){const e={name:\"__OBJECTID\",alias:\"__OBJECTID\",type:\"esriFieldTypeOID\",editable:!1,nullable:!1};u.objectIdField=e.name,u.fields.unshift(e)}if(this._fieldsIndex=new g(u.fields),u.timeInfo){const e=u.timeInfo;if(e.startTimeField){const t=this._fieldsIndex.get(e.startTimeField);t?(e.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.startTimeField=null}if(e.endTimeField){const t=this._fieldsIndex.get(e.endTimeField);t?(e.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.endTimeField=null}if(e.trackIdField){const t=this._fieldsIndex.get(e.trackIdField);e.trackIdField=t?t.name:null}e.startTimeField||e.endTimeField||(u.timeInfo=null)}return l}_inferLocationInfo(e){let t=null,i=null;const n=t=>e.find((e=>e.toLowerCase()===t));return D.some((e=>(t=n(e),!!t))),E.some((e=>(i=n(e),!!i))),{longitudeFieldName:t,latitudeFieldName:i}}_inferFields(e,t,i,n){const r=[],o=T(e,i,t),l=[];e:for(;l.length<10;){const{value:e,done:t}=o.next();if(t)break e;l.push(e)}for(const e of i)if(e===n.longitudeFieldName||e===n.latitudeFieldName)r.push({name:e,type:\"esriFieldTypeDouble\",alias:e});else{const t=l.map((t=>t[e])),i=this._inferFieldType(t),n={name:e,type:null,alias:e};switch(i){case\"integer\":n.type=\"esriFieldTypeInteger\";break;case\"double\":n.type=\"esriFieldTypeDouble\";break;case\"date\":n.type=\"esriFieldTypeDate\",n.length=36;break;default:n.type=\"esriFieldTypeString\",n.length=255}r.push(n)}return r}_inferFieldType(e){if(!e.length)return\"string\";const t=/[^+-.,0-9]/;return e.map((e=>{let i=!1;if(\"\"!==e){if(t.test(e))i=!0;else{let t=V(e);if(!isNaN(t))return/[.,]/.test(e)||!k(t)||t>214783647||t<-214783648?\"double\":\"integer\";if(-1===e.indexOf(\"E\"))i=!0;else{if(t=Number(e),!isNaN(t))return\"double\";if(-1===e.indexOf(\",\"))i=!0;else{if(e=e.replace(\",\",\".\"),t=Number(e),!isNaN(t))return\"double\";i=!0}}}if(i){if(!/^[-]?\\d*[.,]?\\d*$/.test(e)){const t=new Date(e);return this._isValidDate(t,e)?\"date\":\"string\"}return\"string\"}return\"string\"}})).reduce(((e,t)=>void 0===e||e===t?t:\"string\"===e||\"string\"===t?\"string\":\"double\"===e||\"double\"===t?\"double\":void 0))}_isValidDate(t,i){if(!t||\"[object Date]\"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))return!1;let n=!0;if(e(\"chrome\")&&/\\d+\\W*$/.test(i)){const e=i.match(/[a-zA-Z]{2,}/);if(e){let t=!1,i=0;for(;!t&&i<=e.length;)t=!q.test(e[i]),i++;n=!t}}return n}_createQueryEngine(e,t){const{latitudeFieldName:i,longitudeFieldName:n}=t.locationInfo,{objectIdField:r,fields:o,extent:a,timeInfo:c}=t.layerDefinition;let f=[];const g=[],h=new Set,I=new Set,b=[];for(const{name:e,type:t}of o)\"esriFieldTypeDate\"===t?h.add(e):w.indexOf(t)>-1&&I.add(e),e!==r&&b.push(e);let j=0;const E=x(e);E.next();const D=T(E,b,t.columnDelimiter);e:for(;;){const{value:e,done:t}=D.next();if(t)break e;const o=this._parseCoordinateValue(e[i]),l=this._parseCoordinateValue(e[n]);if(null!=l&&null!=o&&!isNaN(o)&&!isNaN(l)){e[i]=o,e[n]=l;for(const t in e)if(t!==i&&t!==n)if(h.has(t)){const i=new Date(e[t]);e[t]=this._isValidDate(i,e[t])?i.getTime():null}else if(I.has(t)){const i=V(e[t]);isNaN(i)?e[t]=null:e[t]=i}e[r]=j,j++,f.push(new C(l,o)),g.push(e)}}if(!l({wkid:4326},a.spatialReference))if(s(a.spatialReference))for(const e of f)[e.x,e.y]=u(e.x,e.y,S);else f=m(F,f,d.WGS84,a.spatialReference,null);const q=new N({geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1}),v=new _({fields:t.layerDefinition.fields,geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1,timeInfo:c,objectIdField:r,spatialReference:a.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:q}),k=[];for(let e=0;e<f.length;e++){const{x:t,y:i}=f[e],n=g[e];n[r]=e+1,k.push(new p(new y([],[t,i]),n,null,n[r]))}return q.addMany(k),v}_parseCoordinateValue(e){if(null==e||\"\"===e)return null;let t=V(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await h(a,e)}catch{throw new i(\"csv-layer\",\"Projection not supported\")}}}export{E as csvLatitudeFieldNames,D as csvLongitudeFieldNames};\n"],"sourceRoot":""}