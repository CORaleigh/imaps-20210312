{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/commonProperties.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/wmsUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/ElevationInfo.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/WMSLayerView.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js"],"names":["o","visible","n","p","c","super","arguments","this","_layerHandles","extent","_scale","view","e","_get","_set","removeAll","add","sublayers","on","notifyChange","propertyName","visibleSublayers","filter","name","map","join","scale","layer","s","t","r","a","minScale","maxScale","l","i","forEach","unshift","spatialReferences","spatialReference","wkid","indexOf","latestWkid","some","push","length","layers","imageFormat","imageTransparency","version","xmin","ymin","xmax","y","ymax","u","m","bbox","format","request","service","styles","transparent","isNaN","crs","srs","prototype","readOnly","dependsOn","type","Number","autoTracked","Boolean","value","json","origins","read","source","screenSizePerspective","originOf","store","set","write","ignoreOrigin","target","reader","disablePopup","enabled","String","isRequired","writer","d","f","default","opacity","origin","drawingInfo","transparency","layerDefinition","timeInfo","timeExtent","useViewTime","intersection","isEmpty","timeOffset","offset","unit","equals","84","83","27","idCounter","DOMParser","parseFromString","documentElement","nodeName","Array","slice","call","childNodes","textContent","getAttribute","N","b","parseInt","A","x","E","h","I","g","L","M","O","w","F","v","fullExtents","toJSON","C","T","queryable","R","V","_","U","dimensions","q","reduce","concat","B","S","D","POSITIVE_INFINITY","NEGATIVE_INFINITY","isArray","Date","Math","min","getTime","max","startTimeField","endTimeField","trackIdField","copyright","description","featureInfoFormat","featureInfoUrl","mapUrl","maxWidth","maxHeight","supportedImageFormatTypes","title","popupEnabled","parseFloat","MAX_VALUE","substring","query","hasOwnProperty","toLowerCase","path","id","parentLayerId","split","legendURL","test","units","multipleValues","nearestValue","current","unitSymbol","nodeType","Node","ELEMENT_NODE","resolution","match","years","months","days","hours","minutes","seconds","replace","toISOString","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","expression","onTheGround","relativeToGround","relativeToScene","absoluteHeight","foot","kilometer","meter","mile","yard","featureExpression","_isOverridden","featureExpressionInfo","_override","mode","clone","apiValues","nonNullable","jsonValues","Object","keys","sort","createFetchPopupFeaturesQuery","width","height","fetchFeatureInfo","then","supportsSpatialReference","addResolvingPromise","strategy","update","catch","error","imageMaxHeight","imageMaxWidth","_bitmapContainer","container","addChild","fetchSource","fetchImage","bind","requestUpdate","imageRotationSupported","imageNormalizationSupported","hidpi","_exportWMSImageParameters","handles","watch","_exportImageVersion","remove","destroy","removeChild","removeAllChildren","children","round","updating","updateRequested","timestamp","refreshTimestamp"],"mappings":"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","file":"chunks/8650.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import r from\"../../core/Accessor.js\";import a from\"../../core/Handles.js\";import{combinedViewLayerTimeExtentProperty as l}from\"./commonProperties.js\";import{coordsReversed as i}from\"./wmsUtils.js\";const o={visible:\"visibleSublayers\"},n=[102100,3857,102113,900913],p=[3395,54004];let c=class extends r{constructor(){super(...arguments),this._layerHandles=new a,this.extent=null,this._scale=null,this.view=null}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this._layerHandles&&(this._layerHandles.removeAll(),this._layerHandles=null),e&&(this._layerHandles||(this._layerHandles=new a),this._layerHandles.add([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(o[e.propertyName])))])))}get layers(){const{visibleSublayers:e}=this;return e.filter((e=>e.name)).map((e=>e.name)).join(\",\")}get scale(){return null!=this._scale?this._scale:this.view&&this.view.scale||0}set scale(e){this.view||(this._scale=e,this.notifyChange(\"scale\"))}get version(){return(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:s}=this,{sublayers:t}=e,r=[],a=e=>{const{minScale:t,maxScale:l,sublayers:i,visible:o}=e;o&&(0===s||(0===t||s<=t)&&(0===l||s>=l))&&(i?i.forEach(a):r.unshift(e))};return null==t||t.forEach(a),r}get wkid(){const{extent:e,layer:s}=this,t=s.spatialReferences;let r=e.spatialReference&&e.spatialReference.wkid;t&&-1===t.indexOf(r)&&e.spatialReference.latestWkid&&(r=e.spatialReference.latestWkid);const a=n.some((e=>e===r));if(!t)return r;if(a){const e=[];t.forEach((s=>{n.indexOf(s)>-1&&e.push(s)})),e.length||t.forEach((s=>{p.indexOf(s)>-1&&e.push(s)})),r=e.length>0?e[0]:n[0]}return r}toJSON(){const{extent:e,layer:s,layers:t}=this,{imageFormat:r,imageTransparency:a,spatialReferences:l,version:o}=s;let{wkid:n}=this;l&&-1===l.indexOf(n)&&e.spatialReference.latestWkid&&(n=e.spatialReference.latestWkid);const{xmin:p,ymin:c,xmax:y,ymax:u}=e,m={bbox:\"1.3.0\"===s.version&&i(n)?`${c},${p},${u},${y}`:`${p},${c},${y},${u}`,format:r,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:a,version:o};return isNaN(n)||(\"1.3.0\"===o?m.crs=\"EPSG:\"+n:m.srs=\"EPSG:\"+n),{...m,layers:t}}};e([s()],c.prototype,\"extent\",void 0),e([s()],c.prototype,\"layer\",null),e([s({readOnly:!0,dependsOn:[\"visibleSublayers\"]})],c.prototype,\"layers\",null),e([s({type:Number,dependsOn:[\"view.scale\"]})],c.prototype,\"scale\",null),e([s(l)],c.prototype,\"timeExtent\",void 0),e([s({type:Number,dependsOn:[\"layers\",\"layer.imageTransparency\",\"timeExtent\"],readOnly:!0})],c.prototype,\"version\",null),e([s()],c.prototype,\"view\",void 0),e([s({readOnly:!0,dependsOn:[\"layer.sublayers\",\"scale\"]})],c.prototype,\"visibleSublayers\",null),e([s({dependsOn:[],autoTracked:!1})],c.prototype,\"wkid\",null),c=e([t(\"esri.layers.support.ExportWMSImageParameters\")],c);var y=c;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as r}from\"../../core/accessorSupport/write.js\";import{transparencyToOpacity as n}from\"../../webdoc/support/opacityUtils.js\";import t from\"../../TimeExtent.js\";import o from\"../../symbols/support/ElevationInfo.js\";const s={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(i,r){if(null!=r.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return r.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,i,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||r(this,\"screenSizePerspectiveEnabled\",{},t))&&(i[n]=e)}}}}}},a={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,i)=>!i.disablePopup},write:{enabled:!0,writer(e,i,r){i[r]=!e}}}},l={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},p={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},c={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:o,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function f(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},y={...u,json:{...u.json,origins:{\"web-document\":{...u.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,i,r)=>r&&\"service\"!==r.origin||!i.drawingInfo||void 0===i.drawingInfo.transparency?i.layerDefinition&&i.layerDefinition.drawingInfo&&void 0!==i.layerDefinition.drawingInfo.transparency?n(i.layerDefinition.drawingInfo.transparency):void 0:n(i.drawingInfo.transparency)}}},m={type:t,dependsOn:[\"view.timeExtent\",\"layer.timeExtent\",\"layer.timeInfo\",\"layer.timeOffset\",\"layer.timeOffset.value\",\"layer.timeOffset.unit\",\"layer.useViewTime\"],readOnly:!0,get(){var e,i;if(null==(e=this.layer)||!e.timeInfo)return null;const r=null==(i=this.view)?void 0:i.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,s=o?t.offset(-o.value,o.unit):t,a=this._get(\"timeExtent\");return s.equals(a)?a:s}};export{m as combinedViewLayerTimeExtentProperty,d as elevationInfo,l as labelsVisible,c as legendEnabled,u as opacity,y as opacityDrawingInfo,a as popupEnabled,f as readOnlyService,s as screenSizePerspectiveEnabled,p as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import n from\"../../geometry/SpatialReference.js\";import r from\"../../geometry/Extent.js\";const i=[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],a={84:4326,83:4269,27:4267};function s(t){if(!t)return null;const n={idCounter:-1};if(\"string\"==typeof t){t=(new DOMParser).parseFromString(t,\"text/xml\")}const i=t.documentElement;if(\"ServiceExceptionReport\"===i.nodeName){const t=Array.prototype.slice.call(i.childNodes).map((e=>e.textContent)).join(\"\\r\\n\");throw new e(\"wmslayer:wms-capabilities-xml-is-not-valid\",\"The server returned errors when the WMS capabilities were requested.\",t)}const a=m(\"Capability\",i),s=m(\"Service\",i),o=m(\"Request\",a);if(!a||!s||!o)return null;const l=m(\"Layer\",a);if(!l)return null;const c=\"WMS_Capabilities\"===i.nodeName||\"WMT_MS_Capabilities\"===i.nodeName?i.getAttribute(\"version\"):\"1.3.0\",f=d(\"Title\",s,\"\")||d(\"Name\",s,\"\"),p=d(\"AccessConstraints\",s,\"\"),N=d(\"Abstract\",s,\"\"),b=parseInt(d(\"MaxWidth\",s,\"5000\"),10),y=parseInt(d(\"MaxHeight\",s,\"5000\"),10),A=x(o,\"GetMap\"),E=h(o,\"GetMap\"),I=g(l,c,n);let L,F=0;if(Array.prototype.slice.call(a.childNodes).forEach((e=>{\"Layer\"===e.nodeName&&(0===F?L=e:1===F?(I.name&&(I.name=\"\",I.sublayers.push(g(L,c,n))),I.sublayers.push(g(e,c,n))):I.sublayers.push(g(e,c,n)),F++)})),!I)return null;let M,O,w;const v=I.fullExtents;if(M=I.sublayers,M||(M=[]),0===M.length&&M.push(I),O=I.extent,!O){const e=new r(M[0].extent);I.extent=e.toJSON(),O=I.extent}if(w=I.spatialReferences,!w.length&&M.length>0){const e=t=>{let n=[];return t.sublayers.forEach((t=>{!n.length&&t.spatialReferences.length&&(n=t.spatialReferences||e(t))})),n};M.forEach((t=>{w.length||(w=t.spatialReferences||e(t))}))}const C=h(o,\"GetFeatureInfo\");let T;if(C){const e=x(o,\"GetFeatureInfo\");e.indexOf(\"text/html\")>-1?T=\"text/html\":e.indexOf(\"text/plain\")>-1&&(T=\"text/plain\")}if(!T){const e=function(t){t&&(t.queryable=!1,t.sublayers&&t.sublayers.forEach((t=>{e(t)})))};e(I)}const R=u(M),V=I.minScale||0,_=I.maxScale||0,U=I.dimensions,q=R.reduce(((e,t)=>e.concat(t.dimensions)),[]),B=U.concat(q).filter(S);let D=null;if(B.length>0){let e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;B.forEach((n=>{const{extent:r}=n;var i;i=r,Array.isArray(i)&&i.length>0&&i[0]instanceof Date?r.forEach((n=>{e=Math.min(e,n.getTime()),t=Math.max(t,n.getTime())})):r.forEach((n=>{e=Math.min(e,n.min.getTime()),t=Math.max(t,n.max.getTime())}))})),D={startTimeField:null,endTimeField:null,trackIdField:null,timeExtent:[e,t]}}return{copyright:p,description:N,dimensions:U,extent:O,fullExtents:v,featureInfoFormat:T,featureInfoUrl:C,mapUrl:E,maxWidth:b,maxHeight:y,maxScale:_,minScale:V,layers:R,spatialReferences:w,supportedImageFormatTypes:A,timeInfo:D,title:f,version:c}}function o(e){return i.some((t=>{const n=t[0],r=t[1];return e>=n&&e<=r}))}function l(e){return e.length?e.filter((e=>e.popupEnabled&&e.name&&e.queryable)).map((e=>e.name)).join(\",\"):\"\"}function u(e){let t=[];return e.forEach((e=>{t.push(e),e.sublayers&&e.sublayers.length&&(t=t.concat(u(e.sublayers)),delete e.sublayers)})),t}function c(e,t,n){var r;return null!=(r=t.getAttribute(e))?r:n}function m(e,t){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];if(b(r)&&r.nodeName===e)return r}return null}function f(e,t){const n=[];for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];b(i)&&i.nodeName===e&&n.push(i)}return n}function d(e,t,n){const r=m(e,t);return r?r.textContent:n}function p(e,t,i){if(!e)return null;const a=parseFloat(e.getAttribute(\"minx\")),s=parseFloat(e.getAttribute(\"miny\")),o=parseFloat(e.getAttribute(\"maxx\")),l=parseFloat(e.getAttribute(\"maxy\"));let u,c,m,f;i?(u=isNaN(s)?-Number.MAX_VALUE:s,c=isNaN(a)?-Number.MAX_VALUE:a,m=isNaN(l)?Number.MAX_VALUE:l,f=isNaN(o)?Number.MAX_VALUE:o):(u=isNaN(a)?-Number.MAX_VALUE:a,c=isNaN(s)?-Number.MAX_VALUE:s,m=isNaN(o)?Number.MAX_VALUE:o,f=isNaN(l)?Number.MAX_VALUE:l);const d=new n({wkid:t});return new r({xmin:u,ymin:c,xmax:m,ymax:f,spatialReference:d})}function h(e,n){const r=m(n,e);if(r){const e=m(\"DCPType\",r);if(e){const n=m(\"HTTP\",e);if(n){const e=m(\"Get\",n);if(e){let n=function(e,t,n,r){const i=m(e,n);return i?c(t,i,r):r}(\"OnlineResource\",\"xlink:href\",e,null);if(n)return n.indexOf(\"&\")===n.length-1&&(n=n.substring(0,n.length-1)),function(e,n){const r=[],i=t(e);for(const e in i.query)i.query.hasOwnProperty(e)&&-1===n.indexOf(e.toLowerCase())&&r.push(e+\"=\"+i.query[e]);return i.path+(r.length?\"?\"+r.join(\"&\"):\"\")}(n,[\"service\",\"request\"])}}}}return null}function x(e,t){const n=f(\"Operation\",e);if(0===n.length){return f(\"Format\",m(t,e)).map((e=>e.textContent))}const r=[];return n.forEach((e=>{if(e.getAttribute(\"name\")===t){f(\"Format\",e).forEach((e=>{r.push(e.textContent)}))}})),r}function N(e,t,n){const r=m(t,e);if(!r)return n;const{textContent:i}=r;if(null==i||\"\"===i)return n;const a=Number(i);return isNaN(a)?n:a}function g(e,t,i){var s;if(!e)return null;const l={id:i.idCounter++,fullExtents:[],parentLayerId:null,queryable:\"1\"===e.getAttribute(\"queryable\"),spatialReferences:[],sublayers:null},u=m(\"LatLonBoundingBox\",e),h=m(\"EX_GeographicBoundingBox\",e);let x=null;u&&(x=p(u,4326)),h&&(x=new r(0,0,0,0,new n({wkid:4326})),x.xmin=parseFloat(d(\"westBoundLongitude\",h,\"0\")),x.ymin=parseFloat(d(\"southBoundLatitude\",h,\"0\")),x.xmax=parseFloat(d(\"eastBoundLongitude\",h,\"0\")),x.ymax=parseFloat(d(\"northBoundLatitude\",h,\"0\"))),u||h||(x=new r(-180,-90,180,90,new n({wkid:4326}))),l.minScale=N(e,\"MaxScaleDenominator\",0),l.maxScale=N(e,\"MinScaleDenominator\",0);const b=[\"1.0.0\",\"1.1.0\",\"1.1.1\"].indexOf(t)>-1?\"SRS\":\"CRS\";return Array.prototype.slice.call(e.childNodes).forEach((e=>{if(\"Name\"===e.nodeName)l.name=e.textContent||\"\";else if(\"Title\"===e.nodeName)l.title=e.textContent||\"\";else if(\"Abstract\"===e.nodeName)l.description=e.textContent||\"\";else if(\"BoundingBox\"===e.nodeName){const n=e.getAttribute(b);if(n&&0===n.indexOf(\"EPSG:\")){const r=parseInt(n.substring(5),10);0===r||isNaN(r)||x||(x=\"1.3.0\"===t?p(e,r,o(r)):p(e,r))}const r=n&&n.indexOf(\":\");if(r&&r>-1){let i=parseInt(n.substring(r+1,n.length),10);0===i||isNaN(i)||(i=a[i]?a[i]:i);const s=\"1.3.0\"===t?p(e,i,o(i)):p(e,i);l.fullExtents.push(s)}}else if(e.nodeName===b){e.textContent.split(\" \").forEach((e=>{0===(e=e.indexOf(\":\")>-1?parseInt(e.split(\":\")[1],10):parseInt(e,10))||isNaN(e)||(a[e]&&(e=a[e]),-1===l.spatialReferences.indexOf(e)&&l.spatialReferences.push(e))}))}else if(\"Style\"!==e.nodeName||l.legendURL){if(\"Layer\"===e.nodeName){const n=g(e,t,i);n&&(n.parentLayerId=l.id,l.sublayers||(l.sublayers=[]),l.sublayers.push(n))}}else{const t=m(\"LegendURL\",e);if(t){const e=m(\"OnlineResource\",t);e&&(l.legendURL=e.getAttribute(\"xlink:href\"))}}})),l.extent=null==(s=x)?void 0:s.toJSON(),l.dimensions=f(\"Dimension\",e).filter((e=>e.getAttribute(\"name\")&&e.getAttribute(\"units\")&&e.textContent)).map((e=>{const t=e.getAttribute(\"name\"),n=e.getAttribute(\"units\"),r=e.textContent,i=e.getAttribute(\"unitSymbol\"),a=e.getAttribute(\"default\"),s=\"0\"!==c(\"default\",e,\"0\"),o=\"0\"!==c(\"nearestValue\",e,\"0\"),l=\"0\"!==c(\"current\",e,\"0\");if(/^time$/i.test(t)&&/^ISO8601$/i.test(n)){return{name:\"time\",units:\"ISO8601\",extent:F(r),default:F(a),multipleValues:s,nearestValue:o,current:l}}if(/^elevation$/i.test(t)){return{name:\"elevation\",units:n,extent:I(r),unitSymbol:i,default:I(a),multipleValues:s,nearestValue:o}}return{name:t,units:n,extent:L(r),unitSymbol:i,default:L(a),multipleValues:s,nearestValue:o}})),l}function b(e){return e.nodeType===Node.ELEMENT_NODE}function y(e){return void 0!==e.min&&void 0!==e.max}function A(e){return\"elevation\"===e.name}function E(e){return\"time\"!==e.name&&\"elevation\"!==e.name}function S(e){return\"time\"===e.name}function I(e){if(!e)return null;const t=-1!==e.indexOf(\"/\"),n=e.split(\",\");return t?n.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:parseFloat(t[0]),max:parseFloat(t[1]),resolution:t.length>=3&&\"0\"!==t[2]?parseFloat(t[2]):void 0}})).filter((e=>e)):n.map((e=>parseFloat(e)))}function L(e){if(!e)return null;const t=-1!==e.indexOf(\"/\"),n=e.split(\",\");return t?n.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:t[0],max:t[1],resolution:t.length>=3&&\"0\"!==t[2]?t[2]:void 0}})).filter((e=>e)):n}function F(e){if(!e)return null;const t=-1!==e.indexOf(\"/\"),n=e.split(\",\");return t?n.map((e=>{const t=e.split(\"/\");if(t.length<2)return null;return{min:new Date(t[0]),max:new Date(t[1]),resolution:t.length>=3&&\"0\"!==t[2]?M(t[2]):void 0}})).filter((e=>e)):n.map((e=>new Date(e)))}function M(e){const t=e.match(/(?:p(\\d+y|\\d+(?:.|,)\\d+y)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+d|\\d+(?:.|,)\\d+d)?)?(?:t(\\d+h|\\d+(?:.|,)\\d+h)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+s|\\d+(?:.|,)\\d+s)?)?/i);if(!t)return null;return{years:O(t[1]),months:O(t[2]),days:O(t[3]),hours:O(t[4]),minutes:O(t[5]),seconds:O(t[6])}}function O(e){if(!e)return 0;const t=e.match(/(?:\\d+(?:.|,)\\d+|\\d+)/);if(!t)return 0;const n=t[0].replace(\",\",\".\");return Number(n)}function w(e){return e.toISOString().replace(/\\.[0-9]{3}/,\"\")}export{o as coordsReversed,M as fromISODuration,l as getPopupLayers,y as isDimensionInterval,A as isElevationDimension,E as isGenericDimension,S as isTimeDimension,s as parseCapabilities,w as toISOString};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){return this._isOverridden(\"mode\")?this._get(\"mode\"):r(this.offset)||this.featureExpressionInfo?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,dependsOn:[\"offset\",\"featureExpressionInfo\"],nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}const e=function(){const n=Object.keys(t);return n.sort(),n}();export{r as getMetersPerUnit,e as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{reject as s,resolve as p}from\"../../core/promiseUtils.js\";const i=i=>{let c=class extends i{async fetchPopupFeatures(e){const{layer:r}=this;if(!e)return s(new o(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:r}));const{popupEnabled:t}=r;if(!t)return s(new o(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:t}));const i=this.createFetchPopupFeaturesQuery(e),{extent:c,width:u,height:a,x:n,y:h}=i;if(!(c&&u&&a))throw new o(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:c,width:u,height:a});const m=r.fetchFeatureInfo(c,u,a,n,h);return m?m.then((e=>[e])):p([])}};return e([r()],c.prototype,\"layer\",void 0),c=e([t(\"esri.layers.mixins.WMSLayerView\")],c),c};export{i as WMSLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import t from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{reject as a,isAbortError as o}from\"../../../core/promiseUtils.js\";import p from\"../../../geometry/Extent.js\";import{RefreshableLayerView as m}from\"../../layers/RefreshableLayerView.js\";import n from\"../../../layers/support/ExportWMSImageParameters.js\";import h from\"../../layers/LayerView.js\";import{WMSLayerView as d}from\"../../layers/WMSLayerView.js\";import{BitmapContainer as l}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import u from\"./support/ExportStrategy.js\";const y=t.getLogger(\"esri.views.2d.layers.WMSLayerView2D\");let g=class extends(d(m(c(h)))){initialize(){const{layer:e,view:t}=this;e.supportsSpatialReference(t.spatialReference)||this.addResolvingPromise(a(new s(\"layerview:spatial-reference-incompatible\",\"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\",{layer:e})))}hitTest(){return null}update(e){this.strategy.update(e).catch((e=>{o(e)||y.error(e)}))}attach(){const{layer:e,view:t}=this,{imageMaxHeight:r,imageMaxWidth:i}=e;this._bitmapContainer=new l,this.container.addChild(this._bitmapContainer),this.strategy=new u({container:this._bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:r,imageMaxWidth:i,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this._exportWMSImageParameters=new n({layer:e,view:t}),this.handles.add(this._exportWMSImageParameters.watch(\"version\",(e=>{this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())})),\"wms\")}detach(){this.handles.remove(\"wms\"),this.strategy.destroy(),this._exportWMSImageParameters.layer=null,this._exportWMSImageParameters.destroy(),this._exportWMSImageParameters=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t}=this,r=this._bitmapContainer,{x:i,y:s}=e,{spatialReference:a}=t;let o=null,m=0,n=0;r.children.some((e=>{const{width:t,height:r,resolution:h,x:d,y:l}=e,c=d+h*t,u=l-h*r;return i>=d&&i<=c&&s<=l&&s>=u&&(o=new p({xmin:d,ymin:u,xmax:c,ymax:l,spatialReference:a}),m=t,n=r,!0)}));const h=o.width/m,d=Math.round((i-o.xmin)/h),l=Math.round((o.ymax-s)/h);return{extent:o,width:m,height:n,x:d,y:l}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,i){return this.layer.fetchImage(e,t,r,{timeExtent:this._exportWMSImageParameters.timeExtent,timestamp:this.refreshTimestamp,...i})}};e([r()],g.prototype,\"strategy\",void 0),e([r({dependsOn:[\"strategy.updating\"]})],g.prototype,\"updating\",void 0),g=e([i(\"esri.views.2d.layers.WMSLayerView2D\")],g);var f=g;export default f;\n"],"sourceRoot":""}