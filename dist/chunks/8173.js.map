{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/simplify.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/cut.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/OptimizedFeatureSet.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","webpack://imaps/./node_modules/@arcgis/core/tasks/Task.js"],"names":["async","i","e","f","m","p","spatialReference","a","u","query","sr","wkid","JSON","stringify","geometries","s","r","t","o","map","fromJSON","n","path","data","geometryType","toJSON","y","d","type","w","M","error","push","length","l","Math","sqrt","c","floor","x","rings","paths","R","P","Array","isArray","clone","offset","b","cutIndexes","some","Number","toFixed","getPoint","setPoint","addRing","addPath","L","url","j","U","k","v","A","z","isWebMercator","maxX","minX","plus180Line","minus180Line","points","_normalize","extent","xmin","intersects","xmax","I","X","q","C","target","cutter","g","shift","D","Promise","resolve","valid","102100","4326","ceil","h","this","displayId","geohashIndexed","geohashX","geohashY","geometry","attributes","centroid","objectId","coords","objectIdFieldName","globalIdFieldName","geohashFieldName","geometryProperties","hasZ","hasM","features","fields","transform","exceededTransferLimit","uniqueIdField","queryGeometryType","queryGeometry","lengths","hasIndeterminateRingOrder","slice","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultipoint","scale","translate","round","Z","T","N","G","F","E","V","Y","_","$","B","H","J","K","Q","insertAfter","groupId","W","te","ee","O","ne","oe","re","ae","se","weakClone","ce","le","ie","ue","fe","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","max","ge","me","ye","abs","Ie","Set","super","arguments","signal","addResolvingPromise","_fetchService","capabilities","supportsFormatPBF","parsedUrl","dynamicDataSource","gdbVersion","fieldsIndex","layer","format","sourceSpatialReference","load","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","body","_createFeatureEditResult","addAttachmentResult","_createAttachmentErrorResult","attachmentId","updateAttachmentResult","addFeatures","_serializeFeature","updateFeatures","_getFeatureIds","deleteFeatures","deleteAttachments","addAttachments","_serializeAttachment","updateAttachments","adds","updates","deletes","method","join","rollbackOnFailure","rollbackOnFailureEnabled","useGlobalIds","globalIdUsed","attachments","_createEditsResult","attachmentIds","deleteAttachmentResults","then","returnUpdates","layerId","id","fullExtent","timeExtent","start","end","get","objectIds","all","parentObjectId","attachmentInfos","queryTask","executeAttachmentQuery","execute","customParameters","executeJSON","executeForIds","executeForCount","executeForExtent","executeRelationshipQuery","executeRelationshipQueryForCount","sourceJSON","returnAdvancedSymbols","_patchServiceJSON","has","drawingInfo","renderer","defaultSymbol","feature","attachment","globalId","name","contentType","uploadId","parentGlobalId","globalIdField","FileReader","readAsDataURL","onload","result","onerror","mediaType","File","_getIdsFromFeatureIdentifier","_getIdsFromFeatures","addFeatureResults","addResults","updateFeatureResults","updateResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","success","code","description","details","messages","message","httpStatus","messageCode","FormData","elements","set","append","source","responseType","prototype","constructOnly","readOnly","symbol","indexOf","Function","requestOptions","_parseUrl","_encode","String"],"mappings":"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","file":"chunks/8173.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(e,i,f){const m=\"string\"==typeof e?r(e):e,p=i[0].spatialReference,a=t(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import{isNone as e,isSome as n}from\"../../core/maybe.js\";import o from\"../../core/Logger.js\";import s from\"../../core/Error.js\";import{getInfo as r}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as i,webMercatorToGeographic as l}from\"./webMercatorUtils.js\";import f from\"../Polygon.js\";import c from\"../Polyline.js\";import{getGeometryParts as p,cutParams as u,offsetMagnitude as a,updatePolyGeometry as h}from\"./normalizeUtilsCommon.js\";import{cut as m}from\"../../tasks/geometry/cut.js\";import{simplify as g}from\"../../tasks/geometry/simplify.js\";const y=o.getLogger(\"esri.geometry.support.normalizeUtils\");function x(t){return\"polygon\"===t.type}function d(t){return\"polygon\"===t[0].type}function w(t){return\"polyline\"===t[0].type}function j(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function R(t,e){if(!(t instanceof c||t instanceof f)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(t),new s(t)}const n=p(t),o=[];for(const s of n){const t=[];o.push(t),t.push([s[0][0],s[0][1]]);for(let n=0;n<s.length-1;n++){const o=s[n][0],r=s[n][1],i=s[n+1][0],l=s[n+1][1],f=Math.sqrt((i-o)*(i-o)+(l-r)*(l-r)),c=(l-r)/f,p=(i-o)/f,u=f/e;if(u>1){for(let l=1;l<=u-1;l++){const n=l*e,s=p*n+o,i=c*n+r;t.push([s,i])}const n=(f+Math.floor(u-1)*e)/2,s=p*n+o,i=c*n+r;t.push([s,i])}t.push([i,l])}}return x(t)?new f({rings:o,spatialReference:t.spatialReference}):new c({paths:o,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=l(e,!0)}return n&&(t=h(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=a(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=a(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=a(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=a(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=p(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*a(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(d(t))for(const e of p(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of p(r))t[s]=t[s].addPath(e)}else n=s,t[s]=r}return t}async function L(o,s,l){if(!Array.isArray(o))return L([o],s);const p=s?s.url:t.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t of o)if(e(t))z.push(t);else if(y||(y=t.spatialReference,x=r(y),d=y.isWebMercator,R=d?102100:4326,w=u[R].maxX,j=u[R].minX,U=u[R].plus180Line,k=u[R].minus180Line),x)if(\"mesh\"===t.type)z.push(t);else if(\"point\"===t.type)z.push(P(t.clone(),w,j));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,x);z.push(e.rings?new f(e):e)}else if(t.extent){const e=t.extent,n=a(e.xmin,j)*(2*w);let o=0===n?t.clone():h(t.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push(\"cut\")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push(\"cut\")):z.push(o)}else z.push(t.clone());else z.push(t);let I=a(v,w),X=-90;const q=I,C=new c;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--}if(A.length>0&&q>0){const t=b(A,await m(p,A,C,l)),e=[],s=[];for(let l=0;l<z.length;l++){const r=z[l];if(\"cut\"!==r)s.push(r);else{const r=t.shift(),f=o[l];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&r.rings.length>=f.rings.length?(e.push(r),s.push(\"simplify\")):s.push(d?i(r):r)}}if(!e.length)return s;const r=await g(p,e,l),f=[];for(let n=0;n<s.length;n++){const t=s[n];\"simplify\"!==t?f.push(t):f.push(d?i(r.shift()):r.shift())}return f}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if(\"cut\"!==e)D.push(e);else{const t=A.shift();D.push(!0===d?i(t):t)}}return Promise.resolve(D)}function U(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&r(t.spatialReference);if(!n)return e;const[o,s]=n.valid,i=2*s,{width:l}=e;let f,{xmin:c,xmax:p}=e;if([c,p]=[p,c],\"extent\"===t.type||0===l||l<=s||l>i||c<o||p>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;f=j(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;f=j(t.paths);break;case\"multipoint\":f=t.points}const u=e.clone();for(let r=0;r<f.length;r++){let t=f[r][0];t<0?(t+=s,p=Math.max(t,p)):(t-=s,c=Math.min(t,c))}return u.xmin=c,u.xmax=p,u.width<l?(u.xmin-=s,u.xmax-=s,u):e}function k(t,e){const n=r(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{U as getDenormalizedExtent,L as normalizeCentralMeridian,k as normalizeMapX,R as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../SpatialReference.js\";import n from\"../Polyline.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator}),minus180Line:new n({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n({paths:[[[180,-180],[180,180]]],spatialReference:e.WGS84}),minus180Line:new n({paths:[[[-180,-180],[-180,180]]],spatialReference:e.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function o(e,n){const t=s(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s(e){return t(e)?e.rings:e.paths}function a(e){const n=(null==e?void 0:e.isWebMercator)?102100:4326;return[r[n].minX,r[n].maxX]}export{r as cutParams,s as getGeometryParts,a as getSpatialReferenceMinMaxX,i as offsetMagnitude,o as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=null,e={},s,h){this.displayId=0,this.geohashIndexed=!1,this.geohashX=0,this.geohashY=0,this.geometry=t,e&&(this.attributes=e),s&&(this.centroid=s),null!=h&&(this.objectId=h)}get hasGeometry(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}weakClone(){const e=new t(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashIndexed=this.geohashIndexed,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t=[],s=[],e=!1){this.lengths=null!=t?t:[],this.coords=null!=s?s:[],this.hasIndeterminateRingOrder=e}get isPoint(){return 0===this.lengths.length}forEachVertex(t){let s=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let e=0;e<this.lengths.length;e++){const h=this.lengths[e];for(let e=0;e<h;e++){t(this.coords[2*(e+s)],this.coords[2*(e+s)+1])}s+=h}}clone(){return new t(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Logger.js\";import t from\"../../core/Error.js\";import{isPoint as n,isPolygon as o,isPolyline as r,isMultipoint as s}from\"../../geometry/support/jsonUtils.js\";import c from\"./OptimizedFeature.js\";import l from\"./OptimizedFeatureSet.js\";import u from\"./OptimizedGeometry.js\";function i(e,t){return e?t?4:3:t?3:2}const f=e.getLogger(\"esri.tasks.support.optimizedFeatureSet\"),h={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},a=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s},g=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2]},d=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+3]},m=(e,t,n,o,r,s)=>{e[n]=r,e[n+1]=s,e[n+2]=t[o+2],e[n+3]=t[o+3]};function y(e,t,n,o){if(e){if(n)return t&&o?m:g;if(t&&o)return d}else if(t&&o)return g;return a}function p({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function I({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function b({scale:e,translate:t},n){return n*e[0]+t[0]}function M({scale:e,translate:t},n){return t[1]-n*e[1]}function w(e,t,n){return e?t?n?Z(e):T(e):n?P(e):N(e):null}function N(e){const t=e.coords;return{x:t[0],y:t[1]}}function G(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function T(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function P(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function x(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function Z(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function k(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function j(e,t,n,o){let r=N;n&&o?r=Z:n?r=T:o&&(r=P);for(const s of t){const{geometry:t,attributes:n}=s,o=t?r(t):null;e.push({attributes:n,geometry:o})}return e}function E(e,t){return e&&t?k:e?F:t?x:G}function z(e,t,n,o,r){const s=E(n,o);for(const l of t){const{geometry:t,attributes:n}=l;let o;t&&(o=s(new u,t)),e.push(new c(o,n,null,n[r]))}return e}function S(e,t,n=E(null!=t.z,null!=t.m)){return n(e,t)}function v(e,t,n,o){for(const r of t){const{geometry:t,attributes:s}=r;let c;t&&(c=V(t,n,o)),e.push({attributes:s,geometry:c})}return e}function V(e,t,n){if(!e)return null;const o=i(t,n),r=[];for(let s=0;s<e.coords.length;s+=o){const t=[];for(let n=0;n<o;n++)t.push(e.coords[s+n]);r.push(t)}return t?n?{points:r,hasZ:t,hasM:n}:{points:r,hasZ:t}:n?{points:r,hasM:n}:{points:r}}function Y(e,t,n,o,r){const s=i(n,o);for(const l of t){const t=l.geometry,n=l.attributes;let o;t&&(o=_(new u,t,s)),e.push(new c(o,n,null,n[r]))}return e}function _(e,t,n=i(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const o=e.coords;let r=0;for(const s of t.points)for(let e=0;e<n;e++)o[r++]=s[e];return e}function O(e,t,n,o){for(const r of t){const{geometry:t,attributes:s}=r;let c;t&&(c=A(t,n,o)),e.push({attributes:s,geometry:c})}return e}function A(e,t,n){if(!e)return null;const o=i(t,n),{coords:r,lengths:s}=e,c=[];let l=0;for(const u of s){const e=[];for(let t=0;t<u;t++){const t=[];for(let e=0;e<o;e++)t.push(r[l++]);e.push(t)}c.push(e)}return t?n?{paths:c,hasZ:t,hasM:n}:{paths:c,hasZ:t}:n?{paths:c,hasM:n}:{paths:c}}function L(e,t,n,o,r){const s=i(n,o);for(const l of t){const t=l.geometry,n=l.attributes;let o;t&&(o=U(new u,t,s)),e.push(new c(o,n,null,n[r]))}return e}function U(e,t,n=i(t.hasZ,t.hasM)){const{lengths:o,coords:r}=e;let s=0;for(const c of t.paths){for(const e of c)for(let t=0;t<n;t++)r[s++]=e[t];o.push(c.length)}return e}function q(e,t,n,o){for(const r of t){const{geometry:t,attributes:s,centroid:c}=r;let l;if(t&&(l=$(t,n,o)),c){const t=N(c);e.push({attributes:s,centroid:t,geometry:l})}else e.push({attributes:s,geometry:l})}return e}function $(e,t,n){if(!e)return null;const o=i(t,n),{coords:r,lengths:s}=e,c=[];let l=0;for(const u of s){const e=[];for(let t=0;t<u;t++){const t=[];for(let e=0;e<o;e++)t.push(r[l++]);e.push(t)}c.push(e)}return t?n?{rings:c,hasZ:t,hasM:n}:{rings:c,hasZ:t}:n?{rings:c,hasM:n}:{rings:c}}function R(e,t,n,o,r){for(const s of t){const t=s.geometry,l=s.centroid,i=s.attributes;let f;t&&(f=C(new u,t,n,o)),l?e.push(new c(f,i,G(new u,l),i[r])):e.push(new c(f,i,null,i[r]))}return e}function C(e,t,n=t.hasZ,o=t.hasM){return B(e,t.rings,n,o),e}function B(e,t,n,o){const r=i(n,o),{lengths:s,coords:c}=e;let l=0;s.length=c.length=0;for(const u of t){for(const e of u)for(let t=0;t<r;t++)c[l++]=e[t];s.push(u.length)}return e}const D=[],H=[];function J(e,t,n,o,r){D[0]=e;const[s]=K(H,D,t,n,o,r);return D.length=H.length=0,s}function K(e,n,o,r,s,l){if(e.length=0,!o){for(const t of n){const n=t.attributes[l];e.push(new c(null,t.attributes,null,n))}return e}switch(o){case\"esriGeometryPoint\":return z(e,n,r,s,l);case\"esriGeometryMultipoint\":return Y(e,n,r,s,l);case\"esriGeometryPolyline\":return L(e,n,r,s,l);case\"esriGeometryPolygon\":return R(e,n,r,s,l);default:f.error(\"convertToFeatureSet:unknown-geometry\",new t(`Unable to parse unknown geometry type '${o}'`)),e.length=0}return e}function Q(e,n,o,r,s,c){const l=e.length;switch(o){case\"esriGeometryPoint\":z(e,n,r,s,c);break;case\"esriGeometryMultipoint\":Y(e,n,r,s,c);break;case\"esriGeometryPolyline\":L(e,n,r,s,c);break;case\"esriGeometryPolygon\":R(e,n,r,s,c);break;default:f.error(\"convertToFeatureSet:unknown-geometry\",new t(`Unable to parse unknown geometry type '${o}'`))}for(let t=0;t<n.length;t++)e[t+l].geometryType=o,e[t+l].insertAfter=n[t].insertAfter,e[t+l].groupId=n[t].groupId;return e}function W(e,t,n,o){H[0]=e,te(D,H,t,n,o);const r=D[0];return D.length=H.length=0,r}function X(e,c,l){if(!e)return null;const h=new u;if(\"hasZ\"in e&&null==c&&(c=e.hasZ),\"hasM\"in e&&null==l&&(l=e.hasM),n(e)){return E(null!=c?c:null!=e.z,null!=l?l:null!=e.m)(h,e)}return o(e)?C(h,e,c,l):r(e)?U(h,e,i(c,l)):s(e)?_(h,e,i(c,l)):void f.error(\"convertFromGeometry:unknown-geometry\",new t(`Unable to parse unknown geometry type '${e}'`))}function ee(e,n,o,r){const s=e&&(\"coords\"in e?e:e.geometry);if(!s)return null;switch(n){case\"esriGeometryPoint\":{let e=N;return o&&r?e=Z:o?e=T:r&&(e=P),e(s)}case\"esriGeometryMultipoint\":return V(s,o,r);case\"esriGeometryPolyline\":return A(s,o,r);case\"esriGeometryPolygon\":return $(s,o,r);default:return void f.error(\"convertToGeometry:unknown-geometry\",new t(`Unable to parse unknown geometry type '${n}'`))}}function te(e,n,o,r,s){switch(e.length=0,o){case\"esriGeometryPoint\":return j(e,n,r,s);case\"esriGeometryMultipoint\":return v(e,n,r,s);case\"esriGeometryPolyline\":return O(e,n,r,s);case\"esriGeometryPolygon\":return q(e,n,r,s);default:f.error(\"convertToFeatureSet:unknown-geometry\",new t(`Unable to parse unknown geometry type '${o}'`))}return e}function ne(e){const{objectIdFieldName:t,spatialReference:n,transform:o,fields:r,hasM:s,hasZ:c,features:l,geometryType:u,exceededTransferLimit:i,uniqueIdField:f,queryGeometry:h,queryGeometryType:a}=e,g={features:te([],l,u,c,s),fields:r,geometryType:u,objectIdFieldName:t,spatialReference:n,uniqueIdField:f,queryGeometry:ee(h,a,!1,!1)};return o&&(g.transform=o),i&&(g.exceededTransferLimit=i),s&&(g.hasM=s),c&&(g.hasZ=c),g}function oe(e,n){const o=new l,{hasM:r,hasZ:s,features:c,objectIdFieldName:u,spatialReference:i,geometryType:h,exceededTransferLimit:a,transform:g,fields:d}=e;return d&&(o.fields=d),o.geometryType=h,o.objectIdFieldName=u||n,o.spatialReference=i,o.objectIdFieldName?(c&&K(o.features,c,h,s,r,o.objectIdFieldName),a&&(o.exceededTransferLimit=a),r&&(o.hasM=r),s&&(o.hasZ=s),g&&(o.transform=g),o):(f.error(new t(\"optimized-features:invalid-objectIdFieldName\",\"objectIdFieldName is missing\")),o)}function re(e){const{transform:t,features:n,hasM:o,hasZ:r}=e;if(!t)return e;for(const s of n)s.geometry&&ae(s.geometry,s.geometry,o,r,t),s.centroid&&ae(s.centroid,s.centroid,o,r,t);return e.transform=null,e}function se(e,t){const{geometryType:n,features:o,hasM:r,hasZ:s}=t;if(!e)return t;for(let c=0;c<o.length;c++){const t=o[c],l=t.weakClone();l.geometry=new u,ce(l.geometry,t.geometry,r,s,n,e),t.centroid&&(l.centroid=new u,ce(l.centroid,t.centroid,r,s,\"esriGeometryPoint\",e)),o[c]=l}return t.transform=e,t}function ce(e,t,n,o,r,s,c=n,l=o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=h[r],{coords:f,lengths:a}=t,g=i(n,o),d=i(n&&c,o&&l),m=y(n,o,c,l);if(!a.length)return m(e.coords,f,0,0,p(s,f[0]),I(s,f[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=g,e;let b,M,w,N,G=0,T=0,F=T;for(const i of a){if(i<u)continue;let t=0;T=F,w=b=p(s,f[G]),N=M=I(s,f[G+1]),m(e.coords,f,T,G,w,N),t++,G+=g,T+=d;for(let n=1;n<i;n++,G+=g)w=p(s,f[G]),N=I(s,f[G+1]),w===b&&N===M||(m(e.coords,f,T,G,w-b,N-M),T+=d,t++,b=w,M=N);t>=u&&(e.lengths.push(t),F=T)}return e.coords.length=F,e.coords.length?e:null}function le(e,t,n,o,r,s,c=n,l=o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const u=h[r],{coords:f,lengths:a}=t,g=i(n,o),d=i(n&&c,o&&l),m=y(n,o,c,l);if(!a.length)return m(e.coords,f,0,0,f[0],f[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=g,e;let p=0;const I=s*s;for(const i of a){if(i<u){p+=i*g;continue}const t=e.coords.length/d,n=p,o=p+(i-1)*g;m(e.coords,f,e.coords.length,n,f[n],f[n+1]),ie(e.coords,f,g,I,m,n,o),m(e.coords,f,e.coords.length,o,f[o],f[o+1]);const r=e.coords.length/d-t;r>=u?e.lengths.push(r):e.coords.length=t*d,p+=i*g}return e.coords.length?e:null}function ue(e,t,n,o){const r=e[t],s=e[t+1],c=e[n],l=e[n+1],u=e[o],i=e[o+1];let f=c,h=l,a=u-f,g=i-h;if(0!==a||0!==g){const e=((r-f)*a+(s-h)*g)/(a*a+g*g);e>1?(f=u,h=i):e>0&&(f+=a*e,h+=g*e)}return a=r-f,g=s-h,a*a+g*g}function ie(e,t,n,o,r,s,c){let l,u=o,i=0;for(let f=s+n;f<c;f+=n)l=ue(t,f,s,c),l>u&&(i=f,u=l);u>o&&(i-s>n&&ie(e,t,n,o,r,s,i),r(e,t,e.length,i,t[i],t[i+1]),c-i>n&&ie(e,t,n,o,r,i,c))}function fe(e,t,n,o){if(!t||!t.coords||!t.coords.length)return null;const r=i(n,o);let s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=r){const n=e[t],o=e[t+1];s=Math.min(s,n),l=Math.max(l,n),c=Math.min(c,o),u=Math.max(u,o)}}return e[0]=s,e[1]=c,e[2]=l,e[3]=u,e}function he(e,t,n,o){const r=i(n,o),{lengths:s,coords:c}=t;let l=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,a=0;for(const i of s){let e=c[a],t=c[a+1];l=Math.min(e,l),u=Math.min(t,u),f=Math.max(e,f),h=Math.max(t,h),a+=r;for(let n=1;n<i;n++,a+=r){const n=c[a],o=c[a+1];e+=n,t+=o,n<0&&(l=Math.min(l,e)),n>0&&(f=Math.max(f,e)),o<0?u=Math.min(u,t):o>0&&(h=Math.max(h,t))}}return e[0]=l,e[1]=u,e[2]=f,e[3]=h,e}function ae(e,t,n,o,r){const{coords:s,lengths:c}=t,l=n?o?m:g:o?g:a,u=i(n,o);if(!s.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!c.length)return l(e.coords,s,0,0,b(r,s[0]),M(r,s[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;const[f,h]=r.scale;let d=0;for(let i=0;i<c.length;i++){const t=c[i];e.lengths[i]=t;let n=b(r,s[d]),o=M(r,s[d+1]);l(e.coords,s,d,d,n,o),d+=u;for(let r=1;r<t;r++,d+=u)n+=s[d]*f,o-=s[d+1]*h,l(e.coords,s,d,d,n,o)}return e!==t&&(e.lengths.length=c.length,e.coords.length=s.length),e}function ge(e,t,n,o,r,s){const c=i(n,o),l=y(n,o,r,s),u=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let i=0;i<u.length;i+=c)l(e.coords,u,e.coords.length,i,u[i],u[i+1]);return e}function de(e,t,n,o,r){if(!t||!t.coords||!t.coords.length)return null;const s=h[n],{coords:c,lengths:l}=t,u=y(o,r,o,r),f=i(o,r);let a=0,g=0,d=0,m=0;for(const i of l){g=m,u(e.coords,c,g,a,c[a],c[a+1]),a+=f;let t=c[a],n=c[a+1],o=t,r=n,l=n/t;g+=f,u(e.coords,c,g,a,o,r),a+=f;for(let s=2;s<i;s++){t=c[a],n=c[a+1];const s=n/t,i=l===s||!isFinite(l)&&!isFinite(s),h=i&&isFinite(s)?l>=0&&s>=0||l<=0&&s<=0:r>=0&&n>=0||r<=0&&n<=0;i&&h?(o+=t,r+=n):(o=t,r=n,g+=f),u(e.coords,c,g,a,o,r),a+=f,l=s}g+=f;const h=(g-m)/f;h>=s&&(e.lengths[d]=h,m=g,d++)}return e.coords.length>m&&(e.coords.length=m),e.lengths.length>d&&(e.lengths.length=d),e.coords.length&&e.lengths.length?e:null}function me(e,t,n,o){let r=0,s=e[o*t],c=e[o*(t+1)];for(let l=1;l<n;l++){const n=s+e[o*(t+l)],u=c+e[o*(t+l)+1],i=(n-s)*(u+c);s=n,c=u,r+=i}return.5*r}function ye(e,t){const{coords:n,lengths:o}=e;let r=0,s=0;for(let c=0;c<o.length;c++){s+=me(n,r,o[c],t),r+=c}return Math.abs(s)}function pe(e,t){const n=e.clone(),o=e.coords,r=e.lengths;let s=0;for(let c=0;c<r.length;c++){const e=r[c];let l=o[t*s],u=o[t*s+1];for(let r=1;r<e;r++){const e=o[t*(s+r)],c=o[t*(s+r)+1],i=e-l,f=c-u;n.coords[t*(s+r)]=i,n.coords[t*(s+r)+1]=f,l=e,u=c}s+=e}return n}function Ie(e,t){const n=e.clone(),o=e.coords,r=e.lengths;let s=0;for(let c=0;c<r.length;c++){const e=r[c];let l=o[t*s],u=o[t*s+1];for(let r=1;r<e;r++){const e=l+o[t*(s+r)],c=u+o[t*(s+r)+1];n.coords[t*(s+r)]=e,n.coords[t*(s+r)+1]=c,l=e,u=c}s+=e}return n}export{J as convertFromFeature,oe as convertFromFeatureSet,K as convertFromFeatures,X as convertFromGeometry,Q as convertFromGraphics,_ as convertFromMultipoint,Y as convertFromMultipointFeatures,B as convertFromNestedArray,S as convertFromPoint,z as convertFromPointFeatures,C as convertFromPolygon,U as convertFromPolyline,L as convertFromPolylineFeatures,W as convertToFeature,ne as convertToFeatureSet,te as convertToFeatures,ee as convertToGeometry,V as convertToMultipoint,v as convertToMultipointFeatures,w as convertToPoint,$ as convertToPolygon,A as convertToPolyline,Ie as deltaDecodeGeometry,pe as deltaEncodeGeometry,le as generalizeOptimizedGeometry,fe as getBoundsOptimizedGeometry,ye as getQuantizedArea,he as getQuantizedBoundsOptimizedGeometry,me as getSignedQuantizedRingArea,se as quantizeOptimizedFeatureSet,ce as quantizeOptimizedGeometry,p as quantizeX,I as quantizeY,de as removeCollinearVectices,ge as removeZMValues,re as unquantizeOptimizedFeatureSet,ae as unquantizeOptimizedGeometry,b as unquantizeX,M as unquantizeY};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/has.js\";import{fixJson as r}from\"../../../core/lang.js\";import{setDeepValue as a}from\"../../../core/object.js\";import{isSome as s,isNone as o}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../core/Error.js\";import{dataComponents as l}from\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import d from\"../../../geometry/Extent.js\";import c from\"../../../request.js\";import h from\"../../../core/Loadable.js\";import y from\"../../../TimeExtent.js\";import{unapplyEditsZUnitScaling as p}from\"../../../tasks/operations/zscale.js\";import{processAttachmentQueryResult as m}from\"../../../tasks/operations/queryAttachments.js\";import f from\"../../../tasks/QueryTask.js\";import{createDrawingInfo as g}from\"./support/clientSideDefaults.js\";async function b(e){if(\"string\"==typeof e){const t=l(e);return t||{data:e}}return new Promise(((t,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(l(a.result)),a.onerror=e=>r(e)}))}const F=new Set([\"Feature Layer\",\"Table\"]);let R=class extends h{constructor(){super(...arguments),this.type=\"feature-layer\"}load(e){const t=s(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Promise.resolve(this)}get queryTask(){const{capabilities:{query:{supportsFormatPBF:e}},parsedUrl:r,dynamicDataSource:a,gdbVersion:s,spatialReference:o,fieldsIndex:i}=this.layer,u=t(\"featurelayer-pbf\")&&e?\"pbf\":\"json\";return new f({url:r.path,format:u,fieldsIndex:i,dynamicDataSource:a,gdbVersion:s,sourceSpatialReference:o})}async addAttachment(e,t){await this.load();const r=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+r+\"/addAttachment\",s=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,s.query);try{const e=await c(a,{body:o});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(i){throw this._createAttachmentErrorResult(r,i)}}async updateAttachment(e,t,r){await this.load();const a=e.attributes[this.layer.objectIdField],s=this.layer.parsedUrl.path+\"/\"+a+\"/updateAttachment\",o=this._getLayerRequestOptions({query:{attachmentId:t}}),i=this._getFormDataForAttachment(r,o.query);try{const e=await c(s,{body:i});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async applyEdits(e,t){await this.load();const r=e.addFeatures.map(this._serializeFeature,this),a=e.updateFeatures.map(this._serializeFeature,this),s=this._getFeatureIds(e.deleteFeatures);p(r,a,this.layer.spatialReference);const o=[],i=[],u=[...e.deleteAttachments];for(const c of e.addAttachments)o.push(await this._serializeAttachment(c));for(const c of e.updateAttachments)i.push(await this._serializeAttachment(c));const n=o.length||i.length||u.length?{adds:o,updates:i,deletes:u}:null,l=this._getLayerRequestOptions({method:\"post\",query:{adds:r.length?JSON.stringify(r):null,updates:a.length?JSON.stringify(a):null,deletes:s.length?s.join(\",\"):null,gdbVersion:null==t?void 0:t.gdbVersion,rollbackOnFailure:null==t?void 0:t.rollbackOnFailureEnabled,useGlobalIds:null==t?void 0:t.globalIdUsed,attachments:n&&JSON.stringify(n)}}),d=await c(this.layer.parsedUrl.path+\"/applyEdits\",l);return this._createEditsResult(d)}async deleteAttachments(e,t){await this.load();const r=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+r+\"/deleteAttachments\";try{return(await c(a,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(s){throw this._createAttachmentErrorResult(r,s)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:r,url:a}=this.layer,{data:s}=await c(`${a}/${r}`,t),{id:o,extent:i,fullExtent:u,timeExtent:n}=s,l=i||u;return{id:o,fullExtent:l&&d.fromJSON(l),timeExtent:n&&y.fromJSON({start:n[0],end:n[1]})}}))}async queryAttachments(e,t={}){const{parsedUrl:r}=this.layer,a=r.path;await this.load();const s=this._getLayerRequestOptions(t);if(!this.layer.get(\"capabilities.operations.supportsQueryAttachments\")){const{objectIds:t}=e,r=[];for(const e of t){const t=a+\"/\"+e+\"/attachments\";r.push(c(t,s))}return Promise.all(r).then((e=>t.map(((t,r)=>({parentObjectId:t,attachmentInfos:e[r].data.attachmentInfos}))))).then((e=>m(e,a)))}return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async _fetchService(e){let r=this.layer.sourceJSON;if(!r){const{data:a}=await c(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:t(\"featurelayer-advanced-symbols\")?{returnAdvancedSymbols:!0}:{},signal:e}));r=a}this.sourceJSON=this._patchServiceJSON(r);const a=r.type;if(!F.has(a))throw new n(\"feature-layer-source:unsupported-type\",`Source type \"${a}\" is not supported`)}_patchServiceJSON(e){var t;if(\"Table\"!==e.type&&e.geometryType&&(null==e||null==(t=e.drawingInfo)||!t.renderer)&&!e.defaultSymbol){const t=g(e.geometryType).renderer;a(\"drawingInfo.renderer\",t,e)}return e}_serializeFeature(e){const{geometry:t,attributes:r}=e;return o(t)?{attributes:r}:\"mesh\"===t.type||\"extent\"===t.type?null:{geometry:t.toJSON(),attributes:r}}async _serializeAttachment(e){const{feature:t,attachment:r}=e,{globalId:a,name:s,contentType:o,data:i,uploadId:u}=r,n={globalId:a,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(n.parentGlobalId=\"attributes\"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),u)n.uploadId=u;else if(i){const e=await b(i);n.contentType=e.mediaType,n.data=e.data,i instanceof File&&(n.name=i.name)}return s&&(n.name=s),o&&(n.contentType=o),n}_getFeatureIds(e){const t=e[0];return t?\"objectId\"in t?this._getIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}_getIdsFromFeatures(e){const t=this.layer.objectIdField;return e.map((e=>e.attributes&&e.attributes[t]))}_getIdsFromFeatureIdentifier(e){return e.map((e=>e.objectId))}_createEditsResult(e){const t=e.data,r=e.data&&e.data.attachments;return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:r&&r.addResults?r.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:r&&r.updateResults?r.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:r&&r.deleteResults?r.deleteResults.map(this._createFeatureEditResult,this):[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new n(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const r=t.details.messages&&t.details.messages[0]||t.message,a=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new n(\"feature-layer-source:attachment-failure\",r,{code:a})}}_getFormDataForAttachment(e,t){const r=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(r)for(const a in t){const e=t[a];null!=e&&(r.set?r.set(a,e):r.append(a,e))}return r}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:a,dynamicDataSource:s}=this.layer;return{...e,query:r({gdbVersion:a,layer:s?JSON.stringify({source:s}):void 0,...t.query,f:\"json\",...this.layer.customParameters,...null==e?void 0:e.query}),responseType:\"json\"}}};e([i()],R.prototype,\"type\",void 0),e([i({constructOnly:!0})],R.prototype,\"layer\",void 0),e([i({readOnly:!0})],R.prototype,\"queryTask\",null),R=e([u(\"esri.layers.graphics.sources.FeatureLayerSource\")],R);var q=R;export default q;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as r}from\"../../../../core/lang.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as n,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function i(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?n:o}}}function s(r,e){if(t(\"csp-restrictions\"))return()=>({[e]:null,...r});try{let t=`this.${e} = null;`;for(const e in r){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(r[e])};`}const n=new Function(t);return()=>new n}catch(n){return()=>({[e]:null,...r})}}function u(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:r(t)}}]}export{s as createDefaultAttributesFunction,u as createDefaultTemplate,i as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{urlToObject as e}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import t from\"../core/Accessor.js\";let i=class extends t{constructor(...r){super(...r),this.requestOptions=null,this.url=null}normalizeCtorArgs(r,o){return\"string\"!=typeof r?r:{url:r,...o}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(r){return r?e(r):null}_encode(r,o,s){const e={};for(const t in r){if(\"declaredClass\"===t)continue;const i=r[t];if(null!=i&&\"function\"!=typeof i)if(Array.isArray(i)){e[t]=[];for(let r=0;r<i.length;r++)e[t][r]=this._encode(i[r])}else if(\"object\"==typeof i)if(i.toJSON){const r=i.toJSON(s&&s[t]);e[t]=o?r:JSON.stringify(r)}else e[t]=o?i:JSON.stringify(i);else e[t]=i}return e}};r([o({readOnly:!0})],i.prototype,\"parsedUrl\",null),r([o()],i.prototype,\"requestOptions\",void 0),r([o({type:String})],i.prototype,\"url\",void 0),i=r([s(\"esri.tasks.Task\")],i);var p=i;export default p;\n"],"sourceRoot":""}