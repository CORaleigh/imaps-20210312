{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/LRUCache.js","webpack://imaps/./node_modules/@arcgis/core/core/compilerUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/LegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/VisualVariable.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/SizeStop.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/SizeVariableLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/VisualVariableLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/GeometryUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/meshUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/processors/BaseProcessor.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/CollisionGrid.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/processors/SymbolProcessor.js"],"names":["e","r","this","_storage","maxSize","registerRemoveFunc","t","put","pop","get","clearAll","n","o","s","p","super","arguments","title","type","String","json","write","prototype","S","z","v","width","depth","height","widthAndDepth","all","w","unknown","inch","foot","yard","mile","millimeter","centimeter","decimeter","meter","kilometer","V","g","f","i","read","axis","legendOptions","normalizationField","scaleBy","target","useSymbolValue","valueExpression","valueRepresentation","valueUnit","ipData","_interpolateData","hasExpression","compiledFunc","isScaleDriven","warn","_set","index","minSize","stops","arcadeRequired","minDataValue","maxDataValue","Array","isArray","filter","sort","value","inputValueType","expression","messages","push","instance","propertyName","context","field","valueExpressionTitle","clone","map","transformationType","size","reverse","length","getAttributeHash","readOnly","dependsOn","apiValues","jsonValues","origins","Number","Boolean","a","u","colorInfo","transparencyInfo","rotationInfo","sizeInfo","c","error","label","cast","customValues","showLegend","slice","POSITIVE_INFINITY","Math","PI","h","M","P","log","N","from","y","T","E","m","Error","l","load","geometryType","_data","shared","data","bits","setBits","bit","setBit","mapAligned","pattern","sdf","textureBinding","d","hasVV","vvSizeMinMaxValue","vvSizeScaleStops","vvSizeFieldStops","vvSizeUnitValue","setVV","vvRotation","vvColor","vvOpacity","dotDensity","getVariation","toJSON","constructOnly","_bucketSize","_rowsLength","_colsLength","_elementsPerBucket","_grid","_initGrid","floor","Uint8Array","schema","processors","_schema","console","debug","mesh","why","_factory","_createFactory","update","tileStore","tileScheme","tileInfo","_onTileData","signal","tileKey","id","remoteClient","invoke","objectIdField","fields","service","spatialReference","_store","_matcher","matcher","addOrUpdate","remove","end","clear","_processFeatures","message","transferList","_handleError","hasFeatures","transform","hasZ","hasM","viewingMode","scale","_getLabelInfos","analyze","getCursor","_writeFeatureSet","createMeshData","getApproximateSize","next","getDisplayId","writeCursor","level","_encodeDisplayData","encode","readLegacyPointGeometry","checkOverlap","x","readLegacyCentroid","markUsed","labels","minScale","maxScale","Map","_shouldDiscard","has","set","readAttribute","getStorage","getComputedStringAtIndex","fieldIndex","toString","getMosaicItem","symbol","then","glyphs","glyphMosaicItems","rtl","_markUsed"],"mappings":"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","file":"chunks/1629.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"./has.js\";function n(n){}function t(n){}function o(n){return()=>n}const c=(...n)=>n;export{n as neverReached,t as neverReachedSilent,c as tuple,o as typeCast};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.title=null}clone(){return new s({title:this.title})}};r([o({type:String,json:{write:!0}})],p.prototype,\"title\",void 0),p=s=r([t(\"esri.renderers.support.LegendOptions\")],p);var i=p;export default i;export{p as LegendOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{JSONMap as r}from\"../../core/jsonMap.js\";import{reader as a}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../../core/accessorSupport/decorators/writer.js\";import l from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{toPt as p}from\"../../core/screenUtils.js\";import u from\"./VisualVariable.js\";import m from\"./support/SizeStop.js\";import h from\"./support/SizeVariableLegendOptions.js\";import{isSizeVariable as d,getInputValueType as c,getTransformationType as y}from\"./support/sizeVariableUtils.js\";import{viewScaleRE as x}from\"./support/visualVariableUtils.js\";var S;const z=t.getLogger(\"esri.renderers.visualVariables.SizeVariable\"),v=new r({width:\"width\",depth:\"depth\",height:\"height\",widthAndDepth:\"width-and-depth\",all:\"all\"}),w=new r({unknown:\"unknown\",inch:\"inches\",foot:\"feet\",yard:\"yards\",mile:\"miles\",\"nautical-mile\":\"nautical-miles\",millimeter:\"millimeters\",centimeter:\"centimeters\",decimeter:\"decimeters\",meter:\"meters\",kilometer:\"kilometers\",\"decimal-degree\":\"decimal-degrees\"});function V(e){if(null!=e)return\"string\"==typeof e||\"number\"==typeof e?p(e):\"size\"===e.type?d(e)?e:(delete(e={...e}).type,new g(e)):void 0}function f(e,t,i){if(\"object\"!=typeof e)return e;const s=new g;return s.read(e,i),s}let g=S=class extends u{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type=\"size\",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:x.test(this.valueExpression)}}set expression(e){z.warn(\"'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.\"),\"view.scale\"===e?(this.valueExpression=\"$view.scale\",this._set(\"expression\",e)):this._set(\"expression\",null)}set index(e){d(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),d(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set(\"index\",e)}get inputValueType(){return c(this)}set maxDataValue(e){e&&this.stops&&(z.warn(\"cannot set maxDataValue when stops is not null.\"),e=null),this._set(\"maxDataValue\",e)}set maxSize(e){e&&this.stops&&(z.warn(\"cannot set maxSize when stops is not null.\"),e=null),this._set(\"maxSize\",e)}castMaxSize(e){return V(e)}readMaxSize(e,t,i){return f(e,0,i)}set minDataValue(e){e&&this.stops&&(z.warn(\"cannot set minDataValue when stops is not null.\"),e=null),this._set(\"minDataValue\",e)}set minSize(e){e&&this.stops&&(z.warn(\"cannot set minSize when stops is not null.\"),e=null),this._set(\"minSize\",e)}castMinSize(e){return V(e)}readMinSize(e,t,i){return f(e,0,i)}get arcadeRequired(){return!!this.valueExpression||(this.minSize&&\"object\"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&\"object\"==typeof this.maxSize&&this.maxSize.arcadeRequired)}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(z.warn(\"cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null.\"),e=null),this._set(\"stops\",e)}get transformationType(){return y(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&\"$view.scale\"}writeValueExpressionWebScene(e,t,i,s){if(\"$view.scale\"===e){if(s&&s.messages){const e=this.index,t=\"string\"==typeof e?e:`visualVariables[${e}]`;s.messages.push(new l(\"property:unsupported\",this.type+\"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.\",{instance:this,propertyName:t+\".valueExpression\",context:s}))}}else t[i]=e}readValueUnit(e){return e?w.read(e):null}clone(){return new S({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:d(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:d(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(\"clamped-linear\"===this.transformationType){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(\"stops\"===this.transformationType){const e=this.stops,t=e.map((e=>e.size)).reverse(),i=e.length;for(let s=0;s<i;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};e([i({readOnly:!0,dependsOn:[\"valueExpression\",\"stops\"]})],g.prototype,\"cache\",null),e([i({type:v.apiValues,json:{type:v.jsonValues,origins:{\"web-map\":{read:!1}},read:v.read,write:v.write}})],g.prototype,\"axis\",void 0),e([i({type:String,value:null,json:{read:!1}})],g.prototype,\"expression\",null),e([i()],g.prototype,\"index\",null),e([i({type:String,readOnly:!0,dependsOn:[\"field\",\"valueExpression\"]})],g.prototype,\"inputValueType\",null),e([i({type:h,json:{write:!0}})],g.prototype,\"legendOptions\",void 0),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"maxDataValue\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"maxSize\",null),e([s(\"maxSize\")],g.prototype,\"castMaxSize\",null),e([a(\"maxSize\")],g.prototype,\"readMaxSize\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"minDataValue\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"minSize\",null),e([s(\"minSize\")],g.prototype,\"castMinSize\",null),e([a(\"minSize\")],g.prototype,\"readMinSize\",null),e([i({type:String,json:{write:!0}})],g.prototype,\"normalizationField\",void 0),e([i({readOnly:!0,dependsOn:[\"valueExpression\",\"minSize.arcadeRequired\",\"maxSize.arcadeRequired\"]})],g.prototype,\"arcadeRequired\",null),e([i({type:String})],g.prototype,\"scaleBy\",void 0),e([i({type:[m],value:null,json:{write:!0}})],g.prototype,\"stops\",null),e([i({type:[\"outline\"],json:{write:!0}})],g.prototype,\"target\",void 0),e([i({type:String,readOnly:!0,dependsOn:[\"minDataValue\",\"maxDataValue\",\"minSize\",\"maxSize\",\"valueUnit\",\"inputValueType\",\"stops\"]})],g.prototype,\"transformationType\",null),e([i({type:[\"size\"],json:{type:[\"sizeInfo\"]}})],g.prototype,\"type\",void 0),e([i({type:Boolean,json:{write:!0,origins:{\"web-map\":{read:!1}}}})],g.prototype,\"useSymbolValue\",void 0),e([i({type:String,json:{write:!0}})],g.prototype,\"valueExpression\",void 0),e([a(\"valueExpression\",[\"valueExpression\",\"expression\"])],g.prototype,\"readValueExpression\",null),e([o(\"web-scene\",\"valueExpression\")],g.prototype,\"writeValueExpressionWebScene\",null),e([i({type:[\"radius\",\"diameter\",\"area\",\"width\",\"distance\"],json:{write:!0}})],g.prototype,\"valueRepresentation\",void 0),e([i({type:w.apiValues,json:{write:w.write,origins:{\"web-map\":{read:!1},\"web-scene\":{write:!0}}}})],g.prototype,\"valueUnit\",void 0),e([a(\"valueUnit\")],g.prototype,\"readValueUnit\",null),g=S=e([n(\"esri.renderers.visualVariables.SizeVariable\")],g);var j=g;export default j;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{ensureString as o}from\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import n from\"./support/VisualVariableLegendOptions.js\";const a=r.getLogger(\"esri.renderers.visualVariables.VisualVariable\"),u=new i({colorInfo:\"color\",transparencyInfo:\"opacity\",rotationInfo:\"rotation\",sizeInfo:\"size\"});let c=class extends l{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:\"function\"==typeof e?(a.error(\".field: field must be a string value\"),null):o(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};e([t()],c.prototype,\"index\",void 0),e([t({type:u.apiValues,readOnly:!0,json:{read:u.read,write:u.write}})],c.prototype,\"type\",void 0),e([t({type:String,json:{write:!0}})],c.prototype,\"field\",void 0),e([s(\"field\")],c.prototype,\"castField\",null),e([t({type:String,json:{write:!0}})],c.prototype,\"valueExpression\",void 0),e([t({type:String,json:{write:!0}})],c.prototype,\"valueExpressionTitle\",void 0),e([t({readOnly:!0,dependsOn:[\"valueExpression\"]})],c.prototype,\"arcadeRequired\",null),e([t({type:n,json:{write:!0}})],c.prototype,\"legendOptions\",void 0),c=e([p(\"esri.renderers.visualVariables.VisualVariable\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{toPt as t}from\"../../../core/screenUtils.js\";var p;let i=p=class extends s{constructor(r){super(r),this.label=null,this.size=null,this.value=null}clone(){return new p({label:this.label,size:this.size,value:this.value})}};r([e({type:String,json:{write:!0}})],i.prototype,\"label\",void 0),r([e({type:Number,cast:t,json:{write:!0}})],i.prototype,\"size\",void 0),r([e({type:Number,json:{write:!0}})],i.prototype,\"value\",void 0),i=p=r([o(\"esri.renderers.visualVariables.support.SizeStop\")],i);var l=i;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"./VisualVariableLegendOptions.js\";var t;let i=t=class extends o{constructor(){super(...arguments),this.customValues=null}clone(){return new t({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};s([r({type:[Number],json:{write:!0}})],i.prototype,\"customValues\",void 0),i=t=s([e(\"esri.renderers.visualVariables.support.SizeVariableLegendOptions\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../support/LegendOptions.js\";var t;let p=t=class extends s{constructor(){super(...arguments),this.showLegend=null}clone(){return new t({title:this.title,showLegend:this.showLegend})}};r([o({type:Boolean,json:{write:!0}})],p.prototype,\"showLegend\",void 0),p=t=r([e(\"esri.renderers.visualVariables.support.VisualVariableLegendOptions\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=Number.POSITIVE_INFINITY,t=Math.PI,r=2*t,u=t/2,o=128/t,e=t/128,c=256/360,f=t/180,i=1.414213562,I=1/1.414213562,N=1/Math.LN2;function a(n,t){return(n%=t)>=0?n:n+t}function h(n){return a(n*o,256)}function M(n){return a(.7111111111111111*n,256)}function P(n){return Math.log(n)*N}function T(n){return n*n}function b(n,t,r){return n*(1-r)+t*r}function g(n,t,r){return n>=t&&n<=r||n>=r&&n<=t}export{e as C_256_TO_RAD,r as C_2PI,c as C_DEG_TO_256,f as C_DEG_TO_RAD,n as C_INFINITY,t as C_PI,u as C_PI_BY_2,o as C_RAD_TO_256,i as C_SQRT2,I as C_SQRT2_INV,g as between,M as degToByte,b as interpolate,P as log2,a as positiveMod,h as radToByte,T as sqr};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Error.js\";import{WGLVVFlag as e,WGLVVTarget as i,WGLGeometryType as s}from\"../enums.js\";import{isMapAligned as r}from\"../mesh/templates/meshUtils.js\";function a(t,s=!1){const r=e.SIZE_FIELD_STOPS|e.SIZE_MINMAX_VALUE|e.SIZE_SCALE_STOPS|e.SIZE_UNIT_VALUE,a=(t&(i.FIELD_TARGETS_OUTLINE|i.MINMAX_TARGETS_OUTLINE|i.SCALE_TARGETS_OUTLINE|i.UNIT_TARGETS_OUTLINE))>>>4;return s?r&a:r&~a}function n(t){const i=a(t,!1);return t&(e.COLOR|e.OPACITY|e.ROTATION|i)}function o(t){return t&(e.COLOR|e.OPACITY)}function v(t,i){if(i){return t&a(t,!0)}const s=a(t,!1);return t&(e.COLOR|e.OPACITY|s)}function h(t){return n(t)}function u(t){return t&a(t,!1)}function S(t,e,i,r,a){switch(t){case s.FILL:return z.from(e,r);case s.LINE:return y.from(e,i);case s.MARKER:return T.from(e);case s.TEXT:return E.from(e);case s.LABEL:return m.from(e,a);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function l(t){switch(c.load(t).geometryType){case s.MARKER:return new T(t);case s.FILL:return new z(t);case s.LINE:return new y(t);case s.TEXT:return new E(t);case s.LABEL:return new m(t)}}class c{constructor(t){this._data=0,this._data=t}static load(t){const e=this.shared;return e.data=t,e}set data(t){this._data=t}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(t){this.setBits(t,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(t){this.setBit(20,t)}get sdf(){return!!this.bit(11)}set sdf(t){this.setBit(11,t)}get pattern(){return!!this.bit(12)}set pattern(t){this.setBit(12,t)}get textureBinding(){return this.bits(0,8)}set textureBinding(t){this.setBits(t,0,8)}get geometryTypeString(){switch(this.geometryType){case s.FILL:return\"fill\";case s.MARKER:return\"marker\";case s.LINE:return\"line\";case s.TEXT:return\"text\";case s.LABEL:return\"label\";default:throw new t(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const i=1<<t;e?this._data|=i:this._data&=~i}bit(t){return(this._data&1<<t)>>t}setBits(t,e,i){for(let s=e,r=0;s<i;s++,r++)this.setBit(s,0!=(t&1<<r))}bits(t,e){let i=0;for(let s=t,r=0;s<e;s++,r++)i|=this.bit(s)<<r;return i}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(7&this.textureBinding)}}c.shared=new c(0);const d=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(t){this.setBit(16,t)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(t){this.setBit(17,t)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(t){this.setBit(18,t)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(t){this.setBit(19,t)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(t,i){super.setVV(t,i);const s=a(t,i)&t;this.vvSizeMinMaxValue=!!(s&e.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&e.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&e.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&e.SIZE_SCALE_STOPS)}},V=t=>class extends t{get vvRotation(){return 0!==this.bit(15)}set vvRotation(t){this.setBit(15,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,i){super.setVV(t,i),this.vvRotation=!i&&!!(t&e.ROTATION)}},p=t=>class extends t{get vvColor(){return 0!==this.bit(13)}set vvColor(t){this.setBit(13,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,i){super.setVV(t,i),this.vvColor=!i&&!!(t&e.COLOR)}},g=t=>class extends t{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(t){this.setBit(14,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,i){super.setVV(t,i),this.vvOpacity=!i&&!!(t&e.OPACITY)}};class z extends(p(g(c))){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.FILL,e?i.dotDensity=!0:i.setVV(t,!1),i.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,vvColor:this.vvColor,vvOpacity:this.vvOpacity}}get dotDensity(){return!!this.bit(15)}set dotDensity(t){this.setBit(15,t)}}z.shared=new z(0);class T extends(p(g(V(d(c))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.MARKER,e.setVV(t,!1),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}T.shared=new T(0);class y extends(p(g(d(c)))){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.LINE,i.setVV(t,e),i.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}y.shared=new y(0);class E extends(p(g(V(d(c))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(t);return e.geometryType=s.TEXT,e.setVV(t,!1),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}E.shared=new E(0);class m extends(d(c)){static load(t){const e=this.shared;return e.data=t,e}static from(t,e){const i=this.load(0);return i.geometryType=s.LABEL,i.setVV(t,!1),i.mapAligned=!!r(e),i.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}m.shared=new m(0);export{z as FillMaterialKey,m as LabelMaterialKey,y as LineMaterialKey,T as MarkerMaterialKey,c as MaterialKeyBase,E as TextMaterialKey,S as createMaterialKey,o as getFillVVFlags,u as getLabelVVFlags,v as getLineVVFlags,n as getMarkerVVFlags,a as getSizeFlagsMask,h as getTextVVFlags,l as hydrateMaterialKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e){case\"above-along\":case\"below-along\":case\"center-along\":return 1;default:return 0}}export{e as isMapAligned};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as o}from\"../../../../../core/HandleOwner.js\";let s=class extends o{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.get(\"tileStore.tileScheme.spatialReference\");return e&&e.toJSON()||null}};e([r({readOnly:!0})],s.prototype,\"supportsTileUpdates\",null),e([r({constructOnly:!0})],s.prototype,\"remoteClient\",void 0),e([r({constructOnly:!0})],s.prototype,\"service\",void 0),e([r({dependsOn:[\"tileStore.tileScheme.spatialReference\"]})],s.prototype,\"spatialReference\",null),e([r({constructOnly:!0})],s.prototype,\"tileInfo\",void 0),e([r({constructOnly:!0})],s.prototype,\"tileStore\",void 0),s=e([t(\"esri.views.2d.layers.features.processors.BaseProcessor\")],s);var p=s;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{TILE_SIZE as t}from\"../definitions.js\";class i{constructor(i,s=2){this._bucketSize=i,this._rowsLength=t/i,this._colsLength=t/i,this._elementsPerBucket=s,this._grid=this._initGrid()}checkOverlap(t,i){const s=Math.floor(t/this._bucketSize),e=Math.floor(i/this._bucketSize);return s<0||s>=this._rowsLength||e<0||e>=this._colsLength||this._grid[e*this._colsLength+s]>=this._elementsPerBucket}markUsed(t,i){const s=Math.floor(t/this._bucketSize),e=Math.floor(i/this._bucketSize);this._grid[e*this._colsLength+s]+=1}reset(){this._grid=this._initGrid()}_initGrid(){return new Uint8Array(this._rowsLength*this._colsLength)}}export{i as CollisionGrid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/has.js\";import{andThen as r,unwrap as s,isNone as o,isSome as i}from\"../../../../../core/maybe.js\";import a from\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/Error.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{throwIfAborted as c,isAbortError as l}from\"../../../../../core/promiseUtils.js\";import m from\"../../../../../geometry/SpatialReference.js\";import{diff as p,hasDiff as d}from\"../../../../../core/accessorSupport/diffUtils.js\";import{COLLISION_EARLY_REJECT_BUCKET_SIZE as u}from\"../../../engine/webgl/definitions.js\";import{bidiText as h}from\"../../../engine/webgl/util/BidiText.js\";import{createMatcher as g}from\"../../../engine/webgl/mesh/factories/matcherUtils.js\";import{codepoints as y}from\"../textUtils.js\";import{WGLTemplateStore as f}from\"../../../engine/webgl/mesh/templates/WGLTemplateStore.js\";import{WGLMeshFactory as _}from\"../../../engine/webgl/mesh/factories/WGLMeshFactory.js\";import{isAggregateId as b}from\"../support/AttributeStore.js\";import{CollisionGrid as j}from\"../../../engine/webgl/collisions/CollisionGrid.js\";import w from\"./BaseProcessor.js\";a.getLogger(\"esri.views.2d.layers.features.processors.SymbolProcessor\");let S=class extends w{constructor(){super(...arguments),this.type=\"symbol\"}destroy(){}get supportsTileUpdates(){return!0}async update(e,r){const s=r.schema.processors[0];if(\"symbol\"!==s.type)return;const o=p(this._schema,s);d(o,\"mesh\")&&(t(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - Processor:\",o),e.mesh=!0,e.why.mesh.push(\"Symbology changed\"),this._schema=s,this._factory=this._createFactory(s),this._factory.update(s,this.tileStore.tileScheme.tileInfo))}onTileData(e,t,r){return c(r),this._onTileData(e,t,r)}onTileError(e,t,r){const s=r.signal,o={tileKey:e.id,error:t};return this.remoteClient.invoke(\"tileRenderer.onTileError\",o,{signal:s})}_createFactory(e){const{geometryType:t,objectIdField:r,fields:s}=this.service,o={geometryType:t,fields:s,spatialReference:m.fromJSON(this.spatialReference)},i=new f(((e,t)=>this.remoteClient.invoke(\"tileRenderer.getMaterialItems\",e,t)),!1);return this._store=i,this._matcher=g(e.mesh.matcher,i,o),new _(t,r,i)}async _onTileData(e,t,o){const{type:i,addOrUpdate:a,remove:n,end:l}=t;if(!a){const t={type:i,addOrUpdate:null,remove:n,clear:!1,end:l};return this.remoteClient.invoke(\"tileRenderer.onTileData\",{tileKey:e.id,data:t},o)}const m=this._processFeatures(e,a,o),p=o.signal;try{const t=await m,o=r(t,(e=>e.message)),a=r(t,(e=>e.transferList))||[],d={type:i,addOrUpdate:o,remove:n,clear:!1,end:l},u={transferList:s(a)||[],signal:p};return c(u),this.remoteClient.invoke(\"tileRenderer.onTileData\",{tileKey:e.id,data:d},u)}catch(t){this._handleError(e,t,o)}}async _processFeatures(e,t,r){if(o(t)||!t.hasFeatures)return null;const s={transform:e.transform,hasZ:!1,hasM:!1},i=this._factory,a={viewingMode:\"\",scale:e.scale},n=await this._matcher;c(r);const l=this._getLabelInfos(e,t);return await i.analyze(t.getCursor(),n,s,a),c(r),this._writeFeatureSet(e,t,s,l,i)}_writeFeatureSet(e,t,r,s,o){const a=o.createMeshData(t.getApproximateSize()),n={viewingMode:\"\",scale:e.scale},c=t.getCursor();for(;c.next();)try{const t=c.getDisplayId(),l=i(s)?s.get(t):null;o.writeCursor(a,c,r,n,e.level,l)}catch(e){}return this._encodeDisplayData(a)}_encodeDisplayData(e){const t={},r=new Array;return e.encode(t,r),{message:t,transferList:r}}_handleError(e,t,r){if(!l(t)){const s={tileKey:e.id,error:t.message};return this.remoteClient.invoke(\"tileRenderer.onTileError\",s,{signal:r.signal})}}_shouldDiscard(e,t){switch(this.service.geometryType){case\"esriGeometryPoint\":{const r=t.readLegacyPointGeometry();return!r||e.checkOverlap(r.x,r.y)}case\"esriGeometryPolygon\":{const r=t.readLegacyCentroid();return!r||e.checkOverlap(r.x,r.y)}default:return!1}}_markUsed(e,t){switch(this.service.geometryType){case\"esriGeometryPoint\":{const{x:r,y:s}=t.readLegacyPointGeometry();return e.markUsed(r,s)}case\"esriGeometryPolygon\":{const{x:r,y:s}=t.readLegacyCentroid();return e.markUsed(r,s)}}}_getLabelInfos(e,t){const s=this._schema.mesh.labels,i=r(s,(t=>t.filter((t=>function(e,t){return(!e.minScale||e.minScale>=t)&&(!e.maxScale||e.maxScale<=t)}(t,e.scale)))));if(o(i)||0===i.length)return null;const a=new Map,n=new j(u),c=t.getCursor();for(;c.next();){const e=c.getDisplayId();if(this._shouldDiscard(n,c)){a.has(e)||a.set(e,null);continue}let t=!1;const r=[],s=b(e),o=s&&1!==c.readAttribute(\"cluster_count\")?\"aggregate\":\"feature\";for(const a of i){if(a.target!==o)continue;const i=c.getStorage(),n=s&&\"feature\"===o?i.getComputedStringAtIndex(c.readAttribute(\"referenceId\"),a.fieldIndex):i.getComputedStringAtIndex(e,a.fieldIndex);if(!n)continue;const l=h(n.toString()),m=l[0],p=l[1];this._store.getMosaicItem(a.symbol,y(m)).then((e=>{r[a.index]={glyphs:e.glyphMosaicItems,rtl:p,index:a.index}})),t=!0}a.set(e,r),t&&this._markUsed(n,c)}return a}};S=e([n(\"esri.views.2d.layers.features.processors.SymbolProcessor\")],S);var x=S;export default x;\n"],"sourceRoot":""}