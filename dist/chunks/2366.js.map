{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/queryUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/simplify.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/cut.js","webpack://imaps/./node_modules/@arcgis/core/tasks/support/ServiceAreaSolveResult.js","webpack://imaps/./node_modules/@arcgis/core/tasks/ServiceAreaTask.js","webpack://imaps/./node_modules/@arcgis/core/tasks/Task.js","webpack://imaps/./node_modules/@arcgis/core/tasks/mixins/NAServiceDescription.js","webpack://imaps/./node_modules/@arcgis/core/tasks/support/GPMessage.js","webpack://imaps/./node_modules/@arcgis/core/tasks/support/NAMessage.js"],"names":["t","this","_options","e","toJSON","o","Object","keys","forEach","n","r","name","s","getter","Array","isArray","join","JSON","stringify","async","i","f","m","p","spatialReference","a","u","query","sr","wkid","geometries","geometryType","map","fromJSON","path","data","g","102100","maxX","minX","plus180Line","paths","minus180Line","4326","x","type","y","w","rings","R","Math","ceil","d","L","error","push","length","l","sqrt","c","floor","M","b","clone","offset","P","url","j","X","U","W","k","A","S","v","isWebMercator","points","_normalize","extent","xmin","intersects","xmax","z","G","I","q","addPath","cutIndexes","some","Number","toFixed","getPoint","setPoint","addRing","target","cutter","shift","D","valid","features","geometry","super","facilities","messages","pointBarriers","polylineBarriers","polygonBarriers","serviceAreaPolylines","serviceAreaPolygons","barriers","saPolylines","saPolygons","prototype","accumulateAttributes","attributeParameterValues","defaultBreaks","outSpatialReference","restrictionAttributes","returnPointBarriers","travelMode","_collectGeometries","then","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","hasZ","_dropZValuesOffInputGeometry","get","parsedUrl","toQueryParams","requestOptions","_parseUrl","_encode","readOnly","dependsOn","String","_serviceDescriptionPromise","_fetchServiceDescription","supportedTravelModes","id","itemId","currentVersion","defaultTravelMode","substring","indexOf","owningSystemUrl","test","serviceName","results","paramName","value","attributes","parse","TravelMode","console","log","esriJobMessageTypeInformative","esriJobMessageTypeProcessDefinition","esriJobMessageTypeProcessStart","esriJobMessageTypeProcessStop","esriJobMessageTypeWarning","esriJobMessageTypeError","esriJobMessageTypeEmpty","esriJobMessageTypeAbort","description","json","write","read","0","1","2","3","50","100","101","200"],"mappings":"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","file":"chunks/2366.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t={}){this._options=t}toQueryParams(t){if(!t)return null;const e=t.toJSON(),o={};return Object.keys(e).forEach((t=>{const n=this._options[t];if(n){const r=\"boolean\"!=typeof n&&n.name?n.name:t,s=\"boolean\"!=typeof n&&n.getter?n.getter(e):e[t];null!=s&&(o[r]=(t=>{if(!Array.isArray(t))return!1;const[e]=t;return\"number\"==typeof e||\"string\"==typeof e})(s)?s.join(\",\"):\"object\"==typeof s?JSON.stringify(s):s)}else o[t]=e[t]}),this),o}}function e(e){return new t(e)}export{e as createQueryParamsHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(i,n,f){const m=\"string\"==typeof i?r(i):i,p=n[0].spatialReference,a=t(n[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(n))}};return function(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import{isNone as t,isSome as n}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import o from\"../../core/Error.js\";import{resolve as r}from\"../../core/promiseUtils.js\";import{getInfo as i}from\"./spatialReferenceUtils.js\";import f from\"../SpatialReference.js\";import{geographicToWebMercator as l,webMercatorToGeographic as c}from\"./webMercatorUtils.js\";import p from\"../Polygon.js\";import a from\"../Polyline.js\";import{cut as u}from\"../../tasks/geometry/cut.js\";import{simplify as h}from\"../../tasks/geometry/simplify.js\";const m=s.getLogger(\"esri.geometry.support.normalizeUtils\"),g={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator}),minus180Line:new a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new a({paths:[[[180,-180],[180,180]]],spatialReference:f.WGS84}),minus180Line:new a({paths:[[[-180,-180],[-180,180]]],spatialReference:f.WGS84})}};function x(e){return\"polygon\"===e.type}function y(e){return\"polyline\"===e[0].type}function w(e){return x(e)?e.rings:e.paths}function R(e,t){return Math.ceil((e-t)/(2*t))}function d(e,t){const n=w(e);for(const e of n)for(const n of e)n[0]+=t;return e}function j(e){const t=[];let n=0,s=0;for(let o=0;o<e.length;o++){const r=e[o];let i=null;for(let e=0;e<r.length;e++)i=r[e],t.push(i),0===e?(n=i[0],s=n):(n=Math.min(n,i[0]),s=Math.max(s,i[0]));i&&t.push([(n+s)/2,0])}return t}function M(e,t){if(!(e instanceof a||e instanceof p)){const e=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw m.error(e),new o(e)}const n=w(e),s=[];for(const e of n){const n=[];s.push(n),n.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const o=e[s][0],r=e[s][1],i=e[s+1][0],f=e[s+1][1],l=Math.sqrt((i-o)*(i-o)+(f-r)*(f-r)),c=(f-r)/l,p=(i-o)/l,a=l/t;if(a>1){for(let e=1;e<=a-1;e++){const s=e*t,i=p*s+o,f=c*s+r;n.push([i,f])}const e=(l+Math.floor(a-1)*t)/2,s=p*e+o,i=c*e+r;n.push([s,i])}n.push([i,f])}}return x(e)?new p({rings:s,spatialReference:e.spatialReference}):new a({paths:s,spatialReference:e.spatialReference})}function L(e,t,n){if(t){const t=M(e,1e6);e=c(t,!0)}return n&&(e=d(e,n)),e}function b(e,t,n){if(Array.isArray(e)){const s=e[0];if(s>t){const n=R(s,t);e[0]=s+n*(-2*t)}else if(s<n){const t=R(s,n);e[0]=s+t*(-2*n)}}else{const s=e.x;if(s>t){const n=R(s,t);e=e.clone().offset(n*(-2*t),0)}else if(s<n){const t=R(s,n);e=e.clone().offset(t*(-2*n),0)}}return e}async function P(s,o,f){if(!Array.isArray(s))return P([s],o);const c=o?o.url:e.geometryServiceUrl;let m,x,j,M,X,U,W,k,A=0;const S=[],v=[];for(const e of s)if(t(e))v.push(e);else if(m||(m=e.spatialReference,x=i(m),j=m.isWebMercator,U=j?102100:4326,M=g[U].maxX,X=g[U].minX,W=g[U].plus180Line,k=g[U].minus180Line),x)if(\"mesh\"===e.type)v.push(e);else if(\"point\"===e.type)v.push(b(e.clone(),M,X));else if(\"multipoint\"===e.type){const t=e.clone();t.points=t.points.map((e=>b(e,M,X))),v.push(t)}else if(\"extent\"===e.type){const t=e.clone()._normalize(!1,!1,x);v.push(t.rings?new p(t):t)}else if(e.extent){const t=e.extent,n=R(t.xmin,X)*(2*M);let s=0===n?e.clone():d(e.clone(),n);t.offset(n,0),t.intersects(W)&&t.xmax!==M?(A=t.xmax>A?t.xmax:A,s=L(s,j),S.push(s),v.push(\"cut\")):t.intersects(k)&&t.xmin!==X?(A=t.xmax*(2*M)>A?t.xmax*(2*M):A,s=L(s,j,360),S.push(s),v.push(\"cut\")):v.push(s)}else v.push(e.clone());else v.push(e);let z=R(A,M),G=-90;const I=z,q=new a;for(;z>0;){const e=360*z-180;q.addPath([[e,G],[e,-1*G]]),G*=-1,z--}if(S.length>0&&I>0){const e=function(e,t){let n=-1;for(let s=0;s<t.cutIndexes.length;s++){const o=t.cutIndexes[s],r=t.geometries[s],i=w(r);for(let e=0;e<i.length;e++){const t=i[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const s=t[e][0];n=s>n?s:n}n=Number(n.toFixed(9));const s=-360*R(n,180);for(let n=0;n<t.length;n++){const t=r.getPoint(e,n);r.setPoint(e,n,t.clone().offset(s,0))}return!0}}))}if(o===n){if(\"polygon\"===e[0].type)for(const t of w(r))e[o]=e[o].addRing(t);else if(y(e))for(const t of w(r))e[o]=e[o].addPath(t)}else n=o,e[o]=r}return e}(S,await u(c,S,q,f)),t=[],o=[];for(let r=0;r<v.length;r++){const i=v[r];if(\"cut\"!==i)o.push(i);else{const i=e.shift(),f=s[r];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&i.rings.length>=f.rings.length?(t.push(i),o.push(\"simplify\")):o.push(j?l(i):i)}}if(!t.length)return o;const r=await h(c,t,f),i=[];for(let e=0;e<o.length;e++){const t=o[e];\"simplify\"!==t?i.push(t):i.push(j?l(r.shift()):r.shift())}return i}const D=[];for(let e=0;e<v.length;e++){const t=v[e];if(\"cut\"!==t)D.push(t);else{const e=S.shift();D.push(!0===j?l(e):e)}}return r(D)}function X(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&i(e.spatialReference);if(!n)return t;const[s,o]=n.valid,r=2*o,{width:f}=t;let l,{xmin:c,xmax:p}=t;if([c,p]=[p,c],\"extent\"===e.type||0===f||f<=o||f>r||c<s||p>o)return t;switch(e.type){case\"polygon\":if(!(e.rings.length>1))return t;l=j(e.rings);break;case\"polyline\":if(!(e.paths.length>1))return t;l=j(e.paths);break;case\"multipoint\":l=e.points}const a=t.clone();for(let e=0;e<l.length;e++){let t=l[e][0];t<0?(t+=o,p=Math.max(t,p)):(t-=o,c=Math.min(t,c))}return a.xmin=c,a.xmax=p,a.width<f?(a.xmin-=o,a.xmax-=o,a):t}function U(e,t){const n=i(t);if(n){const[t,s]=n.valid,o=s-t;if(e<t)for(;e<t;)e+=o;if(e>s)for(;e>s;)e-=o}return e}export{X as getDenormalizedExtent,P as normalizeCentralMeridian,U as normalizeMapX,M as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import l from\"../../geometry/Polygon.js\";import n from\"../../geometry/Polyline.js\";import{fromJSON as y}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import c from\"../../Graphic.js\";import m from\"./NAMessage.js\";function u(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=c.fromJSON(o);return e(s.geometry).spatialReference=t,s}))}function d(r){return r.features.map((e=>(e.geometry.spatialReference=r.spatialReference,y(e.geometry))))}let f=class extends i{constructor(r){super(r),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readIncidents(r,e){return u(e.saPolylines)}readServiceAreaPolygons(r,e){return u(e.saPolygons)}};r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[m]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[n]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[l]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolylines\",void 0),r([t(\"serviceAreaPolylines\",[\"saPolylines\"])],f.prototype,\"readIncidents\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolygons\",void 0),r([t(\"serviceAreaPolygons\",[\"saPolygons\"])],f.prototype,\"readServiceAreaPolygons\",null),f=r([s(\"esri.tasks.support.ServiceAreaSolveResult\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as s}from\"../core/promiseUtils.js\";import o from\"../request.js\";import{normalizeCentralMeridian as i}from\"../geometry/support/normalizeUtils.js\";import a from\"./Task.js\";import{createQueryParamsHelper as p}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as l}from\"./mixins/NAServiceDescription.js\";import c from\"./support/ServiceAreaSolveResult.js\";const n=p({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},travelMode:!0});let u=class extends(l(a)){constructor(e){super(e),this.url=null}solve(e,r){const t=[],a=[],p={},l={};return e.facilities&&e.facilities.features&&this._collectGeometries(e.facilities.features,a,\"facilities.features\",p),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",p),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",p),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",p),i(a).then((e=>{for(const r in p){const s=p[r];t.push(r),l[r]=e.slice(s[0],s[1])}return this._isInputGeometryZAware(l,t)?this.getServiceDescription():s({dontCheck:!0})})).then((s=>{(\"dontCheck\"in s?s.dontCheck:s.hasZ)||this._dropZValuesOffInputGeometry(l,t);for(const r in l)l[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let i={query:{...this.parsedUrl.query,f:\"json\",...n.toQueryParams(e)}};return(this.requestOptions||r)&&(i={...this.requestOptions,...r,...i}),o(`${this.parsedUrl.path}/solveServiceArea`,i)})).then((e=>c.fromJSON(e.data)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}};e([r()],u.prototype,\"url\",void 0),u=e([t(\"esri.tasks.ServiceAreaTask\")],u);var m=u;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";import{urlToObject as s}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import t from\"../core/Accessor.js\";let p=class extends t{constructor(...r){super(...r),this.requestOptions=null,this.url=null}normalizeCtorArgs(r,o){return\"string\"!=typeof r?r:{url:r,...o}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(r){return r?s(r):null}_encode(r,o,e){const s={};for(const t in r){if(\"declaredClass\"===t)continue;const p=r[t];if(null!=p&&\"function\"!=typeof p)if(Array.isArray(p)){s[t]=[];for(let r=0;r<p.length;r++)s[t][r]=this._encode(p[r])}else if(\"object\"==typeof p)if(p.toJSON){const r=p.toJSON(e&&e[t]);s[t]=o?r:JSON.stringify(r)}else s[t]=o?p:JSON.stringify(p);else s[t]=p}return s}};r([o({readOnly:!0,dependsOn:[\"url\"]})],p.prototype,\"parsedUrl\",null),r([o()],p.prototype,\"requestOptions\",void 0),r([o({type:String})],p.prototype,\"url\",void 0),p=r([e(\"esri.tasks.Task\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{getDeepValue as r}from\"../../core/object.js\";import{isSome as t}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import{urlToObject as i}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../request.js\";import l from\"../Task.js\";const n=l=>{let n=class extends l{async getServiceDescription(){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),this._serviceDescriptionPromise}async _fetchServiceDescription(){if(!this.url||!this.parsedUrl)throw new o(\"network-service:missing-url\",\"Url to Network service is missing\");const e=this.url,{data:t}=await a(e,{query:{f:\"json\"}});t.supportedTravelModes||(t.supportedTravelModes=[]);for(let e=0;e<t.supportedTravelModes.length;e++)t.supportedTravelModes[e].id||(t.supportedTravelModes[e].id=t.supportedTravelModes[e].itemId);const s=t.currentVersion>=10.4?async function(e){try{const{data:{supportedTravelModes:r,defaultTravelMode:t}}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"retrieveTravelModes\",{query:{f:\"json\"}});return{supportedTravelModes:r,defaultTravelMode:t}}catch(e){throw new o(\"network-service:retrieveTravelModes\",\"Could not get to the NAServer's retrieveTravelModes.\",{error:e})}}(e):async function(e){const{data:t}=await a(e.substring(0,e.indexOf(\"/rest/\")+6)+\"info\",{query:{f:\"json\"}});if(!t||!t.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};e=t.owningSystemUrl;const{data:s}=await a(e+(\"/\"===e[e.length-1]?\"\":\"/\")+\"sharing/rest/portals/self\",{query:{f:\"json\"}}),o=r(\"helperServices.routingUtilities.url\",s);if(!o)return{supportedTravelModes:[],defaultTravelMode:null};const l=i(e),n=/\\/solveClosestFacility$/.test(l.path)?\"Route\":/\\/solveClosestFacility$/.test(l.path)?\"ClosestFacility\":\"ServiceAreas\",c=await a(o+(\"/\"===o[o.length-1]?\"\":\"/\")+\"GetTravelModes/execute\",{query:{f:\"json\",serviceName:n}}),u=[];let p=null;if(c&&c.data&&c.data.results&&c.data.results.length){const e=c.data.results;for(const r of e)if(\"supportedTravelModes\"===r.paramName){if(r.value&&r.value.features)for(const{attributes:e}of r.value.features)if(e){const r=JSON.parse(e.TravelMode);u.push(r)}}else\"defaultTravelMode\"===r.paramName&&(p=r.value)}return{supportedTravelModes:u,defaultTravelMode:p}}(e),{defaultTravelMode:l,supportedTravelModes:n}=await s;return t.defaultTravelMode=l,t.supportedTravelModes=n,t}_isInputGeometryZAware(e,r){for(let s=0;s<r.length;s++){const o=e[r[s]];if(o&&o.length)for(const e of o)if(t(e)&&e.hasZ)return!0}return!1}_dropZValuesOffInputGeometry(e,r){for(let t=0;t<r.length;t++){const s=e[r[t]];if(s&&s.length)for(const e of s)e.z=void 0}console.log(\"The remote Network Analysis service is powered by a network dataset which is not Z-aware.\\nZ-coordinates of the input geometry are ignored.\")}};return n=e([s(\"esri.tasks.mixins.NAServiceDescription\")],n),n};let c=class extends(n(l)){};c=e([s(\"esri.tasks.mixins.NAServiceDescription\")],c);export{c as NAServiceDescription,n as NAServiceDescriptionMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";const p=new s({esriJobMessageTypeInformative:\"informative\",esriJobMessageTypeProcessDefinition:\"process-definition\",esriJobMessageTypeProcessStart:\"process-start\",esriJobMessageTypeProcessStop:\"process-stop\",esriJobMessageTypeWarning:\"warning\",esriJobMessageTypeError:\"error\",esriJobMessageTypeEmpty:\"empty\",esriJobMessageTypeAbort:\"abort\"});let i=class extends t{constructor(r){super(r),this.description=null,this.type=null}};r([e({type:String,json:{write:!0}})],i.prototype,\"description\",void 0),r([e({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([o(\"esri.tasks.support.GPMessage\")],i);var a=i;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"./GPMessage.js\";const p=new s({0:\"informative\",1:\"process-definition\",2:\"process-start\",3:\"process-stop\",50:\"warning\",100:\"error\",101:\"empty\",200:\"abort\"});let i=class extends t{constructor(r){super(r),this.type=null}};r([o({type:String,json:{read:p.read,write:p.write}})],i.prototype,\"type\",void 0),i=r([e(\"esri.tasks.support.NAMessage\")],i);var c=i;export default c;\n"],"sourceRoot":""}