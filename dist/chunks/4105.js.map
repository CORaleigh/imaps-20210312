{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/LRUCache.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/LegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/VisualVariable.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/SizeStop.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/SizeVariableLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/VisualVariableLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/ClipArea.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/ClipRect.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/Geometry.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/Path.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/RouteLayerView2D.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/LayerView.js"],"names":["e","r","this","_storage","maxSize","registerRemoveFunc","t","put","pop","get","clearAll","s","p","super","arguments","title","type","String","json","write","prototype","S","z","v","width","depth","height","widthAndDepth","all","w","unknown","inch","foot","yard","mile","millimeter","centimeter","decimeter","meter","kilometer","V","g","f","i","read","axis","legendOptions","normalizationField","scaleBy","target","useSymbolValue","valueExpression","valueRepresentation","valueUnit","ipData","_interpolateData","hasExpression","compiledFunc","isScaleDriven","warn","_set","index","minSize","stops","arcadeRequired","minDataValue","maxDataValue","Array","isArray","filter","sort","value","inputValueType","expression","messages","push","instance","propertyName","context","field","valueExpressionTitle","clone","map","transformationType","size","reverse","length","getAttributeHash","readOnly","dependsOn","apiValues","jsonValues","origins","Number","Boolean","a","u","colorInfo","transparencyInfo","rotationInfo","sizeInfo","c","error","label","cast","customValues","showLegend","slice","left","right","top","bottom","_get","n","y","base","key","typeMap","extent","polygon","geometry","types","path","rect","o","clips","moving","attached","lastUpdateId","updateRequested","container","fadeTransitionEnabled","opacity","handles","add","visible","view","requestUpdate","layer","blendMode","effect","on","notifyChange","whenLayerView","then","destroyed","attach","when","detach","remove","suspended","isUpdating","minScale","maxScale","isFulfilled","isResolved","update","canResume","isVisibleAtScale","scale","h","_handles","_popupTemplates","Map","graphicsViews","hitTest","popupTemplate","sourceLayer","processUpdate","featureCollections","forEach","graphics","source","requestUpdateCallback","renderer","set","addChild","removeAllChildren","destroy","removeAll","viewChange","d","parent","catch","name","id","declaredClass","getSuspendInfo","legendEnabled","updatingHandles","updating","_override","_clearOverride","suspendInfo","ready","viewNotReady","loaded","layerNotLoaded","layerInvisible"],"mappings":"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","file":"chunks/4105.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.title=null}clone(){return new s({title:this.title})}};r([o({type:String,json:{write:!0}})],p.prototype,\"title\",void 0),p=s=r([t(\"esri.renderers.support.LegendOptions\")],p);var i=p;export default i;export{p as LegendOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{JSONMap as r}from\"../../core/jsonMap.js\";import{reader as a}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../../core/accessorSupport/decorators/writer.js\";import l from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{toPt as p}from\"../../core/screenUtils.js\";import u from\"./VisualVariable.js\";import m from\"./support/SizeStop.js\";import h from\"./support/SizeVariableLegendOptions.js\";import{isSizeVariable as d,getInputValueType as c,getTransformationType as y}from\"./support/sizeVariableUtils.js\";import{viewScaleRE as x}from\"./support/visualVariableUtils.js\";var S;const z=t.getLogger(\"esri.renderers.visualVariables.SizeVariable\"),v=new r({width:\"width\",depth:\"depth\",height:\"height\",widthAndDepth:\"width-and-depth\",all:\"all\"}),w=new r({unknown:\"unknown\",inch:\"inches\",foot:\"feet\",yard:\"yards\",mile:\"miles\",\"nautical-mile\":\"nautical-miles\",millimeter:\"millimeters\",centimeter:\"centimeters\",decimeter:\"decimeters\",meter:\"meters\",kilometer:\"kilometers\",\"decimal-degree\":\"decimal-degrees\"});function V(e){if(null!=e)return\"string\"==typeof e||\"number\"==typeof e?p(e):\"size\"===e.type?d(e)?e:(delete(e={...e}).type,new g(e)):void 0}function f(e,t,i){if(\"object\"!=typeof e)return e;const s=new g;return s.read(e,i),s}let g=S=class extends u{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type=\"size\",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:x.test(this.valueExpression)}}set expression(e){z.warn(\"'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.\"),\"view.scale\"===e?(this.valueExpression=\"$view.scale\",this._set(\"expression\",e)):this._set(\"expression\",null)}set index(e){d(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),d(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set(\"index\",e)}get inputValueType(){return c(this)}set maxDataValue(e){e&&this.stops&&(z.warn(\"cannot set maxDataValue when stops is not null.\"),e=null),this._set(\"maxDataValue\",e)}set maxSize(e){e&&this.stops&&(z.warn(\"cannot set maxSize when stops is not null.\"),e=null),this._set(\"maxSize\",e)}castMaxSize(e){return V(e)}readMaxSize(e,t,i){return f(e,0,i)}set minDataValue(e){e&&this.stops&&(z.warn(\"cannot set minDataValue when stops is not null.\"),e=null),this._set(\"minDataValue\",e)}set minSize(e){e&&this.stops&&(z.warn(\"cannot set minSize when stops is not null.\"),e=null),this._set(\"minSize\",e)}castMinSize(e){return V(e)}readMinSize(e,t,i){return f(e,0,i)}get arcadeRequired(){return!!this.valueExpression||(this.minSize&&\"object\"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&\"object\"==typeof this.maxSize&&this.maxSize.arcadeRequired)}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(z.warn(\"cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null.\"),e=null),this._set(\"stops\",e)}get transformationType(){return y(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&\"$view.scale\"}writeValueExpressionWebScene(e,t,i,s){if(\"$view.scale\"===e){if(s&&s.messages){const e=this.index,t=\"string\"==typeof e?e:`visualVariables[${e}]`;s.messages.push(new l(\"property:unsupported\",this.type+\"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.\",{instance:this,propertyName:t+\".valueExpression\",context:s}))}}else t[i]=e}readValueUnit(e){return e?w.read(e):null}clone(){return new S({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:d(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:d(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(\"clamped-linear\"===this.transformationType){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(\"stops\"===this.transformationType){const e=this.stops,t=e.map((e=>e.size)).reverse(),i=e.length;for(let s=0;s<i;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};e([i({readOnly:!0,dependsOn:[\"valueExpression\",\"stops\"]})],g.prototype,\"cache\",null),e([i({type:v.apiValues,json:{type:v.jsonValues,origins:{\"web-map\":{read:!1}},read:v.read,write:v.write}})],g.prototype,\"axis\",void 0),e([i({type:String,value:null,json:{read:!1}})],g.prototype,\"expression\",null),e([i()],g.prototype,\"index\",null),e([i({type:String,readOnly:!0,dependsOn:[\"field\",\"valueExpression\"]})],g.prototype,\"inputValueType\",null),e([i({type:h,json:{write:!0}})],g.prototype,\"legendOptions\",void 0),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"maxDataValue\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"maxSize\",null),e([s(\"maxSize\")],g.prototype,\"castMaxSize\",null),e([a(\"maxSize\")],g.prototype,\"readMaxSize\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"minDataValue\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"minSize\",null),e([s(\"minSize\")],g.prototype,\"castMinSize\",null),e([a(\"minSize\")],g.prototype,\"readMinSize\",null),e([i({type:String,json:{write:!0}})],g.prototype,\"normalizationField\",void 0),e([i({readOnly:!0,dependsOn:[\"valueExpression\",\"minSize.arcadeRequired\",\"maxSize.arcadeRequired\"]})],g.prototype,\"arcadeRequired\",null),e([i({type:String})],g.prototype,\"scaleBy\",void 0),e([i({type:[m],value:null,json:{write:!0}})],g.prototype,\"stops\",null),e([i({type:[\"outline\"],json:{write:!0}})],g.prototype,\"target\",void 0),e([i({type:String,readOnly:!0,dependsOn:[\"minDataValue\",\"maxDataValue\",\"minSize\",\"maxSize\",\"valueUnit\",\"inputValueType\",\"stops\"]})],g.prototype,\"transformationType\",null),e([i({type:[\"size\"],json:{type:[\"sizeInfo\"]}})],g.prototype,\"type\",void 0),e([i({type:Boolean,json:{write:!0,origins:{\"web-map\":{read:!1}}}})],g.prototype,\"useSymbolValue\",void 0),e([i({type:String,json:{write:!0}})],g.prototype,\"valueExpression\",void 0),e([a(\"valueExpression\",[\"valueExpression\",\"expression\"])],g.prototype,\"readValueExpression\",null),e([o(\"web-scene\",\"valueExpression\")],g.prototype,\"writeValueExpressionWebScene\",null),e([i({type:[\"radius\",\"diameter\",\"area\",\"width\",\"distance\"],json:{write:!0}})],g.prototype,\"valueRepresentation\",void 0),e([i({type:w.apiValues,json:{write:w.write,origins:{\"web-map\":{read:!1},\"web-scene\":{write:!0}}}})],g.prototype,\"valueUnit\",void 0),e([a(\"valueUnit\")],g.prototype,\"readValueUnit\",null),g=S=e([n(\"esri.renderers.visualVariables.SizeVariable\")],g);var j=g;export default j;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{ensureString as o}from\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import n from\"./support/VisualVariableLegendOptions.js\";const a=r.getLogger(\"esri.renderers.visualVariables.VisualVariable\"),u=new i({colorInfo:\"color\",transparencyInfo:\"opacity\",rotationInfo:\"rotation\",sizeInfo:\"size\"});let c=class extends l{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:\"function\"==typeof e?(a.error(\".field: field must be a string value\"),null):o(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};e([t()],c.prototype,\"index\",void 0),e([t({type:u.apiValues,readOnly:!0,json:{read:u.read,write:u.write}})],c.prototype,\"type\",void 0),e([t({type:String,json:{write:!0}})],c.prototype,\"field\",void 0),e([s(\"field\")],c.prototype,\"castField\",null),e([t({type:String,json:{write:!0}})],c.prototype,\"valueExpression\",void 0),e([t({type:String,json:{write:!0}})],c.prototype,\"valueExpressionTitle\",void 0),e([t({readOnly:!0,dependsOn:[\"valueExpression\"]})],c.prototype,\"arcadeRequired\",null),e([t({type:n,json:{write:!0}})],c.prototype,\"legendOptions\",void 0),c=e([p(\"esri.renderers.visualVariables.VisualVariable\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{toPt as t}from\"../../../core/screenUtils.js\";var p;let i=p=class extends s{constructor(r){super(r),this.label=null,this.size=null,this.value=null}clone(){return new p({label:this.label,size:this.size,value:this.value})}};r([e({type:String,json:{write:!0}})],i.prototype,\"label\",void 0),r([e({type:Number,cast:t,json:{write:!0}})],i.prototype,\"size\",void 0),r([e({type:Number,json:{write:!0}})],i.prototype,\"value\",void 0),i=p=r([o(\"esri.renderers.visualVariables.support.SizeStop\")],i);var l=i;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"./VisualVariableLegendOptions.js\";var t;let i=t=class extends o{constructor(){super(...arguments),this.customValues=null}clone(){return new t({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};s([r({type:[Number],json:{write:!0}})],i.prototype,\"customValues\",void 0),i=t=s([e(\"esri.renderers.visualVariables.support.SizeVariableLegendOptions\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../support/LegendOptions.js\";var t;let p=t=class extends s{constructor(){super(...arguments),this.showLegend=null}clone(){return new t({title:this.title,showLegend:this.showLegend})}};r([o({type:Boolean,json:{write:!0}})],p.prototype,\"showLegend\",void 0),p=t=r([e(\"esri.renderers.visualVariables.support.VisualVariableLegendOptions\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"bottom\",void 0),t([r({readOnly:!0,dependsOn:[\"left\",\"right\",\"top\",\"bottom\"]})],p.prototype,\"version\",null),p=s=t([o(\"esri.views.layers.support.ClipRect\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../geometry/Geometry.js\";import s from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Polygon.js\";import{fromJSON as m}from\"../../../geometry/support/jsonUtils.js\";import\"../../../geometry.js\";import i from\"./ClipArea.js\";var n;const y={base:t,key:\"type\",typeMap:{extent:s,polygon:p}};let c=n=class extends i{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new n({geometry:this.geometry.clone()})}};r([e({types:y,json:{read:m,write:!0}})],c.prototype,\"geometry\",void 0),r([e({readOnly:!0,dependsOn:[\"geometry\"]})],c.prototype,\"version\",null),c=n=r([o(\"esri.views.layers.support.Geometry\")],c);var l=c;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0,dependsOn:[\"path\"]})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import i from\"../../../core/Collection.js\";import{referenceSetter as r}from\"../../../core/collectionUtils.js\";import{init as a}from\"../../../core/watchUtils.js\";import o from\"../../layers/support/ClipArea.js\";import p from\"../../layers/support/ClipRect.js\";import{Container as n}from\"../engine/Container.js\";import h from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=i.ofType({key:\"type\",base:o,typeMap:{rect:p,path:d,geometry:h}}),l=i=>{let o=class extends i{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var e;this.container||(this.container=new n),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([a(this,\"suspended\",(e=>{this.container&&(this.container.visible=!e),this.view&&!e&&this.updateRequested&&this.view.requestUpdate()}),!0),a(this,[\"layer.opacity\",\"container\"],(()=>{var e,t;this.container&&(this.container.opacity=null!=(e=null==(t=this.layer)?void 0:t.opacity)?e:1)}),!0),a(this,[\"layer.blendMode\"],(e=>{this.container&&(this.container.blendMode=e)}),!0),a(this,[\"layer.effect\"],(e=>{this.container&&(this.container.effect=e)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(e=this.view)&&e.whenLayerView?this.view.whenLayerView(this.layer).then((e=>{e!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(e){let t=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,a=!r;!s&&e<=i&&(s=!0),!a&&e>=r&&(a=!0),t=s&&a}return t}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return e([t({type:c,set(e){const t=r(e,this._get(\"clips\"),c);this._set(\"clips\",t)}})],o.prototype,\"clips\",void 0),e([t()],o.prototype,\"moving\",void 0),e([t()],o.prototype,\"attached\",void 0),e([t()],o.prototype,\"container\",void 0),e([t({dependsOn:[\"view.scale\",\"layer.minScale\",\"layer.maxScale\"]})],o.prototype,\"suspended\",void 0),e([t({readOnly:!0})],o.prototype,\"updateParameters\",void 0),e([t()],o.prototype,\"updateRequested\",void 0),e([t({dependsOn:[\"attached\",\"updateRequested\",\"suspended\"]})],o.prototype,\"updating\",null),e([t()],o.prototype,\"view\",void 0),o=e([s(\"esri.views.2d.layers.LayerView2D\")],o),o};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as r,all as t}from\"../../../core/promiseUtils.js\";import i from\"../../../core/Handles.js\";import o from\"../../layers/LayerView.js\";import p from\"./graphics/GraphicsView2D.js\";import{LayerView2DMixin as a}from\"./LayerView2D.js\";let h=class extends(a(o)){constructor(){super(...arguments),this._handles=new i,this._popupTemplates=new Map,this.graphicsViews=[]}hitTest(e,s){if(this.suspended||!this.graphicsViews.length)return r();const i=this.graphicsViews.map((r=>r.hitTest(e,s)));return t(i).then((e=>e.filter(((e,s)=>(e&&(e.popupTemplate=this._popupTemplates.get(this.graphicsViews[s]),e.layer=this.layer,e.sourceLayer=this.layer),!!e)))[0]||null))}update(e){if(this.graphicsViews)for(const s of this.graphicsViews)s.processUpdate(e)}attach(){this.layer.featureCollections.forEach((e=>{const s=new p({view:this.view,graphics:e.source,requestUpdateCallback:()=>this.requestUpdate()});s.renderer=e.renderer,this._popupTemplates.set(s,e.popupTemplate),this.graphicsViews.push(s),this.container.addChild(s.container)}))}detach(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy(),e.view=null,e.renderer=null;this.graphicsViews.length=0,this._handles.removeAll(),this._popupTemplates=null}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}};h=e([s(\"esri.views.2d.layers.RouteLayerView2D\")],h);var c=h;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";let d=class extends(a(o(l(n.EventedMixin(i))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",s=this.layer&&this.layer.title||\"no title\";throw t.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${s}', id: '${r}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([r({dependsOn:[\"layer.opacity\",\"parent.fullOpacity\"]})],d.prototype,\"fullOpacity\",null),e([r()],d.prototype,\"layer\",void 0),e([r()],d.prototype,\"parent\",void 0),e([r({readOnly:!0,dependsOn:[\"visible\",\"layer.loaded\",\"parent.suspended\",\"view?.ready\"]})],d.prototype,\"suspended\",null),e([r({readOnly:!0,dependsOn:[\"visible\",\"layer.loaded\",\"parent.suspended\",\"view?.ready\"]})],d.prototype,\"suspendInfo\",null),e([r({readOnly:!0,dependsOn:[\"suspended\",\"layer.legendEnabled?\"]})],d.prototype,\"legendEnabled\",null),e([r({type:Boolean,dependsOn:[\"updatingHandles.updating\"],readOnly:!0})],d.prototype,\"updating\",null),e([r({dependsOn:[\"layer.visible\"]})],d.prototype,\"visible\",null),d=e([s(\"esri.views.layers.LayerView\")],d);var p=d;export default p;\n"],"sourceRoot":""}