{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/simplify.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/cut.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","webpack://imaps/./node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"names":["async","i","e","f","m","p","spatialReference","a","u","query","sr","wkid","JSON","stringify","geometries","s","r","t","o","map","fromJSON","n","path","data","geometryType","toJSON","y","d","type","w","M","error","push","length","l","Math","sqrt","c","floor","x","rings","paths","R","P","Array","isArray","clone","offset","b","cutIndexes","some","Number","toFixed","getPoint","setPoint","addRing","addPath","L","url","j","U","k","v","A","z","isWebMercator","maxX","minX","plus180Line","minus180Line","points","_normalize","extent","xmin","intersects","xmax","I","X","q","C","target","cutter","g","shift","D","Promise","resolve","valid","102100","4326","ceil","capabilities","operations","supportsEditing","editingEnabled","edits","result","emit","results","filter","addedFeatures","addFeatureResults","updatedFeatures","updateFeatureResults","deletedFeatures","deleteFeatureResults","addedAttachments","addAttachmentResults","updatedAttachments","updateAttachmentResults","deletedAttachments","deleteAttachmentResults","load","applyEdits","reject","layer","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","isVersioned","gdbVersion","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","supportsGlobalId","globalIdUsed","toArray","supportsAdd","supportsUpdate","supportsDelete","forEach","h","geometry","supportsGeometryUpdate","concat","slice","attributes","globalIdField","globalId","hasZ","supportsZ","hasM","supportsM","feature","attachment","uploadId","File","name","supportsUploadWithItemId","isBase64"],"mappings":"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","file":"chunks/791.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(e,i,f){const m=\"string\"==typeof e?r(e):e,p=i[0].spatialReference,a=t(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import{isNone as e,isSome as n}from\"../../core/maybe.js\";import o from\"../../core/Logger.js\";import s from\"../../core/Error.js\";import{getInfo as r}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as i,webMercatorToGeographic as l}from\"./webMercatorUtils.js\";import f from\"../Polygon.js\";import c from\"../Polyline.js\";import{getGeometryParts as p,cutParams as u,offsetMagnitude as a,updatePolyGeometry as h}from\"./normalizeUtilsCommon.js\";import{cut as m}from\"../../tasks/geometry/cut.js\";import{simplify as g}from\"../../tasks/geometry/simplify.js\";const y=o.getLogger(\"esri.geometry.support.normalizeUtils\");function x(t){return\"polygon\"===t.type}function d(t){return\"polygon\"===t[0].type}function w(t){return\"polyline\"===t[0].type}function j(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function R(t,e){if(!(t instanceof c||t instanceof f)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(t),new s(t)}const n=p(t),o=[];for(const s of n){const t=[];o.push(t),t.push([s[0][0],s[0][1]]);for(let n=0;n<s.length-1;n++){const o=s[n][0],r=s[n][1],i=s[n+1][0],l=s[n+1][1],f=Math.sqrt((i-o)*(i-o)+(l-r)*(l-r)),c=(l-r)/f,p=(i-o)/f,u=f/e;if(u>1){for(let l=1;l<=u-1;l++){const n=l*e,s=p*n+o,i=c*n+r;t.push([s,i])}const n=(f+Math.floor(u-1)*e)/2,s=p*n+o,i=c*n+r;t.push([s,i])}t.push([i,l])}}return x(t)?new f({rings:o,spatialReference:t.spatialReference}):new c({paths:o,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=l(e,!0)}return n&&(t=h(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=a(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=a(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=a(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=a(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=p(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*a(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(d(t))for(const e of p(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of p(r))t[s]=t[s].addPath(e)}else n=s,t[s]=r}return t}async function L(o,s,l){if(!Array.isArray(o))return L([o],s);const p=s?s.url:t.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t of o)if(e(t))z.push(t);else if(y||(y=t.spatialReference,x=r(y),d=y.isWebMercator,R=d?102100:4326,w=u[R].maxX,j=u[R].minX,U=u[R].plus180Line,k=u[R].minus180Line),x)if(\"mesh\"===t.type)z.push(t);else if(\"point\"===t.type)z.push(P(t.clone(),w,j));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,x);z.push(e.rings?new f(e):e)}else if(t.extent){const e=t.extent,n=a(e.xmin,j)*(2*w);let o=0===n?t.clone():h(t.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push(\"cut\")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push(\"cut\")):z.push(o)}else z.push(t.clone());else z.push(t);let I=a(v,w),X=-90;const q=I,C=new c;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--}if(A.length>0&&q>0){const t=b(A,await m(p,A,C,l)),e=[],s=[];for(let l=0;l<z.length;l++){const r=z[l];if(\"cut\"!==r)s.push(r);else{const r=t.shift(),f=o[l];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&r.rings.length>=f.rings.length?(e.push(r),s.push(\"simplify\")):s.push(d?i(r):r)}}if(!e.length)return s;const r=await g(p,e,l),f=[];for(let n=0;n<s.length;n++){const t=s[n];\"simplify\"!==t?f.push(t):f.push(d?i(r.shift()):r.shift())}return f}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if(\"cut\"!==e)D.push(e);else{const t=A.shift();D.push(!0===d?i(t):t)}}return Promise.resolve(D)}function U(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&r(t.spatialReference);if(!n)return e;const[o,s]=n.valid,i=2*s,{width:l}=e;let f,{xmin:c,xmax:p}=e;if([c,p]=[p,c],\"extent\"===t.type||0===l||l<=s||l>i||c<o||p>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;f=j(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;f=j(t.paths);break;case\"multipoint\":f=t.points}const u=e.clone();for(let r=0;r<f.length;r++){let t=f[r][0];t<0?(t+=s,p=Math.max(t,p)):(t-=s,c=Math.min(t,c))}return u.xmin=c,u.xmax=p,u.width<l?(u.xmin-=s,u.xmax-=s,u):e}function k(t,e){const n=r(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{U as getDenormalizedExtent,L as normalizeCentralMeridian,k as normalizeMapX,R as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../SpatialReference.js\";import n from\"../Polyline.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator}),minus180Line:new n({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n({paths:[[[180,-180],[180,180]]],spatialReference:e.WGS84}),minus180Line:new n({paths:[[[-180,-180],[-180,180]]],spatialReference:e.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function o(e,n){const t=s(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s(e){return t(e)?e.rings:e.paths}function a(e){const n=(null==e?void 0:e.isWebMercator)?102100:4326;return[r[n].minX,r[n].maxX]}export{r as cutParams,s as getGeometryParts,a as getSpatialReferenceMinMaxX,i as offsetMagnitude,o as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../core/lang.js\";import{isSome as t}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{dataComponents as r}from\"../../core/urlUtils.js\";import s from\"../../core/Collection.js\";import d from\"../../Graphic.js\";import{normalizeCentralMeridian as i}from\"../../geometry/support/normalizeUtils.js\";function l(e){var t,a;return!0===(null==e||null==(t=e.capabilities)||null==(a=t.operations)?void 0:a.supportsEditing)&&e&&(!(\"editingEnabled\"in e)||e.editingEnabled)}function n(e){return e&&null!=e.applyEdits}async function o(t,a,r,s){let d,i;const l={edits:r,result:new Promise(((e,t)=>{d=e,i=t}))};t.emit(\"apply-edits\",l);try{const{results:i,edits:l}=await p(t,a,r,s),n=t=>t.filter((e=>!e.error)).map(e),o={edits:l,addedFeatures:n(i.addFeatureResults),updatedFeatures:n(i.updateFeatureResults),deletedFeatures:n(i.deleteFeatureResults),addedAttachments:n(i.addAttachmentResults),updatedAttachments:n(i.updateAttachmentResults),deletedAttachments:n(i.deleteAttachmentResults)};return(o.addedFeatures.length||o.updatedFeatures.length||o.deletedFeatures.length||o.addedAttachments.length||o.updatedAttachments.length||o.deletedAttachments.length)&&t.emit(\"edits\",o),d(o),i}catch(n){throw i(n),n}}async function p(e,t,r,s){if(await e.load(),!n(t))return Promise.reject(new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e}));if(!e.editingEnabled)throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const d=await u(e,r,s);return d.addFeatures.length||d.updateFeatures.length||d.deleteFeatures.length||d.addAttachments.length||d.updateAttachments.length||d.deleteAttachments.length?{edits:d,results:await t.applyEdits(d,s)}:{edits:d,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}function u(e,t,r){const d=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),i=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments);if(!t||!d&&!i)throw new a(`${e.type}-layer:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!e.capabilities.data.isVersioned&&r&&r.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!e.capabilities.editing.supportsRollbackOnFailure&&r&&r.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");if(!e.capabilities.editing.supportsGlobalId&&r&&r.globalIdUsed)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!e.capabilities.editing.supportsGlobalId&&i)throw new a(`${e.type}-layer:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if((!r||!r.globalIdUsed)&&i)throw new a(`${e.type}-layer:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\");const l={...t};if(l.addFeatures=t&&s.isCollection(t.addFeatures)?t.addFeatures.toArray():l.addFeatures||[],l.updateFeatures=t&&s.isCollection(t.updateFeatures)?t.updateFeatures.toArray():l.updateFeatures||[],l.deleteFeatures=t&&s.isCollection(t.deleteFeatures)?t.deleteFeatures.toArray():l.deleteFeatures||[],l.addFeatures.length&&!e.capabilities.operations.supportsAdd)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support adding features.\");if(l.updateFeatures.length&&!e.capabilities.operations.supportsUpdate)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support updating features.\");if(l.deleteFeatures.length&&!e.capabilities.operations.supportsDelete)throw new a(`${e.type}-layer:unsupported-operation`,\"Layer does not support deleting features.\");l.addAttachments=l.addAttachments||[],l.updateAttachments=l.updateAttachments||[],l.deleteAttachments=l.deleteAttachments||[],l.addFeatures=l.addFeatures.map(b),l.updateFeatures=l.updateFeatures.map(b);const n=r&&r.globalIdUsed;return l.addFeatures.forEach((t=>c(t,e,n))),l.updateFeatures.forEach((t=>y(t,e,n))),l.deleteFeatures.forEach((t=>m(t,e,n))),l.addAttachments.forEach((t=>g(t,e))),l.updateAttachments.forEach((t=>g(t,e))),f(l)}function h(e,r,s){if(s){if(\"attributes\"in e&&!e.attributes[r.globalIdField])throw new a(`${r.type}-layer:invalid-parameter`,\"Feature should have 'globalId' when 'globalIdUsed' is true\");if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${r.type}-layer:invalid-parameter`,\"'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(\"geometry\"in e&&t(e.geometry)){if(e.geometry.hasZ&&!1===r.capabilities.data.supportsZ)throw new a(`${r.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===r.capabilities.data.supportsM)throw new a(`${r.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function c(e,t,a){h(e,t,a)}function m(e,t,a){h(e,t,a)}function y(e,r,s){if(h(e,r,s),\"geometry\"in e&&t(e.geometry)&&!r.capabilities.editing.supportsGeometryUpdate)throw new a(`${r.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function g(e,t){const{feature:s,attachment:d}=e;if(!s||\"attributes\"in s&&!s.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in s)&&!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!d.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!d.data&&!d.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(d.data instanceof File&&!!d.data.name)&&!d.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities.editing.supportsUploadWithItemId&&d.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof d.data){const e=r(d.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}async function f(e){const t=e.addFeatures,a=e.updateFeatures,r=t.concat(a).map((e=>e.geometry)),s=await i(r),d=t.length,l=a.length;return s.slice(0,d).forEach(((t,a)=>{e.addFeatures[a].geometry=t})),s.slice(d,d+l).forEach(((t,a)=>{e.updateFeatures[a].geometry=t})),e}function b(e){const t=new d;return e.attributes||(e.attributes={}),t.geometry=e.geometry,t.attributes=e.attributes,t}export{o as applyEdits,l as isEditableLayer};\n"],"sourceRoot":""}