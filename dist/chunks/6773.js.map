{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/tasks/support/ServiceAreaSolveResult.js","webpack://imaps/./node_modules/@arcgis/core/rest/serviceArea/solve.js","webpack://imaps/./node_modules/@arcgis/core/tasks/ServiceAreaTask.js"],"names":["u","r","features","map","o","t","spatialReference","s","geometry","d","e","f","super","this","facilities","messages","pointBarriers","polylineBarriers","polygonBarriers","serviceAreaPolylines","serviceAreaPolygons","barriers","saPolylines","saPolygons","type","prototype","l","accumulateAttributes","name","attributeParameterValues","defaultBreaks","outSpatialReference","getter","wkid","restrictionAttributes","returnPointBarriers","travelMode","i","url","async","p","c","m","B","y","h","then","push","slice","path","Promise","resolve","dontCheck","hasZ","forEach","get","query","toQueryParams","data"],"mappings":"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","file":"chunks/6773.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{unwrap as e}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Point.js\";import l from\"../../geometry/Polygon.js\";import n from\"../../geometry/Polyline.js\";import{fromJSON as y}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import c from\"../../Graphic.js\";import m from\"./NAMessage.js\";function u(r){return r.features.map((o=>{const t=p.fromJSON(r.spatialReference),s=c.fromJSON(o);return e(s.geometry).spatialReference=t,s}))}function d(r){return r.features.map((e=>(e.geometry.spatialReference=r.spatialReference,y(e.geometry))))}let f=class extends i{constructor(r){super(r),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(r){return d(r)}readPointBarriers(r,e){return d(e.barriers)}readPolylineBarriers(r){return d(r)}readPolygonBarriers(r){return d(r)}readIncidents(r,e){return u(e.saPolylines)}readServiceAreaPolygons(r,e){return u(e.saPolygons)}};r([o({type:[a]})],f.prototype,\"facilities\",void 0),r([t(\"facilities\")],f.prototype,\"readFacilities\",null),r([o({type:[m]})],f.prototype,\"messages\",void 0),r([o({type:[a]})],f.prototype,\"pointBarriers\",void 0),r([t(\"pointBarriers\",[\"barriers\"])],f.prototype,\"readPointBarriers\",null),r([o({type:[n]})],f.prototype,\"polylineBarriers\",void 0),r([t(\"polylineBarriers\")],f.prototype,\"readPolylineBarriers\",null),r([o({type:[l]})],f.prototype,\"polygonBarriers\",void 0),r([t(\"polygonBarriers\")],f.prototype,\"readPolygonBarriers\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolylines\",void 0),r([t(\"serviceAreaPolylines\",[\"saPolylines\"])],f.prototype,\"readIncidents\",null),r([o({type:[c]})],f.prototype,\"serviceAreaPolygons\",void 0),r([t(\"serviceAreaPolygons\",[\"saPolygons\"])],f.prototype,\"readServiceAreaPolygons\",null),f=r([s(\"esri.tasks.support.ServiceAreaSolveResult\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{normalizeCentralMeridian as e}from\"../../geometry/support/normalizeUtils.js\";import{createQueryParamsHelper as t}from\"../../core/queryUtils.js\";import{parseUrl as i}from\"../utils.js\";import{collectGeometries as s,isInputGeometryZAware as a,fetchServiceDescription as o,dropZValuesOffInputGeometry as n}from\"../networkUtils.js\";import u from\"../../tasks/support/ServiceAreaSolveResult.js\";const l=t({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:\"outSR\",getter:r=>r.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},returnPointBarriers:{name:\"returnBarriers\"},travelMode:!0});async function f(t,f,p){const c=[],m=[],B={},y={},h=i(t);return f.facilities&&f.facilities.features&&s(f.facilities.features,m,\"facilities.features\",B),f.pointBarriers&&f.pointBarriers.features&&s(f.pointBarriers.features,m,\"pointBarriers.features\",B),f.polylineBarriers&&f.polylineBarriers.features&&s(f.polylineBarriers.features,m,\"polylineBarriers.features\",B),f.polygonBarriers&&f.polygonBarriers.features&&s(f.polygonBarriers.features,m,\"polygonBarriers.features\",B),e(m).then((r=>{for(const e in B){const t=B[e];c.push(e),y[e]=r.slice(t[0],t[1])}return a(y,c)?o(h.path):Promise.resolve({dontCheck:!0})})).then((e=>{(\"dontCheck\"in e?e.dontCheck:e.hasZ)||n(y,c);for(const r in y)y[r].forEach(((e,t)=>{f.get(r)[t].geometry=e}));let t={query:{...h.query,f:\"json\",...l.toQueryParams(f)}};return p&&(t={...p,...t}),r(`${h.path}/solveServiceArea`,t)})).then((r=>u.fromJSON(r.data)))}export{f as solve};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import e from\"./Task.js\";import{solve as t}from\"../rest/serviceArea/solve.js\";import{NAServiceDescriptionMixin as p}from\"./mixins/NAServiceDescription.js\";let i=class extends(p(e)){constructor(r){super(r),this.url=null}solve(r,s){return t(this.url,r,s)}};r([s()],i.prototype,\"url\",void 0),i=r([o(\"esri.tasks.ServiceAreaTask\")],i);var c=i;export default c;\n"],"sourceRoot":""}