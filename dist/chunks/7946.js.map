{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/visualVariablesUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/support/displayIdUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/support/Tile.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/support/TileStore.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js"],"names":["n","l","warn","o","e","minDataValue","maxDataValue","minSize","maxSize","expression","valueExpression","Array","isArray","stops","field","levels","valueUnit","error","w","A","C","t","M","v","j","sharedArrayBuffer","atomics","I","i","P","s","this","size","texelSize","pixelType","r","layout","a","textureOnly","_ctype","_resetRange","_shared","data","_initData","buffer","dirtyStart","dirtyEnd","Math","min","max","Atomics","store","set","slice","start","end","prototype","call","SharedArrayBuffer","ArrayBuffer","BYTES_PER_ELEMENT","length","_client","config","_attributeComputeMap","Map","_blocks","_filters","_targetType","_abortController","_hasScaleExpr","_size","_idsToHighlight","Set","supportsTextureFloat","_blockDescriptors","map","abort","signal","schema","processors","storage","_schema","targets","feature","aggregate","console","debug","clear","target","mapping","_bindAttribute","addOrUpdate","getCursor","next","getDisplayId","setAttributeData","_createResourcesPromise","_getBlock","lock","unsetComponentAllTexels","setComponent","unlock","add","sendUpdates","service","spatialReference","filters","_updateFilter","Promise","all","some","_ensureSizeForTexel","setData","getData","has","getFilterFlags","forEach","floor","h","round","_nextUpdate","promise","_currUpdate","blocks","toMessage","_createResources","then","resolve","update","_signal","catch","render","_expand","fieldIndex","normalizationField","getComputedNumericAtIndex","readAttribute","valueRepresentation","binding","isNaN","shared","type","initialize","maxTextureSize","expand","hash","JSON","stringify","setComponentAllTexels","_getFilter","default","geometryType","hasM","hasZ","timeInfo","fieldsIndex","fields","B","check","getObjectId","getHighlightFlag","d","_freeIds","_idCounter","u","_getFreeId","push","pop","_numerics","_strings","_idGenerator","_allocatedSize","_bitsets","_instanceIds","_bounds","resize","createId","unset","releaseId","setComputedNumericAtIndex","getComputedStringAtIndex","setComputedStringAtIndex","_ensureNumeric","_ensureInstanceId","_ensureString","readHydratedGeometry","coords","forEachVertex","seen","instance","_tx","_ty","_xmin","_xmax","_ymin","_ymax","_joined","Error","_storage","copy","_hasFilter","_readAttribute","setIndex","getIndex","_readAttributes","_arcadeSpatialReference","readUnquantizedGeometry","hasIndeterminateRingOrder","getQuantizationTransform","super","_featureIndex","_dateFields","_geometryType","_features","displayId","fromOptimizedFeatures","fromOptimizedFeatureSet","features","_exceededTransferLimit","exceededTransferLimit","_transform","transform","name","_current","attributes","objectId","groupId","copyInto","_passesFilter","readGeometry","x","y","readCentroid","geometry","clone","lengths","scale","translate","hasGeometry","isPoint","centroid","_computeCentroid","Date","readAttributes","toLocaleLowerCase","trim","_mask","_buf","Uint32Array","ceil","_getIndex","forEachSet","key","bounds","objectIds","getLODInfoAt","tileInfoView","getTileBounds","resolution","level","needsClear","id","tileInfo","originPosition","minX","minY","maxX","maxY","getChildKeys","mode","tolerance","extent","xmin","ymin","xmax","ymax","added","removed","_tiles","_index","tiles","tileScheme","get","search","tile","insert","delete","remove","emit","getTileCoverage","spans","lodInfo","row","colFrom","colTo","m","normalizeCol","getWorldForColumn","splice","sqrt","value","c","f","values","Float32Array","sizes","vvFields","vvRanges","minMaxValue","scaleStops","fieldStops","unitValue","unit","color","opacity","rotation","rotationType","opacities","g","b","colors"],"mappings":"wHAIA,MAAMA,EAAE,CAACA,EAAEC,IAAID,GAAG,KAAKA,IAAIC,EAAEC,KAAK,YAAYF,KAAK,KAAK,MAAMC,GAAE,G,8FCAgG,MAAMA,EAAE,cAAY,8BAA8B,SAASE,EAAEC,GAAG,OAAO,QAAEA,EAAEC,gBAAe,QAAED,EAAEE,eAAe,MAAMF,EAAEG,SAAS,MAAMH,EAAEI,QAAQ,uBAAqBJ,EAAEK,YAAY,eAAeL,EAAEK,YAAYL,EAAEM,iBAAiB,gBAAgBN,EAAEM,kBAAkBC,MAAMC,QAAQR,EAAES,OAAO,sBAAoB,MAAMT,EAAEU,OAAOV,EAAEK,YAAY,eAAeL,EAAEK,YAAYL,EAAEM,iBAAiB,gBAAgBN,EAAEM,mBAAmBC,MAAMC,QAAQR,EAAES,QAAQ,WAAWT,GAAGA,EAAEW,QAAQ,sBAAoB,MAAMX,EAAEU,OAAOV,EAAEK,YAAY,eAAeL,EAAEK,YAAYL,EAAEM,iBAAiB,gBAAgBN,EAAEM,kBAAkB,MAAMN,EAAEY,UAAU,qBAAmBf,EAAEgB,MAAM,IAAI,IAAE,mBAAmB,oCAAoCb,IAAI,Y,wMCA4H,MAAMc,EAAE,cAAY,wDAAwDC,GAAE,OAAE,IAAED,GAAiDE,EAAEC,IAAjC,WAAqCA,KAAO,GAAGC,EAAED,GAA9D,WAAiEA,EAAsB,SAASE,EAAEF,GAAG,OAA3D,IAAkED,EAAEC,GAAO,MAAMG,EAAE,CAACC,mBAAkB,OAAE,4BAA4BC,SAAQ,OAAE,iBAAiB,SAASC,EAAEN,EAAEjB,GAAG,OAAOwB,GAAGxB,EAAEiB,EAAEO,IAAI,MAAMC,EAAE,YAAYR,EAAEjB,EAAEwB,EAAEE,GAAGC,KAAKC,KAAK,EAAED,KAAKE,UAAU,EAAE,MAAMC,UAAUC,EAAEC,OAAOC,EAAEC,YAAYnC,GAAG2B,EAAEC,KAAKO,YAAYnC,IAAG,EAAG4B,KAAKG,UAAUC,EAAEJ,KAAKQ,OAAOnC,EAAE2B,KAAKK,OAAOC,EAAEN,KAAKS,cAAcT,KAAKU,QAAQpB,EAAEU,KAAKC,KAAKJ,EAAEzB,IAAI4B,KAAKW,KAAKX,KAAKY,UAAUR,EAAEP,EAAEP,EAAEjB,IAAI,aAAa,OAAO,QAAE2B,KAAKW,MAAMrB,GAAGA,EAAEuB,SAAS,wBAAwBvB,EAAEjB,GAAG,MAAMwB,GAAE,QAAEG,KAAKW,MAAM,IAAI,IAAIZ,EAAE,EAAEA,EAAEC,KAAKC,KAAKD,KAAKC,KAAKF,IAAIF,EAAEE,EAAEC,KAAKE,UAAUZ,KAAKjB,EAAE2B,KAAKc,WAAW,EAAEd,KAAKe,SAASf,KAAKC,KAAKD,KAAKC,KAAK,EAAE,sBAAsBX,EAAEjB,GAAG,MAAMwB,GAAE,QAAEG,KAAKW,MAAM,IAAI,IAAIZ,EAAE,EAAEA,EAAEC,KAAKC,KAAKD,KAAKC,KAAKF,IAAIF,EAAEE,EAAEC,KAAKE,UAAUZ,IAAI,IAAIjB,EAAE2B,KAAKc,WAAW,EAAEd,KAAKe,SAASf,KAAKC,KAAKD,KAAKC,KAAK,EAAE,aAAaX,EAAEjB,EAAEwB,GAAG,MAAME,GAAE,QAAEC,KAAKW,MAAM,IAAI,MAAMP,KAAKP,EAAEE,EAAEK,EAAEJ,KAAKE,UAAUZ,IAAIjB,EAAE2B,KAAKc,WAAWE,KAAKC,IAAIjB,KAAKc,WAAWV,GAAGJ,KAAKe,SAASC,KAAKE,IAAIlB,KAAKe,SAASX,GAAG,kBAAkBd,EAAEjB,EAAEwB,IAAG,QAAEG,KAAKW,MAAMd,EAAEG,KAAKE,UAAUZ,IAAIjB,EAAE2B,KAAKc,WAAWE,KAAKC,IAAIjB,KAAKc,WAAWjB,GAAGG,KAAKe,SAASC,KAAKE,IAAIlB,KAAKe,SAASlB,GAAG,oBAAoBP,EAAEjB,EAAEwB,IAAG,QAAEG,KAAKW,MAAMd,EAAEG,KAAKE,UAAUZ,KAAKjB,EAAE2B,KAAKc,WAAWE,KAAKC,IAAIjB,KAAKc,WAAWjB,GAAGG,KAAKe,SAASC,KAAKE,IAAIlB,KAAKe,SAASlB,GAAG,QAAQP,EAAEjB,GAAG,MAAMwB,EAAEN,EAAED,GAAG,OAAO,QAAEU,KAAKW,MAAMd,EAAEG,KAAKE,UAAU7B,GAAG,QAAQiB,EAAEjB,EAAEwB,GAAG,MAAME,EAAER,EAAED,GAAGc,EAAE,GAAG/B,EAAE,IAAI2B,KAAKK,OAAOD,IAAIJ,KAAKW,KAAKZ,EAAEC,KAAKE,UAAU7B,GAAGwB,EAAEG,KAAKc,WAAWE,KAAKC,IAAIjB,KAAKc,WAAWf,GAAGC,KAAKe,SAASC,KAAKE,IAAIlB,KAAKe,SAAShB,IAAIZ,EAAED,MAAM,2BAA2B,yDAAyD,OAAO,OAAOc,KAAKG,WAAWH,KAAKU,SAASjB,EAAEE,SAAS,UAAUK,KAAKQ,QAAQW,QAAQC,MAAMpB,KAAKW,KAAK,EAAE,GAAG,SAAS,OAAOX,KAAKG,WAAWH,KAAKU,SAASjB,EAAEE,SAAS,UAAUK,KAAKQ,QAAQW,QAAQC,MAAMpB,KAAKW,KAAK,EAAE,GAAG,OAAOrB,GAAG,GAAGU,KAAKC,KAAKX,GAAGU,KAAKO,YAAY,CAAC,MAAMlC,EAAE2B,KAAKY,UAAUZ,KAAKG,UAAUb,EAAEU,KAAKU,QAAQV,KAAKQ,QAAQX,GAAE,QAAEG,KAAKW,MAAMtC,EAAEgD,IAAIxB,GAAGG,KAAKW,KAAKtC,GAAG,YAAY,MAAMiB,EAAEU,KAAKc,WAAWzC,EAAE2B,KAAKe,SAASlB,EAAEG,KAAKE,UAAU,GAAGZ,EAAEjB,EAAE,OAAO,KAAK2B,KAAKS,cAAc,MAAMV,IAAIC,KAAKU,SAAS,UAAUV,KAAKQ,QAAQJ,EAAEJ,KAAKG,UAAUG,EAAEN,KAAKK,OAAOpC,GAAE,QAAE+B,KAAKW,MAAM,OAAI1C,EAAEqD,MAAkM,CAACC,MAAMjC,EAAEkC,IAAInD,EAAEsC,KAAKZ,GAAG9B,EAAEqD,MAAMhC,EAAEO,GAAGxB,EAAE,GAAGwB,IAAI,KAAKM,UAAUC,EAAEC,OAAOC,GAA5PP,EAA6D,CAACwB,MAAMjC,EAAEkC,IAAInD,EAAEsC,KAAK,KAAI,QAAEX,KAAKG,WAAX,CAAuBvB,MAAM6C,UAAUH,MAAMI,KAAK1B,KAAKW,KAAKrB,EAAEO,GAAGxB,EAAE,GAAGwB,IAAIM,UAAUC,EAAEC,OAAOC,GAAtK,CAACiB,MAAMjC,EAAEkC,IAAInD,EAAEsC,KAAK,KAAKR,UAAUC,EAAEC,OAAOC,GAA2M,UAAUhB,EAAEjB,EAAEwB,EAAEE,GAAG,MAAMK,EAAEP,GAAG,UAAUE,EAAE4B,kBAAkBC,YAAYtB,GAAE,QAAEhB,GAAGlB,EAAE,IAAIkC,EAAE,IAAIF,EAAE/B,EAAEA,EAAE,EAAEiC,EAAEuB,oBAAoB,IAAI,IAAI5D,EAAE,EAAEA,EAAEG,EAAE0D,OAAO7D,GAAG,EAAEG,EAAEH,EAAE,GAAG,IAAI,OAAOG,EAAE,cAAc4B,KAAKc,WAAW,WAAWd,KAAKe,SAAS,GAA0nM,QAAvnM,MAAQ,YAAYzB,EAAEjB,GAAG2B,KAAK+B,QAAQzC,EAAEU,KAAKgC,OAAO3D,EAAE2B,KAAKiC,qBAAqB,IAAIC,IAAIlC,KAAKmC,QAAQ,IAAIvD,MAAMoB,KAAKoC,SAAS,IAAIxD,MAAM,MAAGoB,KAAKqC,YAAY,EAAErC,KAAKsC,kBAAiB,6BAAItC,KAAKuC,eAAc,EAAGvC,KAAKwC,MAAM,GAAGxC,KAAKyC,gBAAgB,IAAIC,IAAI,MAAM7C,EAAExB,EAAEsE,qBAAqB,KAAK,KAAKvD,EAAE,2BAA2BK,EAAEC,kBAAkB,OAAO,2BAA2BM,KAAK4C,kBAAkB,CAAC,CAACzC,UAAU,KAAKE,OAAO,GAAG,CAACF,UAAU,KAAKE,OAAO,GAAGE,aAAY,GAAI,CAACJ,UAAUN,EAAEQ,OAAO,IAAI,CAACF,UAAUN,EAAEQ,OAAO,KAAKL,KAAKmC,QAAQnC,KAAK4C,kBAAkBC,KAAI,IAAK,OAAO,UAAU7C,KAAKsC,iBAAiBQ,QAAQ,mBAAmB,OAAO9C,KAAKuC,cAAc,cAAc,OAAOvC,KAAKsC,iBAAiBS,OAAO,OAAOlD,EAAEE,GAAGC,KAAKgC,OAAOjC,EAAE,MAAMK,EAAEL,EAAEiD,OAAOC,WAAW,GAAGC,QAAQ5C,GAAE,QAAEN,KAAKmD,QAAQ/C,GAAG,IAAIP,EAAEuD,QAAQC,SAASxD,EAAEuD,QAAQE,aAAazD,EAAEqD,QAAQvC,MAAK,GAAIL,KAAI,OAAE,yBAAyBiD,QAAQC,MAAM,oCAAoClD,GAAGT,EAAEqD,QAAQvC,MAAK,EAAGX,KAAKmD,QAAQ/C,EAAEJ,KAAKiC,qBAAqBwB,UAAS,QAAErD,IAAI,CAAC,OAAOA,EAAEsD,QAAQ,IAAI,UAAU1D,KAAKqC,YAArpH,EAAmqH,MAAM,IAAI,YAAYrC,KAAKqC,YAA1rH,EAAwsH,IAAI,MAAM/C,KAAKc,EAAEuD,QAAQ3D,KAAK4D,eAAetE,IAAI,WAAWA,EAAEO,GAAG,IAAG,QAAEA,EAAEgE,aAAa,OAAO,MAAM9D,EAAEF,EAAEgE,YAAYC,YAAY,KAAK/D,EAAEgE,QAAQ,CAAC,MAAMzE,EAAES,EAAEiE,eAAehE,KAAKiE,iBAAiB3E,EAAES,IAAI,sBAAsBC,KAAKkE,wBAAwB,KAAKlE,KAAKsC,iBAAiBQ,QAAQ9C,KAAKsC,kBAAiB,6BAAI,mBAAmBhD,EAAEjB,GAAG,MAAU0B,EAAEC,KAAKmE,UAAU,GAAG/D,EAAE/B,EAAEwE,KAAKvD,GAAGC,EAAED,KAAKS,EAAEqE,OAAOrE,EAAEsE,wBAAwB,EAA5E,GAAiFtE,EAAEuE,aAAa,EAAhG,EAAoGlE,GAAGL,EAAEwE,SAASvE,KAAKyC,gBAAgBgB,QAAQ,IAAI,MAAMnD,KAAKhB,EAAEU,KAAKyC,gBAAgB+B,IAAIlE,SAASN,KAAKyE,cAAc,oBAAoBpG,EAAEwB,GAAG,MAAMmC,OAAOjC,EAAE2E,QAAQtE,EAAEuE,iBAAiBrE,GAAGT,GAAG+E,QAAQxG,GAAG2B,EAAE9B,EAAEG,EAAEyE,KAAI,CAAEvD,EAAEjB,IAAI2B,KAAK6E,cAAcvF,EAAEjB,EAAE+B,EAAEE,YAAYwE,QAAQC,IAAI9G,IAAI+G,MAAM1F,GAAGA,MAAMjB,EAAE6E,QAAQ0B,SAAQ,GAAG,OAAE,yBAAyBrB,QAAQC,MAAM,oCAAoC,oBAAoB,QAAQlE,EAAEjB,EAAEwB,EAAEE,GAAG,MAAMK,EAAEb,EAAED,GAAGU,KAAKiF,oBAAoB7E,GAAGJ,KAAKmE,UAAU9F,GAAG6G,QAAQ5F,EAAEO,EAAEE,GAAG,QAAQT,EAAEjB,EAAEwB,GAAG,OAAOG,KAAKmE,UAAU9F,GAAG8G,QAAQ7F,EAAEO,GAAG,iBAAiBP,GAAG,OAAOU,KAAKyC,gBAAgB2C,IAAI9F,GAAG,KAAE,EAAE,mBAAmBA,GAAG,MAAMjB,EAAEkB,EAAED,GAAGU,KAAKmE,UAAU,GAAGe,QAAQ7G,EAAE,EAAE,GAAG,iBAAiBiB,EAAEjB,GAAG,MAAMwB,EAAEN,EAAED,GAAG,GAAGU,KAAKiF,oBAAoBpF,GAAGG,KAAKmE,UAAU,GAAGe,QAAQrF,EAAE,EAAEG,KAAKqF,eAAehH,IAAI2B,KAAKqC,cAAchD,EAAEC,GAAG,OAAO,MAAMS,EAAEC,KAAKiC,qBAAqB7B,EAAEJ,KAAKgC,OAAOW,qBAAqB,EAAE,EAAM5C,EAAEE,MAAMF,EAAEuF,SAAQ,CAAEhG,EAAES,KAAK,MAAM3B,EAAE2B,EAAEK,EAAvC,EAA2CnC,EAAE+C,KAAKuE,MAAMxF,EAAEK,EAA1D,GAA+DlC,EAAE8B,KAAKmE,UAAUlG,EAAE,MAAGuH,EAAElG,EAAEjB,GAAG,GAAG2B,KAAKgC,OAAOW,qBAAqBzE,EAAEgH,QAAQrF,EAAEzB,EAAEoH,QAAQ,GAAGA,IAAI,KAAEtH,EAAEgH,QAAQrF,EAAEzB,EAAE,KAAKF,EAAEgH,QAAQrF,EAAEzB,EAAE,EAAE,SAAS,CAAC,MAAMkB,GAAE,QAAE0B,KAAKyE,MAAMD,IAAI,MAAM,OAAO,MAAMnH,EAAE,IAAIiB,EAAES,GAAG,MAAMT,IAAI,EAAEpB,EAAEgH,QAAQrF,EAAEzB,EAAEC,GAAGH,EAAEgH,QAAQrF,EAAEzB,EAAE,EAAE2B,OAAO,cAAc,GAAGC,KAAK0F,YAAY,OAAO1F,KAAK0F,YAAYC,QAAQ,GAAG3F,KAAK4F,YAAY,OAAO5F,KAAK0F,aAAY,sBAAI1F,KAAK0F,YAAYC,QAAQ,MAAMrG,EAAE,CAACuG,OAAO7F,KAAKmC,QAAQU,KAAKvD,IAAG,QAAEA,GAAGA,EAAEwG,YAAY,QAAQ,OAAO9F,KAAK4F,YAAY5F,KAAK+F,mBAAmBC,MAAK,KAAM,MAAM3H,EAAE,KAAK,GAAG2B,KAAK4F,YAAY,KAAK5F,KAAK0F,YAAY,CAAC,MAAMpG,EAAEU,KAAK0F,YAAY1F,KAAK0F,YAAY,KAAK1F,KAAKyE,cAAcuB,MAAK,IAAK1G,EAAE2G,cAAcpG,EAAEG,KAAK+B,QAAQmE,OAAO5G,EAAEU,KAAKmG,SAASH,KAAK3H,GAAG+H,MAAM/H,GAAG,OAAO2B,KAAK+B,QAAQsE,OAAOrG,KAAKmG,SAAStG,KAAKuG,OAAO9G,IAAG,kBAAEA,IAAIU,KAAKkE,wBAAwB,KAAKlE,KAAK+F,qBAAqB5G,EAAED,MAAM,IAAI,IAAE,0BAA0B,4CAA4CI,IAAIwF,QAAQmB,aAAajG,KAAK4F,YAAY,oBAAoBtG,GAAG,KAAKA,GAAGU,KAAKwC,MAAMxC,KAAKwC,OAAO,GAAGxC,KAAKsG,UAAU,OAAO,eAAehH,GAAyX,IAAIS,EAAE,GAAG,MAAMT,EAAEiH,WAAvMjH,EAAEkH,oBAAoBrH,EAAEhB,KAAK,iBAAiB,2FAAoK4B,EAAzE1B,GAAGA,EAAEoI,0BAA0BnH,EAAEiH,gBAAkD,CAAC,IAAIjH,EAAEP,MAAM,OAAOgB,EAA5ZT,EAAEkH,mBAAmBnI,IAAI,MAAMwB,EAAExB,EAAEqI,cAAcpH,EAAEkH,oBAAoB,OAAI3G,EAAqBxB,EAAEqI,cAAcpH,EAAEP,OAAOc,EAArC,MAAwCxB,GAAGA,EAAEqI,cAAcpH,EAAEP,OAAoRO,EAAEqH,sBAAqB5G,EAAEH,EAAEG,GAAG1B,IAAG,QAAEA,EAAEiB,EAAEqH,wBAAkE3G,KAAKiC,qBAAqBZ,IAAI/B,EAAEsH,QAAQhH,EAAEG,GAA7ET,GAAG,OAAOA,GAAGuH,MAAMvH,IAAIA,IAAI,IAAI,KAAEA,KAAkD,mBAAmB,IAAG,QAAEU,KAAKkE,yBAAyB,OAAOlE,KAAKkE,wBAAwBlE,KAAKmE,UAAU,MAAG/E,EAAE,+BAA+B,MAAME,EAAE,CAACwH,OAAOrH,EAAEC,qBAAqB,UAAUM,KAAK+B,QAAQgF,MAAM9G,KAAKD,KAAKwC,MAAMqD,QAAO,QAAE7F,KAAKmC,SAAS7C,IAAG,CAAEiB,YAAYjB,EAAEiB,YAAYM,OAAOvB,EAAEuB,OAAOV,UAAUb,EAAEa,eAAeC,EAAEJ,KAAK+B,QAAQiF,WAAW1H,EAAEU,KAAKmG,SAASC,OAAO9G,KAAI,kBAAEA,GAAGU,KAAKkE,wBAAwB,KAAK/E,EAAED,MAAM,IAAI,IAAE,0BAA0B,oDAAoDI,OAAO,OAAOU,KAAKkE,wBAAwB9D,EAAEA,EAAE4F,MAAK,KAAK,QAAEhG,KAAKkE,yBAAyBlE,KAAK+F,wBAAmB,IAAS3F,EAAE,UAAUd,GAAG,MAAMjB,EAAE2B,KAAKmC,QAAQ7C,GAAG,IAAG,QAAEjB,GAAG,OAAOA,EAAEe,EAAE,wCAAwCE,KAAK,MAAMS,EAAEN,EAAEC,kBAAkBU,EAAEJ,KAAK+B,QAAQgF,KAAKzG,EAAE,IAAIR,EAAEC,EAAEK,EAAEJ,KAAKwC,MAAMxC,KAAK4C,kBAAkBtD,IAAI,OAAOU,KAAKmC,QAAQ7C,GAAGgB,EAAEN,KAAKkE,wBAAwB,KAAK5D,EAAE,UAAU,GAAGN,KAAKwC,MAAMxC,KAAKgC,OAAOiF,eAAe,CAAC,MAAM3H,EAAEU,KAAKwC,QAAQ,EAAE,OAAOpD,EAAE,0BAA0BE,EAAEU,KAAKmC,UAAS,QAAEnC,KAAKmC,SAAS9D,GAAGA,EAAE6I,OAAO5H,KAAKU,KAAKkE,wBAAwB,KAAKlE,KAAKwC,MAAMlD,EAAE,EAAE,OAAOH,EAAED,MAAM,IAAI,IAAE,sBAAsB,mDAAmD,EAAE,oBAAoBI,EAAES,EAAEK,EAAEE,GAAG,MAAMlC,EAAE4B,KAAKoC,SAASrC,GAAG9B,GAAE,QAAEG,IAAIA,EAAE+I,KAAK,IAAI/I,IAAIkB,EAAE,OAAM,EAAG,GAAGrB,IAAImJ,KAAKC,UAAU/H,GAAG,OAAM,EAAG,IAAG,QAAEA,GAAG,CAAC,MAAMA,EAAE,GAAGS,EAAE,EAAE1B,EAAE2B,KAAKmE,UAAU,GAAG,OAAOnE,KAAKoC,SAASrC,GAAG,KAAK1B,EAAEiJ,sBAAsB,EAAEhI,GAAGU,KAAKyE,eAAc,EAAG,MAAMvG,QAAQ8B,KAAKuH,WAAWxH,EAAEK,GAAG,aAAalC,EAAEgI,OAAO5G,EAAEgB,IAAG,EAAG,iBAAiBhB,EAAEjB,GAAG,MAAM0B,EAAEC,KAAKoC,SAAS9C,GAAG,IAAG,QAAES,GAAG,OAAOA,EAAE,MAAMyH,QAAQpH,SAAS,gCAA+DE,EAAE,IAAIF,EAAE,CAACqH,aAAapJ,EAAEoJ,aAAaC,MAAK,EAAGC,MAAK,EAAGC,SAASvJ,EAAEuJ,SAASC,YAAY,IAAI,IAAExJ,EAAEyJ,UAAU,OAAO9H,KAAKoC,SAAS9C,GAAGgB,EAAEA,EAAE,UAAUhB,GAAG,SAAS,EAAEU,KAAKmE,UAAU,GAAGgB,QAAQ7F,EAAE,IAAI,eAAeA,GAAG,IAAIO,EAAE,EAAE,MAAME,EAAz+QT,IAA7B,IAAgCD,EAAEC,GAAlD,IAAM,IAAkhRyI,CAAEzI,EAAE0E,gBAAgB,IAAI,IAAI1D,EAAE,EAAEA,EAAEN,KAAKoC,SAASN,OAAOxB,IAAI,CAAC,MAAMF,KAAKL,EAAE,GAAGO,GAAGlC,EAAE4B,KAAKoC,SAAS9B,GAAGT,KAAKO,IAAG,QAAEhC,IAAIA,EAAE4J,MAAM1I,GAAG,EAAE,IAAIgB,EAAE,IAAIF,EAAE,EAAE,GAAGJ,KAAKyC,gBAAgBxC,KAAK,CAAC,MAAM5B,EAAEiB,EAAE2I,cAAc7H,EAAEJ,KAAKkI,iBAAiB7J,GAAG,OAAOwB,GAAG,EAAEO,K,6DCAl1T,MAAmBd,EAAE,WAAiH,MAAM6I,EAAE,cAAcnI,KAAKoI,SAAS,GAAGpI,KAAKqI,WAAW,EAAE,SAAShK,GAAE,GAAI,OAA9G,SAAWA,EAAE+B,GAAG,QAAQA,EAAEd,EAAE,GAAGjB,KAAK,EAAiFiK,CAAEtI,KAAKuI,aAAalK,GAAG,UAAUA,GAAG2B,KAAKoI,SAASI,KAAKnK,GAAG,aAAa,OAAO2B,KAAKoI,SAAStG,OAAO9B,KAAKoI,SAASK,MAAMzI,KAAKqI,cCAvO,SAAS,EAAE/I,EAAEjB,EAAE0B,GAAG,KAAKT,EAAEwC,OAAOzD,GAAG,KAAKiB,EAAEwC,QAAQzD,GAAGiB,EAAEkJ,KAAKzI,GAAG,MAAM,EAAE,WAAiD,MAAM,EAAE,cAAcC,KAAK0I,UAAU,GAAG1I,KAAK2I,SAAS,GAAG3I,KAAK4I,aAAa,IAAI,EAAE5I,KAAK6I,eAAe,IAAI7I,KAAK8I,SAAS,GAAG9I,KAAK+I,aAAa,GAAG/I,KAAKgJ,QAAQ,GAAG,eAAe,MAAM3K,EAAE2B,KAAK8I,SAAShH,OAAO,OAAO9B,KAAK8I,SAASN,KAAK,WAASxI,KAAK6I,eAAe,IAAIxK,EAAE,EAAE,UAAUiB,GAAG,OAAOU,KAAK8I,SAASxJ,EAAE,GAAG,UAAUU,KAAK6I,iBAAiB,EAAE,IAAI,MAAMvJ,KAAKU,KAAK8I,SAASxJ,EAAE2J,OAAOjJ,KAAK6I,gBAAgB,eAAevJ,EAAEjB,GAAG2B,KAAK0I,UAAUpJ,KAAKU,KAAK0I,UAAUpJ,GAAG,IAAI,EAAEU,KAAK0I,UAAUpJ,GAAGjB,EAAE,GAAG,kBAAkBiB,GAAG,EAAEU,KAAK+I,aAAazJ,EAAE,GAAG,cAAcA,EAAEjB,GAAG2B,KAAK2I,SAASrJ,KAAKU,KAAK2I,SAASrJ,GAAG,IAAI,EAAEU,KAAK2I,SAASrJ,GAAGjB,EAAE,MAAM,gBAAgBiB,GAAE,GAAI,MAAMjB,EAAE2B,KAAK4I,aAAaM,WAAW,OAAO7K,EAAE2B,KAAK6I,gBAAgB7I,KAAKsG,UAA9tB,EAAChH,EAAEjB,MAAMA,EAAtB,WAA0B,GAAGiB,KAAK,EAAmtB,CAAEjB,EAAEiB,GAAG,iBAAiBA,GAAG,IAAI,MAAMjB,KAAK2B,KAAK8I,SAASzK,EAAE8K,MAAM7J,GAAG,OAAOU,KAAK4I,aAAaQ,UAAU9J,EAAE,GAAG,mBAAmBA,EAAEjB,GAAG,OAAO2B,KAAKyG,0BAA0BnH,EAAE,EAAE,GAAG,mBAAmBA,EAAEjB,EAAE0B,GAAG,OAAOC,KAAKqJ,0BAA0B/J,EAAE,EAAES,EAAE,GAAG,kBAAkBT,EAAEjB,GAAG,OAAO2B,KAAKsJ,yBAAyBhK,EAAE,EAAE,GAAG,kBAAkBA,EAAEjB,EAAE0B,GAAG,OAAOC,KAAKuJ,yBAAyBjK,EAAE,EAAE,EAAES,GAAG,0BAA0BT,EAAEjB,GAAG,MAAM0B,EAAET,EAAE,EAAE,OAAOU,KAAKwJ,eAAenL,EAAE0B,GAAGC,KAAK0I,UAAUrK,GAAG0B,GAAG,0BAA0BT,EAAEjB,EAAE0B,GAAG,MAAM9B,EAAEqB,EAAE,EAAEU,KAAKwJ,eAAenL,EAAEJ,GAAG+B,KAAK0I,UAAUrK,GAAGJ,GAAG8B,EAAE,cAAcT,GAAG,MAAMjB,EAAEiB,EAAE,EAAE,OAAOU,KAAKyJ,kBAAkBpL,GAAG2B,KAAK+I,aAAa1K,GAAG,cAAciB,EAAEjB,GAAG,MAAM0B,EAAET,EAAE,EAAEU,KAAKyJ,kBAAkB1J,GAAGC,KAAK+I,aAAahJ,GAAG1B,EAAE,yBAAyBiB,EAAEjB,GAAG,MAAM0B,EAAET,EAAE,EAAE,OAAOU,KAAK0J,cAAcrL,EAAE0B,GAAGC,KAAK2I,SAAStK,GAAG0B,GAAG,yBAAyBT,EAAEjB,EAAE0B,GAAG,MAAM9B,EAAEqB,EAAE,EAAEU,KAAK0J,cAAcrL,EAAEJ,GAAG+B,KAAK2I,SAAStK,GAAGJ,GAAG8B,EAAE,QAAQT,GAAG,OAAOU,KAAKgJ,QAAQ,GAAG1J,EAAE,IAAI,QAAQA,GAAG,OAAOU,KAAKgJ,QAAQ,GAAG1J,EAAE,GAAG,GAAG,QAAQA,GAAG,OAAOU,KAAKgJ,QAAQ,GAAG1J,EAAE,GAAG,GAAG,QAAQA,GAAG,OAAOU,KAAKgJ,QAAQ,GAAG1J,EAAE,GAAG,GAAG,UAAUA,EAAEjB,GAAG,MAAMJ,EAAEI,EAAEsL,uBAAuB,IAAI1L,IAAIA,EAAE2L,OAAO9H,OAAO,OAAM,EAAG,IAAI1B,EAAE,IAAIkI,EAAE,IAAI9C,GAAE,IAAKpH,GAAE,IAAKH,EAAE4L,eAAc,CAAEvK,EAAEjB,KAAK+B,EAAEY,KAAKC,IAAIb,EAAEd,GAAGgJ,EAAEtH,KAAKC,IAAIqH,EAAEjK,GAAGmH,EAAExE,KAAKE,IAAIsE,EAAElG,GAAGlB,EAAE4C,KAAKE,IAAI9C,EAAEC,MAAM,MAAM8J,EAAE7I,EAAE,EAAE,OAAO,EAAEU,KAAKgJ,QAAQ,EAAEb,EAAE,EAAE,GAAGnI,KAAKgJ,QAAQ,EAAEb,GAAG/H,EAAEJ,KAAKgJ,QAAQ,EAAEb,EAAE,GAAGG,EAAEtI,KAAKgJ,QAAQ,EAAEb,EAAE,GAAG3C,EAAExF,KAAKgJ,QAAQ,EAAEb,EAAE,GAAG/J,GAAE,K,yGCA19D,IAAI2B,EAAE,EAAE,MAAM9B,EAAE,YAAYqB,GAAGU,KAAK+G,KAAK,mBAAmB/G,KAAK8J,MAAK,EAAG9J,KAAK+J,SAAS,EAAE/J,KAAKgK,IAAI,EAAEhK,KAAKiK,IAAI,EAAEjK,KAAKkK,OAAO,EAAElK,KAAKmK,MAAM,EAAEnK,KAAKoK,MAAM,EAAEpK,KAAKqK,MAAM,EAAErK,KAAKsK,QAAQ,GAAGtK,KAAK+J,SAASzK,EAAE,wBAAwB,OAAOS,IAAIA,EAAEA,EAAE,MAAM,EAAEA,EAAEA,EAAE,iBAAiB,OAAO,IAAIC,KAAKkK,MAAM,2BAA2B,MAAM,IAAIK,MAAM,2CAA2C,aAAa,OAAOvK,KAAKwK,SAAS,mBAAmBlL,GAAG,OAAOU,KAAKyG,0BAA0B,GAAG,mBAAmBnH,EAAEjB,GAAG,OAAO2B,KAAKqJ,0BAA0BhL,EAAE,GAAG,kBAAkBiB,GAAG,OAAOU,KAAKsJ,yBAAyB,GAAG,kBAAkBhK,EAAEjB,GAAG,OAAO2B,KAAKuJ,yBAAyB,EAAElL,GAAG,0BAA0BiB,GAAG,OAAOU,KAAKwK,SAAS/D,0BAA0BzG,KAAKgE,eAAe1E,GAAG,0BAA0BA,EAAEjB,GAAG2B,KAAKwK,SAASnB,0BAA0BrJ,KAAKgE,eAAe1E,EAAEjB,GAAG,yBAAyBiB,GAAG,OAAOU,KAAKwK,SAASlB,yBAAyBtJ,KAAKgE,eAAe1E,GAAG,yBAAyBA,EAAEjB,GAAG,OAAO2B,KAAKwK,SAASjB,yBAAyBvJ,KAAKgE,eAAe1E,EAAEjB,GAAG,UAAUiB,EAAEjB,GAAG,MAAM+B,EAAEJ,KAAKyK,OAAO,OAAOrK,EAAE4J,IAAI1K,EAAEc,EAAE6J,IAAI5L,EAAE+B,EAAE,OAAOd,EAAEjB,EAAE+B,EAAEP,GAAG,MAAME,EAAEC,KAAKyK,OAAO,OAAO1K,EAAEmK,MAAM5K,EAAES,EAAEoK,MAAM/J,EAAEL,EAAEqK,MAAM/L,EAAE0B,EAAEsK,MAAMxK,EAAEE,EAAE,YAAY,OAAOC,KAAK0K,WAAW,cAAcpL,EAAEjB,GAAE,GAAI,MAAM+B,EAAEJ,KAAK2K,eAAerL,EAAEjB,GAAG,QAAG,IAAS+B,EAAE,OAAOA,EAAE,IAAI,MAAMP,KAAKG,KAAKsK,QAAQ,CAACzK,EAAE+K,SAAS5K,KAAK6K,YAAY,MAAMzK,EAAEP,EAAE8K,eAAerL,EAAEjB,GAAG,QAAG,IAAS+B,EAAE,OAAOA,GAAG,iBAAiB,OAAOJ,KAAK8K,kBAAkB,eAAexL,GAAGU,KAAKsK,QAAQ9B,KAAKlJ,GAAG,oBAAoB,OAAOU,KAAK,WAAW,MAAM3B,EAAE2B,KAAK2J,uBAAuB9J,GAAE,QAAExB,EAAE2B,KAAKyH,aAAazH,KAAK2H,KAAK3H,KAAK0H,MAAM3H,GAAE,QAAEF,GAAG,OAAOE,EAAE4E,iBAAiB3E,KAAK+K,wBAAwBhL,EAAE,MAAMT,GAAG,OAAOU,KAAK0G,cAAcpH,GAAE,GAAI,SAASA,GAAG,OAAM,EAAG,SAASA,EAAEjB,IAAI,OAAO,MAAM,GAAG,aAAa,MAAM,GAAG,mBAAmB,GAAG,wBAAwB2B,KAAKyH,aAAa,OAAO,KAAK,MAAMnI,EAAEU,KAAKgL,0BAA0B,IAAI1L,GAAGA,EAAE2L,0BAA0B,OAAO,KAAK,MAAM7K,EAAEJ,KAAKkL,2BAA2B,OAAO,OAAE,IAAI,IAAE5L,EAAEU,KAAK0H,KAAK1H,KAAK2H,KAAKvH,GAAG,SAASd,GAAGA,EAAEwK,KAAK9J,KAAK8J,KAAKxK,EAAEkL,SAASxK,KAAKwK,SAASlL,EAAEyL,wBAAwB/K,KAAK+K,wBAAwBzL,EAAEgL,QAAQtK,KAAKsK,QAAQhL,EAAE0K,IAAIhK,KAAKgK,IAAI1K,EAAE2K,IAAIjK,KAAKiK,IAAI3K,EAAE4K,MAAMlK,KAAKkK,MAAM5K,EAAE6K,MAAMnK,KAAKmK,MAAM7K,EAAE8K,MAAMpK,KAAKoK,MAAM9K,EAAE+K,MAAMrK,KAAKqK,S,wECAprE,MAAM/B,UAAU,IAAE,YAAYhJ,EAAEjB,EAAE+B,GAAG+K,MAAM7L,GAAGU,KAAKoL,eAAe,EAAEpL,KAAKqL,YAAY,IAAI3I,IAAI1C,KAAKsL,cAAclL,EAAEJ,KAAKuL,UAAUlN,EAAE,oBAAoBA,EAAE+B,EAAEL,GAAG,MAAMF,GAAE,QAAE,GAAGxB,EAAE+B,GAAE,GAAG,EAAGL,GAAG,IAAI,IAAIT,EAAE,EAAEA,EAAEO,EAAEiC,OAAOxC,IAAIO,EAAEP,GAAGkM,UAAUnN,EAAEiB,GAAGkM,UAAU,OAAOlD,EAAEmD,sBAAsB5L,EAAEO,GAAG,sBAAsBd,EAAEc,GAAG,MAAML,GAAE,QAAET,EAAEc,GAAG,OAAOkI,EAAEoD,wBAAwB3L,GAAG,+BAA+BT,GAAG,MAAMqM,SAAStN,EAAEoJ,aAAarH,GAAGd,EAAES,EAAEuI,EAAEmD,sBAAsBpN,EAAE+B,GAAGL,EAAE6L,uBAAuBtM,EAAEuM,sBAAsB9L,EAAE+L,WAAWxM,EAAEyM,UAAU,IAAI,MAAMlM,KAAKP,EAAEwI,OAAO,sBAAsBjI,EAAEkH,MAAMhH,EAAEsL,YAAY7G,IAAI3E,EAAEmM,MAAM,OAAOjM,EAAE,6BAA6BT,EAAEjB,EAAE+B,GAAG,MAAML,EAAE,qBAAmBF,EAAE,IAAIyI,EAAEvI,EAAET,EAAEjB,GAAG,OAAOwB,EAAEiM,WAAW1L,EAAEP,EAAE,eAAe,OAAOG,KAAKuL,UAAUvL,KAAKoL,eAAe,mBAAmB,OAAOpL,KAAKsL,cAAc,kBAAkB,QAAQtL,KAAKuL,UAAUzJ,OAAO,cAAc,OAAO9B,KAAKoL,cAAc,EAAEpL,KAAKuL,UAAUzJ,OAAO,4BAA4B,OAAO9B,KAAK4L,uBAAuB,WAAW,OAAM,EAAG,WAAW,OAAM,EAAG,qBAAqB,OAAO5L,KAAKuL,UAAUzJ,OAAO,YAAY,OAAO9B,KAAKyK,OAAO,2BAA2B,OAAOzK,KAAK8L,WAAW,mBAAmB,IAAIxM,EAAE,GAAG,IAAI,MAAMjB,KAAK2B,KAAKiM,SAASC,WAAW5M,GAAGU,KAAKiM,SAASC,WAAW7N,GAAG,OAAOiB,EAAE,WAAW,OAAOU,KAAKoL,cAAc,SAAS9L,GAAGU,KAAKoL,cAAc9L,EAAE,cAAc,OAAOU,KAAKiM,SAASE,SAAS,eAAe,OAAOnM,KAAKiM,SAAST,UAAU,aAAalM,GAAGU,KAAKiM,SAAST,UAAUlM,EAAE,aAAa,OAAOU,KAAKiM,SAASG,QAAQ,WAAW9M,GAAGU,KAAKiM,SAASG,QAAQ9M,EAAE,OAAO,MAAMA,EAAE,IAAIgJ,EAAEtI,KAAK+J,SAAS/J,KAAKuL,UAAUvL,KAAKyH,cAAc,OAAOzH,KAAKqM,SAAS/M,GAAGA,EAAE,OAAO,IAAIU,KAAK0K,WAAW,QAAQ1K,KAAKoL,cAAcpL,KAAKuL,UAAUzJ,OAAO,OAAO9B,KAAKoL,cAAcpL,KAAKuL,UAAUzJ,SAAS9B,KAAKsM,kBAAkB,OAAOtM,KAAKoL,cAAcpL,KAAKuL,UAAUzJ,OAAO,oBAAoB,OAAO,QAAE9B,KAAKiM,SAASjM,KAAKyH,aAAazH,KAAK2H,KAAK3H,KAAK0H,MAAM,uBAAuB,OAAO1H,KAAKiM,SAAS,0BAA0B,MAAM3M,EAAEU,KAAKuM,eAAe,OAAOjN,EAAE,CAACkN,EAAElN,EAAEsK,OAAO,GAAG6C,EAAEnN,EAAEsK,OAAO,IAAI,KAAK,qBAAqB,MAAMtK,EAAEU,KAAKuM,eAAe,OAAO,QAAEjN,EAAEU,KAAKyH,aAAazH,KAAK2H,KAAK3H,KAAK0H,MAAM,qBAAqB,MAAMpI,EAAEU,KAAK0M,eAAe,OAAOpN,EAAE,CAACkN,EAAElN,EAAEsK,OAAO,GAAG6C,EAAEnN,EAAEsK,OAAO,IAAI,KAAK,mBAAmB,OAAO,QAAE5J,KAAKiM,SAASU,SAAS,GAAG,0BAA0B,MAAMrN,EAAEU,KAAKuM,eAAe,GAAG,sBAAsBvM,KAAKyH,eAAenI,EAAE,OAAOA,EAAE,MAAMjB,EAAEiB,EAAEsN,QAAQ,OAAzhF,UAAYhD,OAAOtK,EAAEuN,QAAQxO,IAAI,IAAI+B,EAAE,EAAE,IAAI,MAAML,KAAK1B,EAAE,CAAC,IAAI,IAAIA,EAAE,EAAEA,EAAE0B,EAAE1B,IAAIiB,EAAE,GAAGc,EAAE/B,KAAKiB,EAAE,GAAGc,EAAE/B,GAAG,GAAGiB,EAAE,GAAGc,EAAE/B,GAAG,IAAIiB,EAAE,GAAGc,EAAE/B,GAAG,GAAG+B,GAAGL,GAA05EO,CAAEjC,GAAGA,EAAE,uBAAuB,MAAMiB,EAAEU,KAAKiM,SAASU,SAAS,IAAIrN,EAAE,OAAO,KAAK,MAAMjB,EAAEiB,EAAEsN,QAAQ,OAAO,QAAEvO,EAAEA,EAAE2B,KAAK2H,KAAK3H,KAAK0H,KAAK1H,KAAK8L,YAAYzN,EAAE,cAAc,MAAMiB,EAAEU,KAAKiM,SAASU,SAAS/C,OAAO,GAAG5J,KAAKgK,IAAI3L,EAAE2B,KAAKkL,2BAA2B,OAAO5L,EAAEjB,EAAEyO,MAAM,GAAGzO,EAAE0O,UAAU,GAAG,cAAc,MAAMzN,EAAEU,KAAKiM,SAASU,SAAS/C,OAAO,GAAG5J,KAAKiK,IAAI5L,EAAE2B,KAAKkL,2BAA2B,OAAO7M,EAAE0O,UAAU,GAAGzN,EAAEjB,EAAEyO,MAAM,GAAG,eAAe,IAAI9M,KAAKiM,SAASe,YAAY,OAAO,KAAK,MAAM1N,EAAEU,KAAKiM,SAASU,SAASC,QAAQ,GAAGtN,EAAE2N,QAAQ,OAAO3N,EAAEsK,OAAO,IAAI5J,KAAKgK,IAAI1K,EAAEsK,OAAO,IAAI5J,KAAKiK,IAAI3K,EAAE,IAAIjB,EAAE,EAAE,IAAI,MAAM+B,KAAKd,EAAEuN,QAAQvN,EAAEsK,OAAO,EAAEvL,IAAI2B,KAAKgK,IAAI1K,EAAEsK,OAAO,EAAEvL,EAAE,IAAI2B,KAAKiK,IAAI5L,GAAG+B,EAAE,OAAOd,EAAE,eAAe,IAAIU,KAAKiM,SAASe,YAAY,OAAO,KAAK,IAAIhN,KAAKiM,SAASiB,SAAS,CAAC,MAAM5N,EAAEU,KAAKmN,mBAAmB,IAAI7N,EAAE,OAAO,KAAKA,EAAEsK,OAAO,IAAI5J,KAAKgK,IAAI1K,EAAEsK,OAAO,IAAI5J,KAAKiK,IAAIjK,KAAKiM,SAASiB,SAAS5N,EAAE,MAAMA,EAAEU,KAAKiM,SAASiB,SAASN,QAAQ,OAAOtN,EAAEsK,OAAO,IAAI5J,KAAKgK,IAAI1K,EAAEsK,OAAO,IAAI5J,KAAKiK,IAAI3K,EAAE,eAAeA,EAAEjB,GAAG,MAAM+B,EAAEJ,KAAKiM,SAASC,WAAW5M,GAAG,QAAG,IAASc,EAAE,OAAO/B,GAAG2B,KAAKqL,YAAYjG,IAAI9F,GAAG,IAAI8N,KAAKhN,GAAGA,EAAE,MAAML,EAAEC,KAAKqN,iBAAiBxN,EAAEP,EAAEgO,oBAAoBC,OAAO,IAAI,MAAMtP,KAAK8B,EAAE,GAAG9B,EAAEqP,oBAAoBC,SAAS1N,EAAE,CAAC,MAAMP,EAAEU,KAAKiM,SAASC,WAAWjO,GAAG,OAAO+B,KAAKqL,YAAYjG,IAAInH,GAAG,IAAImP,KAAK9N,GAAGA,GAAG,SAASA,GAAG6L,MAAMkB,SAAS/M,GAAGA,EAAE8L,cAAcpL,KAAKoL,cAAc9L,EAAEwM,WAAW9L,KAAK8L,WAAWxM,EAAE+L,YAAYrL,KAAKqL,YAAY,kBAAkB,OAAOrL,KAAKiM,SAASC,WAAW,gBAAgB,IAAIlM,KAAK0K,WAAW,OAAM,EAAG,IAAIpL,EAAE,EAAEjB,EAAE,EAAE,OAAO2B,KAAKyH,cAAc,IAAI,oBAAoB,CAAC,MAAMrH,EAAEJ,KAAKiM,SAASU,SAAS,IAAIvM,EAAE,OAAM,GAAId,EAAEjB,GAAG+B,EAAEwJ,OAAO,MAAM,IAAI,sBAAsB,CAAC,MAAMxJ,EAAEJ,KAAK0M,eAAe,IAAItM,EAAE,OAAM,GAAId,EAAEjB,GAAG+B,EAAEwJ,OAAOtK,GAAGU,KAAKgK,IAAI3L,GAAG2B,KAAKiK,IAAI,MAAM,QAAQ,OAAM,EAAG,OAAO3K,GAAGU,KAAKkK,OAAO5K,GAAGU,KAAKmK,OAAO9L,GAAG2B,KAAKoK,OAAO/L,GAAG2B,KAAKqK,S,8CCA1lJ,MAAM/K,EAAE,YAAYA,EAAEjB,GAAG2B,KAAKwN,MAAM,EAAExN,KAAKyN,KAAKnO,EAAEU,KAAKwN,MAAMnP,EAAE,kBAAkBA,EAAE0B,GAAG,OAAO,IAAIT,EAAEjB,EAAE0B,GAAG,cAAc1B,EAAE0B,EAAE,YAAY,MAAMK,EAAE,IAAIsN,YAAY1M,KAAK2M,KAAKtP,EAAE,KAAK,OAAO,IAAIiB,EAAEc,EAAEL,GAAG,UAAUT,GAAG,OAAO0B,KAAKuE,MAAMjG,EAAE,IAAI,IAAIA,GAAG,MAAMjB,EAAE2B,KAAKwN,MAAMlO,EAAE,SAASU,KAAKyN,KAAKzN,KAAK4N,UAAUvP,IAAI,GAAGA,EAAE,IAAI,SAASiB,EAAEjB,GAAG,IAAI0B,EAAET,EAAEc,EAAE/B,EAAE,KAAK0B,EAAE,IAAIA,IAAIK,GAAG,CAAC,GAAGJ,KAAKoF,IAAIrF,GAAG,OAAM,EAAGA,IAAI,KAAKK,EAAE,IAAIL,IAAIK,GAAG,CAAC,GAAGJ,KAAKoF,IAAIrF,GAAG,OAAM,EAAGK,IAAI,GAAGL,IAAIK,EAAE,OAAM,EAAG,IAAI,IAAIoF,EAAEzF,EAAE,GAAGyF,IAAIpF,EAAE,GAAGoF,IAAK,GAAGxF,KAAKyN,KAAKjI,GAAG,OAAM,EAAG,OAAM,EAAG,IAAIlG,GAAG,MAAMjB,EAAE2B,KAAKwN,MAAMlO,EAAES,EAAEC,KAAK4N,UAAUvP,GAAG+B,EAAE,GAAG/B,EAAE,GAAG2B,KAAKyN,KAAK1N,IAAIK,EAAE,SAASd,EAAEjB,GAAG,IAAI0B,EAAET,EAAEc,EAAE/B,EAAE,KAAK0B,EAAE,IAAIA,IAAIK,GAAGJ,KAAKqB,IAAItB,KAAK,KAAKK,EAAE,IAAIL,IAAIK,GAAGJ,KAAKqB,IAAIjB,KAAK,GAAGL,IAAIK,EAAE,IAAI,IAAIoF,EAAEzF,EAAE,GAAGyF,IAAIpF,EAAE,GAAGoF,IAAIxF,KAAKyN,KAAKjI,GAAG,WAAW,MAAMlG,GAAG,MAAMjB,EAAE2B,KAAKwN,MAAMlO,EAAES,EAAEC,KAAK4N,UAAUvP,GAAG+B,EAAE,GAAG/B,EAAE,GAAG2B,KAAKyN,KAAK1N,IAAI,WAAWK,EAAE,OAAOd,GAAG,MAAMjB,EAAE2B,KAAKyN,KAAK1N,EAAE,IAAI2N,YAAY1M,KAAK2M,KAAKrO,EAAE,KAAKS,EAAEsB,IAAIhD,GAAG2B,KAAKyN,KAAK1N,EAAE,GAAGT,GAAG,IAAI,IAAIjB,EAAE,EAAEA,EAAE2B,KAAKyN,KAAK3L,OAAOzD,IAAI2B,KAAKyN,KAAKpP,IAAIiB,EAAEmO,KAAKpP,GAAG,OAAO2B,KAAK,IAAIV,GAAG,IAAI,IAAIjB,EAAE,EAAEA,EAAE2B,KAAKyN,KAAK3L,OAAOzD,IAAI2B,KAAKyN,KAAKpP,IAAIiB,EAAEmO,KAAKpP,GAAG,OAAO2B,KAAK,IAAIV,GAAG,IAAI,IAAIjB,EAAE,EAAEA,EAAE2B,KAAKyN,KAAK3L,OAAOzD,IAAI2B,KAAKyN,KAAKpP,IAAIiB,EAAEmO,KAAKpP,GAAG,OAAO2B,KAAK,IAAIV,GAAG,IAAI,IAAIjB,EAAE,EAAEA,EAAE2B,KAAKyN,KAAK3L,OAAOzD,IAAI2B,KAAKyN,KAAKpP,KAAKiB,EAAEmO,KAAKpP,GAAG,OAAO2B,KAAK,KAAKV,GAAG,IAAI,IAAIjB,EAAE,EAAEA,EAAE2B,KAAKyN,KAAK3L,OAAOzD,IAAI2B,KAAKyN,KAAKpP,KAAKiB,EAAEmO,KAAKpP,GAAG,OAAO2B,KAAK,KAAKV,GAAG,IAAI,IAAIjB,EAAE,EAAEA,EAAE2B,KAAKyN,KAAK3L,OAAOzD,IAAI2B,KAAKyN,KAAKpP,KAAKiB,EAAEmO,KAAKpP,GAAG,OAAO2B,KAAK,MAAM,IAAI,IAAIV,EAAE,EAAEA,EAAEU,KAAKyN,KAAK3L,OAAOxC,IAAI,GAAGU,KAAKyN,KAAKnO,GAAG,OAAM,EAAG,OAAM,EAAG,KAAKA,GAAG,IAAI,IAAIjB,EAAE,EAAEA,EAAE2B,KAAKyN,KAAK3L,OAAOzD,IAAI2B,KAAKyN,KAAKpP,GAAGiB,EAAEmO,KAAKpP,GAAG,OAAO2B,KAAK,QAAQ,OAAO,IAAIV,EAAEU,KAAKyN,KAAKnM,QAAQtB,KAAKwN,OAAO,QAAQ,IAAI,IAAIlO,EAAE,EAAEA,EAAEU,KAAKyN,KAAK3L,OAAOxC,IAAIU,KAAKyN,KAAKnO,GAAG,EAAE,WAAWA,GAAG,IAAI,IAAIjB,EAAE,EAAEA,EAAE2B,KAAKyN,KAAK3L,OAAOzD,IAAI,CAAC,IAAI0B,EAAEC,KAAKyN,KAAKpP,GAAG+B,EAAE,GAAG/B,EAAE,GAAG0B,EAAE,KAAKA,GAAI,EAAEA,GAAGT,EAAEc,GAAGL,KAAK,EAAEK,KAAM,WAAW,IAAId,EAAE,EAAE,OAAOU,KAAK6N,YAAYxP,IAAIiB,OAAOA,K,yGCA/zC,MAAMpB,EAAE,YAAYG,EAAEiB,GAAGU,KAAK8N,IAAI,IAAI,IAAE,EAAE,EAAE,EAAE,GAAG9N,KAAK+N,QAAO,UAAI/N,KAAKgO,UAAU,IAAItL,IAAI1C,KAAK8N,IAAIzM,IAAI/B,GAAG,MAAMS,EAAE1B,EAAE4P,aAAajO,KAAK8N,KAAK9N,KAAKkO,aAAa7P,EAAE2B,KAAKkO,aAAaC,cAAcnO,KAAK+N,OAAO/N,KAAK8N,KAAI,GAAI9N,KAAKoO,WAAWrO,EAAEqO,WAAWpO,KAAK8M,MAAM/M,EAAE+M,MAAM9M,KAAKqO,MAAMtO,EAAEsO,MAAMrO,KAAKsO,YAAW,EAAG,SAAS,OAAOtO,KAAK8N,IAAIS,GAAG,aAAa,OAAO,eAAavO,KAAK+N,OAAO/N,KAAKkO,aAAaM,SAAS7J,kBAAkB,gBAAgB,MAAM,CAAC8J,eAAe,YAAY3B,MAAM,CAAC9M,KAAKoO,WAAWpO,KAAKoO,YAAYrB,UAAU,CAAC/M,KAAK+N,OAAO,GAAG/N,KAAK+N,OAAO,KAAK,WAAW,MAAM1P,EAAE2B,KAAK+N,OAAO,MAAM,CAACW,KAAKrQ,EAAE,GAAGsQ,KAAKtQ,EAAE,GAAGuQ,KAAKvQ,EAAE,GAAGwQ,KAAKxQ,EAAE,IAAI,QAAQ,OAAO,IAAIH,EAAE8B,KAAKkO,aAAalO,KAAK8N,KAAK,mBAAmB,MAAMxO,EAAEU,KAAK8N,IAAIgB,eAAejP,EAAE,cAAY,IAAI,IAAIxB,EAAE,EAAEA,EAAEiB,EAAEwC,OAAOzD,IAAIwB,EAAExB,GAAG,IAAIH,EAAE8B,KAAKkO,aAAa5O,EAAEjB,IAAI,OAAOwB,EAAE,4BAA4B,OAAO,aAAW,CAACkP,KAAK,OAAON,eAAe,YAAYO,UAAUhP,KAAKoO,WAAWa,OAAO,CAACC,KAAKlP,KAAK+N,OAAO,GAAGoB,KAAKnP,KAAK+N,OAAO,GAAGqB,KAAKpP,KAAK+N,OAAO,GAAGsB,KAAKrP,KAAK+N,OAAO,GAAGpJ,iBAAiB3E,KAAKkO,aAAaM,SAAS7J,uB,mHCA1uC,MAAMa,EAAE,CAAC8J,MAAM,GAAGC,QAAQ,IAAInP,EAAE,IAAIsC,IAAIyF,EAAE,IAAI,IAAE,EAAE,EAAE,EAAE,GAAG,MAAMjK,UAAU,IAAE,YAAYoB,GAAG6L,QAAQnL,KAAKwP,OAAO,IAAItN,IAAIlC,KAAKyP,QAAO,OAAE,GAAE,OAAE,oBAAoBpR,IAAG,CAAEqQ,KAAKrQ,EAAE0P,OAAO,GAAGY,KAAKtQ,EAAE0P,OAAO,GAAGa,KAAKvQ,EAAE0P,OAAO,GAAGc,KAAKxQ,EAAE0P,OAAO,KAAK,CAAC,aAAa,aAAa,aAAa,eAAe/N,KAAK0P,MAAM,GAAG1P,KAAK2P,WAAWrQ,EAAE,UAAUU,KAAKyD,QAAQ,QAAQzD,KAAK0P,MAAM5N,OAAO,EAAE9B,KAAKwP,OAAO/L,QAAQzD,KAAKyP,OAAOhM,QAAQ,IAAIpF,GAAG,OAAO2B,KAAKwP,OAAOpK,IAAI/G,GAAG,IAAIA,GAAG,OAAO2B,KAAKwP,OAAOI,IAAIvR,GAAG,UAAUA,GAAG,OAAO2B,KAAKwP,OAAOI,IAAIvR,EAAEkQ,IAAI,cAAclQ,EAAEiB,GAAG,MAAMS,EAAE,iBAAiB1B,EAAE2B,KAAK4P,IAAIvR,GAAGA,EAAE,IAAI0B,EAAE,MAAM,GAAG,MAAMF,EAAEP,EAAES,EAAEqO,WAAWhQ,EAAE2B,EAAEgO,OAAO,GAAGlO,EAAE5B,EAAE8B,EAAEgO,OAAO,GAAGlO,EAAE2F,EAAEzF,EAAEgO,OAAO,GAAGlO,EAAEO,EAAEL,EAAEgO,OAAO,GAAGlO,EAAEsI,EAAE,GAAG,IAAI,MAAMjK,KAAK8B,KAAKyP,OAAOI,OAAO,CAACnB,KAAKtQ,EAAEuQ,KAAK1Q,EAAE2Q,KAAKpJ,EAAEqJ,KAAKzO,IAAI,CAAC,MAAM/B,EAAEH,EAAE6P,OAAOzM,QAAQjD,EAAE,GAAG2C,KAAKE,IAAI7C,EAAE,GAAGD,GAAGC,EAAE,GAAG2C,KAAKE,IAAI7C,EAAE,GAAGJ,GAAGI,EAAE,GAAG2C,KAAKC,IAAI5C,EAAE,GAAGmH,GAAGnH,EAAE,GAAG2C,KAAKC,IAAI5C,EAAE,GAAG+B,GAAG/B,EAAE,GAAGA,EAAE,GAAG,GAAGA,EAAE,GAAGA,EAAE,GAAG,GAAG8J,EAAEK,KAAK,CAACuF,OAAO1P,EAAEyR,KAAK5R,IAAI,OAAOiK,EAAE,oBAAoB9J,GAAG,OAAO2B,KAAKyP,OAAOI,OAAO,CAACnB,KAAKrQ,EAAE,GAAGsQ,KAAKtQ,EAAE,GAAGuQ,KAAKvQ,EAAE,GAAGwQ,KAAKxQ,EAAE,KAAK,YAAYA,GAAG,MAAMiB,EAAE,CAACgQ,MAAM,GAAGC,QAAQ,IAAI,IAAI,MAAMxP,KAAK1B,EAAEiR,MAAM,IAAItP,KAAKoF,IAAIrF,GAAG,CAAC,MAAM1B,EAAE,IAAI,KAAE2B,KAAK2P,WAAW5P,GAAGC,KAAKwP,OAAOnO,IAAItB,EAAE1B,GAAG2B,KAAKyP,OAAOM,OAAO1R,GAAGiB,EAAEgQ,MAAM9G,KAAKnK,GAAG,IAAI,MAAM0B,KAAK1B,EAAEkR,QAAQ,GAAGvP,KAAKoF,IAAIrF,GAAG,CAAC,MAAM1B,EAAE2B,KAAK4P,IAAI7P,GAAGC,KAAKwP,OAAOQ,OAAOjQ,GAAGC,KAAKyP,OAAOQ,OAAO5R,GAAGiB,EAAEiQ,QAAQ/G,KAAKnK,GAAG2B,KAAK0P,MAAM5N,OAAO,EAAE9B,KAAKwP,OAAOlK,SAASjH,GAAG2B,KAAK0P,MAAMlH,KAAKnK,MAAMiB,EAAEgQ,MAAMxN,QAAQxC,EAAEiQ,QAAQzN,SAAS9B,KAAKkQ,KAAK,SAAS5Q,GAAG,aAAajB,GAAG,MAAMiB,EAAEU,KAAK2P,WAAWQ,gBAAgB9R,EAAE,GAAG,IAAIiB,EAAE,OAAO,MAAM8Q,MAAMrQ,EAAEsQ,QAAQjS,GAAGkB,GAAG+O,MAAMnQ,GAAGE,EAAE,GAAG2B,EAAE+B,OAAO,EAAE,IAAI,MAAMwO,IAAIzQ,EAAE0Q,QAAQjQ,EAAEkQ,MAAMC,KAAK1Q,EAAE,IAAI,IAAI1B,EAAEiC,EAAEjC,GAAGoS,EAAEpS,IAAI,CAAC,MAAMiB,EAAE6I,EAAE9G,IAAInD,EAAE2B,EAAEzB,EAAEsS,aAAarS,GAAGD,EAAEuS,kBAAkBtS,IAAIkQ,GAAG,GAAGnO,EAAEoE,IAAIlF,IAAIU,KAAKoF,IAAI9F,GAAG,CAAC,MAAMjB,EAAE,IAAI,KAAE2B,KAAK2P,WAAWrQ,GAAGU,KAAKwP,OAAOnO,IAAI/B,EAAEjB,GAAG2B,KAAKyP,OAAOM,OAAO1R,GAAG2B,KAAK0P,MAAMlH,KAAKnK,GAAGmH,EAAE8J,MAAM9G,KAAKnK,IAAI,IAAI,IAAIwB,EAAEG,KAAK0P,MAAM5N,OAAO,EAAEjC,GAAG,EAAEA,IAAI,CAAC,MAAMxB,EAAE2B,KAAK0P,MAAM7P,GAAGO,EAAEgF,IAAI/G,EAAEkQ,MAAMvO,KAAKwP,OAAOQ,OAAO3R,EAAEkQ,IAAIvO,KAAK0P,MAAMkB,OAAO/Q,EAAE,GAAGG,KAAKyP,OAAOQ,OAAO5R,GAAGmH,EAAE+J,QAAQ/G,KAAKnK,KAAKmH,EAAE8J,MAAMxN,QAAQ0D,EAAE+J,QAAQzN,SAAS9B,KAAKkQ,KAAK,SAAS1K,GAAG,iBAAelG,GAAGc,EAAEqD,QAAQ+B,EAAE8J,MAAMxN,OAAO,EAAE0D,EAAE+J,QAAQzN,OAAO,GAAG,W,4HCA35D,SAAS1B,EAAE/B,EAAEiB,GAAG,IAAIjB,IAAIiB,EAAE,OAAOjB,EAAE,OAAOiB,GAAG,IAAI,SAAS,IAAI,WAAW,OAAO,EAAEjB,EAAE,IAAI,WAAW,IAAI,QAAQ,OAAOA,EAAE,IAAI,OAAO,OAAO2C,KAAK6P,KAAKxS,GAAG,OAAOA,EAAqD,SAASiK,EAAEjK,GAAG,OAAOA,EAAEwE,KAAKxE,GAA/E,SAAWA,GAAG,MAAM,CAACyS,MAAMzS,EAAEyS,MAAM7Q,MAAK,QAAE5B,EAAE4B,OAAsCK,CAAEjC,KAAK,SAAS0S,EAAE1S,GAAG,GAAG,iBAAiBA,GAAG,iBAAiBA,EAAE,OAAO,QAAEA,GAAG,MAAM0B,EAAE1B,EAAE,MAAM,CAAC0I,KAAK,OAAOrI,WAAWqB,EAAErB,WAAWI,MAAMwJ,EAAEvI,EAAEjB,QAAyH,MAAMkS,EAAE3S,IAAI,MAAMiB,EAAE,GAAGlB,EAAE,GAAGyB,EAAEyI,EAAEjK,GAAGH,EAAE2B,EAAEiC,OAAO,IAAI,IAAI1B,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAAC,MAAM/B,EAAEwB,EAAEmB,KAAKC,IAAIb,EAAElC,EAAE,IAAIoB,EAAEkJ,KAAKnK,EAAEyS,OAAO1S,EAAEoK,KAAK,MAAMnK,EAAE4B,KAAK,MAAE,QAAE5B,EAAE4B,OAAO,MAAM,CAACgR,OAAO,IAAIC,aAAa5R,GAAG6R,MAAM,IAAID,aAAa9S,KAAK,SAASqS,EAAEpS,GAAG,MAAMiB,EAAEjB,GAAGA,EAAEyD,OAAO,EAAE,GAAG,KAAK/B,EAAET,EAAE,GAAG,KAAK,IAAIA,EAAE,MAAM,CAAC8R,SAAS9R,EAAE+R,SAAStR,GAAG,IAAI,MAAM9B,KAAKI,EAAE,GAAGJ,EAAEc,QAAQO,EAAErB,EAAE8I,MAAM9I,EAAEc,OAAO,SAASd,EAAE8I,KAAK,CAAChH,EAAEE,OAAOF,EAAEE,KAAK,IAAI,MAAM5B,EAAEJ,EAAE,QAAO,OAAEI,IAAI,KAAK,sBAAoB0B,EAAEE,KAAKqR,YAAY,CAAChT,aAAaD,EAAEC,aAAaC,aAAaF,EAAEE,aAAaC,QAAQuS,EAAE1S,EAAEG,SAASC,QAAQsS,EAAE1S,EAAEI,UAAU,MAAM,KAAK,qBAAmBsB,EAAEE,KAAKsR,WAAW,CAACzS,MAAMwJ,EAAEjK,EAAES,QAAQ,MAAM,KAAK,qBAAmB,GAAGT,EAAEW,OAAO,CAAC,MAAMM,EAAE,GAAG,IAAI,MAAMS,KAAK1B,EAAEW,OAAOM,EAAES,GAAGiR,EAAE3S,EAAEW,OAAOe,IAAIA,EAAEE,KAAKuR,WAAW,CAACzK,KAAK,kBAAkB/H,OAAOM,QAAQS,EAAEE,KAAKuR,WAAW,CAACzK,KAAK,YAAYiK,EAAE3S,EAAES,QAAQ,MAAM,KAAK,oBAAkBiB,EAAEE,KAAKwR,UAAU,CAACC,KAAKrT,EAAEY,UAAU0H,oBAAoBtI,EAAEsI,2BAA2B,GAAG,UAAU1I,EAAE8I,KAAKhH,EAAE4R,MAAMlF,EAAExO,QAAQ,GAAG,YAAYA,EAAE8I,KAAKhH,EAAE6R,QAAQpS,EAAEvB,QAAQ,GAAG,aAAaA,EAAE8I,KAAK,CAAC,MAAM1I,EAAEJ,EAAE8B,EAAE8R,SAAS,CAAC9K,KAAK1I,EAAEyT,cAAc,MAAM,CAACV,SAAS9R,EAAE+R,SAAStR,GAAG,SAASP,EAAEnB,GAAG,MAAMiB,EAAE,CAAC2R,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGc,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,GAAG,iBAAiB1T,EAAEU,MAAM,CAAC,IAAIV,EAAES,MAAM,OAAO,KAAK,CAAC,GAAGT,EAAES,MAAMgD,OAAO,EAAE,OAAO,KAAK,MAAM/B,EAAE1B,EAAES,MAAM,IAAI,IAAIT,EAAE,EAAEA,EAAE,IAAIA,EAAE,CAAC,MAAMJ,EAAE8B,EAAEiB,KAAKC,IAAI5C,EAAE0B,EAAE+B,OAAO,IAAIxC,EAAE2R,OAAO5S,GAAGJ,EAAE6S,MAAMxR,EAAEyS,UAAU1T,GAAGJ,EAAE2T,cAAc,CAAC,KAAKvT,EAAES,OAAOT,EAAES,MAAMgD,QAAQ,GAAG,OAAO,KAAK,CAAC,MAAM/B,EAAE1B,EAAES,OAAOT,EAAES,MAAMgD,QAAQ,GAAGzD,EAAES,MAAM,GAAG8S,QAAQ,IAAI,IAAIvT,EAAE,EAAEA,EAAE,EAAEA,IAAIiB,EAAE2R,OAAO5S,GAAG,IAAIiB,EAAEyS,UAAU1T,GAAG0B,GAAG,OAAOT,EAAE,SAAS0S,EAAE3T,EAAEiB,EAAES,GAAG1B,EAAE,EAAEiB,EAAE,GAAGS,EAAEK,EAAE,IAAI/B,EAAE,EAAEiB,EAAE,GAAGS,EAAEiS,EAAE,IAAI3T,EAAE,EAAEiB,EAAE,GAAGS,EAAEkS,EAAE,IAAI5T,EAAE,EAAEiB,EAAE,GAAGS,EAAEO,EAAE,SAASmM,EAAEnN,GAAG,IAAG,QAAEA,GAAG,OAAO,KAAK,GAAGA,EAAEkH,mBAAmB,OAAO,KAAK,MAAMzG,EAAE,CAAChB,MAAM,KAAKkS,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGiB,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,GAAG,iBAAiB5S,EAAEP,MAAM,CAAC,IAAIO,EAAER,MAAM,OAAO,KAAK,CAAC,GAAGQ,EAAER,MAAMgD,OAAO,EAAE,OAAO,KAAK/B,EAAEhB,MAAMO,EAAEP,MAAM,MAAMV,EAAEiB,EAAER,MAAM,IAAI,IAAIQ,EAAE,EAAEA,EAAE,IAAIA,EAAE,CAAC,MAAMrB,EAAEI,EAAE2C,KAAKC,IAAI3B,EAAEjB,EAAEyD,OAAO,IAAI/B,EAAEkR,OAAO3R,GAAGrB,EAAE6S,MAAMkB,EAAEjS,EAAEmS,OAAO5S,EAAErB,EAAE0T,aAAa,CAAC,KAAKrS,EAAER,OAAOQ,EAAER,MAAMgD,QAAQ,GAAG,OAAO,KAAK,CAAC,MAAMzD,EAAEiB,EAAER,OAAOQ,EAAER,MAAMgD,QAAQ,GAAGxC,EAAER,MAAM,GAAG6S,MAAM,IAAI,IAAIrS,EAAE,EAAEA,EAAE,EAAEA,IAAIS,EAAEkR,OAAO3R,GAAG,IAAI0S,EAAEjS,EAAEmS,OAAO5S,EAAEjB,IAAI,IAAI,IAAIA,EAAE,EAAEA,EAAE,GAAGA,GAAG,GAAE,QAAE0B,EAAEmS,OAAO7T,GAAE,GAAI,OAAO0B","file":"chunks/7946.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst n=(n,l)=>n&&((...n)=>l.warn(\"DEBUG:\",...n))||(()=>null),l=!1;export{l as DEBUG_ATTR_UPDATES,n as createDebugLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import s from\"../../../../core/Error.js\";import{WGLVVFlag as i}from\"./enums.js\";import{isNumber as r}from\"./Utils.js\";const l=e.getLogger(\"esri.views.2d.engine.webgl\");function o(e){return r(e.minDataValue)&&r(e.maxDataValue)&&null!=e.minSize&&null!=e.maxSize?i.SIZE_MINMAX_VALUE:(e.expression&&\"view.scale\"===e.expression||e.valueExpression&&\"$view.scale\"===e.valueExpression)&&Array.isArray(e.stops)?i.SIZE_SCALE_STOPS:(null!=e.field||e.expression&&\"view.scale\"!==e.expression||e.valueExpression&&\"$view.scale\"!==e.valueExpression)&&(Array.isArray(e.stops)||\"levels\"in e&&e.levels)?i.SIZE_FIELD_STOPS:(null!=e.field||e.expression&&\"view.scale\"!==e.expression||e.valueExpression&&\"$view.scale\"!==e.valueExpression)&&null!=e.valueUnit?i.SIZE_UNIT_VALUE:(l.error(new s(\"mapview-bad-type\",\"Found invalid size VisualVariable\",e)),i.NONE)}export{o as getTypeOfSizeVisualVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/has.js\";import{isNone as e,isSome as i,mapMany as s,forEachSome as r,andThen as a,unwrap as o}from\"../../../../../core/maybe.js\";import n from\"../../../../../core/Logger.js\";import l from\"../../../../../core/Error.js\";import{createAbortController as h,createResolver as c,isAbortError as u}from\"../../../../../core/promiseUtils.js\";import{clamp as d}from\"../../../../../core/mathUtils.js\";import{diff as p}from\"../../../../../core/accessorSupport/diffUtils.js\";import _ from\"../../../../../layers/support/FieldsIndex.js\";import{MAX_FILTERS as g,HIGHLIGHT_FLAG as f,ATTRIBUTE_DATA_VV as m,NAN_MAGIC_NUMBER as y,ATTRIBUTE_DATA_ANIMATION as x}from\"../../../engine/webgl/definitions.js\";import{getPixelArrayCtor as b}from\"../../../engine/webgl/Utils.js\";import{createDebugLogger as z,DEBUG_ATTR_UPDATES as T}from\"../../../engine/webgl/util/debug.js\";import{getVisualVariableSizeValueRepresentationRatio as S}from\"../tileRenderers/support/visualVariablesUtils.js\";const w=n.getLogger(\"esri.views.layers.2d.features.support.AttributeStore\"),A=z(T,w),k=2147483647,D=2147483648,E=254,F=255,U=0,R=1,C=t=>(t&D)>>>31,M=t=>t&k,B=t=>C(t)===R?E:F;function v(t){return C(t)===R}const j={sharedArrayBuffer:t(\"esri-shared-array-buffer\"),atomics:t(\"esri-atomics\")};function I(t,e){return i=>e(t(i))}class P{constructor(t,e,i,s){this.size=0,this.texelSize=4;const{pixelType:r,layout:a,textureOnly:o}=s;this.textureOnly=o||!1,this.pixelType=r,this._ctype=e,this.layout=a,this._resetRange(),this._shared=t,this.size=i,o||(this.data=this._initData(r,i,t,e))}get buffer(){return a(this.data,(t=>t.buffer))}unsetComponentAllTexels(t,e){const i=o(this.data);for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponentAllTexels(t,e){const i=o(this.data);for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponent(t,e,i){const s=o(this.data);for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r)}setComponentTexel(t,e,i){o(this.data)[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}unsetComponentTexel(t,e,i){o(this.data)[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}getData(t,e){const i=M(t);return o(this.data)[i*this.texelSize+e]}setData(t,e,i){const s=M(t),r=1<<e;0!=(this.layout&r)?(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):w.error(\"mapview-attributes-store\",\"Tried to set a value for a texel's readonly component\")}lock(){5121===this.pixelType&&this._shared&&j.atomics&&\"local\"!==this._ctype&&Atomics.store(this.data,0,1)}unlock(){5121===this.pixelType&&this._shared&&j.atomics&&\"local\"!==this._ctype&&Atomics.store(this.data,0,0)}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t,this._shared,this._ctype),i=o(this.data);e.set(i),this.data=e}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!(this._shared||\"local\"===this._ctype),r=this.pixelType,a=this.layout,n=o(this.data);if(!n.slice){if(!s)return{start:t,end:e,data:null,pixelType:r,layout:a};return{start:t,end:e,data:new(b(this.pixelType))(Array.prototype.slice.call(this.data,t*i,(e+1)*i)),pixelType:r,layout:a}}return{start:t,end:e,data:s&&n.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e,i,s){const r=i&&\"local\"!==s?SharedArrayBuffer:ArrayBuffer,a=b(t),o=new a(new r(e*e*4*a.BYTES_PER_ELEMENT));for(let n=0;n<o.length;n+=4)o[n+1]=255;return o}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}}class O{constructor(t,e){this._client=t,this.config=e,this._attributeComputeMap=new Map,this._blocks=new Array,this._filters=new Array(g),this._targetType=0,this._abortController=h(),this._hasScaleExpr=!1,this._size=32,this._idsToHighlight=new Set;const i=e.supportsTextureFloat?5126:5121;A(`Creating AttributeStore ${j.sharedArrayBuffer?\"with\":\"without\"} shared memory`),this._blockDescriptors=[{pixelType:5121,layout:1},{pixelType:5121,layout:15,textureOnly:!0},{pixelType:i,layout:15},{pixelType:i,layout:15}],this._blocks=this._blockDescriptors.map((()=>null))}destroy(){this._abortController.abort()}get hasScaleExpr(){return this._hasScaleExpr}get _signal(){return this._abortController.signal}update(i,s){this.config=s;const r=s.schema.processors[0].storage,a=p(this._schema,r);if((i.targets.feature||i.targets.aggregate)&&(i.storage.data=!0),a&&(t(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - AttributeStore:\",a),i.storage.data=!0,this._schema=r,this._attributeComputeMap.clear(),!e(r))){switch(r.target){case\"feature\":this._targetType=U;break;case\"aggregate\":this._targetType=R}for(const t of r.mapping)this._bindAttribute(t)}}onTileData(t,i){if(e(i.addOrUpdate))return;const s=i.addOrUpdate.getCursor();for(;s.next();){const t=s.getDisplayId();this.setAttributeData(t,s)}}invalidateResources(){this._createResourcesPromise=null,this._abortController.abort(),this._abortController=h()}async setHighlight(t,e){const i=1,s=this._getBlock(0),r=e.map((t=>M(t)));s.lock(),s.unsetComponentAllTexels(0,i),s.setComponent(0,i,r),s.unlock(),this._idsToHighlight.clear();for(const a of t)this._idsToHighlight.add(a);await this.sendUpdates()}async updateFilters(e,i){const{config:s,service:r,spatialReference:a}=i,{filters:o}=s,n=o.map(((t,e)=>this._updateFilter(t,e,r,a)));(await Promise.all(n)).some((t=>t))&&(e.storage.filters=!0,t(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - AttributeStore:\",\"Filters changed\"))}setData(t,e,i,s){const r=M(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s)}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlag(t){return this._idsToHighlight.has(t)?f:0}unsetAttributeData(t){const e=M(t);this._getBlock(0).setData(e,0,0)}setAttributeData(t,e){const i=M(t);if(this._ensureSizeForTexel(i),this._getBlock(0).setData(i,0,this.getFilterFlags(e)),this._targetType!==C(t))return;const s=this._attributeComputeMap,r=this.config.supportsTextureFloat?1:2,a=4;s.size&&s.forEach(((t,s)=>{const o=s*r%a,n=Math.floor(s*r/a),l=this._getBlock(n+m),h=t(e);if(this.config.supportsTextureFloat)l.setData(i,o,h);else if(h===y)l.setData(i,o,255),l.setData(i,o+1,255);else{const t=d(Math.round(h),-32767,32766)+32768,e=255&t,s=(65280&t)>>8;l.setData(i,o,e),l.setData(i,o+1,s)}}))}sendUpdates(){if(this._nextUpdate)return this._nextUpdate.promise;if(this._currUpdate)return this._nextUpdate=c(),this._nextUpdate.promise;const t={blocks:this._blocks.map((t=>i(t)?t.toMessage():null))};return this._currUpdate=this._createResources().then((()=>{const e=()=>{if(this._currUpdate=null,this._nextUpdate){const t=this._nextUpdate;this._nextUpdate=null,this.sendUpdates().then((()=>t.resolve()))}},i=this._client.update(t,this._signal).then(e).catch(e);return this._client.render(this._signal),i})).catch((t=>u(t)?(this._createResourcesPromise=null,this._createResources()):(w.error(new l(\"mapview-attribute-store\",\"Encountered an error during client update\",t)),Promise.resolve()))),this._currUpdate}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}_bindAttribute(t){function e(){return t.normalizationField?e=>{const i=e.readAttribute(t.normalizationField);if(!i)return null;return e.readAttribute(t.field)/i}:e=>e.readAttribute(t.field)}function i(){return t.normalizationField&&w.warn(\"mapview-arcade\",\"Ignoring normalizationField specified with an arcade expression which is not supported.\"),e=>e.getComputedNumericAtIndex(t.fieldIndex)}let s;if(null!=t.fieldIndex)s=i();else{if(!t.field)return;s=e()}if(t.valueRepresentation){s=I(s,(e=>S(e,t.valueRepresentation)))}const r=t=>null===t||isNaN(t)||t===1/0?y:t;this._attributeComputeMap.set(t.binding,I(s,r))}_createResources(){if(i(this._createResourcesPromise))return this._createResourcesPromise;this._getBlock(x),A(\"Initializing AttributeStore\");const t={shared:j.sharedArrayBuffer&&!(\"local\"===this._client.type),size:this._size,blocks:s(this._blocks,(t=>({textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType})))},r=this._client.initialize(t,this._signal).catch((t=>{u(t)?this._createResourcesPromise=null:w.error(new l(\"mapview-attribute-store\",\"Encountered an error during client initialization\",t))}));return this._createResourcesPromise=r,r.then((()=>e(this._createResourcesPromise)?this._createResources():void 0)),r}_getBlock(t){const e=this._blocks[t];if(i(e))return e;A(`Initializing AttributeBlock at index ${t}`);const s=j.sharedArrayBuffer,r=this._client.type,a=new P(s,r,this._size,this._blockDescriptors[t]);return this._blocks[t]=a,this._createResourcesPromise=null,a}_expand(){if(this._size<this.config.maxTextureSize){const t=this._size<<=1;return A(\"Expanding block size to\",t,this._blocks),r(this._blocks,(e=>e.expand(t))),this._createResourcesPromise=null,this._size=t,0}return w.error(new l(\"mapview-limitations\",\"Maximum number of onscreen features exceeded.\")),-1}async _updateFilter(t,s,r,a){const o=this._filters[s],n=i(o)&&o.hash;if(!o&&!t)return!1;if(n===JSON.stringify(t))return!1;if(e(t)){const t=1<<s+1,e=this._getBlock(0);return this._filters[s]=null,e.setComponentAllTexels(0,t),this.sendUpdates(),!0}const l=await this._getFilter(s,r);return await l.update(t,a),!0}async _getFilter(t,e){const s=this._filters[t];if(i(s))return s;const{default:r}=await import(\"../../../../../layers/graphics/data/FeatureFilter.js\"),a=new r({geometryType:e.geometryType,hasM:!1,hasZ:!1,timeInfo:e.timeInfo,fieldsIndex:new _(e.fields)});return this._filters[t]=a,a}isVisible(t){return!!(2&this._getBlock(0).getData(t,0))}getFilterFlags(t){let i=0;const s=B(t.getDisplayId());for(let a=0;a<this._filters.length;a++){const r=!!(s&1<<a),o=this._filters[a];i|=(!r||e(o)||o.check(t)?1:0)<<a}let r=0;if(this._idsToHighlight.size){const e=t.getObjectId();r=this.getHighlightFlag(e)}return i<<1|r}}export default O;export{R as DISPLAY_ID_TYPE_AGGREGATE,U as DISPLAY_ID_TYPE_FEATURE,B as getDisplayIdFilterMask,M as getDisplayIdTexel,C as getDisplayIdType,v as isAggregateId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst e=2147483647,t=2147483648,r=0,s=1;function n(e){return(e&t)>>>31}function i(t){return t&e}function u(e,r){return((r?t:0)|e)>>>0}class d{constructor(){this._freeIds=[],this._idCounter=1}createId(e=!1){return u(this._getFreeId(),e)}releaseId(e){this._freeIds.push(e)}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}export{s as DISPLAY_ID_TYPE_AGGREGATE,r as DISPLAY_ID_TYPE_FEATURE,d as DisplayIdGenerator,i as getDisplayIdIndex,n as getDisplayIdType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{StaticBitSet as t}from\"./StaticBitSet.js\";import{DisplayIdGenerator as e}from\"./displayIdUtils.js\";function s(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s)}const i=2147483647,n=2147483648,r=(t,e)=>((e?n:0)|t)>>>0;class u{constructor(){this._numerics=[],this._strings=[],this._idGenerator=new e,this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[]}createBitset(){const e=this._bitsets.length;return this._bitsets.push(t.create(this._allocatedSize,i)),e+1}getBitset(t){return this._bitsets[t-1]}_expand(){this._allocatedSize<<=1;for(const t of this._bitsets)t.resize(this._allocatedSize)}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);s(this._numerics[t],e,0)}_ensureInstanceId(t){s(this._instanceIds,t,0)}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);s(this._strings[t],e,null)}createDisplayId(t=!1){const e=this._idGenerator.createId();return e>this._allocatedSize&&this._expand(),r(e,t)}releaseDisplayId(t){for(const e of this._bitsets)e.unset(t);return this._idGenerator.releaseId(t&i)}getComputedNumeric(t,e){return this.getComputedNumericAtIndex(t&i,0)}setComputedNumeric(t,e,s){return this.setComputedNumericAtIndex(t&i,s,0)}getComputedString(t,e){return this.getComputedStringAtIndex(t&i,0)}setComputedString(t,e,s){return this.setComputedStringAtIndex(t&i,0,s)}getComputedNumericAtIndex(t,e){const s=t&i;return this._ensureNumeric(e,s),this._numerics[e][s]}setComputedNumericAtIndex(t,e,s){const n=t&i;this._ensureNumeric(e,n),this._numerics[e][n]=s}getInstanceId(t){const e=t&i;return this._ensureInstanceId(e),this._instanceIds[e]}setInstanceId(t,e){const s=t&i;this._ensureInstanceId(s),this._instanceIds[s]=e}getComputedStringAtIndex(t,e){const s=t&i;return this._ensureString(e,s),this._strings[e][s]}setComputedStringAtIndex(t,e,s){const n=t&i;this._ensureString(e,n),this._strings[e][n]=s}getXMin(t){return this._bounds[4*(t&i)]}getYMin(t){return this._bounds[4*(t&i)+1]}getXMax(t){return this._bounds[4*(t&i)+2]}getYMax(t){return this._bounds[4*(t&i)+3]}setBounds(t,e){const n=e.readHydratedGeometry();if(!n||!n.coords.length)return!1;let r=1/0,u=1/0,h=-1/0,o=-1/0;n.forEachVertex(((t,e)=>{r=Math.min(r,t),u=Math.min(u,e),h=Math.max(h,t),o=Math.max(o,e)}));const d=t&i;return s(this._bounds,4*d+4,0),this._bounds[4*d]=r,this._bounds[4*d+1]=u,this._bounds[4*d+2]=h,this._bounds[4*d+3]=o,!0}}export{u as ComputedAttributeStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{fromJSON as t}from\"../../../../../geometry/support/jsonUtils.js\";import\"../../../../../geometry.js\";import e from\"../../../../../layers/graphics/OptimizedGeometry.js\";import{convertToGeometry as r}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{getCentroidOptimizedGeometry as i}from\"../../../../../layers/graphics/centroid.js\";let s=0;class n{constructor(t){this.type=\"FeatureSetReader\",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._xmin=-1,this._xmax=0,this._ymin=0,this._ymax=0,this._joined=[],this.instance=t}static createInstance(){return s++,s=s>65535?0:s,s}get _hasFilter(){return-1!==this._xmin}getQuantizationTransform(){throw new Error(\"Unable to find transform for featureSet\")}getStorage(){return this._storage}getComputedNumeric(t){return this.getComputedNumericAtIndex(0)}setComputedNumeric(t,e){return this.setComputedNumericAtIndex(e,0)}getComputedString(t){return this.getComputedStringAtIndex(0)}setComputedString(t,e){return this.setComputedStringAtIndex(0,e)}getComputedNumericAtIndex(t){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),t)}setComputedNumericAtIndex(t,e){this._storage.setComputedNumericAtIndex(this.getDisplayId(),t,e)}getComputedStringAtIndex(t){return this._storage.getComputedStringAtIndex(this.getDisplayId(),t)}setComputedStringAtIndex(t,e){return this._storage.setComputedStringAtIndex(this.getDisplayId(),t,e)}transform(t,e){const r=this.copy();return r._tx=t,r._ty=e,r}extent(t,e,r,i){const s=this.copy();return s._xmin=t,s._xmax=r,s._ymin=e,s._ymax=i,s}hasFilter(){return this._hasFilter}readAttribute(t,e=!1){const r=this._readAttribute(t,e);if(void 0!==r)return r;for(const i of this._joined){i.setIndex(this.getIndex());const r=i._readAttribute(t,e);if(void 0!==r)return r}}readAttributes(){return this._readAttributes()}joinAttributes(t){this._joined.push(t)}readArcadeFeature(){return this}geometry(){const e=this.readHydratedGeometry(),i=r(e,this.geometryType,this.hasZ,this.hasM),s=t(i);return s.spatialReference=this._arcadeSpatialReference,s}field(t){return this.readAttribute(t,!0)}hasField(t){return!0}setField(t,e){}keys(){return[]}castToText(){return\"\"}_computeCentroid(){if(\"esriGeometryPolygon\"!==this.geometryType)return null;const t=this.readUnquantizedGeometry();if(!t||t.hasIndeterminateRingOrder)return null;const r=this.getQuantizationTransform();return i(new e,t,this.hasM,this.hasZ,r)}copyInto(t){t.seen=this.seen,t._storage=this._storage,t._arcadeSpatialReference=this._arcadeSpatialReference,t._joined=this._joined,t._tx=this._tx,t._ty=this._ty,t._xmin=this._xmin,t._xmax=this._xmax,t._ymin=this._ymin,t._ymax=this._ymax}}export{n as FeatureSetReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{convertFromFeatures as t,convertFromFeatureSet as e,convertToFeature as r,convertToGeometry as s,getQuantizedArea as i,unquantizeOptimizedGeometry as n}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{FeatureSetReader as o}from\"./FeatureSetReader.js\";function a({coords:t,lengths:e}){let r=0;for(const s of e){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s}}class u extends o{constructor(t,e,r){super(t),this._featureIndex=-1,this._dateFields=new Set,this._geometryType=r,this._features=e}static fromFeatures(e,r,s){const i=t([],e,r,!1,!1,s);for(let t=0;t<i.length;t++)i[t].displayId=e[t].displayId;return u.fromOptimizedFeatures(i,r)}static fromFeatureSet(t,r){const s=e(t,r);return u.fromOptimizedFeatureSet(s)}static fromOptimizedFeatureSet(t){const{features:e,geometryType:r}=t,s=u.fromOptimizedFeatures(e,r);s._exceededTransferLimit=t.exceededTransferLimit,s._transform=t.transform;for(const i of t.fields)\"esriFieldTypeDate\"===i.type&&s._dateFields.add(i.name);return s}static fromOptimizedFeatures(t,e,r){const s=o.createInstance(),i=new u(s,t,e);return i._transform=r,i}get _current(){return this._features[this._featureIndex]}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}getApproximateSize(){return this._features.length}getCursor(){return this.copy()}getQuantizationTransform(){return this._transform}getAttributeHash(){let t=\"\";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getIndex(){return this._featureIndex}setIndex(t){this._featureIndex=t}getObjectId(){return this._current.objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){this._current.displayId=t}getGroupId(){return this._current.groupId}setGroupId(t){this._current.groupId=t}copy(){const t=new u(this.instance,this._features,this.geometryType);return this.copyInto(t),t}next(){if(!this._hasFilter)return++this._featureIndex<this._features.length;for(;++this._featureIndex<this._features.length&&!this._passesFilter(););return this._featureIndex<this._features.length}readLegacyFeature(){return r(this._current,this.geometryType,this.hasZ,this.hasM)}readOptimizedFeature(){return this._current}readLegacyPointGeometry(){const t=this.readGeometry();return t?{x:t.coords[0],y:t.coords[1]}:null}readLegacyGeometry(){const t=this.readGeometry();return s(t,this.geometryType,this.hasZ,this.hasM)}readLegacyCentroid(){const t=this.readCentroid();return t?{x:t.coords[0],y:t.coords[1]}:null}readGeometryArea(){return i(this._current.geometry,2)}readUnquantizedGeometry(){const t=this.readGeometry();if(\"esriGeometryPoint\"===this.geometryType||!t)return t;const e=t.clone();return a(e),e}readHydratedGeometry(){const t=this._current.geometry;if(!t)return null;const e=t.clone();return n(e,e,this.hasZ,this.hasM,this._transform),e}getXHydrate(){const t=this._current.geometry.coords[0]+this._tx,e=this.getQuantizationTransform();return t*e.scale[0]+e.translate[0]}getYHydrate(){const t=this._current.geometry.coords[1]+this._ty,e=this.getQuantizationTransform();return e.translate[1]-t*e.scale[1]}readGeometry(){if(!this._current.hasGeometry)return null;const t=this._current.geometry.clone();if(t.isPoint)return t.coords[0]+=this._tx,t.coords[1]+=this._ty,t;let e=0;for(const r of t.lengths)t.coords[2*e]+=this._tx,t.coords[2*e+1]+=this._ty,e+=r;return t}readCentroid(){if(!this._current.hasGeometry)return null;if(!this._current.centroid){const t=this._computeCentroid();if(!t)return null;t.coords[0]-=this._tx,t.coords[1]-=this._ty,this._current.centroid=t}const t=this._current.centroid.clone();return t.coords[0]+=this._tx,t.coords[1]+=this._ty,t}_readAttribute(t,e){const r=this._current.attributes[t];if(void 0!==r)return e&&this._dateFields.has(t)?new Date(r):r;const s=this.readAttributes(),i=t.toLocaleLowerCase().trim();for(const n in s)if(n.toLocaleLowerCase().trim()===i){const t=this._current.attributes[n];return this._dateFields.has(n)?new Date(t):t}}copyInto(t){super.copyInto(t),t._featureIndex=this._featureIndex,t._transform=this._transform,t._dateFields=this._dateFields}_readAttributes(){return this._current.attributes}_passesFilter(){if(!this._hasFilter)return!0;let t=0,e=0;switch(this.geometryType){case\"esriGeometryPoint\":{const r=this._current.geometry;if(!r)return!1;[t,e]=r.coords;break}case\"esriGeometryPolygon\":{const r=this.readCentroid();if(!r)return!1;[t,e]=r.coords,t-=this._tx,e-=this._ty;break}default:return!1}return t>=this._xmin&&t<=this._xmax&&e>=this._ymin&&e<=this._ymax}}export{u as FeatureSetReaderJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e){this._mask=0,this._buf=t,this._mask=e}static fromBuffer(e,s){return new t(e,s)}static create(e,s=4294967295){const r=new Uint32Array(Math.ceil(e/32));return new t(r,s)}_getIndex(t){return Math.floor(t/32)}has(t){const e=this._mask&t;return!!(this._buf[this._getIndex(e)]&1<<e%32)}hasRange(t,e){let s=t,r=e;for(;s%32&&s!==r;){if(this.has(s))return!0;s++}for(;r%32&&s!==r;){if(this.has(s))return!0;r--}if(s===r)return!1;for(let h=s/32;h!==r/32;h++){if(this._buf[h])return!0}return!1}set(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]|=r}setRange(t,e){let s=t,r=e;for(;s%32&&s!==r;)this.set(s++);for(;r%32&&s!==r;)this.set(r--);if(s!==r)for(let h=s/32;h!==r/32;h++)this._buf[h]=4294967295}unset(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]&=4294967295^r}resize(t){const e=this._buf,s=new Uint32Array(Math.ceil(t/32));s.set(e),this._buf=s}or(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=t._buf[e];return this}and(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=t._buf[e];return this}xor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=t._buf[e];return this}ior(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~t._buf[e];return this}iand(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~t._buf[e];return this}ixor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~t._buf[e];return this}any(){for(let t=0;t<this._buf.length;t++)if(this._buf[t])return!0;return!1}copy(t){for(let e=0;e<this._buf.length;e++)this._buf[e]=t._buf[e];return this}clone(){return new t(this._buf.slice(),this._mask)}clear(){for(let t=0;t<this._buf.length;t++)this._buf[t]=0}forEachSet(t){for(let e=0;e<this._buf.length;e++){let s=this._buf[e],r=32*e;if(s)for(;s;){1&s&&t(r),s>>>=1,r++}}}countSet(){let t=0;return this.forEachSet((e=>{t++})),t}}export{t as StaticBitSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/ArrayPool.js\";import t from\"../../../../../geometry/Extent.js\";import{create as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import s from\"../../../../../tasks/support/QuantizationParameters.js\";import o from\"../../../tiling/TileKey.js\";function n(e,t){const i=e.bounds,s=t.bounds;return e.key.id!==t.key.id&&e.key.world===t.key.world&&i[0]<=s[0]&&i[1]<=s[1]&&i[2]>=s[2]&&i[3]>=s[3]}function r(e,t){return n(t,e)}class l{constructor(e,t){this.key=new o(0,0,0,0),this.bounds=i(),this.objectIds=new Set,this.key.set(t);const s=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=s.resolution,this.scale=s.scale,this.level=s.level,this.needsClear=!0}get id(){return this.key.id}get extent(){return t.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:\"upperLeft\",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}get bbox(){const e=this.bounds;return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}clone(){return new l(this.tileInfoView,this.key)}createChildTiles(){const t=this.key.getChildKeys(),i=e.acquire();for(let e=0;e<t.length;e++)i[e]=new l(this.tileInfoView,t[e]);return i}getQuantizationParameters(){return s.fromJSON({mode:\"view\",originPosition:\"upperLeft\",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}export default l;export{l as Tile,r as isChildOf,n as isParentOf};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/has.js\";import t from\"../../../../../core/Evented.js\";import s from\"../../../tiling/TileKey.js\";import i from\"../../../tiling/TileCoverage.js\";import{r as o}from\"../../../../../chunks/rbush.js\";import{Tile as n}from\"./Tile.js\";const h={added:[],removed:[]},r=new Set,d=new s(0,0,0,0);class l extends t{constructor(t){super(),this._tiles=new Map,this._index=o(9,e(\"csp-restrictions\")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[\".bounds[0]\",\".bounds[1]\",\".bounds[2]\",\".bounds[3]\"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}findByKey(e){return this._tiles.get(e.id)}intersections(e,t){const s=\"string\"==typeof e?this.get(e):e;if(!s)return[];const i=t*s.resolution,o=s.bounds[0]-i,n=s.bounds[1]-i,h=s.bounds[2]+i,r=s.bounds[3]+i,d=[];for(const l of this._index.search({minX:o,minY:n,maxX:h,maxY:r})){const e=l.bounds.slice();e[0]=Math.max(e[0],o),e[1]=Math.max(e[1],n),e[2]=Math.min(e[2],h),e[3]=Math.min(e[3],r),e[2]-e[0]>0&&e[3]-e[1]>0&&d.push({bounds:e,tile:l})}return d}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const s of e.added)if(!this.has(s)){const e=new n(this.tileScheme,s);this._tiles.set(s,e),this._index.insert(e),t.added.push(e)}for(const s of e.removed)if(this.has(s)){const e=this.get(s);this._tiles.delete(s),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit(\"update\",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:s,lodInfo:o}=t,{level:l}=o;if(s.length>0)for(const{row:i,colFrom:a,colTo:m}of s)for(let e=a;e<=m;e++){const t=d.set(l,i,o.normalizeCol(e),o.getWorldForColumn(e)).id;if(r.add(t),!this.has(t)){const e=new n(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),h.added.push(e)}}for(let i=this.tiles.length-1;i>=0;i--){const e=this.tiles[i];r.has(e.id)||(this._tiles.delete(e.id),this.tiles.splice(i,1),this._index.remove(e),h.removed.push(e))}(h.added.length||h.removed.length)&&this.emit(\"update\",h),i.pool.release(t),r.clear(),h.added.length=0,h.removed.length=0}}export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../../core/maybe.js\";import{toPt as t,pt2px as s}from\"../../../../../../core/screenUtils.js\";import{NAN_MAGIC_NUMBER as n}from\"../../../../engine/webgl/definitions.js\";import{WGLVVFlag as o}from\"../../../../engine/webgl/enums.js\";import{premultiplyAlpha as i}from\"../../../../engine/webgl/color.js\";import{getTypeOfSizeVisualVariable as l}from\"../../../../engine/webgl/visualVariablesUtils.js\";function r(e,t){if(!e||!t)return e;switch(t){case\"radius\":case\"distance\":return 2*e;case\"diameter\":case\"width\":return e;case\"area\":return Math.sqrt(e)}return e}function a(e){return{value:e.value,size:t(e.size)}}function u(e){return e.map((e=>a(e)))}function c(e){if(\"string\"==typeof e||\"number\"==typeof e)return t(e);const s=e;return{type:\"size\",expression:s.expression,stops:u(s.stops)}}function p(e){const t=e&&e.length>0?{}:null;return t&&e.forEach((e=>{const s=e.type;e.field&&(t[s]=e.field)})),t}const f=e=>{const t=[],o=[],i=u(e),l=i.length;for(let r=0;r<6;r++){const e=i[Math.min(r,l-1)];t.push(e.value),o.push(null==e.size?n:s(e.size))}return{values:new Float32Array(t),sizes:new Float32Array(o)}};function m(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),\"size\"===n.type){s.size||(s.size={});const e=n;switch(l(e)){case o.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:c(e.minSize),maxSize:c(e.maxSize)};break;case o.SIZE_SCALE_STOPS:s.size.scaleStops={stops:u(e.stops)};break;case o.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=f(e.levels[s]);s.size.fieldStops={type:\"level-dependent\",levels:t}}else s.size.fieldStops={type:\"static\",...f(e.stops)};break;case o.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation}}}else if(\"color\"===n.type)s.color=y(n);else if(\"opacity\"===n.type)s.opacity=v(n);else if(\"rotation\"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function v(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if(\"string\"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].opacity;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function g(e,t,s){e[4*t+0]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function y(t){if(e(t))return null;if(t.normalizationField)return null;const s={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if(\"string\"==typeof t.field){if(!t.stops)return null;{if(t.stops.length>8)return null;s.field=t.field;const e=t.stops;for(let t=0;t<8;++t){const n=e[Math.min(t,e.length-1)];s.values[t]=n.value,g(s.colors,t,n.color)}}}else{if(!(t.stops&&t.stops.length>=0))return null;{const e=t.stops&&t.stops.length>=0&&t.stops[0].color;for(let t=0;t<8;t++)s.values[t]=1/0,g(s.colors,t,e)}}for(let e=0;e<32;e+=4)i(s.colors,e,!0);return s}export{y as convertColorVariable,m as convertVisualVariables,r as getVisualVariableSizeValueRepresentationRatio,p as getVisualVariablesFields,c as normalizeSizeElement,u as normalizeSizeStops,a as stopToSizeStop};\n"],"sourceRoot":""}