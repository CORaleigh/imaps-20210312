{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/TimeInterval.js","webpack://imaps/./node_modules/@arcgis/core/tasks/operations/queryZScale.js","webpack://imaps/./node_modules/@arcgis/core/tasks/operations/zscale.js","webpack://imaps/./node_modules/@arcgis/core/tasks/support/FeatureSet.js"],"names":["p","u","r","super","this","value","unit","type","Number","json","write","nonNullable","prototype","read","t","o","features","hasZ","f","geometryType","outSpatialReference","e","geometry","c","l","vcsWkid","n","z","i","paths","length","s","rings","points","hasM","a","spatialReference","h","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","d","displayFieldName","exceededTransferLimit","fields","queryGeometry","push","toJSON","Array","isArray","scale","translate","_getQuantizationFunction","Math","round","y","splice","transform","_getHydrationFunction","x","_quantizePoints","xmin","ymin","xmax","ymax","String","Boolean","overridePolicy","enabled","reader","types","isDefaultToJSON"],"mappings":"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","file":"chunks/8851.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"./chunks/tslib.es6.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/accessorSupport/ensureType.js\";import{property as o}from\"./core/accessorSupport/decorators/property.js\";import{subclass as e}from\"./core/accessorSupport/decorators/subclass.js\";import\"./core/urlUtils.js\";import\"./core/uuid.js\";import\"./portal/support/resourceExtension.js\";import{JSONSupport as t}from\"./core/JSONSupport.js\";import{millisecondsPerTimeUnit as s,timeUnitKebabDictionary as i}from\"./layers/support/timeUtils.js\";var p;let u=p=class extends t{constructor(r){super(r),this.value=0,this.unit=\"milliseconds\"}toMilliseconds(){return this.value*s[this.unit]}clone(){return new p({value:this.value,unit:this.unit})}};r([o({type:Number,json:{write:!0},nonNullable:!0})],u.prototype,\"value\",void 0),r([o({type:i.apiValues,json:{type:i.jsonValues,read:i.read,write:i.write},nonNullable:!0})],u.prototype,\"unit\",void 0),u=p=r([e(\"esri.TimeInterval\")],u);var l=u;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getGeometryZScaler as e}from\"./zscale.js\";function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=e(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry)}export{t as applyFeatureSetZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../core/maybe.js\";import{equals as o}from\"../../geometry/support/spatialReferenceUtils.js\";import{getMetersPerVerticalUnitForSR as e}from\"../../core/unitUtils.js\";function t(t,c,l){if(n(c)||n(l)||l.vcsWkid||o(c,l))return null;const u=e(c)/e(l);if(1===u)return null;switch(t){case\"point\":case\"esriGeometryPoint\":return n=>i(n,u);case\"polyline\":case\"esriGeometryPolyline\":return n=>s(n,u);case\"polygon\":case\"esriGeometryPolygon\":return n=>r(n,u);case\"multipoint\":case\"esriGeometryMultipoint\":return n=>f(n,u);default:return null}}function i(n,o){n&&null!=n.z&&(n.z*=o)}function r(n,o){if(n)for(const e of n.rings)for(const n of e)n.length>2&&(n[2]*=o)}function s(n,o){if(n)for(const e of n.paths)for(const n of e)n.length>2&&(n[2]*=o)}function f(n,o){if(n)for(const e of n.points)e.length>2&&(e[2]*=o)}function c(n,o,e){if(null==n.hasM||n.hasZ)for(const t of o)for(const n of t)n.length>2&&(n[2]*=e)}function l(n,o,t){if(!n&&!o||!t)return;const i=e(t);u(n,t,i),u(o,t,i)}function u(n,o,e){if(n)for(const t of n)a(t.geometry,o,e)}function a(n,t,i){if(!n||!n.spatialReference||o(n.spatialReference,t))return;const r=e(n.spatialReference)/i;if(1!==r)if(\"x\"in n)null!=n.z&&(n.z*=r);else if(\"rings\"in n)c(n,n.rings,r);else if(\"paths\"in n)c(n,n.paths,r);else if(\"points\"in n&&(null==n.hasM||n.hasZ))for(const o of n.points)o.length>2&&(o[2]*=r)}export{t as getGeometryZScaler,l as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrap as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import a from\"../../geometry/SpatialReference.js\";import{fromJSON as y,isPolygon as u}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as m}from\"../../geometry.js\";import c from\"../../Graphic.js\";import f from\"../../layers/support/Field.js\";const h=new s({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let d=class extends l{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,r){const o=a.fromJSON(r.spatialReference),s=[];for(let i=0;i<e.length;i++){const r=e[i],n=c.fromJSON(r),p=r.geometry&&r.geometry.spatialReference;t(n.geometry)&&!p&&(n.geometry.spatialReference=o),s.push(n)}return s}writeGeometryType(e,r,o,s){if(e)return void h.write(e,r,o,s);const{features:i}=this;if(i)for(const n of i)if(n&&t(n.geometry))return void h.write(n.geometry.type,r,o,s)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=y(e);return!r&&t.spatialReference&&(o.spatialReference=a.fromJSON(t.spatialReference)),o}writeSpatialReference(e,r){if(e)return void(r.spatialReference=e.toJSON());const{features:o}=this;if(o)for(const s of o)s&&t(s.geometry)&&s.geometry.spatialReference&&(r.spatialReference=s.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,o],translate:[s,i]}=e,n=e=>Math.round((e-s)/t),p=e=>Math.round((i-e)/o),l=this.features,a=this._getQuantizationFunction(this.geometryType,n,p);for(let y=0,u=l.length;y<u;y++)a(r(l[y].geometry))||(l.splice(y,1),y--,u--);return this.transform=e,this}unquantize(){const{geometryType:e,features:r,transform:o}=this;if(!o)return this;const{translate:[s,i],scale:[n,p]}=o,l=e=>e*n+s,a=e=>i-e*p,y=this._getHydrationFunction(e,l,a);for(const{geometry:u}of r)t(u)&&y(u);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const i=[];for(let n=0,p=e.length;n<p;n++){const p=e[n];if(n>0){const e=t(p[0]),n=r(p[1]);e===o&&n===s||(i.push([e-o,n-s]),o=e,s=n)}else o=t(p[0]),s=r(p[1]),i.push([o,s])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths,s=[];for(let i=0,n=o.length;i<n;i++){const e=o[i],n=this._quantizePoints(e,t,r);n&&s.push(n)}return s.length>0?(u(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=u(e)?e.rings:e.paths;let s,i;for(let n=0,p=o.length;n<p;n++){const e=o[n];for(let o=0,n=e.length;o<n;o++){const n=e[o];o>0?(s+=n[0],i+=n[1]):(s=n[0],i=n[1]),n[0]=t(s),n[1]=r(i)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,i;for(let n=0,p=o.length;n<p;n++){const e=o[n];n>0?(s+=e[0],i+=e[1]):(s=e[0],i=e[1]),e[0]=t(s),e[1]=r(i)}}:void 0}};e([o({type:String,json:{write:!0}})],d.prototype,\"displayFieldName\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"exceededTransferLimit\",void 0),e([o({type:[c],json:{write:!0}})],d.prototype,\"features\",void 0),e([i(\"features\")],d.prototype,\"readFeatures\",null),e([o({type:[f],json:{write:!0}})],d.prototype,\"fields\",void 0),e([o({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:h.read}}})],d.prototype,\"geometryType\",void 0),e([p(\"geometryType\")],d.prototype,\"writeGeometryType\",null),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasM\",void 0),e([o({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],d.prototype,\"hasZ\",void 0),e([o({types:m,json:{write:!0}})],d.prototype,\"queryGeometry\",void 0),e([i(\"queryGeometry\")],d.prototype,\"readQueryGeometry\",null),e([o({type:a,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),e([p(\"spatialReference\")],d.prototype,\"writeSpatialReference\",null),e([o({json:{write:!0}})],d.prototype,\"transform\",void 0),d=e([n(\"esri.tasks.support.FeatureSet\")],d),d.prototype.toJSON.isDefaultToJSON=!0,d||(d={});var g=d;export default g;\n"],"sourceRoot":""}