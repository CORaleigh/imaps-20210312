{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","webpack://imaps/./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","webpack://imaps/./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","webpack://imaps/./node_modules/@arcgis/core/layers/Layer.js","webpack://imaps/./node_modules/@arcgis/core/layers/UnsupportedLayer.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/PortalLayer.js"],"names":["r","this","_propertyOriginMap","Map","_originStores","Array","_values","s","i","o","forEach","e","set","has","t","get","keys","delete","a","n","super","metadatas","store","Object","internalGet","u","originIdOf","originOf","c","propertyInvalidated","revert","propertyCommitted","f","p","setAtOrigin","write","prototype","toJSON","isDefaultToJSON","l","O","m","h","arguments","attributionDataUrl","fullExtent","id","Date","now","toString","legendEnabled","listMode","opacity","parent","popupEnabled","attributionVisible","spatialReference","title","type","url","visible","fromUrl","error","portalItem","fromItem","portal","when","catch","declaredClass","layers","includes","remove","tables","baseLayers","referenceLayers","hasAttributionData","query","responseType","data","String","readOnly","Boolean","nonNullable","Number","range","min","max","json","read","resourceInfo","addResolvingPromise","Promise","layerType","assign","value","d","resourceReferences","paths","destroy","_get","removeOrigin","_set","itemId","load","instance","supportedTypes","validateItem","supportsData","warn","layer","restUrl","messages","push"],"mappings":"8NAIiI,MAAMA,EAAE,cAAcC,KAAKC,mBAAmB,IAAIC,IAAIF,KAAKG,cAAc,IAAIC,MAAM,MAAGJ,KAAKK,QAAQ,IAAIH,IAAI,MAAMI,GAAG,MAAMC,EAAE,IAAIR,EAAES,EAAER,KAAKG,cAAc,GAAGK,GAAGA,EAAEC,SAAQ,CAAEH,EAAEI,KAAKH,EAAEI,IAAID,GAAE,QAAEJ,GAAG,MAAM,IAAI,IAAIP,EAAE,EAAEA,EAAE,KAAEA,IAAI,CAAC,MAAMW,EAAEV,KAAKG,cAAcJ,GAAGW,GAAGA,EAAED,SAAQ,CAAEC,EAAEF,KAAKF,GAAGA,EAAEM,IAAIJ,IAAID,EAAEI,IAAIH,GAAE,QAAEE,GAAGX,MAAM,OAAOQ,EAAE,IAAIM,EAAEP,GAAG,MAAMI,OAAE,IAASJ,EAAEN,KAAKK,QAAQL,KAAKG,cAAcG,GAAG,OAAOI,EAAEA,EAAEI,IAAID,QAAG,EAAO,KAAKA,GAAG,MAAMP,EAAE,MAAMO,EAAEb,KAAKK,QAAQL,KAAKG,cAAcU,GAAG,OAAOP,EAAE,IAAIA,EAAES,QAAQ,GAAG,IAAIF,EAAEH,EAAEX,EAAE,GAAG,IAAIQ,EAAEP,KAAKG,cAAcJ,GAAG,GAAGQ,IAAIA,EAAE,IAAIL,IAAIF,KAAKG,cAAcJ,GAAGQ,GAAGA,EAAEI,IAAIE,EAAEH,IAAIV,KAAKK,QAAQO,IAAIC,KAAI,QAAEb,KAAKC,mBAAmBa,IAAID,KAAKd,EAAE,CAAC,MAAMO,EAAEN,KAAKK,QAAQS,IAAID,GAAG,OAAOb,KAAKK,QAAQM,IAAIE,EAAEH,GAAGV,KAAKC,mBAAmBU,IAAIE,EAAEd,GAAGO,IAAII,EAAE,OAAM,EAAG,OAAOG,EAAEP,EAAE,GAAG,MAAMI,EAAEV,KAAKG,cAAcG,GAAG,IAAII,EAAE,OAAO,MAAMX,EAAEW,EAAEI,IAAID,GAAG,GAAGH,EAAEM,OAAOH,GAAGb,KAAKK,QAAQO,IAAIC,IAAIb,KAAKC,mBAAmBa,IAAID,KAAKP,EAAE,CAACN,KAAKK,QAAQW,OAAOH,GAAG,IAAI,IAAIH,EAAEJ,EAAE,EAAEI,GAAG,EAAEA,IAAI,CAAC,MAAMJ,EAAEN,KAAKG,cAAcO,GAAG,GAAGJ,GAAGA,EAAEM,IAAIC,GAAG,CAACb,KAAKK,QAAQM,IAAIE,EAAEP,EAAEQ,IAAID,IAAIb,KAAKC,mBAAmBU,IAAIE,EAAEH,GAAG,QAAQ,OAAOX,EAAE,IAAIc,EAAEP,GAAG,MAAMI,OAAE,IAASJ,EAAEN,KAAKK,QAAQL,KAAKG,cAAcG,GAAG,QAAQI,GAAGA,EAAEE,IAAIC,GAAG,OAAOA,EAAEP,GAAG,KAAKA,EAAE,IAAIN,KAAKY,IAAIC,EAAEP,MAAMA,EAAE,MAAMI,EAAEV,KAAKG,cAAcG,GAAGP,EAAEW,GAAGA,EAAEI,IAAID,GAAGN,EAAEP,KAAKK,QAAQS,IAAID,GAAG,OAAOb,KAAKK,QAAQM,IAAIE,EAAEd,GAAGC,KAAKC,mBAAmBU,IAAIE,EAAEP,GAAGC,IAAIR,EAAE,SAASc,GAAG,OAAOb,KAAKC,mBAAmBa,IAAID,IAAI,EAAE,QAAQA,GAAGb,KAAKK,QAAQI,QAAQI,IAAI,UCArlCI,EAAEC,IAAI,IAAID,EAAE,cAAcC,EAAE,eAAenB,GAAGoB,SAASpB,GAAG,MAAMO,GAAE,SAAE,QAAEN,OAAOQ,EAAEF,EAAEc,UAAUb,EAAED,EAAEe,MAAMH,EAAE,IAAI,EAAEZ,EAAEe,MAAMH,EAAEX,EAAEQ,OAAON,SAASV,IAAImB,EAAEP,IAAIZ,EAAEQ,EAAEO,IAAIf,GAAG,MAAMuB,OAAOP,KAAKP,GAAGC,SAASV,IAAIO,EAAEiB,YAAYxB,IAAImB,EAAEP,IAAIZ,EAAEO,EAAEiB,YAAYxB,GAAG,MAAM,KAAKA,EAAEc,IAAG,QAAEb,KAAKD,EAAEc,GAAG,YAAYd,EAAEc,GAAG,MAAMH,EAAEc,EAAExB,MAAMM,GAAE,QAAEO,GAAG,GAAG,iBAAiBd,EAAE,OAAOW,EAAEI,IAAIf,EAAEO,GAAG,MAAME,EAAE,GAAG,OAAOT,EAAEU,SAASV,IAAIS,EAAET,GAAGW,EAAEI,IAAIf,EAAEO,MAAME,EAAE,SAAST,GAAG,OAAO,QAAEC,KAAKyB,WAAW1B,IAAI,WAAWA,GAAG,OAAOyB,EAAExB,MAAM0B,SAAS3B,GAAG,OAAOA,EAAEc,GAAG,MAAMP,EAAEkB,EAAExB,MAAMQ,GAAE,QAAEK,GAAGK,GAAE,QAAElB,MAAM,IAAI2B,EAAEA,EAAE,iBAAiB5B,EAAE,MAAMA,EAAEO,EAAES,KAAKP,GAAG,CAACT,GAAGA,EAAE4B,EAAElB,SAASV,IAAImB,EAAEU,oBAAoB7B,GAAGO,EAAEuB,OAAO9B,EAAES,GAAGU,EAAEY,kBAAkB/B,QAAQ,OAAOkB,GAAE,OAAE,EAAC,OAAE,6CAA6CA,GAAGA,GAAG,SAASO,EAAEzB,GAAG,OAAO,QAAEA,GAAGsB,MAAM,IAAIU,EAAE,cAAcd,EAAE,cAAMc,GAAE,OAAE,EAAC,OAAE,6CAA6CA,GCAh1B,MAAMC,EAAEzB,IAAI,IAAIW,EAAE,cAAcX,EAAE,eAAeR,GAAGoB,SAASpB,GAAG,MAAMA,EAAEc,EAAE,QAAQ,OAAO,EAAEb,MAAMgB,OAAOjB,GAAE,QAAEc,IAAI,MAAMd,EAAE,GAAGc,GAAG,OAAO,QAAEb,KAAKD,EAAEA,GAAG,GAAGc,GAAGd,EAAE,YAAYA,EAAEO,EAAEE,IAAG,QAAER,MAAMiC,YAAYlC,EAAEO,GAAE,QAAEE,IAAI,aAAaT,GAAG,MAAMc,EAAE,EAAEb,MAAMM,GAAE,QAAEP,GAAGS,EAAEK,EAAEE,KAAKT,GAAG,IAAI,MAAMI,KAAKF,EAAEK,EAAEa,SAAShB,KAAKJ,GAAGO,EAAEF,IAAID,EAAEG,EAAEC,IAAIJ,EAAEJ,GAAG,GAAG,aAAaP,EAAEc,GAAG,MAAMP,EAAE,EAAEN,MAAMO,GAAE,QAAEM,GAAGc,EAAE3B,KAAKc,IAAIf,GAAG,IAAI,IAAIW,EAAEH,EAAE,EAAEG,EAAE,OAAIA,EAAEJ,EAAEU,OAAOjB,EAAEW,GAAGJ,EAAEK,IAAIZ,EAAE4B,EAAEpB,GAAG,OAAOR,GAAG,OAAOC,KAAKkC,MAAM,GAAGnC,KAAK,OAAOmB,GAAE,OAAE,EAAC,OAAE,8CAA8CA,GAAGA,EAAEiB,UAAUC,OAAOC,iBAAgB,EAAGnB,GAAG,SAAS,EAAEnB,GAAG,OAAO,QAAEA,GAAGsB,MAAM,MAAMiB,EAAEzB,IAAI,IAAIH,EAAE,cAAcsB,EAAE,EAAEnB,KAAK,eAAed,GAAGoB,SAASpB,KAAK,OAAOW,GAAE,OAAE,EAAC,OAAE,qCAAqCA,GAAGA,GAAG,IAAI6B,EAAE,cAAcD,EAAE,cAAMC,GAAE,OAAE,EAAC,OAAE,qCAAqCA,I,+PCAxZ,IAAIC,EAAE,EAAE,MAAMC,EAAE,cAAY,qBAAqB,IAAIV,EAAE,cAAc,kBAAe,OAAE,OAAK,cAAcZ,SAASuB,WAAW1C,KAAK2C,mBAAmB,KAAK3C,KAAK4C,WAAW,IAAI,KAAG,KAAK,GAAG,IAAI,GAAG,WAAS5C,KAAK6C,GAAGC,KAAKC,MAAMC,SAAS,IAAI,UAAUR,IAAIxC,KAAKiD,eAAc,EAAGjD,KAAKkD,SAAS,OAAOlD,KAAKmD,QAAQ,EAAEnD,KAAKoD,OAAO,KAAKpD,KAAKqD,cAAa,EAAGrD,KAAKsD,oBAAmB,EAAGtD,KAAKuD,iBAAiB,UAAQvD,KAAKwD,MAAM,KAAKxD,KAAKyD,KAAK,KAAKzD,KAAK0D,IAAI,KAAK1D,KAAK2D,SAAQ,EAAG,iCAAiC9C,GAAG,MAAMd,EAAE,iBAAiBc,EAAE,CAAC6C,IAAI7C,GAAGA,EAAEH,QAAQ,+BAAoC,IAAI,aAAaA,EAAEkD,QAAQ7D,GAAG,MAAMS,GAAG,MAAMiC,EAAEoB,MAAM,gCAAgC9D,EAAE2D,IAAI,MAAM,gDAAgDlD,GAAGA,GAAG,4BAA4BK,GAAG,MAAMH,EAAE,eAAeG,EAAEA,EAAE,CAACiD,WAAWjD,GAAGL,QAAQ,+BAA4C,IAAI,aAAaA,EAAEuD,SAASrD,GAAG,MAAMH,GAAG,MAAMM,EAAEH,GAAGA,EAAEoD,WAAWtD,EAAEK,GAAGA,EAAEgC,IAAI,QAAQ5B,EAAEJ,GAAGA,EAAEmD,QAAQnD,EAAEmD,OAAON,KAAK,oBAAY,MAAMjB,EAAEoB,MAAM,oBAAoB,qDAAqD5C,EAAE,WAAWT,EAAE,KAAKD,GAAGA,GAAG,aAAaP,KAAKiE,OAAOC,OAAOrD,IAAI,IAAId,EAAES,GAAE,kBAAEK,IAAI,cAAYb,KAAKmE,eAAeN,MAAM,UAAU,iCAAiC,OAAO9D,EAAEC,KAAKwD,OAAOzD,EAAE,qBAAqB,OAAOS,EAAER,KAAK6C,IAAIrC,EAAE,YAAY,CAACqD,MAAMhD,OAAO,UAAU,GAAGb,KAAKoD,OAAO,CAAC,MAAMvC,EAAEb,KAAKD,EAAEC,KAAKoD,OAAO,WAAWrD,GAAGA,EAAEqE,OAAOC,SAASxD,GAAGd,EAAEqE,OAAOE,OAAOzD,GAAG,WAAWd,GAAGA,EAAEwE,OAAOF,SAASxD,GAAGd,EAAEwE,OAAOD,OAAOzD,GAAG,eAAed,GAAGA,EAAEyE,WAAWH,SAASxD,GAAGd,EAAEyE,WAAWF,OAAOzD,GAAG,eAAed,GAAGA,EAAE0E,gBAAgBJ,SAASxD,IAAId,EAAE0E,gBAAgBH,OAAOzD,IAAI,yBAAyB,OAAO,MAAMb,KAAK2C,mBAAmB,gBAAgB,MAAM9B,EAAEb,KAAK0D,IAAI,OAAO7C,GAAE,QAAEA,GAAG,KAAK,6BAA6B,MAAMA,EAAEb,KAAK2C,mBAAmB,GAAG3C,KAAK0E,oBAAoB7D,EAAG,aAAa,aAAEA,EAAE,CAAC8D,MAAM,CAAC5C,EAAE,QAAQ6C,aAAa,UAAUC,KAAK,MAAM,IAAI,IAAE,4BAA4B,2CAA0C,OAAE,EAAC,QAAE,CAACpB,KAAKqB,UAAU/C,EAAEI,UAAU,0BAAqB,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAK,OAAK1B,EAAEI,UAAU,kBAAa,IAAQ,OAAE,EAAC,QAAE,CAAC4C,UAAS,KAAMhD,EAAEI,UAAU,qBAAqB,OAAM,OAAE,EAAC,QAAE,CAACsB,KAAKqB,UAAU/C,EAAEI,UAAU,UAAK,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAKuB,QAAQC,aAAY,KAAMlD,EAAEI,UAAU,qBAAgB,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAK,CAAC,OAAO,OAAO,oBAAoB1B,EAAEI,UAAU,gBAAW,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAKyB,OAAOC,MAAM,CAACC,IAAI,EAAEC,IAAI,GAAGJ,aAAY,KAAMlD,EAAEI,UAAU,eAAU,IAAQ,OAAE,EAAC,WAAKJ,EAAEI,UAAU,cAAS,IAAQ,OAAE,EAAC,QAAE,CAAC4C,UAAS,KAAMhD,EAAEI,UAAU,YAAY,OAAM,OAAE,EAAC,QAAE,CAACsB,KAAKuB,WAAWjD,EAAEI,UAAU,oBAAe,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAKuB,WAAWjD,EAAEI,UAAU,0BAAqB,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAK,OAAK1B,EAAEI,UAAU,wBAAmB,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAKqB,UAAU/C,EAAEI,UAAU,aAAQ,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAKqB,OAAOC,UAAS,EAAGO,KAAK,CAACC,MAAK,MAAOxD,EAAEI,UAAU,YAAO,IAAQ,OAAE,EAAC,WAAKJ,EAAEI,UAAU,WAAM,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAKuB,QAAQC,aAAY,KAAMlD,EAAEI,UAAU,eAAU,GAAQJ,GAAE,OAAE,EAAC,OAAE,sBAAsBA,GAAW,QAAFA,G,iNCAljG,IAAIJ,EAAE,eAAc,QAAE,OAAE,OAAK,YAAY5B,GAAGoB,MAAMpB,GAAGC,KAAKwF,aAAa,KAAKxF,KAAKyD,KAAK,cAAc,aAAazD,KAAKyF,oBAAoB,IAAIC,SAAQ,CAAE3F,EAAEW,MAAK,SAAE,KAAM,MAAMX,EAAEC,KAAKwF,eAAexF,KAAKwF,aAAaG,WAAW3F,KAAKwF,aAAa/B,MAAM,IAAIjD,EAAE,yBAAyBT,IAAIS,GAAG,IAAIT,GAAGW,EAAE,IAAI,IAAE,+BAA+BF,EAAE,CAACmF,UAAU5F,YAAY,KAAKA,EAAEW,GAAG,MAAMF,EAAE,CAACgF,aAAazF,GAAG,MAAMA,EAAE8C,KAAKrC,EAAEqC,GAAG9C,EAAE8C,IAAI,MAAM9C,EAAEyD,QAAQhD,EAAEgD,MAAMzD,EAAEyD,OAAOrC,MAAMoE,KAAK/E,EAAEE,GAAG,MAAMX,GAAG,OAAOuB,OAAOsE,OAAO7F,GAAG,GAAGC,KAAKwF,aAAa,CAAC3C,GAAG7C,KAAK6C,QAAO,OAAE,EAAC,QAAE,CAACkC,UAAS,KAAMpD,EAAEQ,UAAU,oBAAe,IAAQ,OAAE,EAAC,QAAE,CAACsB,KAAK,CAAC,OAAO,WAAW9B,EAAEQ,UAAU,gBAAW,IAAQ,OAAE,EAAC,QAAE,CAACmD,KAAK,CAACC,MAAK,GAAIR,UAAS,EAAGc,MAAM,iBAAiBlE,EAAEQ,UAAU,YAAO,GAAQR,GAAE,OAAE,EAAC,OAAE,iCAAiCA,GAAW,QAAFA,G,qNCA7mB,MAAMmE,EAAE,cAAY,kCAAkCtE,EAAEzB,IAAI,IAAIyB,EAAE,cAAczB,EAAE,cAAcoB,SAASuB,WAAW1C,KAAK+F,mBAAmB,CAACjC,WAAW,KAAKkC,MAAM,IAAI,UAAU,IAAInF,EAAE,OAAOA,EAAEb,KAAK8D,aAAajD,EAAEoF,UAAUjG,KAAK8D,WAAW,KAAK,eAAejD,GAAGA,IAAIb,KAAKkG,KAAK,gBAAgBlG,KAAKmG,aAAa,eAAenG,KAAKoG,KAAK,aAAavF,IAAI,eAAeA,EAAEd,EAAEW,GAAG,GAAGX,EAAEsG,OAAO,OAAO,IAAI,UAAE,CAACxD,GAAG9C,EAAEsG,OAAOrC,OAAOtD,GAAGA,EAAEsD,SAAS,gBAAgBnD,EAAEd,GAAGc,GAAGA,EAAEgC,KAAK9C,EAAEsG,OAAOxF,EAAEgC,IAAI,qBAAqBhC,EAAEd,GAAG,GAAGC,KAAK8D,YAAY9D,KAAK8D,WAAWjB,GAAG,IAAI,MAAMnC,QAAQ,gCAA+C,OAAO,oBAAEX,SAASW,EAAE4F,KAAK,CAACC,SAASvG,KAAKwG,eAAe3F,EAAE2F,eAAeC,aAAa5F,EAAE4F,aAAaC,aAAa7F,EAAE6F,cAAc3G,GAAG,MAAMW,GAAG,MAAM,kBAAEA,IAAIoF,EAAEa,KAAK,yBAAyB3G,KAAKwD,UAAUxD,KAAK6C,oBAAoB7C,KAAK8D,WAAWjB,UAAUnC,KAAKA,GAAG,KAAKG,EAAEd,GAAGA,IAAIA,EAAE6G,MAAM5G,MAAMmB,MAAMoE,KAAK1E,EAAEd,GAAG,MAAMc,EAAEd,GAAG,MAAMW,EAAEX,GAAGA,EAAEiE,OAAOxD,EAAER,KAAK8D,YAAY9D,KAAK8D,WAAWjB,KAAK7C,KAAK8D,WAAWE,QAAQ,kBAAgB,OAAOtD,GAAGF,KAAI,QAAEA,EAAEqG,QAAQnG,EAAEmG,UAAU9G,EAAE+G,UAAU/G,EAAE+G,SAASC,KAAK,IAAI,IAAE,qBAAqB,cAAc/G,KAAKwD,UAAUxD,KAAK6C,0OAA0O,CAAC+D,MAAM5G,QAAQ,MAAMmB,MAAMe,MAAMrB,EAAE,IAAId,EAAE6G,MAAM5G,SAAS,OAAO,OAAE,EAAC,QAAE,CAACyD,KAAK,aAAKjC,EAAEW,UAAU,aAAa,OAAM,OAAE,EAAC,OAAE,eAAe,aAAa,CAAC,YAAYX,EAAEW,UAAU,iBAAiB,OAAM,OAAE,EAAC,OAAE,eAAe,aAAa,CAACkE,OAAO,CAAC5C,KAAKqB,WAAWtD,EAAEW,UAAU,kBAAkB,OAAM,OAAE,EAAC,WAAKX,EAAEW,UAAU,0BAAqB,GAAQX,GAAE,OAAE,EAAC,OAAE,mCAAmCA,GAAGA","file":"chunks/1983.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{assumeNonNull as s}from\"../maybe.js\";import{OriginIdNum as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(e),this._values=new Map}clone(s){const i=new r,o=this._originStores[0];o&&o.forEach(((s,e)=>{i.set(e,t(s),0)}));for(let r=2;r<e;r++){const e=this._originStores[r];e&&e.forEach(((e,o)=>{s&&s.has(o)||i.set(o,t(e),r)}))}return i}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,e),!this._values.has(t)||s(this._propertyOriginMap.get(t))<=r){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),s!==e}return!1}delete(t,s=6){const e=this._originStores[s];if(!e)return;const r=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return r}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{assumeNonNull as t}from\"./maybe.js\";import{getProperties as e}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{idToName as o,nameToId as i}from\"./accessorSupport/PropertyOrigin.js\";import n from\"./Accessor.js\";import{read as c}from\"./accessorSupport/read.js\";import p from\"./accessorSupport/MultiOriginStore.js\";const a=n=>{let a=class extends n{constructor(...r){super(...r);const s=t(e(this)),o=s.metadatas,i=s.store,n=new p;s.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0)})),Object.keys(o).forEach((r=>{s.internalGet(r)&&n.set(r,s.internalGet(r),0)}))}read(r,t){c(this,r,t)}getAtOrigin(r,t){const e=u(this),s=i(t);if(\"string\"==typeof r)return e.get(r,s);const o={};return r.forEach((r=>{o[r]=e.get(r,s)})),o}originOf(r){return o(this.originIdOf(r))}originIdOf(r){return u(this).originOf(r)}revert(r,t){const s=u(this),o=i(t),n=e(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{n.propertyInvalidated(r),s.revert(r,o),n.propertyCommitted(r)}))}};return a=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],a),a};function u(r){return e(r).store}let f=class extends(a(n)){};f=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{a as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{getProperties as t}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{nameToId as e,OriginIdNum as o}from\"./accessorSupport/PropertyOrigin.js\";import i from\"./Accessor.js\";import{write as c}from\"./accessorSupport/write.js\";import{ReadOnlyMultiOriginJSONMixin as n}from\"./ReadOnlyMultiOriginJSONSupport.js\";const p=i=>{let n=class extends i{constructor(...r){super(...r)}clear(r,t=\"user\"){return u(this).delete(r,e(t))}write(r={},t){return c(this,r=r||{},t),r}setAtOrigin(r,s,o){t(this).setAtOrigin(r,s,e(o))}removeOrigin(r){const t=u(this),s=e(r),o=t.keys(s);for(const e of o)t.originOf(e)===s&&t.set(e,t.get(e,s),6)}updateOrigin(r,t){const s=u(this),i=e(t),c=this.get(r);for(let e=i+1;e<o;++e)s.delete(r,e);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return n=r([s(\"esri.core.WriteableMultiOriginJSONSupport\")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function u(r){return t(r).store}const l=t=>{let e=class extends(p(n(t))){constructor(...r){super(...r)}};return e=r([s(\"esri.core.MultiOriginJSONSupport\")],e),e};let O=class extends(l(i)){};O=r([s(\"esri.core.MultiOriginJSONSupport\")],O);export{l as MultiOriginJSONMixin,O as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import r from\"../config.js\";import e from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../core/Error.js\";import{urlToObject as s}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isAbortError as l}from\"../core/promiseUtils.js\";import p from\"../geometry/SpatialReference.js\";import n from\"../geometry/Extent.js\";import\"../geometry.js\";import y from\"../core/Evented.js\";import{IdentifiableMixin as u}from\"../core/Identifiable.js\";import c from\"../request.js\";import d from\"../core/Loadable.js\";let m=0;const h=e.getLogger(\"esri.layers.Layer\");let f=class extends(y.EventedMixin(u(d))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new n(-180,-90,180,90,p.WGS84),this.id=Date.now().toString(16)+\"-layer-\"+m++,this.legendEnabled=!0,this.listMode=\"show\",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=p.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=\"string\"==typeof t?{url:t}:t,e=await import(\"./support/arcgisLayers.js\");try{return await e.fromUrl(r)}catch(o){throw h.error(\"#fromArcGISServerUrl({ url: '\"+r.url+\"'})\",\"Failed to create layer from arcgis server url\",o),o}}static async fromPortalItem(t){const e=\"portalItem\"in t?t:{portalItem:t},o=await import(\"../portal/support/portalLayers.js\");try{return await o.fromItem(e)}catch(i){const t=e&&e.portalItem,o=t&&t.id||\"unset\",a=t&&t.portal&&t.portal.url||r.portalUrl;throw h.error(\"#fromPortalItem()\",\"Failed to create layer from portal item (portal: '\"+a+\"', id: '\"+o+\"')\",i),i}}initialize(){this.when().catch((t=>{var r,o;l(t)||e.getLogger(this.declaredClass).error(\"#load()\",`Failed to load layer (title: '${null!=(r=this.title)?r:\"no title\"}', id: '${null!=(o=this.id)?o:\"no id\"}')`,{error:t})}))}destroy(){if(this.parent){const t=this,r=this.parent;\"layers\"in r&&r.layers.includes(t)?r.layers.remove(t):\"tables\"in r&&r.tables.includes(t)?r.tables.remove(t):\"baseLayers\"in r&&r.baseLayers.includes(t)?r.baseLayers.remove(t):\"baseLayers\"in r&&r.referenceLayers.includes(t)&&r.referenceLayers.remove(t)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?s(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return(await c(t,{query:{f:\"json\"},responseType:\"json\"})).data}throw new a(\"layer:no-attribution-data\",\"Layer does not have attribution data\")}};t([o({type:String})],f.prototype,\"attributionDataUrl\",void 0),t([o({type:n})],f.prototype,\"fullExtent\",void 0),t([o({readOnly:!0})],f.prototype,\"hasAttributionData\",null),t([o({type:String})],f.prototype,\"id\",void 0),t([o({type:Boolean,nonNullable:!0})],f.prototype,\"legendEnabled\",void 0),t([o({type:[\"show\",\"hide\",\"hide-children\"]})],f.prototype,\"listMode\",void 0),t([o({type:Number,range:{min:0,max:1},nonNullable:!0})],f.prototype,\"opacity\",void 0),t([o()],f.prototype,\"parent\",void 0),t([o({readOnly:!0})],f.prototype,\"parsedUrl\",null),t([o({type:Boolean})],f.prototype,\"popupEnabled\",void 0),t([o({type:Boolean})],f.prototype,\"attributionVisible\",void 0),t([o({type:p})],f.prototype,\"spatialReference\",void 0),t([o({type:String})],f.prototype,\"title\",void 0),t([o({type:String,readOnly:!0,json:{read:!1}})],f.prototype,\"type\",void 0),t([o()],f.prototype,\"url\",void 0),t([o({type:Boolean,nonNullable:!0})],f.prototype,\"visible\",void 0),f=t([i(\"esri.layers.Layer\")],f);var b=f;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{schedule as t}from\"../core/scheduling.js\";import i from\"./Layer.js\";import{MultiOriginJSONMixin as p}from\"../core/MultiOriginJSONSupport.js\";import{PortalLayer as u}from\"./mixins/PortalLayer.js\";let c=class extends(u(p(i))){constructor(r){super(r),this.resourceInfo=null,this.type=\"unsupported\"}initialize(){this.addResolvingPromise(new Promise(((r,e)=>{t((()=>{const r=this.resourceInfo&&(this.resourceInfo.layerType||this.resourceInfo.type);let o=\"Unsupported layer type\";r&&(o+=\" \"+r),e(new s(\"layer:unsupported-layer-type\",o,{layerType:r}))}))})))}read(r,e){const o={resourceInfo:r};null!=r.id&&(o.id=r.id),null!=r.title&&(o.title=r.title),super.read(o,e)}write(r){return Object.assign(r||{},this.resourceInfo,{id:this.id})}};r([e({readOnly:!0})],c.prototype,\"resourceInfo\",void 0),r([e({type:[\"show\",\"hide\"]})],c.prototype,\"listMode\",void 0),r([e({json:{read:!1},readOnly:!0,value:\"unsupported\"})],c.prototype,\"type\",void 0),c=r([o(\"esri.layers.UnsupportedLayer\")],c);var n=c;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l,isAbortError as m}from\"../../core/promiseUtils.js\";import c from\"../../portal/Portal.js\";import n from\"../../portal/PortalItem.js\";const d=r.getLogger(\"esri.layers.mixins.PortalLayer\"),u=r=>{let u=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new n({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(e){throw m(e)||d.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${e}`),e}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||c.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:n})],u.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],u.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],u.prototype,\"writePortalItem\",null),t([e()],u.prototype,\"resourceReferences\",void 0),u=t([s(\"esri.layers.mixins.PortalLayer\")],u),u};export{u as PortalLayer};\n"],"sourceRoot":""}