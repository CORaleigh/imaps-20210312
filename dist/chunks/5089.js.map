{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/ground/NavigationConstraint.js","webpack://imaps/./node_modules/@arcgis/core/Ground.js","webpack://imaps/./node_modules/@arcgis/core/support/groundUtils.js","webpack://imaps/./node_modules/@arcgis/core/Map.js","webpack://imaps/./node_modules/@arcgis/core/TimeInterval.js","webpack://imaps/./node_modules/@arcgis/core/core/HandleOwner.js","webpack://imaps/./node_modules/@arcgis/core/core/MapUtils.js","webpack://imaps/./node_modules/@arcgis/core/core/MemCache.js","webpack://imaps/./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/scaleUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/MapImageLayer.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/ExportImageParameters.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/FeatureTemplate.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/FeatureType.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/FieldsIndex.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/LabelExpressionInfo.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/LabelClass.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/labelUtils.js","webpack://imaps/./node_modules/@arcgis/core/support/GraphicsCollection.js","webpack://imaps/./node_modules/@arcgis/core/support/LayersMixin.js","webpack://imaps/./node_modules/@arcgis/core/support/TablesMixin.js","webpack://imaps/./node_modules/@arcgis/core/support/basemapUtils.js","webpack://imaps/./node_modules/@arcgis/core/support/popupUtils.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/defaults.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/defaultsJSON.js","webpack://imaps/./node_modules/@arcgis/core/views/support/WatchUpdatingTracking.js"],"names":["t","p","o","super","this","type","w","none","stayAbove","prototype","C","S","r","opacity","surfaceColor","navigationConstraint","layers","e","parent","remove","error","title","id","on","item","when","catch","resourceInfo","read","data","context","removeAll","destroy","_set","_get","s","a","layerContainerType","forEach","write","push","messages","declaredClass","layer","addResolvingPromise","_loadFromSource","Promise","resolve","load","signal","ElevationQuery","filter","L","toArray","queryAll","createSamplerAll","slice","loaded","loadStatus","set","_loadLayersFromJSON","origin","portal","url","then","populateOperationalLayers","i","Array","isArray","defaultLayerType","I","json","readOnly","Number","nonNullable","range","min","max","reader","source","writer","transparency","target","toJSON","layerType","b","f","allLayers","root","rootCollectionNames","getChildrenFunction","allTables","_createTablesFlattener","basemap","ground","_basemapCache","warn","find","itemFilterFunction","_isMapOrGroupLayer","tables","includes","_isGroupLayer","dependsOn","u","value","unit","destroyed","handles","updatingHandles","d","n","_namespace","_storage","_removeFunc","_hit","_miss","register","registerRemoveFunc","size","maxSize","clear","deregisterRemoveFunc","deregister","put","get","pop","updateSize","clearAll","getStats","resetStats","_maxSize","_db","Map","_size","_removeFuncs","_users","removeUnordered","Math","_checkSizeLimit","h","delete","entry","_notifyRemoved","console","_","lifetime","lives","Size","round","_getHitRate","Entries","toString","forAll","namespace","startsWith","isNaN","hitRate","Object","keys","sort","length","resetHitRate","c","items","diff","l","oldValue","newValue","y","indexOf","m","concat","j","split","extent","width","spatialReference","clone","expand","R","alwaysRefetch","dpi","gdbVersion","imageFormat","imageMaxHeight","imageMaxWidth","imageTransparency","labelsVisible","isReference","operationalLayerType","sourceJSON","sublayers","loadFromPortal","supportedTypes","_fetchService","supportedImageFormatTypes","reverse","flatten","capabilities","operations","supportsExportMap","exportMap","supportsDynamicLayers","createSublayersForOrigin","writeSublayerStructure","originOf","some","visibleLayers","visible","map","pixelRatio","version","shiftCentralMeridian","scale","rotation","wkid","JSON","stringify","timeExtent","start","end","time","timeInfo","hasLiveData","bbox","xmin","ymin","xmax","ymax","bboxSR","imageSR","responseType","timestamp","query","_ts","customParameters","parsedUrl","path","createExportImageParameters","Date","now","dynamicLayers","reject","returnUpdates","fullExtent","allSublayers","ssl","replace","origins","service","Boolean","enabled","overridePolicy","ignoreOrigin","definitionExpression","labelingInfo","minScale","maxScale","renderer","arguments","_scale","view","hasDynamicLayers","visibleSublayers","toExportImageJSON","serviceSublayers","add","notifyChange","propertyName","join","reduce","commitProperty","unshift","format","transparent","layerDefs","esriFeatureEditToolAutoCompletePolygon","esriFeatureEditToolCircle","esriFeatureEditToolEllipse","esriFeatureEditToolFreehand","esriFeatureEditToolLine","esriFeatureEditToolNone","esriFeatureEditToolPoint","esriFeatureEditToolPolygon","esriFeatureEditToolRectangle","esriFeatureEditToolArrow","esriFeatureEditToolTriangle","esriFeatureEditToolLeftArrow","esriFeatureEditToolRightArrow","esriFeatureEditToolUpArrow","esriFeatureEditToolDownArrow","name","description","drawingTool","thumbnail","domains","templates","hasOwnProperty","toLowerCase","trim","fields","_fieldsMap","_dateFieldsSet","Set","dateFields","uid","has","expression","String","allowNull","esriServerPointLabelPlacementAboveCenter","esriServerPointLabelPlacementAboveLeft","esriServerPointLabelPlacementAboveRight","esriServerPointLabelPlacementBelowCenter","esriServerPointLabelPlacementBelowLeft","esriServerPointLabelPlacementBelowRight","esriServerPointLabelPlacementCenterCenter","esriServerPointLabelPlacementCenterLeft","esriServerPointLabelPlacementCenterRight","esriServerLinePlacementAboveAfter","esriServerLinePlacementAboveAlong","esriServerLinePlacementAboveBefore","esriServerLinePlacementAboveStart","esriServerLinePlacementAboveEnd","esriServerLinePlacementBelowAfter","esriServerLinePlacementBelowAlong","esriServerLinePlacementBelowBefore","esriServerLinePlacementBelowStart","esriServerLinePlacementBelowEnd","esriServerLinePlacementCenterAfter","esriServerLinePlacementCenterAlong","esriServerLinePlacementCenterBefore","esriServerLinePlacementCenterStart","esriServerLinePlacementCenterEnd","esriServerPolygonPlacementAlwaysHorizontal","ignoreUnknown","x","deconflictionStrategy","labelExpression","labelExpressionInfo","labelPlacement","symbol","useCodedValues","where","log","getLabelExpressionArcade","default","apiValues","jsonValues","types","RegExp","test","match","serverType","sublayer","parseInt","toUpperCase","v","layerId","O","authority","g","E","$","exec","preventDefault","_own","_unownAll","_ownAll","owner","_unown","cast","getItemAt","layerAdded","layerRemoved","getNextIndex","reorder","removeMany","baseLayers","mustMatchReferences","referenceLayers","sourceNameToSource","sourceUrl","T","M","urlTemplate","styleUrl","q","baseMapLayers","templateUrl","visibility","U","displayField","editFieldsInfo","objectIdField","titleBase","content","fieldInfos","visibleFieldNames","alias","toLocaleLowerCase","localeCompare","creationDateField","creatorField","editDateField","editorField","editable","ignoreFieldTypes","fieldName","isEditable","label","digitSeparator","places","dateFormat","J","N","style","color","outline","font","family","weight","horizontalAlignment","kerning","haloColor","haloSize","rotated","text","xoffset","yoffset","angle","updating","handleId","scheduleHandleId","pendingPromises","installSyncUpdatingWatch","watch","createSyncUpdatingCallback","added","removed","moved"],"mappings":"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","file":"chunks/5089.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/accessorSupport/decorators/property.js\";import{enumeration as r}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as e}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../core/JSONSupport.js\";var t;let p=t=class extends s{constructor(o){super(o),this.type=\"none\"}clone(){return new t({type:this.type})}};o([r({none:\"none\",stayAbove:\"stay-above\"})],p.prototype,\"type\",void 0),p=t=o([e(\"esri.ground.NavigationConstraint\")],p);export{p as NavigationConstraint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"./chunks/tslib.es6.js\";import\"./core/has.js\";import{typeCast as e}from\"./core/compilerUtils.js\";import{clone as o}from\"./core/lang.js\";import t from\"./core/Logger.js\";import{Integer as s}from\"./core/accessorSupport/ensureType.js\";import{property as a}from\"./core/accessorSupport/decorators/property.js\";import{subclass as i}from\"./core/accessorSupport/decorators/subclass.js\";import{writer as n}from\"./core/accessorSupport/decorators/writer.js\";import l from\"./core/Error.js\";import\"./core/urlUtils.js\";import\"./core/uuid.js\";import\"./portal/support/resourceExtension.js\";import{throwIfAborted as p,eachAlways as c}from\"./core/promiseUtils.js\";import{JSONSupportMixin as u}from\"./core/JSONSupport.js\";import y from\"./core/Collection.js\";import d from\"./Color.js\";import{transparencyToOpacity as m,opacityToTransparency as f}from\"./webdoc/support/opacityUtils.js\";import{referenceSetter as h}from\"./core/collectionUtils.js\";import v from\"./core/Loadable.js\";import{loadAll as g}from\"./core/loadAll.js\";import{NavigationConstraint as j}from\"./ground/NavigationConstraint.js\";var w;const C=t.getLogger(\"esri.Ground\");let S=w=class extends(u(v)){constructor(r){super(r),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new y;const e=r=>{r.parent&&r.parent!==this&&\"remove\"in r.parent&&r.parent.remove(r),r.parent=this,\"elevation\"!==r.type&&\"base-elevation\"!==r.type&&C.error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},o=r=>{r.parent=null};this.layers.on(\"after-add\",(r=>e(r.item))),this.layers.on(\"after-remove\",(r=>o(r.item)))}initialize(){this.when().catch((r=>{C.error(\"#load()\",\"Failed to load ground\",r)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const r=this.layers.removeAll();for(const e of r)e.destroy();this.layers.destroy()}normalizeCtorArgs(r){return r&&\"resourceInfo\"in r&&(this._set(\"resourceInfo\",r.resourceInfo),delete(r={...r}).resourceInfo),r}set layers(r){this._set(\"layers\",h(r,this._get(\"layers\")))}writeLayers(r,o,t,s){const a=[];r?(s={...s,layerContainerType:\"ground\"},r.forEach((r=>{if(\"write\"in r){const o={};e(r)().write(o,s)&&a.push(o)}else s&&s.messages&&s.messages.push(new l(\"layer:unsupported\",`Layers (${r.title}, ${r.id}) of type '${r.declaredClass}' cannot be persisted in the ground`,{layer:r}))})),o.layers=a):o.layers=a}load(r){return this.addResolvingPromise(this._loadFromSource(r)),Promise.resolve(this)}loadAll(){return g(this,(r=>{r(this.layers)}))}async queryElevation(r,e){await this.load({signal:null==e?void 0:e.signal});const{ElevationQuery:o}=await import(\"./layers/support/ElevationQuery.js\");p(e);const t=new o,s=this.layers.filter(L).toArray();return t.queryAll(s,r,e)}async createElevationSampler(r,e){await this.load({signal:null==e?void 0:e.signal});const{ElevationQuery:o}=await import(\"./layers/support/ElevationQuery.js\");p(e);const t=new o,s=this.layers.filter(L).toArray();return t.createSamplerAll(s,r,e)}clone(){const r={opacity:this.opacity,surfaceColor:o(this.surfaceColor),navigationConstraint:o(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(r.loadStatus=\"loaded\"),new w({resourceInfo:this.resourceInfo}).set(r)}read(r,e){this.resourceInfo||this._set(\"resourceInfo\",{data:r,context:e}),super.read(r,e)}_loadFromSource(r){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,r):Promise.resolve(null)}_loadLayersFromJSON(r,e,o){const t=e&&e.origin||\"web-scene\",s=e&&e.portal||null,a=e&&e.url||null;return import(\"./layers/support/layersCreator.js\").then((({populateOperationalLayers:e})=>{p(o);const i=[];if(r.layers&&Array.isArray(r.layers)){const o={context:{origin:t,url:a,portal:s,layerContainerType:\"ground\"},defaultLayerType:\"ArcGISTiledElevationServiceLayer\"};i.push(e(this.layers,r.layers,o))}return c(i)})).then((()=>{}))}};function I(r){return r&&\"createElevationSampler\"in r}function L(r){return\"elevation\"===r.type||I(r)}r([a({json:{read:!1}})],S.prototype,\"layers\",null),r([n(\"layers\")],S.prototype,\"writeLayers\",null),r([a({readOnly:!0})],S.prototype,\"resourceInfo\",void 0),r([a({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:s,read:{reader:m,source:\"transparency\"},write:{writer:(r,e)=>{e.transparency=f(r)},target:\"transparency\"}}})],S.prototype,\"opacity\",void 0),r([a({type:d,json:{type:[s],write:(r,e)=>{e.surfaceColor=r.toJSON().slice(0,3)}}})],S.prototype,\"surfaceColor\",void 0),r([a({type:j,json:{write:!0}})],S.prototype,\"navigationConstraint\",void 0),S=w=r([i(\"esri.Ground\")],S);var A=S;export default A;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../core/Logger.js\";import{ensureType as r}from\"../core/accessorSupport/ensureType.js\";import o from\"../Ground.js\";const i=e.getLogger(\"esri.support.groundUtils\"),t={\"world-elevation\":{id:\"worldElevation\",url:\"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\",layerType:\"ArcGISTiledElevationServiceLayer\"},\"world-topobathymetry\":{id:\"worldTopoBathymetry\",url:\"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer\",layerType:\"ArcGISTiledElevationServiceLayer\"}};function a(e){let a;if(\"string\"==typeof e)if(e in t){const r=t[e];a=new o({resourceInfo:{data:{layers:[r]}}})}else i.warn(`Unable to find ground definition for: ${e}. Try \"world-elevation\"`);else a=r(o,e);return a}export{a as ensureType,t as groundElevationLayers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"./chunks/tslib.es6.js\";import\"./core/has.js\";import e from\"./core/Logger.js\";import{property as s}from\"./core/accessorSupport/decorators/property.js\";import{cast as t}from\"./core/accessorSupport/decorators/cast.js\";import{subclass as o}from\"./core/accessorSupport/decorators/subclass.js\";import\"./core/urlUtils.js\";import\"./core/uuid.js\";import\"./portal/support/resourceExtension.js\";import a from\"./core/Accessor.js\";import p from\"./core/Evented.js\";import i from\"./Basemap.js\";import l from\"./Ground.js\";import n from\"./core/CollectionFlattener.js\";import{createCache as u,destroyCache as m,ensureType as c}from\"./support/basemapUtils.js\";import{ensureType as d}from\"./support/groundUtils.js\";import{LayersMixin as y}from\"./support/LayersMixin.js\";import{TablesMixin as h}from\"./support/TablesMixin.js\";const b=e.getLogger(\"esri.Map\");let f=class extends(h(y(p.EventedMixin(a)))){constructor(r){super(r),this.allLayers=new n({root:this,rootCollectionNames:[\"basemap.baseLayers\",\"ground.layers\",\"layers\",\"basemap.referenceLayers\"],getChildrenFunction:r=>r.layers}),this.allTables=this._createTablesFlattener(this),this.basemap=null,this.ground=new l,this._basemapCache=u()}destroy(){var r,e;this.allLayers.destroy(),this.allTables.destroy(),null==(r=this.ground)||r.destroy(),null==(e=this.basemap)||e.destroy(),m(this._basemapCache),this._basemapCache=null}castBasemap(r){return c(r,this._basemapCache)}castGround(r){const e=d(r);return e||(b.error(\"Map.ground may not be set to null or undefined\"),this._get(\"ground\"))}findLayerById(r){return this.allLayers.find((e=>e.id===r))}findTableById(r){return this.allTables.find((e=>e.id===r))}_createTablesFlattener(r){return new n({root:r,rootCollectionNames:[\"tables\",\"layers\"],getChildrenFunction:r=>r&&\"group\"===r.type?this._createTablesFlattener(r):null,itemFilterFunction:r=>this._isMapOrGroupLayer(r.parent)&&r.parent.tables.includes(r)})}_isMapOrGroupLayer(r){return r&&(r===this||this._isGroupLayer(r))}_isGroupLayer(r){return r&&\"group\"===r.type}};r([s({readOnly:!0,dependsOn:[]})],f.prototype,\"allLayers\",void 0),r([s({readOnly:!0})],f.prototype,\"allTables\",void 0),r([s({type:i})],f.prototype,\"basemap\",void 0),r([t(\"basemap\")],f.prototype,\"castBasemap\",null),r([s({type:l,nonNullable:!0})],f.prototype,\"ground\",void 0),r([t(\"ground\")],f.prototype,\"castGround\",null),f=r([o(\"esri.Map\")],f);var g=f;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"./chunks/tslib.es6.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/accessorSupport/ensureType.js\";import{property as o}from\"./core/accessorSupport/decorators/property.js\";import{subclass as e}from\"./core/accessorSupport/decorators/subclass.js\";import\"./core/urlUtils.js\";import\"./core/uuid.js\";import\"./portal/support/resourceExtension.js\";import{JSONSupport as t}from\"./core/JSONSupport.js\";import{millisecondsPerTimeUnit as s,timeUnitKebabDictionary as i}from\"./layers/support/timeUtils.js\";var p;let u=p=class extends t{constructor(r){super(r),this.value=0,this.unit=\"milliseconds\"}toMilliseconds(){return this.value*s[this.unit]}clone(){return new p({value:this.value,unit:this.unit})}};r([o({type:Number,json:{write:!0},nonNullable:!0})],u.prototype,\"value\",void 0),r([o({type:i.apiValues,json:{type:i.jsonValues,read:i.read,write:i.write},nonNullable:!0})],u.prototype,\"unit\",void 0),u=p=r([e(\"esri.TimeInterval\")],u);var l=u;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{property as s}from\"./accessorSupport/decorators/property.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";import t from\"./Accessor.js\";import o from\"./Handles.js\";import{WatchUpdatingTracking as n}from\"../views/support/WatchUpdatingTracking.js\";const a=t=>{let a=class extends t{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())}get handles(){return this._get(\"handles\")||new o}get updatingHandles(){return this._get(\"updatingHandles\")||new n}};return e([s({readOnly:!0})],a.prototype,\"handles\",null),e([s({readOnly:!0})],a.prototype,\"updatingHandles\",null),a=e([r(\"esri.core.HandleOwner\")],a),a};let d=class extends(a(t)){};d=e([r(\"esri.core.HandleOwner\")],d);export{d as HandleOwner,a as HandleOwnerMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n,r){for(const[o,t]of n)if(r(t,o))return!0;return!1}function r(n,r){for(const[o,t]of n)if(r(t,o))return t;return null}export{r as findInMap,n as someMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3;class s{constructor(t,e,s){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=\":\",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(t,e,s,i=0){this._storage.put(this._namespace+t,e,s,i)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,s){this._storage.updateSize(this._namespace+t,e,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new t}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs=this._removeFuncs.filter((e=>e[0]!==t))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,s,i,h){const r=this._db.get(t);if(r&&(this._size-=r.size,this._db.delete(t),r.entry!==s&&this._notifyRemoved(t,r.entry)),i>this._maxSize)return void this._notifyRemoved(t,s);if(void 0===s)return void console.warn(\"Refusing to cache undefined entry \");if(!i||i<0)return void console.warn(\"Refusing to cache entry with invalid size \"+i);const _=1+Math.max(h,e)-e;this._db.set(t,{entry:s,size:i,lifetime:_,lives:_}),this._size+=i,this._checkSizeLimit()}updateSize(t,e,s){const i=this._db.get(t);if(i&&i.entry===e){if(this._size-=i.size,s>this._maxSize)return this._db.delete(t),void this._notifyRemoved(t,e);i.size=s,this._size+=s,this._checkSizeLimit()}}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},s={},i=new Array;this._db.forEach(((t,e)=>{const h=t.lifetime;i[h]=(i[h]||0)+t.size,this._users.forAll((i=>{const h=i.namespace;if(e.startsWith(h)){const e=s[h]||0;s[h]=e+t.size}}))}));const h={};this._users.forAll((t=>{const e=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const i=s[e]||0;s[e]=i,h[e]=Math.round(100*t.hitRate)+\"%\"}else h[e]=\"0%\"}));const r=Object.keys(s);r.forEach((t=>s[t]=s[t]/this._size*100)),r.sort(((t,e)=>s[e]-s[t])),r.forEach((e=>t[e]=Math.round(s[e])+\"% / \"+h[e]));for(let _=i.length-1;_>=0;--_){const s=i[_];s&&(t[\"Priority \"+(_+e-1)]=Math.round(s/this.size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemoved(s,e.entry))}))}clearAll(){this._db.forEach(((t,e)=>this._notifyRemoved(e,t.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(t,e){this._removeFuncs.forEach((s=>{t.startsWith(s[0])&&s[1](e)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db)if(this._db.delete(t),e.lives<=1?(this._size-=e.size,this._notifyRemoved(t,e.entry)):(--e.lives,this._db.set(t,e)),this._size<=.9*this.maxSize)return}}export{e as MIN_PRIORITY,s as MemCache,i as MemCacheStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../maybe.js\";import{getProperties as n}from\"./utils.js\";import o from\"../Accessor.js\";import r from\"../Collection.js\";const f=[\"esri.Color\",\"esri.portal.Portal\",\"esri.symbols.support.Symbol3DAnchorPosition2D\",\"esri.symbols.support.Symbol3DAnchorPosition3D\"];function i(t){return t instanceof o}function c(t){return t instanceof r?Object.keys(t.items):i(t)?n(t).keys():t?Object.keys(t):[]}function u(t,e){return t instanceof r?t.items[e]:t[e]}function l(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function s(t){return t?t.declaredClass:null}function p(t,n){const o=t.diff;if(o&&\"function\"==typeof o)return o(t,n);const r=c(t),a=c(n);if(0===r.length&&0===a.length)return;if(!r.length||!a.length||l(t,n))return{type:\"complete\",oldValue:t,newValue:n};const y=a.filter((t=>-1===r.indexOf(t))),m=r.filter((t=>-1===a.indexOf(t))),d=r.filter((e=>a.indexOf(e)>-1&&u(t,e)!==u(n,e))).concat(y,m).sort(),b=s(t);if(b&&f.indexOf(b)>-1&&d.length)return{type:\"complete\",oldValue:t,newValue:n};let h;const j=i(t)&&i(n);for(const f of d){const r=u(t,f),i=u(n,f);let c;(j||\"function\"!=typeof r&&\"function\"!=typeof i)&&(r!==i&&(null==r&&null==i||(c=o&&o[f]&&\"function\"==typeof o[f]?o[f](r,i):\"object\"==typeof r&&\"object\"==typeof i&&s(r)===s(i)?p(r,i):{type:\"complete\",oldValue:r,newValue:i},e(c)&&(e(h)?h.diff[f]=c:h={type:\"partial\",diff:{[f]:c}}))))}return h}function a(e,n){if(t(e))return!1;const o=n.split(\".\");let r=e;for(const t of o){if(\"complete\"===r.type)return!0;if(\"partial\"!==r.type)return!1;{const e=r.diff[t];if(!e)return!1;r=e}}return!0}function y(t,e){for(const n of e)if(a(t,n))return!0;return!1}function m(t,e){if(\"function\"!=typeof t&&\"function\"!=typeof e&&(t||e))return!t||!e||\"object\"==typeof t&&\"object\"==typeof e&&s(t)!==s(e)?{type:\"complete\",oldValue:t,newValue:e}:p(t,e)}function d(e){if(t(e))return!0;switch(e.type){case\"complete\":return!1;case\"collection\":{const t=e;for(const e of t.added)if(!d(e))return!1;for(const e of t.removed)if(!d(e))return!1;for(const e of t.changed)if(!d(e))return!1;return!0}case\"partial\":for(const t in e.diff){if(!d(e.diff[t]))return!1}return!0}}export{m as diff,a as hasDiff,y as hasDiffAny,d as isEmpty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as t,inchesPerMeter as n}from\"../../core/unitUtils.js\";const e=96;function r(r,i){const o=i||r.extent,c=r.width,u=t(o&&o.spatialReference);return o&&c?o.width/c*u*n*e:0}function i(r,i){return r/(t(i)*n*e)}function o(r,i){return r*(t(i)*n*e)}function c(t,n){const e=t.extent,r=t.width,o=i(n,e.spatialReference);return e.clone().expand(o*r/e.width)}export{c as getExtentForScale,i as getResolutionForScale,r as getScale,o as getScaleForResolution};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import{Integer as t}from\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import p from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import{nameToId as m}from\"../core/accessorSupport/PropertyOrigin.js\";import\"../portal/support/resourceExtension.js\";import{isAbortError as n}from\"../core/promiseUtils.js\";import l from\"../geometry/Extent.js\";import c from\"../request.js\";import{loadAll as u}from\"../core/loadAll.js\";import y from\"./Layer.js\";import h from\"../TimeExtent.js\";import{MultiOriginJSONMixin as d}from\"../core/MultiOriginJSONSupport.js\";import{url as f}from\"./support/commonProperties.js\";import{OperationalLayer as g}from\"./mixins/OperationalLayer.js\";import{getScale as j}from\"../geometry/support/scaleUtils.js\";import{ArcGISService as b}from\"./mixins/ArcGISService.js\";import{BlendLayer as x}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as v}from\"./mixins/CustomParametersMixin.js\";import{PortalLayer as S}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as w}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as O}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as L}from\"./mixins/TemporalLayer.js\";import{HandleOwnerMixin as E}from\"../core/HandleOwner.js\";import{ArcGISMapService as I}from\"./mixins/ArcGISMapService.js\";import P from\"./support/Sublayer.js\";import{shouldWriteSublayerStructure as M}from\"./support/sublayerUtils.js\";import{SublayersOwner as q}from\"./mixins/SublayersOwner.js\";import{ExportImageParameters as N}from\"./support/ExportImageParameters.js\";let R=class extends(x(L(O(w(q(I(b(g(S(d(v(E(y))))))))))))){constructor(...e){super(...e),this.alwaysRefetch=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat=\"png24\",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.labelsVisible=!1,this.isReference=null,this.operationalLayerType=\"ArcGISMapServiceLayer\",this.sourceJSON=null,this.sublayers=null,this.type=\"map-image\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const t=r(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).then((()=>this._fetchService(t)),(()=>this._fetchService(t)))),Promise.resolve(this)}readImageFormat(e,r){const t=r.supportedImageFormatTypes;return t&&t.indexOf(\"PNG32\")>-1?\"png32\":\"png24\"}writeSublayers(e,r,t,s){if(!this.loaded||!e)return;const o=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let i=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const e=m(s.origin);if(3===e){const e=this.createSublayersForOrigin(\"service\").sublayers;i=M(o,e,2)}else if(e>3){const e=this.createSublayersForOrigin(\"portal-item\");i=M(o,e.sublayers,m(e.origin))}}const a=[],p={writeSublayerStructure:i,...s};let n=i;o.forEach((e=>{const r=e.write({},p);a.push(r),n=n||\"user\"===e.originOf(\"visible\")}));a.some((e=>Object.keys(e).length>1))&&(r.layers=a),n&&(r.visibleLayers=o.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,r,t,s){const o=s&&s.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian());const i=new N({layer:this,scale:j({extent:e,width:r})*o}),a=i.toJSON();i.destroy();const p=!s||!s.rotation||this.version<10.3?{}:{rotation:-s.rotation},m=e&&e.spatialReference,n=m.wkid||JSON.stringify(m.toJSON());a.dpi*=o;const l={};if(null!=s&&s.timeExtent){const{start:e,end:r}=s.timeExtent.toJSON();l.time=e&&r&&e===r?\"\"+e:`${null==e?\"null\":e},${null==r?\"null\":r}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(l.time=\"null,null\");return{bbox:e&&e.xmin+\",\"+e.ymin+\",\"+e.xmax+\",\"+e.ymax,bboxSR:n,imageSR:n,size:r+\",\"+t,...a,...p,...l}}async fetchImage(e,r,t,s){const o={responseType:\"image\"};s&&s.timestamp&&(o.query={...o.query,_ts:s.timestamp}),s&&s.signal&&(o.signal=s.signal),this.customParameters&&Object.keys(this.customParameters).length&&(o.query={...this.customParameters,...o.query});const i=this.parsedUrl.path+\"/export\",a={...this.parsedUrl.query,...this.createExportImageParameters(e,r,t,s),f:\"image\",_ts:this.alwaysRefetch?Date.now():null};if(null!=a.dynamicLayers&&!this.capabilities.exportMap.supportsDynamicLayers)return Promise.reject(new p(\"mapimagelayer:dynamiclayer-not-supported\",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:a}));o.query?o.query={...a,...o.query}:o.query=a;return c(i,o).then((e=>e.data)).catch((e=>{if(n(e))throw e;throw new p(\"mapimagelayer:image-fetch-error\",`Unable to load image: ${i}`,{error:e})}))}async fetchRecomputedExtents(e={}){const r={...e,query:{returnUpdates:!0,f:\"json\"}},{data:t}=await c(this.url,r),{extent:s,fullExtent:o,timeExtent:i}=t,a=s||o;return{fullExtent:a&&l.fromJSON(a),timeExtent:i&&h.fromJSON({start:i[0],end:i[1]})}}loadAll(){return u(this,(e=>{e(this.allSublayers)}))}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:\"service\",url:this.parsedUrl});const{data:r,ssl:t}=await c(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters},signal:e});t&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=r,this.read(r,{origin:\"service\",url:this.parsedUrl})}};e([s()],R.prototype,\"alwaysRefetch\",void 0),e([s()],R.prototype,\"dpi\",void 0),e([s()],R.prototype,\"gdbVersion\",void 0),e([s({json:{read:!1,write:!1}})],R.prototype,\"popupEnabled\",void 0),e([s()],R.prototype,\"imageFormat\",void 0),e([o(\"imageFormat\",[\"supportedImageFormatTypes\"])],R.prototype,\"readImageFormat\",null),e([s({json:{origins:{service:{read:{source:\"maxImageHeight\"}}}}})],R.prototype,\"imageMaxHeight\",void 0),e([s({json:{origins:{service:{read:{source:\"maxImageWidth\"}}}}})],R.prototype,\"imageMaxWidth\",void 0),e([s()],R.prototype,\"imageTransparency\",void 0),e([s({json:{read:!1,write:!1}})],R.prototype,\"labelsVisible\",void 0),e([s({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],R.prototype,\"isReference\",void 0),e([s({type:[\"ArcGISMapServiceLayer\"]})],R.prototype,\"operationalLayerType\",void 0),e([s()],R.prototype,\"sourceJSON\",void 0),e([s({json:{write:{ignoreOrigin:!0}}})],R.prototype,\"sublayers\",void 0),e([a(\"sublayers\",{layers:{type:[P]},visibleLayers:{type:[t]}})],R.prototype,\"writeSublayers\",null),e([s({type:[\"show\",\"hide\",\"hide-children\"]})],R.prototype,\"listMode\",void 0),e([s({json:{read:!1},readOnly:!0,value:\"map-image\"})],R.prototype,\"type\",void 0),e([s(f)],R.prototype,\"url\",void 0),R=e([i(\"esri.layers.MapImageLayer\")],R);var J=R;export default J;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import t from\"../../core/Accessor.js\";import{combinedViewLayerTimeExtentProperty as i}from\"./commonProperties.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";import{isExportDynamic as o}from\"./sublayerUtils.js\";import l from\"../../views/View.js\";const n={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let y=class extends(a(t)){constructor(){super(...arguments),this._scale=null,this.view=null}destroy(){this.layer=this.view=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>e.toExportImageJSON()));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&o(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(n[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=this.visibleSublayers.filter((e=>null!=e.definitionExpression));return e.length?JSON.stringify(e.reduce(((e,s)=>(e[s.id]=s.definitionExpression,e)),{})):null}get scale(){return null!=this._scale?this._scale:this.view&&this.view.scale||0}set scale(e){this.view||(this._scale=e,this.notifyChange(\"scale\"))}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}set version(e){this._set(\"version\",e)}get visibleSublayers(){const e=[];if(!this.layer)return e;const s=this.layer.sublayers,r=s=>{const t=this.scale,i=0===t,a=0===s.minScale||t<=s.minScale,o=0===s.maxScale||t>=s.maxScale;s.visible&&(i||a&&o)&&(s.sublayers?s.sublayers.forEach(r):e.unshift(s))};s&&s.forEach(r);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((s,r)=>e[r]!==s))?e:t}toJSON(){const e=this.layer;let s={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?s.dynamicLayers=this.dynamicLayers:s={...s,layers:this.layers,layerDefs:this.layerDefs},s}};e([s({readOnly:!0})],y.prototype,\"dynamicLayers\",null),e([s({readOnly:!0})],y.prototype,\"hasDynamicLayers\",null),e([s()],y.prototype,\"layer\",null),e([s({readOnly:!0})],y.prototype,\"layers\",null),e([s({readOnly:!0})],y.prototype,\"layerDefs\",null),e([s({type:Number})],y.prototype,\"scale\",null),e([s(i)],y.prototype,\"timeExtent\",void 0),e([s()],y.prototype,\"version\",null),e([s({type:l})],y.prototype,\"view\",void 0),e([s({readOnly:!0})],y.prototype,\"visibleSublayers\",null),y=e([r(\"esri.layers.mixins.ExportImageParameters\")],y);export{y as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{fixJson as r,clone as e}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as l}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";const a=new i({esriFeatureEditToolAutoCompletePolygon:\"auto-complete-polygon\",esriFeatureEditToolCircle:\"circle\",esriFeatureEditToolEllipse:\"ellipse\",esriFeatureEditToolFreehand:\"freehand\",esriFeatureEditToolLine:\"line\",esriFeatureEditToolNone:\"none\",esriFeatureEditToolPoint:\"point\",esriFeatureEditToolPolygon:\"polygon\",esriFeatureEditToolRectangle:\"rectangle\",esriFeatureEditToolArrow:\"arrow\",esriFeatureEditToolTriangle:\"triangle\",esriFeatureEditToolLeftArrow:\"left-arrow\",esriFeatureEditToolRightArrow:\"right-arrow\",esriFeatureEditToolUpArrow:\"up-arrow\",esriFeatureEditToolDownArrow:\"down-arrow\"});let n=class extends p{constructor(o){super(o),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}writeDrawingTool(o,r){r.drawingTool=a.toJSON(o)}writePrototype(o,t){t.prototype=r(e(o),!0)}writeThumbnail(o,t){t.thumbnail=r(e(o))}};o([t({json:{write:!0}})],n.prototype,\"name\",void 0),o([t({json:{write:!0}})],n.prototype,\"description\",void 0),o([t({json:{read:a.read,write:a.write}})],n.prototype,\"drawingTool\",void 0),o([l(\"drawingTool\")],n.prototype,\"writeDrawingTool\",null),o([t({json:{write:!0}})],n.prototype,\"prototype\",void 0),o([l(\"prototype\")],n.prototype,\"writePrototype\",null),o([t({json:{write:!0}})],n.prototype,\"thumbnail\",void 0),o([l(\"thumbnail\")],n.prototype,\"writeThumbnail\",null),n=o([s(\"esri.layers.support.FeatureTemplate\")],n);var u=n;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{fixJson as r}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as t}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as a}from\"../../core/JSONSupport.js\";import i from\"./CodedValueDomain.js\";import m from\"./InheritedDomain.js\";import n from\"./RangeDomain.js\";import\"./domains.js\";import c from\"./FeatureTemplate.js\";let l=class extends a{constructor(o){super(o),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(o){const r={};for(const e in o)if(o.hasOwnProperty(e)){const t=o[e];switch(t.type){case\"range\":r[e]=n.fromJSON(t);break;case\"codedValue\":r[e]=i.fromJSON(t);break;case\"inherited\":r[e]=m.fromJSON(t)}}return r}writeDomains(o,e){const t={};for(const r in o)o.hasOwnProperty(r)&&(t[r]=o[r]&&o[r].toJSON());r(t),e.domains=t}readTemplates(o){return o&&o.map((o=>new c(o)))}writeTemplates(o,r){r.templates=o&&o.map((o=>o.toJSON()))}};o([e({json:{write:!0}})],l.prototype,\"id\",void 0),o([e({json:{write:!0}})],l.prototype,\"name\",void 0),o([e({json:{write:!0}})],l.prototype,\"domains\",void 0),o([t(\"domains\")],l.prototype,\"readDomains\",null),o([p(\"domains\")],l.prototype,\"writeDomains\",null),o([e({json:{write:!0}})],l.prototype,\"templates\",void 0),o([t(\"templates\")],l.prototype,\"readTemplates\",null),o([p(\"templates\")],l.prototype,\"writeTemplates\",null),l=o([s(\"esri.layers.support.FeatureType\")],l);var u=l;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t){return\"date\"===t.type||\"esriFieldTypeDate\"===t.type}class e{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const i=[];for(const d of e){const e=d&&d.name;if(e){const a=s(e);this._fieldsMap.set(e,d),this._fieldsMap.set(a,d),i.push(a),t(d)&&(this.dateFields.push(d),this._dateFieldsSet.add(d))}}i.sort(),this.uid=i.join(\",\")}destroy(){this._fieldsMap.clear()}has(t){return null!=this.get(t)}get(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(s(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}normalizeFieldName(t){const e=this.get(t);if(e)return e.name}}function s(t){return t.toLowerCase().trim()}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as t}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";import{convertTemplatedStringToArcade as i}from\"./labelUtils.js\";var l;let n=l=class extends p{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(r,e){return e.value?i(e.value):r}writeExpression(r,e,o){null!=this.value&&(r=i(this.value)),e[o]=r}clone(){return new l({expression:this.expression,title:this.title,value:this.value})}};r([e({type:String,json:{write:{allowNull:!0}}})],n.prototype,\"expression\",void 0),r([e({type:String,json:{write:!0,origins:{\"web-scene\":{write:!1}}}})],n.prototype,\"title\",void 0),r([e({json:{read:!1,write:!1}})],n.prototype,\"value\",void 0),r([o(\"expression\",[\"expression\",\"value\"])],n.prototype,\"readExpression\",null),r([t(\"expression\")],n.prototype,\"writeExpression\",null),n=l=r([s(\"esri.layers.support.LabelExpressionInfo\")],n);var u=n;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{clone as r}from\"../../core/lang.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as l}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as i}from\"../../core/JSONSupport.js\";import{d as a,g as c,w as p}from\"../../chunks/symbols.js\";import{templateStringToSql as m,getSingleFieldArcadeExpression as b,getLabelExpression as u,getLabelExpressionArcade as f,getLabelExpressionSingleField as S}from\"./labelUtils.js\";import v from\"./LabelExpressionInfo.js\";import{defaultTextSymbol2D as h}from\"../../symbols/support/defaults.js\";var w;const d=new o({esriServerPointLabelPlacementAboveCenter:\"above-center\",esriServerPointLabelPlacementAboveLeft:\"above-left\",esriServerPointLabelPlacementAboveRight:\"above-right\",esriServerPointLabelPlacementBelowCenter:\"below-center\",esriServerPointLabelPlacementBelowLeft:\"below-left\",esriServerPointLabelPlacementBelowRight:\"below-right\",esriServerPointLabelPlacementCenterCenter:\"center-center\",esriServerPointLabelPlacementCenterLeft:\"center-left\",esriServerPointLabelPlacementCenterRight:\"center-right\",esriServerLinePlacementAboveAfter:\"above-after\",esriServerLinePlacementAboveAlong:\"above-along\",esriServerLinePlacementAboveBefore:\"above-before\",esriServerLinePlacementAboveStart:\"above-start\",esriServerLinePlacementAboveEnd:\"above-end\",esriServerLinePlacementBelowAfter:\"below-after\",esriServerLinePlacementBelowAlong:\"below-along\",esriServerLinePlacementBelowBefore:\"below-before\",esriServerLinePlacementBelowStart:\"below-start\",esriServerLinePlacementBelowEnd:\"below-end\",esriServerLinePlacementCenterAfter:\"center-after\",esriServerLinePlacementCenterAlong:\"center-along\",esriServerLinePlacementCenterBefore:\"center-before\",esriServerLinePlacementCenterStart:\"center-start\",esriServerLinePlacementCenterEnd:\"center-end\",esriServerPolygonPlacementAlwaysHorizontal:\"always-horizontal\"},{ignoreUnknown:!0});function y(e){return!e||\"service\"!==e.origin&&!(e.layer&&\"map-image\"===e.layer.type)}let x=w=class extends i{constructor(e){super(e),this.type=\"label\",this.name=null,this.deconflictionStrategy=\"static\",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.maxScale=0,this.minScale=0,this.symbol=h,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,r){const t=function(e,r,t){switch(r){case\"=\":return e==t;case\"<>\":return e!=t;case\">\":return e>t;case\">=\":return e>=t;case\"<\":return e<t;case\"<=\":return e<=t}return!1};try{if(null==e)return!0;const o=e.split(\" \");if(3===o.length)return t(r[o[0]],o[1],o[2]);if(7===o.length){const e=t(r[o[0]],o[1],o[2]),s=o[3],n=t(r[o[4]],o[5],o[6]);switch(s){case\"AND\":return e&&n;case\"OR\":return e||n}}return!1}catch(o){console.log(\"Error.: can't parse = \"+e)}}readLabelExpression(e,r){const t=r.labelExpressionInfo;if(!t||!t.value&&!t.expression)return e}writeLabelExpression(e,r,t,o){if(this.labelExpressionInfo&&(y(o)||o&&\"service\"===o.origin))if(null!=this.labelExpressionInfo.value)e=m(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const r=b(this.labelExpressionInfo.expression);r&&(e=\"[\"+r+\"]\")}null!=e&&(r[t]=e)}writeLabelExpressionInfo(e,r,t,o){if(null==e&&null!=this.labelExpression&&y(o))e=new v({expression:this.getLabelExpressionArcade()});else if(!e)return;const s=e.toJSON(o);s.expression&&(r[t]=s)}writeMaxScale(e,r){(e||this.minScale)&&(r.maxScale=e)}writeMinScale(e,r){(e||this.maxScale)&&(r.minScale=e)}getLabelExpression(){return u(this)}getLabelExpressionArcade(){return f(this)}getLabelExpressionSingleField(){return S(this)}hash(){return JSON.stringify(this)}clone(){return new w({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:r(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:r(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};e([t({type:String,json:{write:!0}})],x.prototype,\"name\",void 0),e([t({type:String,json:{write:!0,default:\"static\",origins:{\"web-scene\":{write:!1}}}})],x.prototype,\"deconflictionStrategy\",void 0),e([t({type:String,json:{write:{allowNull:!0}}})],x.prototype,\"labelExpression\",void 0),e([s(\"labelExpression\")],x.prototype,\"readLabelExpression\",null),e([l(\"labelExpression\")],x.prototype,\"writeLabelExpression\",null),e([t({type:v,json:{write:{overridePolicy:(e,r,t)=>y(t)?{allowNull:!0}:{enabled:!1}}}})],x.prototype,\"labelExpressionInfo\",void 0),e([l(\"labelExpressionInfo\")],x.prototype,\"writeLabelExpressionInfo\",null),e([t({type:d.apiValues,json:{type:d.jsonValues,read:d.read,write:d.write}})],x.prototype,\"labelPlacement\",void 0),e([t({type:Number})],x.prototype,\"maxScale\",void 0),e([l(\"maxScale\")],x.prototype,\"writeMaxScale\",null),e([t({type:Number})],x.prototype,\"minScale\",void 0),e([l(\"minScale\")],x.prototype,\"writeMinScale\",null),e([t({types:a,json:{origins:{\"web-scene\":{types:c,write:p,default:null}},write:p,default:null}})],x.prototype,\"symbol\",void 0),e([t({type:Boolean,json:{write:!0}})],x.prototype,\"useCodedValues\",void 0),e([t({type:String,json:{write:!0}})],x.prototype,\"where\",void 0),x=w=e([n(\"esri.layers.support.LabelClass\")],x);var g=x;export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{urlToObject as r,removeTrailingSlash as t,removeQueryParameters as n,join as s,Url as i,makeAbsolute as o}from\"../../core/urlUtils.js\";import{w as u}from\"../../chunks/persistableUrlUtils.js\";const l=[\"MapServer\",\"ImageServer\",\"FeatureServer\",\"SceneServer\",\"StreamServer\",\"VectorTileServer\"],a=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${l.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${l.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\");function f(e){return!!a.test(e)}function p(e){const t=r(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,u]=n,l=i.indexOf(\"/\");return{title:m(-1!==l?i.slice(l+1):i),serverType:o,sublayer:null!=u&&\"\"!==u?parseInt(u,10):null,url:{path:s}}}function m(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function d(r,t){const n=[];if(r){const t=p(r);e(t)&&t.title&&n.push(t.title)}if(t){const e=m(t);n.push(e)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(\" - \")}function v(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",n=\"//tiles\",s=\"//features\",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function w(e,r){return r&&e&&-1!==e.toLowerCase().indexOf(r.toLowerCase())}function x(e,r){return e?t(n(e,r)):e}function h(s,i,o){if(!i)return{url:i};i=n(i,o);const u=p(r(i).path);let l;return e(u)&&(null!=u.sublayer&&null==s.layerId&&(l=u.sublayer),i=u.url.path),{url:t(i),layerId:l}}function y(e,r,t,n,i){u(r,n,\"url\",i),n.url&&null!=e.layerId&&(n.url=s(n.url,t,e.layerId.toString()))}function O(e){if(!e)return!1;const r=e.toLowerCase(),t=-1!==r.indexOf(\"/services/\"),n=-1!==r.indexOf(\"/mapserver/wmsserver\"),s=-1!==r.indexOf(\"/imageserver/wmsserver\"),i=-1!==r.indexOf(\"/wmsserver\");return t&&(n||s||i)}function S(e){if(!e)return!1;const r=new i(o(e)).authority.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{m as cleanTitle,f as isArcGISUrl,v as isHostedAgolService,w as isHostedSecuredProxyService,S as isServerOrServicesAGOLUrl,O as isWmsServer,p as parse,x as sanitizeUrl,h as sanitizeUrlWithLayerId,l as serverTypes,d as titleFromUrlAndName,y as writeUrlWithLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{replace as e}from\"../../core/string.js\";const n=\"__begin__\",r=\"__end__\",s=new RegExp(n,\"ig\"),t=new RegExp(r,\"ig\"),o=new RegExp(\"^\"+n,\"i\"),i=new RegExp(r+\"$\",\"i\"),l='\"',a=l+\" + \",c=\" + \"+l;function p(e){return e.replace(new RegExp(\"\\\\[\",\"g\"),\"{\").replace(new RegExp(\"\\\\]\",\"g\"),\"}\")}function u(e){return e.replace(new RegExp(\"\\\\{\",\"g\"),\"[\").replace(new RegExp(\"\\\\}\",\"g\"),\"]\")}function x(e){const n={expression:\"\",type:\"none\"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(n.expression=e.labelExpressionInfo.value,n.type=\"conventional\"):e.labelExpressionInfo.expression&&(n.expression=e.labelExpressionInfo.expression,n.type=\"arcade\"):null!=e.labelExpression&&(n.expression=p(e.labelExpression),n.type=\"conventional\"),n}function f(e){const n=x(e);if(!n)return null;switch(n.type){case\"conventional\":return w(n.expression);case\"arcade\":return n.expression}return null}function g(e){const n=x(e);if(!n)return null;switch(n.type){case\"conventional\":return $(n.expression);case\"arcade\":return _(n.expression)}return null}function w(p){let u;return p?(u=e(p,(e=>n+'$feature[\"'+e+'\"]'+r)),u=o.test(u)?u.replace(o,\"\"):l+u,u=i.test(u)?u.replace(i,\"\"):u+l,u=u.replace(s,a).replace(t,c)):u='\"\"',u}const E=/^\\s*\\{([^}]+)\\}\\s*$/i;function $(e){const n=e.match(E);return n&&n[1].trim()||null}const b=/^\\s*(?:(?:\\$feature\\.(\\w+))|(?:\\$feature\\[([\"'])([\\w\\s]+)(\\2)\\]));?\\s*$/i,m=/^\\s*(?:(?:\\$feature\\.(\\w+))|(?:\\$feature\\[([\"'])([\\w\\s]+)(\\2)\\]));?\\s*(?:DomainName\\(\\s*\\$feature\\s*,\\s*([\"'])(\\1|\\3)(\\5)\\s*\\));?\\s*$/i,R=/^\\s*(?:DomainName\\(\\s*\\$feature\\s*,\\s*([\"'])([\\w\\s]+)(\\1)\\s*\\));?\\s*$/i;function _(e){if(!e)return null;let n=b.exec(e)||m.exec(e);return n?n[1]||n[3]:(n=R.exec(e),n?n[2]:null)}export{w as convertTemplatedStringToArcade,x as getLabelExpression,f as getLabelExpressionArcade,g as getLabelExpressionSingleField,_ as getSingleFieldArcadeExpression,$ as getSingleFieldTemplatedString,p as sqlToTemplateString,u as templateStringToSql};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import o from\"../core/Logger.js\";import{ensureType as e}from\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import n from\"../core/Collection.js\";import{castForReferenceSetter as i,referenceSetter as c}from\"../core/collectionUtils.js\";import l from\"../Graphic.js\";const p=n.ofType(l);o.getLogger(\"esri.support.GraphicsCollection\");let a=class extends p{constructor(r){super(r),this.on(\"before-add\",(r=>{r.item||r.preventDefault()})),this.on(\"after-add\",(r=>this._own(r.item))),this.on(\"after-remove\",(({item:r})=>{r.layer=null}))}destroy(){this._unownAll()}get owner(){return this._get(\"owner\")}set owner(r){r!==this._get(\"owner\")&&(this._unownAll(),this._set(\"owner\",r),this._ownAll())}_createNewInstance(r){return new p(r)}_ownAll(){this.items.forEach((r=>this._own(r)))}_own(r){r.layer&&\"remove\"in r.layer&&r.layer!==this.owner&&r.layer.remove(r),r.layer=this.owner}_unownAll(){this.items.forEach((r=>this._unown(r)))}_unown(r){r.layer===this.owner&&(r.layer=null)}};function h(r){const o=e(a,r);return o&&(o.owner=this),o}r([t()],a.prototype,\"owner\",null),a=r([s(\"esri.support.GraphicsCollection\")],a);const u=(r=\"graphics\")=>({type:a,cast:i,set(o){const e=c(o,this._get(r),a);e.owner=this,this._set(r,e)}});var m=a;export default m;export{a as GraphicsCollection,h as castGraphicsCollection,u as graphicsCollectionProperty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import r from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import i from\"../core/Collection.js\";import{referenceSetter as a}from\"../core/collectionUtils.js\";import n from\"../layers/Layer.js\";function l(e){return e&&\"group\"===e.type}function d(e,r,t){let s,o;if(e)for(let i=0,a=e.length;i<a;i++){if(s=e.getItemAt(i),s[r]===t)return s;if(l(s)&&(o=d(s.layers,r,t),o))return o}}const y=r.getLogger(\"esri.support.LayersMixin\"),p=r=>{let l=class extends r{constructor(...e){super(...e),this.layers=new i;const r=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},t=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||y.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},s=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on(\"before-add\",(e=>r(e.item))),this.layers.on(\"after-add\",(e=>t(e.item))),this.layers.on(\"after-remove\",(e=>s(e.item)))}destroy(){const e=this.layers.removeAll();for(const r of e)this.layerRemoved(r),r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",a(e,this._get(\"layers\")))}add(e,r){const t=this.layers;r=t.getNextIndex(r),e instanceof n?e.parent===this?this.reorder(e,r):t.add(e,r):o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):y.error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;r=t.getNextIndex(r),e.slice().forEach((e=>{e.parent!==this?(t.add(e,r),r+=1):this.reorder(e,r)}))}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([t()],l.prototype,\"layers\",null),l=e([s(\"esri.support.LayersMixin\")],l),l};export{p as LayersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import e from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import o from\"../core/Collection.js\";import{referenceSetter as i}from\"../core/collectionUtils.js\";const n=\"esri.support.TablesMixin\",a=e.getLogger(n);function l(t){return t&&\"group\"===t.type}function p(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.getItemAt(s);if(o[e]===r)return o;if(l(o)){const t=p(o.tables,e,r);if(t)return t}}}const c=e=>{let l=class extends e{constructor(...t){super(...t),this.tables=new o,this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&a.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",i(t,this._get(\"tables\")))}findTableById(t){return p(this.tables,\"id\",t)}findTableByUid(t){return p(this.tables,\"uid\",t)}};return t([r()],l.prototype,\"tables\",null),l=t([s(n)],l),l};export{c as TablesMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../core/Logger.js\";import{ensureType as r}from\"../core/accessorSupport/ensureType.js\";import{normalize as n,Url as t,makeAbsolute as a}from\"../core/urlUtils.js\";import l from\"../core/Collection.js\";import{esriBasemapDefinitions as s}from\"./basemapDefinitions.js\";import i from\"../Basemap.js\";const o=e.getLogger(\"esri.support.basemapUtils\");function c(){return{}}function u(e){for(const r in e){const n=e[r];!1===(null==n?void 0:n.destroyed)&&n.destroy(),delete e[r]}}function f(e,n){var t;let a;if(\"string\"==typeof e){if(!(e in s)){const r=Object.keys(s).map((e=>`\"${e}\"`)).join(\", \");return o.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${r}`),null}n&&(a=n[e]),a||(a=i.fromId(e),n&&(n[e]=a))}else a=r(i,e);return null!=(t=a)&&t.destroyed&&(o.warn(\"The provided basemap is already destroyed\",{basemap:a}),a=null),a}function y(e,r=null){const n=f(e);if(!n)return null;const t=new i({id:n.id,title:n.title,baseLayers:n.baseLayers.slice(),referenceLayers:n.referenceLayers.slice()});return r&&(t.baseLayers=b(t.baseLayers,r.baseLayers),t.referenceLayers=b(t.referenceLayers,r.referenceLayers)),t.load().catch((()=>{})),t.portalItem=n.portalItem,t}function m(e){let r=null;const n=v(e),t=!n.baseLayers.length;for(const a in s){const e=w(n,x(s[a]),{mustMatchReferences:t});if(\"equal\"===e){r=a;break}\"base-layers-equal\"===e&&(r=a)}return r}function p(e,r){if(e===r)return!0;return\"equal\"===w(v(e),v(r),{mustMatchReferences:!0})}function b(e,r){const n=new l;return e.forEach((e=>{const t=r.find((r=>I(g(e),g(r))))||e;n.some((e=>e===t))?n.push(e):n.push(t)})),n}function L(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(d))}function d(e){if(h(e.url))return!0;if(\"vector-tile\"===e.type)for(const r in e.sourceNameToSource){const n=e.sourceNameToSource[r];if(h(null==n?void 0:n.sourceUrl))return!0}return!1}const S=/^(basemaps|ibasemaps).*-api\\.arcgis\\.com$/i;function h(e){if(!e)return!1;const r=new t(a(e));return S.test(r.authority)}function v(e){return e?!e.loaded&&e.resourceInfo?x(e.resourceInfo.data):{baseLayers:T(e.baseLayers),referenceLayers:T(e.referenceLayers)}:null}function T(e){return(l.isCollection(e)?e.toArray():e).map(g)}function g(e){return{type:e.type,url:M(\"urlTemplate\"in e&&e.urlTemplate||e.url||\"styleUrl\"in e&&e.styleUrl),minScale:\"minScale\"in e&&null!=e.minScale?e.minScale:0,maxScale:\"maxScale\"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible}}function x(e){return e?{baseLayers:q(e.baseMapLayers.filter((e=>!e.isReference))),referenceLayers:q(e.baseMapLayers.filter((e=>e.isReference)))}:null}function q(e){return e.map((e=>j(e)))}function j(e){let r;switch(e.layerType){case\"VectorTileLayer\":r=\"vector-tile\";break;case\"ArcGISTiledMapServiceLayer\":r=\"tile\";break;default:r=\"unknown\"}return{type:r,url:M(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility}}function w(e,r,n){if(null!=e!=(null!=r))return\"not-equal\";if(!e)return\"equal\";if(!U(e.baseLayers,r.baseLayers))return\"not-equal\";return U(e.referenceLayers,r.referenceLayers)?\"equal\":n.mustMatchReferences?\"not-equal\":\"base-layers-equal\"}function U(e,r){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(!I(e[n],r[n]))return!1;return!0}function I(e,r){return e.type===r.type&&e.url===r.url&&e.minScale===r.minScale&&e.maxScale===r.maxScale&&e.visible===r.visible&&e.opacity===r.opacity}function M(e){return e?n(e).replace(/^\\s*https?:/i,\"\").toLowerCase():\"\"}export{y as clonePreservingTiledLayers,p as contentEquals,c as createCache,u as destroyCache,f as ensureType,m as getWellKnownBasemapId,L as hasDeveloperBasemapLayer,d as isDeveloperBasemapLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{getDisplayFieldName as e}from\"../layers/support/fieldUtils.js\";import\"../popup/content/Content.js\";import t from\"../popup/content/AttachmentsContent.js\";import\"../popup/content/CustomContent.js\";import i from\"../popup/support/FieldInfoFormat.js\";import o from\"../popup/FieldInfo.js\";import n from\"../popup/content/FieldsContent.js\";import\"../popup/content/MediaContent.js\";import\"../popup/content/TextContent.js\";import r from\"../PopupTemplate.js\";const l=[\"oid\",\"global-id\"],s=[\"oid\",\"global-id\",\"guid\"];function a({displayField:e,editFieldsInfo:t,fields:i,objectIdField:o,title:n},l){if(!i)return null;const s=b({editFieldsInfo:t,fields:i,objectIdField:o},l);if(!s.length)return null;const a=j({titleBase:n,fields:i,displayField:e}),d=C();return new r({title:a,content:d,fieldInfos:s})}const d=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],p=(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:o})=>o?o.has(e.name):!f(e.name,t)&&((!i||e.name!==i)&&(!(l.indexOf(e.type)>-1)&&!d.some((t=>t.test(e.name)))));function u(e,t){const i=e;return t&&(e=e.filter((e=>-1===t.indexOf(e.type)))),e===i&&(e=e.slice()),e.sort(c),e}function c(e,t){return\"oid\"===e.type?-1:\"oid\"===t.type?1:y(e)?-1:y(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function f(e,t){if(!e||!t)return!1;const{creationDateField:i,creatorField:o,editDateField:n,editorField:r}=t;return-1!==[i&&i.toLowerCase(),o&&o.toLowerCase(),n&&n.toLowerCase(),r&&r.toLowerCase()].indexOf(e.toLowerCase())}function m(e,t){return e.editable&&-1===s.indexOf(e.type)&&!f(e.name,t)}function F(e,t){return new n({fieldInfos:b(e,t).filter((e=>e.visible))})}function b({editFieldsInfo:e,fields:t,objectIdField:i},n){return u(t,(null==n?void 0:n.ignoreFieldTypes)||g).map((t=>new o({fieldName:t.name,isEditable:m(t,e),label:t.alias,format:w(t),visible:p(t,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:null==n?void 0:n.visibleFieldNames})})))}function w(e){switch(e.type){case\"small-integer\":case\"integer\":case\"single\":return new i({digitSeparator:!0,places:0});case\"double\":return new i({digitSeparator:!0,places:2});case\"date\":return new i({dateFormat:\"long-month-day-year\"});default:return null}}function C(){return[new n,new t]}function j(t){const i=e(t),{titleBase:o}=t;return i?`${o}: {${i.trim()}}`:o}function y(e){if(\"name\"===(e.name&&e.name.toLowerCase()))return!0;return\"name\"===(e.alias&&e.alias.toLowerCase())||void 0}const g=[\"geometry\",\"blob\",\"raster\",\"guid\",\"xml\"];export{b as createFieldInfos,F as createFieldsContent,a as createPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as r}from\"../../core/maybe.js\";import o from\"../SimpleLineSymbol.js\";import m from\"../SimpleFillSymbol.js\";import e from\"../SimpleMarkerSymbol.js\";import t from\"../TextSymbol.js\";import{defaultPointSymbolJSON as l,defaultPolylineSymbolJSON as i,defaultPolygonSymbolJSON as n,defaultTextSymbolJSON as s,errorPointSymbolJSON as f,errorPolylineSymbolJSON as p,errorPolygonSymbolJSON as S}from\"./defaultsJSON.js\";const c=e.fromJSON(l),u=o.fromJSON(i),a=m.fromJSON(n),y=t.fromJSON(s);function J(o){if(r(o))return null;switch(o.type){case\"mesh\":return null;case\"point\":case\"multipoint\":return c;case\"polyline\":return u;case\"polygon\":case\"extent\":return a}return null}const N=e.fromJSON(f),O=o.fromJSON(p),j=m.fromJSON(S);export{c as defaultPointSymbol2D,a as defaultPolygonSymbol2D,u as defaultPolylineSymbol2D,y as defaultTextSymbol2D,N as errorPointSymbol2D,j as errorPolygonSymbol2D,O as errorPolylineSymbol2D,J as getDefaultSymbol2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst e=[252,146,31,255],i=[153,153,153,255],l={type:\"esriSMS\",style:\"esriSMSCircle\",size:6,color:e,outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[153,153,153,255]}},o={type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:e},S={type:\"esriSFS\",style:\"esriSFSSolid\",color:[252,146,31,196],outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[255,255,255,191]}},t={type:\"esriTS\",color:[255,255,255,255],font:{family:\"arial-unicode-ms\",size:10,weight:\"bold\"},horizontalAlignment:\"center\",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:\"\",xoffset:0,yoffset:0,angle:0},r={type:\"esriSMS\",style:\"esriSMSCircle\",color:[0,0,0,255],outline:null,size:10.5},s={type:\"esriSLS\",style:\"esriSLSSolid\",color:[0,0,0,255],width:1.5},y={type:\"esriSFS\",style:\"esriSFSSolid\",color:[0,0,0,255],outline:null};export{e as defaultColor,i as defaultOutlineColor,l as defaultPointSymbolJSON,S as defaultPolygonSymbolJSON,o as defaultPolylineSymbolJSON,t as defaultTextSymbolJSON,r as errorPointSymbolJSON,y as errorPolygonSymbolJSON,s as errorPolylineSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{valueOf as s}from\"../../core/accessorSupport/get.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{schedule as r}from\"../../core/scheduling.js\";import{reaction as i}from\"../../core/accessorSupport/trackingUtils.js\";import n from\"../../core/Accessor.js\";import a from\"../../core/Handles.js\";import{init as o,on as h}from\"../../core/watchUtils.js\";let c=class extends n{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new a,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,s,t,d=0){const r=0!=(1&d),i=++this.handleId;r||this.installSyncUpdatingWatch(e,s,i);const n=0!=(2&d)?o(e,s,t,r):e.watch(s,t,r);return this.handles.add(n,i),{remove:()=>{this.handles.remove(i)}}}addOnCollectionPropertyChange(e,s,t,d=0){const r=0!=(2&d),i=++this.handleId;return this.handles.add([h(e,s,\"after-changes\",this.createSyncUpdatingCallback()),h(e,s,\"change\",t,r?e=>{t({added:e.items,removed:[],moved:[],target:e})}:void 0)],i),{remove:()=>{this.handles.remove(i)}}}addOnCollectionChange(e,s,t=0){const d=0!=(2&t),r=++this.handleId;return this.handles.add([e.on(\"after-changes\",this.createSyncUpdatingCallback()),e.on(\"change\",s)],r),d&&s({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(r)}}}addPromise(e){if(!e)return e;const s=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(l)||this._set(\"updating\",!1))}},s),this.pendingPromises.add(e),this._set(\"updating\",!0);const t=()=>this.handles.remove(s);return e.then(t,t),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set(\"updating\",!1)}installSyncUpdatingWatch(e,t,d){const r=this.createSyncUpdatingCallback(),n=i((()=>s(e,t)),r);return this.handles.add(n,d),n}createSyncUpdatingCallback(){return()=>{this.handles.remove(l),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get(\"updating\")||this._set(\"updating\",!0),this.handles.add(r((()=>{e===this.scheduleHandleId&&(this._set(\"updating\",this.pendingPromises.size>0),this.handles.remove(l))})),l)}}};e([t({readOnly:!0})],c.prototype,\"updating\",void 0),c=e([d(\"esri.views.support.WatchUpdatingTracking\")],c);const l=-42;export{c as WatchUpdatingTracking};\n"],"sourceRoot":""}