(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[7042],{16513:(e,t,i)=>{"use strict";i.d(t,{Q:()=>E,a:()=>T,b:()=>F,c:()=>D,d:()=>B,e:()=>j,g:()=>v,n:()=>U,t:()=>C});var s=i(59472),r=i(56274),n=i(32656),a=i(27780),o=i(47005),l=i(80685),u=i(59933),c=i(56885),h=i(93533),d=i(91535),f=i(73127),p=i(31036),m=i(71951);function y(e,t){return e?t?4:3:t?3:2}function _(e,t,i,s,r){if(!e)return!1;const n=y(t,i),{coords:a,lengths:o}=e;let l=!1,u=0;for(const e of o)l=I(l,a,n,u,e,s,r),u+=e*n;return l}function I(e,t,i,s,r,n,a){let o=e,l=s;for(let e=s,u=s+r*i;e<u;e+=i){l=e+i,l===u&&(l=s);const r=t[e],c=t[e+1],h=t[l],d=t[l+1];(c<a&&d>=a||d<a&&c>=a)&&r+(a-c)/(d-c)*(h-r)<n&&(o=!o)}return o}const g="feature-store:unsupported-query",b={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},S={esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},w={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},x={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1};function R(){return Promise.all([i.e(5798),i.e(3134)]).then(i.bind(i,93134))}function v(e,t,i,s,r){if((0,c.oU)(t)&&"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){const e=(0,p.Uy)(new f.Z,t,!1,!1);return Promise.resolve((t=>function(e,t,i,s){return _(e,t,i,s.coords[0],s.coords[1])}(e,!1,!1,t)))}if((0,c.oU)(t)&&"esriGeometryMultipoint"===i){const i=(0,p.Uy)(new f.Z,t,!1,!1);if("esriSpatialRelContains"===e)return Promise.resolve((e=>function(e,t,i,s,r,n){const a=y(r,n),{coords:o,lengths:l}=s;if(!l)return!1;for(let s=0,r=0;s<l.length;s++,r+=a)if(!_(e,t,i,o[r],o[r+1]))return!1;return!0}(i,!1,!1,e,s,r)))}if((0,c.YX)(t)&&"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return Promise.resolve((e=>(0,o.aV)(t,B(i,s,r,e))));if((0,c.YX)(t)&&"esriGeometryMultipoint"===i&&"esriSpatialRelContains"===e)return Promise.resolve((e=>(0,o.lQ)(t,B(i,s,r,e))));if((0,c.YX)(t)&&"esriSpatialRelIntersects"===e){const e=(0,l.v$)(i);return Promise.resolve((n=>e(t,B(i,s,r,n))))}return R().then((n=>{const a=n[b[e]].bind(null,t.spatialReference,t);return e=>a(B(i,s,r,e))}))}async function F(e,t,i){const{spatialRel:s,geometry:r}=e;if(r){if(!function(e){return!0===S[e]}(s))throw new n.Z(g,"Unsupported query spatial relationship",{query:e});if((0,a.JY)(r.spatialReference)&&(0,a.JY)(i)){if(!function(e){return!0===w[(0,c.Ji)(e)]}(r))throw new n.Z(g,"Unsupported query geometry type",{query:e});if(!function(e){return!0===x[e]}(t))throw new n.Z(g,"Unsupported layer geometry type",{query:e});if(e.outSR)return(0,m._W)(e.geometry&&e.geometry.spatialReference,e.outSR)}}}function T(e){if((0,c.YX)(e))return!0;if((0,c.oU)(e)){for(const t of e.rings){if(5!==t.length)return!1;if(t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1}return!0}return!1}const M=new r.Xn({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),E=Object.freeze({}),A=new f.Z,G=new f.Z,N=new f.Z,O={esriGeometryPoint:p.fQ,esriGeometryPolyline:p.J6,esriGeometryPolygon:p.eG,esriGeometryMultipoint:p.Iv};function C(e,t,i,s=e.hasZ,r=e.hasM){const n=e.hasZ&&s,a=e.hasM&&r;if(i){const o=(0,p.Nh)(N,t,e.hasZ,e.hasM,"esriGeometryPoint",i,s,r);return(0,p.fQ)(o,n,a)}return(0,p.fQ)(t,n,a)}function B(e,t,i,s,r,n,a=t,o=i){const l=t&&a,u=i&&o,c=s?"coords"in s?s:s.geometry:null;if(!c)return null;if(r){let s=(0,p.zj)(G,c,t,i,e,r,a,o);return n&&(s=(0,p.Nh)(N,s,l,u,e,n)),O[e](s,l,u)}if(n){const s=(0,p.Nh)(N,c,t,i,e,n,a,o);return O[e](s,l,u)}return(0,p.hY)(A,c,t,i,a,o),O[e](A,l,u)}async function U(e,t,i){const{outFields:s,orderByFields:r,groupByFieldsForStatistics:n,outStatistics:a}=e;if(s)for(let e=0;e<s.length;e++)s[e]=s[e].trim();if(r)for(let e=0;e<r.length;e++)r[e]=r[e].trim();if(n)for(let e=0;e<n.length;e++)n[e]=n[e].trim();if(a)for(let e=0;e<a.length;e++)a[e].onStatisticField&&(a[e].onStatisticField=a[e].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),j(e,t,i)}async function j(e,t,i){if(!e)return null;let{where:r}=e;if(e.where=r=r&&r.trim(),(!r||/^1 *= *1$/.test(r)||t&&t===r)&&(e.where=null),!e.geometry)return e;let n=await async function(e){const{geometry:t,distance:i,units:s}=e;if(null==i||"vertexAttributes"in t)return t;const r=t.spatialReference,n=s?M.fromJSON(s):(0,h.qE)(r),o=r&&((0,a.sT)(r)||(0,a.sS)(r))?t:await(0,m._W)(r,a.Zn).then((()=>(0,m.iV)(t,a.Zn)));return(await R().then((e=>e.geodesicBuffer)))(o.spatialReference,o,i,n)}(e);if(e.distance=0,e.units=null,"esriSpatialRelEnvelopeIntersects"===e.spatialRel){const{spatialReference:t}=e.geometry;n=(0,u.aO)(n),n.spatialReference=t}e.geometry=n,await(0,m._W)(n.spatialReference,i);const o=(await(0,d.aX)((0,c.im)(n)))[0];if((0,s.Wi)(o))throw E;const l=o.toJSON(),f=await(0,m.iV)(l,l.spatialReference,i);if(!f)throw E;return f.spatialReference=i,e.geometry=f,e}function D(e){return e&&P in e?JSON.parse(JSON.stringify(e,k)):e}const P="_geVersion",k=(e,t)=>e!==P?t:void 0},69996:(e,t,i)=>{"use strict";i.d(t,{Gv:()=>x,be:()=>d,Ue:()=>r,cS:()=>g,fS:()=>w,TC:()=>a,G1:()=>l,pp:()=>o,JR:()=>b,al:()=>n,KE:()=>m,bA:()=>p,t8:()=>I,Tn:()=>_,op:()=>y,dp:()=>f});var s=i(59472);i(52937),i(50897);function r(e=R){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function n(e,t,i,s,n,a,o=r()){return o[0]=e,o[1]=t,o[2]=i,o[3]=s,o[4]=n,o[5]=a,o}function a(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function o(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function l(e,t,i=0,s=t.length/3){let r=e[0],n=e[1],a=e[2],o=e[3],l=e[4],u=e[5];for(let e=0;e<s;e++)r=Math.min(r,t[i+3*e]),n=Math.min(n,t[i+3*e+1]),a=Math.min(a,t[i+3*e+2]),o=Math.max(o,t[i+3*e]),l=Math.max(l,t[i+3*e+1]),u=Math.max(u,t[i+3*e+2]);e[0]=r,e[1]=n,e[2]=a,e[3]=o,e[4]=l,e[5]=u}function u(e){return e[0]>=e[3]?0:e[3]-e[0]}function c(e){return e[1]>=e[4]?0:e[4]-e[1]}function h(e){return e[2]>=e[5]?0:e[5]-e[2]}function d(e,t=[0,0,0]){return t[0]=e[0]+u(e)/2,t[1]=e[1]+c(e)/2,t[2]=e[2]+h(e)/2,t}function f(e,t=[0,0,0]){return t[0]=u(e),t[1]=c(e),t[2]=h(e),t}function p(e,t,i=e){const s=e[0]+u(e)/2,r=e[1]+c(e)/2,n=e[2]+h(e)/2;return i[0]=s+(e[0]-s)*t,i[1]=r+(e[1]-r)*t,i[2]=n+(e[2]-n)*t,i[3]=s+(e[3]-s)*t,i[4]=r+(e[4]-r)*t,i[5]=n+(e[5]-n)*t,i}function m(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function y(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function _(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function I(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function g(e){return e?I(e,x):r(x)}function b(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function S(e){return 6===e.length}function w(e,t,i){if((0,s.Wi)(e)||(0,s.Wi)(t))return e===t;if(!S(e)||!S(t))return!1;if(i){for(let s=0;s<e.length;s++)if(!i(e[s],t[s]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const x=[1/0,1/0,1/0,-1/0,-1/0,-1/0],R=[0,0,0,0,0,0];r()},97042:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var s=i(59472),r=i(36544),n=i(32656),a=i(6513),o=i(50897),l=i(31518),u=i(90440),c=i(16513),h=i(3951);const d=r.Z.getLogger("esri.views.2d.layers.features.support.whereUtils"),f={getAttribute:(e,t)=>e.field(t)};async function p(e,t){const s=await i.e(1063).then(i.bind(i,71063));try{const i=s.WhereClause.create(e,t);if(!i.isStandardized){const e=new n.Z("mapview - bad input","Unable to apply filter's definition expression, as expression is not standardized.",i);d.error(e)}return e=>{const t=e.readArcadeFeature();return i.testFeature(t,f)}}catch(t){return d.warn("mapview-bad-where-clause","Encountered an error when evaluating where clause",e),e=>!0}}const m=r.Z.getLogger("esri.views.2d.layers.features.controllers.FeatureFilter");const y=class{constructor(e){this._geometryBounds=(0,o.Ue)(),this._idToVisibility=new Map,this._serviceInfo=e}get hash(){return this._hash}check(e){return this._applyFilter(e)}clear(){const e=this._resetAllHiddenIds();return this.update(),{show:e,hide:[]}}invalidate(){this._idToVisibility.forEach(((e,t)=>{this._idToVisibility.set(t,0)}))}setKnownIds(e){for(const t of e)this._idToVisibility.set(t,1)}setTrue(e){const t=[],i=[],s=new Set(e);return this._idToVisibility.forEach(((e,r)=>{const n=!!(1&this._idToVisibility.get(r)),a=s.has(r);!n&&a?t.push(r):n&&!a&&i.push(r),this._idToVisibility.set(r,a?3:0)})),{show:t,hide:i}}createQuery(){const{geometry:e,spatialRel:t,where:i,timeExtent:s,objectIds:r}=this;return l.Z.fromJSON({geometry:e,spatialRel:t,where:i,timeExtent:s,objectIds:r})}async update(e,t){this._hash=JSON.stringify(e);const i=await(0,c.e)(e,null,t);await Promise.all([this._setGeometryFilter(i),this._setIdFilter(i),this._setAttributeFilter(i),this._setTimeFilter(i)])}async _setAttributeFilter(e){if(!e||!e.where)return this._clause=null,void(this.where=null);this._clause=await p(e.where,this._serviceInfo.fieldsIndex),this.where=e.where}_setIdFilter(e){this._idsToShow=e&&e.objectIds&&new Set(e.objectIds),this._idsToHide=e&&e.hiddenIds&&new Set(e.hiddenIds),this.objectIds=e&&e.objectIds}async _setGeometryFilter(e){if(!e||!e.geometry)return this._spatialQueryOperator=null,this.geometry=null,void(this.spatialRel=null);const t=e.geometry,i=e.spatialRel||"esriSpatialRelIntersects",s=await(0,c.g)(i,t,this._serviceInfo.geometryType,this._serviceInfo.hasZ,this._serviceInfo.hasM);(0,a.$P)(this._geometryBounds,t),this._spatialQueryOperator=s,this.geometry=t,this.spatialRel=i}_setTimeFilter(e){if(this.timeExtent=this._timeOperator=null,e&&e.timeExtent)if(this._serviceInfo.timeInfo)this.timeExtent=e.timeExtent,this._timeOperator=(0,u.y)(this._serviceInfo.timeInfo,e.timeExtent,h.k);else{const t=new n.Z("feature-layer-view:time-filter-not-available","Unable to apply time filter, as layer doesn't have time metadata.",e.timeExtent);m.error(t)}}_applyFilter(e){return this._filterByGeometry(e)&&this._filterById(e)&&this._filterByTime(e)&&this._filterByExpression(e)}_filterByExpression(e){return!this.where||this._clause(e)}_filterById(e){return(!this._idsToHide||!this._idsToHide.size||!this._idsToHide.has(e.getObjectId()))&&(!this._idsToShow||!this._idsToShow.size||this._idsToShow.has(e.getObjectId()))}_filterByGeometry(e){if(!this.geometry)return!0;const t=e.readHydratedGeometry();return!!t&&this._spatialQueryOperator(t)}_filterByTime(e){return!(0,s.pC)(this._timeOperator)||this._timeOperator(e)}_resetAllHiddenIds(){const e=[];return this._idToVisibility.forEach(((t,i)=>{1&t||(this._idToVisibility.set(i,1),e.push(i))})),e}}},90440:(e,t,i)=>{"use strict";function s(e,t){if(!e)return null;const i=t.featureAdapter,{startTimeField:s,endTimeField:r}=e;let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;if(s&&r)t.forEach((e=>{const t=i.getAttribute(e,s),o=i.getAttribute(e,r);null==t||isNaN(t)||(n=Math.min(n,t)),null==o||isNaN(o)||(a=Math.max(a,o))}));else{const e=s||r;t.forEach((t=>{const s=i.getAttribute(t,e);null==s||isNaN(s)||(n=Math.min(n,s),a=Math.max(a,s))}))}return{start:n,end:a}}function r(e,t,i){if(!t||!e)return null;const{startTimeField:s,endTimeField:r}=e;if(!s&&!r)return null;const{start:n,end:a}=t;return null===n&&null===a?null:void 0===n&&void 0===a?()=>!1:s&&r?function(e,t,i,s,r){return null!=s&&null!=r?n=>{const a=e.getAttribute(n,t),o=e.getAttribute(n,i);return(null==a||a<=r)&&(null==o||o>=s)}:null!=s?t=>{const r=e.getAttribute(t,i);return null==r||r>=s}:null!=r?i=>{const s=e.getAttribute(i,t);return null==s||s<=r}:void 0}(i,s,r,n,a):function(e,t,i,s){return null!=i&&null!=s&&i===s?s=>e.getAttribute(s,t)===i:null!=i&&null!=s?r=>{const n=e.getAttribute(r,t);return n>=i&&n<=s}:null!=i?s=>e.getAttribute(s,t)>=i:null!=s?i=>e.getAttribute(i,t)<=s:void 0}(i,s||r,n,a)}i.d(t,{R:()=>s,y:()=>r})},3951:(e,t,i)=>{"use strict";i.d(t,{p:()=>d,k:()=>h});var s=i(59472),r=i(35470),n=i(69996),a=i(96233),o=i(41833);function l(e,t){return e<<16|t}function u(e){return(4294901760&e)>>>16}function c(e){return 65535&e}const h={getObjectId:e=>e.getObjectId(),getAttributes:e=>e.readAttributes(),getAttribute:(e,t)=>e.readAttribute(t),cloneWithGeometry:(e,t)=>e,getGeometry:e=>e.readHydratedGeometry(),getCentroid:(e,t)=>e.readCentroid()};class d extends o.J{constructor(e,t){super(e,t),this.featureAdapter=h,this.events=new r.Z,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._index=(0,a.r)(9,(e=>({minX:this._storage.getXMin(e),minY:this._storage.getYMin(e),maxX:this._storage.getXMax(e),maxY:this._storage.getYMax(e)})))}get storeStatistics(){return{featureCount:0,vertexCount:0}}onTileData(e,t,i){if((0,s.Wi)(t.addOrUpdate))return t;this._featureSetsByInstance.set(t.addOrUpdate.instance,t.addOrUpdate),this._storage=i,t.addOrUpdate._storage=i;const r=t.addOrUpdate.getCursor();for(;r.next();){const t=r.getObjectId(),s=l(r.instance,r.getIndex());let n=this._objectIdToDisplayId.get(t);n||(n=i.createDisplayId(),this._objectIdToDisplayId.set(t,n),this._spatialIndexInvalid=!0),r.setDisplayId(n),i.setInstanceId(n,s),this.setComputedAttributes(i,r,n,e.scale)}return this._spatialIndexInvalid=!0,this.events.emit("changed"),t}forEach(e){this._objectIdToDisplayId.forEach((t=>{const i=this._storage.getInstanceId(t),s=this._lookupFeature(i);e(s)}))}forEachUnsafe(e){this._objectIdToDisplayId.forEach((t=>{const i=this._storage.getInstanceId(t),s=u(i),r=c(i),n=this._getFeatureSet(s);n.setIndex(r),e(n)}))}forEachInBounds(e,t){const i=this._searchIndex(e);for(const e of i){const i=this.lookupFeatureByDisplayId(e,this._storage);t((0,s.Wg)(i))}}forEachBounds(e,t,i){this._rebuildIndex();const s=[0,0,0,0];for(const r of e){if(!r.readGeometry())continue;const e=r.getDisplayId();s[0]=this._storage.getXMin(e),s[1]=this._storage.getYMin(e),s[2]=this._storage.getXMax(e),s[3]=this._storage.getYMax(e),t((0,n.JR)(i,s))}}sweepFeatures(e,t,i){this._objectIdToDisplayId.forEach(((s,r)=>{e.has(s)||(t.releaseDisplayId(s),i.unsetAttributeData(s),this._objectIdToDisplayId.delete(r))})),this.events.emit("changed")}sweepFeatureSets(e){this._featureSetsByInstance.forEach(((t,i)=>{e.has(i)||this._featureSetsByInstance.delete(i)}))}lookupObjectId(e,t){const i=this.lookupFeatureByDisplayId(e,t);return(0,s.Wi)(i)?null:i.getObjectId()}lookupDisplayId(e){return this._objectIdToDisplayId.get(e)}lookupFeatureByDisplayId(e,t){const i=t.getInstanceId(e);return this._lookupFeature(i)}lookupByDisplayIdUnsafe(e){const t=this._storage.getInstanceId(e),i=u(t),s=c(t),r=this._getFeatureSet(i);return r?(r.setIndex(s),r):null}hasInstance(e){return this._featureSetsByInstance.has(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;this._index.clear();const e=[];this._objectIdToDisplayId.forEach((t=>{const i=this._storage.getInstanceId(t);this._storage.setBounds(t,this._lookupFeature(i))&&e.push(t)})),this._index.load(e),this._spatialIndexInvalid=!1}_lookupFeature(e){const t=u(e),i=c(e),s=this._getFeatureSet(t);if(!s)return null;const r=s.getCursor();return r.setIndex(i),r}_getFeatureSet(e){return this._featureSetsByInstance.get(e)}_searchIndex(e){this._rebuildIndex();const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this._index.search(t)}}},41833:(e,t,i)=>{"use strict";i.d(t,{J:()=>c});var s=i(95830),r=i(59472),n=i(30927),a=i(23229),o=i(36544);const l=function(e,t,i){e.referencesGeometry();const s=t.readArcadeFeature();try{return e.evaluate({...i,$feature:s})}catch(e){return o.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",e),null}},u=i.e(2357).then(i.bind(i,82357));class c{constructor(e,t){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._bitsets={computed:t.getBitset(t.createBitset())}}async updateSchema(e,t){const i=(0,a.Hg)(this._schema,t);if(this._schema=t,!t||(0,r.Wi)(i)||!(0,a.uD)(i,"attributes"))return;(0,s.Z)("esri-2d-update-debug")&&console.debug("Applying Update - Store:",i),this._bitsets.computed.clear(),e.targets[t.name]=!0;const n=t.attributes,o=[],l=[];for(const e in n){const t=n[e];switch(t.type){case"field":break;case"expression":o.push(this._createArcadeComputedField(t));break;case"label-expression":o.push(this._createLabelArcadeComputedField(t));break;case"statistic":l.push(t)}}this._computedFields=await Promise.all(o),this._canCacheExpressionValue=!this._computedFields.some((e=>"expression"===e.type&&e.expression.referencesScale())),this._statisticFields=l}setComputedAttributes(e,t,i,s){const r=this._bitsets.computed;if(!this._canCacheExpressionValue||!r.has(i)){r.set(i);for(const r of this._computedFields){const n=this._evaluateField(t,r,s);switch(r.resultType){case"numeric":e.setComputedNumericAtIndex(i,r.fieldIndex,n);break;case"string":e.setComputedStringAtIndex(i,r.fieldIndex,n)}}}}async _createArcadeComputedField(e){const t=this._sourceInfo.spatialReference,i=this._sourceInfo.fieldsIndex;return{...e,expression:await(0,n.Yi)(e.valueExpression,t,i)}}async _createLabelArcadeComputedField(e){const t=this._sourceInfo.spatialReference,i=this._sourceInfo.fields,{createLabelFunction:s}=await u,r=await s(e.label,i,t);return{...e,builder:r}}_evaluateField(e,t,i){switch(t.type){case"label-expression":{const i=e.readArcadeFeature();return t.builder.evaluate(i)||""}case"expression":{const{expression:s}=t;return l(s,e,{$view:{scale:i}})}}}}}}]);
//# sourceMappingURL=7042.js.map