{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/accessorSupport/originUtils.js","webpack://imaps/./node_modules/@arcgis/core/webdoc/support/saveUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/SceneService.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js","webpack://imaps/./node_modules/@arcgis/core/portal/support/resourceUtils.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/lengthUtils.js"],"names":["r","writtenProperties","forEach","t","target","newOrigin","oldOrigin","updateOrigin","propName","async","s","a","u","resources","h","portalItem","Set","paths","length","i","toKeep","map","resource","path","f","m","delete","push","toUpdate","has","o","content","finish","error","p","n","add","toAdd","e","resourceFromPath","removeResource","catch","l","d","filter","errors","addResource","ok","update","_","R","super","arguments","this","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","_debouncedSaveOperations","_save","_saveAs","_readSpatialReference","store","indexCRS","geographicCRS","parseInt","substring","lastIndexOf","extent","Array","isArray","some","N","xmin","ymin","xmax","ymax","toString","split","url","name","_set","_get","_updateExtentFromRootPage","_fetchRootPage","_updateExtentFromRootNode","_fetchRootNode","Promise","reject","Math","floor","rootIndex","nodesPerPage","parsedUrl","responseType","signal","data","nodes","obb","center","halfSize","hasZ","sqrt","zmin","zmax","mbs","rootNode","query","test","_fetchFirstLayerId","_fetchServiceLayer","layers","id","ssl","replace","read","origin","validateLayer","load","beforeSave","typeKeywords","getTypeKeywords","indexOf","O","clone","portal","_ensureLoadBeforeSave","type","E","messages","blockedRelativeUrls","pendingOperations","write","all","_validateAgainstJSONSchema","_updateTypeKeywords","_signIn","user","addItem","item","folder","resourceReferences","itemUrl","message","details","validationOptions","ignoreUnsupported","enabled","P","validate","portalItemLayerType","join","failPolicy","concat","combined","json","origins","service","prototype","readOnly","source","String","isRequired","ignoreOrigin","lodSelectionMetricType","factor","baseColorFactor","baseColorTexture","metallicRoughnessTexture","metallicFactor","roughnessFactor","alphaMode","alphaCutoff","doubleSided","cullFace","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","pbrMetallicRoughness","opaque","mask","blend","Boolean","none","back","front","reader","index","jpg","png","dds","basis","atlas","y","Float32","UInt64","UInt32","UInt16","UInt8","c","draco","offset","triangle","RegExp","match","slice","serverType","sublayer","toUpperCase","toLowerCase","v","x","S","authority","start","num","sortOrder","sortField","_request","total","nextStart","created","size","Date","hasPath","userItemUrl","FormData","append","access","method","body","deleteAll","Blob","w","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers"],"mappings":"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","file":"chunks/9266.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as i}from\"../multiOriginJSONSupportUtils.js\";function r(r){r&&r.writtenProperties&&r.writtenProperties.forEach((r=>{const t=r.target;r.newOrigin&&r.oldOrigin!==r.newOrigin&&i(t)&&t.updateOrigin(r.propName,r.newOrigin)}))}export{r as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../core/Error.js\";import{generateUUID as e}from\"../../core/uuid.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{result as s}from\"../../core/asyncUtils.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function a(s,a,u){if(!a||!a.resources)return;const h=a.portalItem===s.portalItem?new Set(s.paths):new Set;s.paths.length=0,s.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((r=>{h.delete(r),s.paths.push(r)}));for(const r of a.resources.toUpdate)if(h.delete(r.resource.path),i.has(r.resource.path)||f.has(r.resource.path)){const{resource:o,content:t,finish:a,error:p}=r,h=c(o,e());s.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u))}else s.paths.push(r.resource.path),m.push(p(r,u)),f.add(r.resource.path);for(const r of a.resources.toAdd)m.push(n(r,u)),s.paths.push(r.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})))})),0===m.length)return;const l=await o(m);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new r(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(r,e){const o=await s(r.resource.portalItem.addResource(r.resource,r.content,e));if(!0!==o.ok)throw r.error&&r.error(o.error),o.error;r.finish&&r.finish(r.resource)}async function p(r,e){const o=await s(r.resource.update(r.content,e));if(!0!==o.ok)throw r.error(o.error),o.error;r.finish(r.resource)}export{a as saveResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t}from\"../../core/maybe.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"../../core/Error.js\";import{urlToObject as l,join as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{debounce as d}from\"../../core/promiseUtils.js\";import c from\"../../geometry/SpatialReference.js\";import u from\"../../geometry/Extent.js\";import m from\"../../request.js\";import h from\"../../portal/Portal.js\";import y from\"../../portal/PortalItem.js\";import{updateOrigins as f}from\"../../core/accessorSupport/originUtils.js\";import{titleFromUrlAndName as v,parse as g,cleanTitle as w,sanitizeUrlWithLayerId as S,writeUrlWithLayerId as x}from\"../support/arcgisLayerUrl.js\";import b from\"../../geometry/HeightModelInfo.js\";import{saveResources as I}from\"../../webdoc/support/saveUtils.js\";import{url as j}from\"../support/commonProperties.js\";const _=r.getLogger(\"esri.layers.mixins.SceneService\"),R=r=>{let R=class extends r{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this._debouncedSaveOperations=d((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return c.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new c(o):null}}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e)return u.fromJSON(e,r);const o=t.store,i=this._readSpatialReference(t);return null==i||null==o||null==o.extent||!Array.isArray(o.extent)||o.extent.some((e=>e<N))?null:new u({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\",i={major:Number.NaN,minor:Number.NaN,versionString:o},s=o.split(\".\");return s.length>=2&&(i.major=parseInt(s[0],10),i.minor=parseInt(s[1],10)),i}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,r){const o=this.portalItem&&this.portalItem.title;if(\"item-title\"===this.sublayerTitleMode)return v(this.url,r.name);let i=r.name;if(!i&&this.url){const e=g(this.url);t(e)&&(i=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&o&&(i=o+\" - \"+i),w(i)}set url(e){const t=S(this,e,_);this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){x(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\");if(!e)return null;const t=l(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _verifyRootNodeAndUpdateExtent(e,t){if(e)try{return void this._updateExtentFromRootPage(e,await this._fetchRootPage(e,t))}catch(r){}this._updateExtentFromRootNode(await this._fetchRootNode(t))}async _fetchRootPage(e,t){if(!e)return Promise.reject();const r=Math.floor(e.rootIndex/e.nodesPerPage),o=`${this.parsedUrl.path}/nodepages/${r}`;return(await m(o,{responseType:\"json\",signal:t})).data}_updateExtentFromRootPage(e,t){if(null==t||null==t.nodes)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");const r=t.nodes[e.rootIndex%e.nodesPerPage];if(null==r||null==r.obb||null==r.obb.center||null==r.obb.halfSize)throw new n(\"sceneservice:invalid-node-page\",\"Inavlid node page.\");if(r.obb.center[0]<N||null==this.fullExtent||this.fullExtent.hasZ)return;const o=r.obb.halfSize,i=r.obb.center[2],s=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);this.fullExtent.zmin=i-s,this.fullExtent.zmax=i+s}_updateExtentFromRootNode(e){if(null==e||null==this.fullExtent||this.fullExtent.hasZ)return;if(!Array.isArray(e.mbs)||4!==e.mbs.length||e.mbs[0]<N)return;const t=e.mbs[2],r=e.mbs[3];this.fullExtent.zmin=t-r,this.fullExtent.zmax=t+r}async _fetchRootNode(e){if(!this.rootNode)return;const t=p(this.parsedUrl.path,this.rootNode);try{return(await m(t,{query:{f:\"json\"},responseType:\"json\",signal:e})).data}catch(r){throw new n(\"sceneservice:root-node-missing\",\"Root node missing.\",{error:r,url:t})}}async _fetchService(e){if(null==this.url)throw new n(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const t=await m(this.url,{query:{f:\"json\"},responseType:\"json\",signal:e});if(t.data&&Array.isArray(t.data.layers)&&t.data.layers.length>0)return t.data.layers[0].id}async _fetchServiceLayer(e){const t=await m(this.parsedUrl.path,{query:{f:\"json\"},responseType:\"json\",signal:e});t.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\"));const r=t.data;this.read(r,{origin:\"service\",url:this.parsedUrl}),this.validateLayer(r)}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}async _saveAs(e,t){const r={...O,...t};let o=y.from(e);o||(_.error(\"_saveAs(): requires a portal item parameter\"),await Promise.reject(new n(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\"))),o.id&&(o=o.clone(),o.id=null);const i=o.portal||h.getDefault();await this._ensureLoadBeforeSave(),o.type=E,o.portal=i;const s={origin:\"portal-item\",url:null,messages:[],portal:i,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},a={layers:[this.write(null,s)]};return await Promise.all(s.resources.pendingOperations),await this._validateAgainstJSONSchema(a,s,r),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,r,1),await i._signIn(),await i.user.addItem({item:o,folder:r&&r.folder,data:a}),await I(this.resourceReferences,s,null),this.portalItem=o,f(s),s.portalItem=o,o}async _save(e){const t={...O,...e};this.portalItem||(_.error(\"_save(): requires the .portalItem property to be set\"),await Promise.reject(new n(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\"))),this.portalItem.type!==E&&(_.error(\"_save(): Non-matching portal item type. Got \"+this.portalItem.type+\", expected \"+E),await Promise.reject(new n(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${E}\"`))),await this._ensureLoadBeforeSave();const r={origin:\"portal-item\",url:this.portalItem.itemUrl&&l(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||h.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write(null,r)]};return await Promise.all(r.resources.pendingOperations),await this._validateAgainstJSONSchema(o,r,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:o}),await I(this.resourceReferences,r,null),f(r),this.portalItem}async _validateAgainstJSONSchema(e,t,r){let o=t.messages.filter((e=>\"error\"===e.type)).map((e=>new n(e.name,e.message,e.details)));if(r&&r.validationOptions.ignoreUnsupported&&(o=o.filter((e=>\"layer:unsupported\"!==e.name&&\"symbol:unsupported\"!==e.name&&\"symbol-layer:unsupported\"!==e.name&&\"property:unsupported\"!==e.name&&\"url:unsupported\"!==e.name&&\"scenemodification:unsupported\"!==e.name))),r.validationOptions.enabled||P){const t=(await import(\"../support/schemaValidator.js\")).validate(e,r.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(_.error(`_validateAgainstJSONSchema(): ${e}`),\"throw\"===r.validationOptions.failPolicy){const e=t.map((e=>new n(\"sceneservice:schema-validation\",e))).concat(o);throw new n(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{combined:e})}}}if(o.length>0)throw new n(\"sceneservice:save\",\"Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:o})}};return e([o({json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}})],R.prototype,\"id\",void 0),e([o({type:c})],R.prototype,\"spatialReference\",void 0),e([i(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],R.prototype,\"readSpatialReference\",null),e([o({type:u})],R.prototype,\"fullExtent\",void 0),e([i(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],R.prototype,\"readFullExtent\",null),e([o({readOnly:!0,type:b})],R.prototype,\"heightModelInfo\",void 0),e([o({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],R.prototype,\"minScale\",void 0),e([o({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],R.prototype,\"maxScale\",void 0),e([o({readOnly:!0})],R.prototype,\"version\",void 0),e([i(\"version\",[\"store.version\"])],R.prototype,\"readVersion\",null),e([o({type:String,json:{read:{source:\"copyrightText\"}}})],R.prototype,\"copyright\",void 0),e([o({type:String,json:{read:!1}})],R.prototype,\"sublayerTitleMode\",void 0),e([o({type:String})],R.prototype,\"title\",void 0),e([i(\"portal-item\",\"title\")],R.prototype,\"readTitlePortalItem\",null),e([i(\"service\",\"title\",[\"name\"])],R.prototype,\"readTitleService\",null),e([o({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],R.prototype,\"layerId\",void 0),e([o(j)],R.prototype,\"url\",null),e([a(\"url\")],R.prototype,\"writeUrl\",null),e([o()],R.prototype,\"parsedUrl\",null),e([o({readOnly:!0})],R.prototype,\"store\",void 0),e([o({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],R.prototype,\"rootNode\",void 0),R=e([s(\"esri.layers.mixins.SceneService\")],R),R},N=-1e38,P=!1,E=\"Scene Service\",O={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};export{E as SCENE_SERVICE_ITEM_TYPE,R as SceneService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as p}from\"../../core/JSONSupport.js\";let s=class extends p{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};e([t({type:Number})],s.prototype,\"nodesPerPage\",void 0),e([t({type:Number})],s.prototype,\"rootIndex\",void 0),e([t({type:String})],s.prototype,\"lodSelectionMetricType\",void 0),s=e([r(\"esri.layer.support.I3SNodePageDefinition\")],s);let i=class extends p{constructor(){super(...arguments),this.factor=1}};e([t({type:Number,json:{read:{source:\"textureSetDefinitionId\"}}})],i.prototype,\"id\",void 0),e([t({type:Number})],i.prototype,\"factor\",void 0),i=e([r(\"esri.layer.support.I3SMaterialTexture\")],i);let a=class extends p{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};e([t({type:[Number]})],a.prototype,\"baseColorFactor\",void 0),e([t({type:i})],a.prototype,\"baseColorTexture\",void 0),e([t({type:i})],a.prototype,\"metallicRoughnessTexture\",void 0),e([t({type:Number})],a.prototype,\"metallicFactor\",void 0),e([t({type:Number})],a.prototype,\"roughnessFactor\",void 0),a=e([r(\"esri.layer.support.I3SMaterialPBRMetallicRoughness\")],a);let l=class extends p{constructor(){super(...arguments),this.alphaMode=\"opaque\",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace=\"none\",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};e([o({opaque:\"opaque\",mask:\"mask\",blend:\"blend\"})],l.prototype,\"alphaMode\",void 0),e([t({type:Number})],l.prototype,\"alphaCutoff\",void 0),e([t({type:Boolean})],l.prototype,\"doubleSided\",void 0),e([o({none:\"none\",back:\"back\",front:\"front\"})],l.prototype,\"cullFace\",void 0),e([t({type:i})],l.prototype,\"normalTexture\",void 0),e([t({type:i})],l.prototype,\"occlusionTexture\",void 0),e([t({type:i})],l.prototype,\"emissiveTexture\",void 0),e([t({type:[Number]})],l.prototype,\"emissiveFactor\",void 0),e([t({type:a})],l.prototype,\"pbrMetallicRoughness\",void 0),l=e([r(\"esri.layer.support.I3SMaterialDefinition\")],l);let n=class extends p{};e([t({type:String,json:{read:{source:[\"name\",\"index\"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,\"name\",void 0),e([o({jpg:\"jpg\",png:\"png\",dds:\"dds\",\"ktx-etc2\":\"ktx-etc2\",basis:\"basis\"})],n.prototype,\"format\",void 0),n=e([r(\"esri.layer.support.I3STextureFormat\")],n);let u=class extends p{constructor(){super(...arguments),this.atlas=!1}};e([t({type:[n]})],u.prototype,\"formats\",void 0),e([t({type:Boolean})],u.prototype,\"atlas\",void 0),u=e([r(\"esri.layer.support.I3STextureSetDefinition\")],u);let y=class extends p{};e([o({Float32:\"Float32\",UInt64:\"UInt64\",UInt32:\"UInt32\",UInt16:\"UInt16\",UInt8:\"UInt8\"})],y.prototype,\"type\",void 0),e([t({type:Number})],y.prototype,\"component\",void 0),y=e([r(\"esri.layer.support.I3SGeometryAttribute\")],y);let c=class extends p{};e([o({draco:\"draco\"})],c.prototype,\"encoding\",void 0),e([t({type:[String]})],c.prototype,\"attributes\",void 0),c=e([r(\"esri.layer.support.I3SGeometryCompressedAttributes\")],c);let d=class extends p{constructor(){super(...arguments),this.offset=0}};e([t({type:Number})],d.prototype,\"offset\",void 0),e([t({type:y})],d.prototype,\"position\",void 0),e([t({type:y})],d.prototype,\"normal\",void 0),e([t({type:y})],d.prototype,\"uv0\",void 0),e([t({type:y})],d.prototype,\"color\",void 0),e([t({type:y})],d.prototype,\"uvRegion\",void 0),e([t({type:y})],d.prototype,\"featureId\",void 0),e([t({type:y})],d.prototype,\"faceRange\",void 0),e([t({type:c})],d.prototype,\"compressedAttributes\",void 0),d=e([r(\"esri.layer.support.I3SGeometryBuffer\")],d);let m=class extends p{};e([o({triangle:\"triangle\"})],m.prototype,\"topology\",void 0),e([t()],m.prototype,\"geometryBuffers\",void 0),m=e([r(\"esri.layer.support.I3SGeometryDefinition\")],m);export{y as I3SGeometryAttribute,d as I3SGeometryBuffer,c as I3SGeometryCompressedAttributes,m as I3SGeometryDefinition,l as I3SMaterialDefinition,a as I3SMaterialPBRMetallicRoughness,i as I3SMaterialTexture,s as I3SNodePageDefinition,n as I3STextureFormat,u as I3STextureSetDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{urlToObject as r,removeTrailingSlash as t,removeQueryParameters as n,join as s,Url as i,makeAbsolute as o}from\"../../core/urlUtils.js\";import{w as u}from\"../../chunks/persistableUrlUtils.js\";const l=[\"MapServer\",\"ImageServer\",\"FeatureServer\",\"SceneServer\",\"StreamServer\",\"VectorTileServer\"],a=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${l.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${l.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\");function f(e){return!!a.test(e)}function p(e){const t=r(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,u]=n,l=i.indexOf(\"/\");return{title:m(-1!==l?i.slice(l+1):i),serverType:o,sublayer:null!=u&&\"\"!==u?parseInt(u,10):null,url:{path:s}}}function m(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function d(r,t){const n=[];if(r){const t=p(r);e(t)&&t.title&&n.push(t.title)}if(t){const e=m(t);n.push(e)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(\" - \")}function v(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",n=\"//tiles\",s=\"//features\",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function w(e,r){return r&&e&&-1!==e.toLowerCase().indexOf(r.toLowerCase())}function x(e,r){return e?t(n(e,r)):e}function h(s,i,o){if(!i)return{url:i};i=n(i,o);const u=p(r(i).path);let l;return e(u)&&(null!=u.sublayer&&null==s.layerId&&(l=u.sublayer),i=u.url.path),{url:t(i),layerId:l}}function y(e,r,t,n,i){u(r,n,\"url\",i),n.url&&null!=e.layerId&&(n.url=s(n.url,t,e.layerId.toString()))}function O(e){if(!e)return!1;const r=e.toLowerCase(),t=-1!==r.indexOf(\"/services/\"),n=-1!==r.indexOf(\"/mapserver/wmsserver\"),s=-1!==r.indexOf(\"/imageserver/wmsserver\"),i=-1!==r.indexOf(\"/wmsserver\");return t&&(n||s||i)}function S(e){if(!e)return!1;const r=new i(o(e)).authority.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{m as cleanTitle,f as isArcGISUrl,v as isHostedAgolService,w as isHostedSecuredProxyService,S as isServerOrServicesAGOLUrl,O as isWmsServer,p as parse,x as sanitizeUrl,h as sanitizeUrlWithLayerId,l as serverTypes,d as titleFromUrlAndName,y as writeUrlWithLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../core/maybe.js\";import a from\"../../core/Error.js\";import{join as o,getPathExtension as s}from\"../../core/urlUtils.js\";import n from\"../../request.js\";async function c(t,r={},a){await t.load(a);const s=o(t.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:l=\"created\"}=r,i={query:{start:n,num:c,sortOrder:u,sortField:l},signal:e(a,\"signal\")},p=await t.portal._request(s,i);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:e,size:r,resource:a})=>({created:new Date(e),size:r,resource:t.resourceFromPath(a)})))}}async function u(r,s,n,c){if(!r.hasPath())throw new a(`portal-item-resource-${s}:invalid-path`,\"Resource does not have a valid path\");await r.portalItem.load(c);const u=o(r.portalItem.userItemUrl,\"add\"===s?\"addResources\":\"updateResources\"),[l,i]=p(r.path),m=await h(n),d=new FormData;return l&&\".\"!==l&&d.append(\"resourcesPrefix\",l),d.append(\"fileName\",i),d.append(\"file\",m,i),d.append(\"f\",\"json\"),t(c)&&c.access&&d.append(\"access\",c.access),await r.portalItem.portal._request(u,{method:\"post\",body:d,signal:e(c,\"signal\")}),r}async function l(t,r,s){if(!r.hasPath())throw new a(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await t.load(s);const n=o(t.userItemUrl,\"removeResources\");await t.portal._request(n,{method:\"post\",query:{resource:r.path},signal:e(s,\"signal\")}),r.portalItem=null}async function i(t,r){await t.load(r);const a=o(t.userItemUrl,\"removeResources\");return t.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:e(r,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function m(e){const[t,r]=d(e),[a,o]=p(t);return[a,o,r]}function d(e){const t=s(e);return r(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(e){if(e instanceof Blob)return e;return(await n(e.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath(o(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,i as removeAllResources,l as removeResource,m as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n"],"sourceRoot":""}