{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js","webpack://imaps/./node_modules/@arcgis/core/chunks/RealisticTree.glsl.js","webpack://imaps/./node_modules/@arcgis/core/chunks/_commonjsHelpers.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat3f64.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat4f64.js","webpack://imaps/./node_modules/@arcgis/core/chunks/quat.js","webpack://imaps/./node_modules/@arcgis/core/chunks/quatf64.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec2.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec2f64.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec4.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec4f64.js","webpack://imaps/./node_modules/@arcgis/core/core/Version.js","webpack://imaps/./node_modules/@arcgis/core/support/requestImageUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/buffer/math/common.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec32.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec22.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec33.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec43.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat32.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat42.js","webpack://imaps/./node_modules/@arcgis/core/chunks/scalar.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/buffer/utils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/DefaultErrorContext.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/loader.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js","webpack://imaps/./node_modules/@arcgis/core/chunks/vec42.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js","webpack://imaps/./node_modules/@arcgis/core/core/VectorStack.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/stack.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DecodeNormal.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateMainLighting.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLDriverTest.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultTextureUnits.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialTexture.js","webpack://imaps/./node_modules/@arcgis/core/libs/basisu/BasisU.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js","webpack://imaps/./node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js"],"names":["P","_","S","vertex","code","$","fragment","include","name","output","uniforms","add","f","varyings","linearDepth","normalType","offsetBackfaces","instancedColor","attributes","multipassTerrainEnabled","vertexTangets","hasColorTexture","textureAlphaPremultiplied","attributeColor","receiveShadows","pbrMode","viewingMode","hasNormalTexture","OITEnabled","Object","freeze","__proto__","build","j","E","O","globalThis","window","global","self","n","e","__esModule","prototype","hasOwnProperty","call","default","o","path","exports","require","r","Error","t","Float64Array","create","clone","fromValues","a","u","c","createView","s","i","l","I","b","m","IDENTITY","A","Math","sin","cos","acos","h","z","M","p","q","d","k","w","B","sqrt","F","G","R","T","W","X","Y","Z","H","J","K","N","g","Q","U","V","PI","st","at","ot","identity","setAxisAngle","getAxisAngle","multiply","rotateX","rotateY","rotateZ","calculateW","abs","slerp","random","invert","conjugate","fromMat3","fromEuler","str","copy","set","mul","scale","dot","lerp","length","len","squaredLength","sqrLen","normalize","exactEquals","equals","rotationTo","sqlerp","setAxes","x","y","D","L","C","subtract","divide","ceil","floor","min","max","round","scaleAndAdd","distance","squaredDistance","negate","inverse","cross","transformMat2","transformMat2d","transformMat3","transformMat4","rotate","angle","sub","div","dist","sqrDist","fromArray","zeros","ones","unitX","unitY","ZEROS","ONES","UNIT_X","UNIT_Y","transformQuat","unitZ","unitW","UNIT_Z","UNIT_W","this","major","minor","_context","lessThan","version","split","match","parseInt","async","data","responseType","count","error","typedBuffer","typedBufferStride","v","shiftRight","shader","get","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","symbolColor","symbolColors","vvSize","vvColor","vvInstancingEnabled","instanced","instancedDoublePrecision","useOldSceneLightInterface","usePBR","isSchematic","hasMetalnessAndRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","receiveAmbientOcclusion","useCustomDTRExponentForWater","normalsTypeDerivate","doubleSidedMode","vertexTangents","attributeTextureCoordinates","vertexColors","screenSizePerspectiveEnabled","screenSizePerspective","verticalOffsetEnabled","verticalOffset","doublePrecisionRequiresObfuscation","rctx","alphaDiscardMode","supportsTextureAtlas","cullAboveGround","generateSource","program","camera","projectionMatrix","setUniform2fv","nearFar","getViewport","width","height","setUniform1f","opacity","layerOpacity","setUniform4fv","externalColor","setUniform1i","colorMixMode","lighting","setUniforms","setUniform3fv","ambient","diffuse","textureAlphaMode","textureAlphaCutoff","viewInverseTransposeMatrix","origin","viewMatrix","setUniformMatrix4fv","slicePlane","blending","transparent","culling","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","polygonOffset","enableOffset","_occludeePipelineState","setPipeline","pipeline","cullFace","face","mode","super","arguments","supportsEdges","techniqueConfig","vertexBufferLayout","getVertexBufferLayout","params","instanceBufferLayout","getInstanceBufferLayout","castShadows","isVisible","indexOf","vvColorEnabled","normalTextureId","textureId","vvSizeEnabled","normals","treeRendering","doubleSided","doubleSidedType","shadowMappingEnabled","receiveSSAO","metallicRoughnessTextureId","emissiveTextureId","occlusionTextureId","offsetTransparentBackfaces","relativeElevation","eye","transform","inverseRotation","vec3f","vec4f","vec2f","vec4u8","mat3f","mat4f","material","updateParameters","updateTexture","technique","techniqueRep","acquireAndReleaseExisting","getTechniqueConfig","setParameterValues","hasOccludees","_updateShadowState","_updateOccludeeState","bindProgram","bindPass","bindTexture","getPipelineState","initTextureTransparent","emissiveFactor","mrrFactors","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSizeValue","vvColorValues","vvColorColors","vvSymbolAnchor","vvSymbolRotationMatrix","createBuffer","indices","transformation","invTranspTransformation","streamDataRequester","load","request","ok","value","image","binary","json","dstIndex","srcIndex","elementType","normalizeIntegerBuffer","fill","TypedArrayConstructor","makeDense","ArrayBuffer","ElementCount","ElementType","offset4","dataUint32","Uint32Array","byteLength","Uint8Array","baseColorFactor","metallicFactor","roughnessFactor","pbrMetallicRoughness","alphaMode","alphaCutoff","ESRI_externalColorMixMode","extras","magFilter","minFilter","wrapS","wrapT","context","errorContext","uri","glbBuffer","bufferCache","Map","textureCache","materialCache","nodeParentMap","nodeTransformCache","baseUri","replace","dirPart","filePart","checkVersionSupported","checkRequiredExtensionsSupported","errorUnsupportedIf","scenes","meshes","nodes","computeNodeParents","mediaType","JSON","parse","isBase64","atob","isGLBData","fromGLBData","endsWith","loadJSON","loadBinary","remainingBytes","readUint32","parseGLBData","binaryData","assert","readUint8Array","warnUnsupported","buffers","resolveUri","accessors","bufferView","type","bufferViews","getBuffer","buffer","componentType","byteStride","raw","byteOffset","entryCount","isDenselyPacked","componentCount","componentByteSize","normalized","getAccessor","Uint16Array","wrapAccessor","POSITION","toFixed","NORMAL","TANGENT","TEXCOORD_0","COLOR_0","errorUnsupported","materials","hasVertexColors","baseColorTexture","texCoord","getTexture","index","normalTexture","occlusionTexture","emissiveTexture","metallicRoughnessTexture","color","colorTexture","id","textures","sampler","samplers","source","images","loadImage","mimeType","Promise","Blob","URL","createObjectURL","Image","addEventListener","revokeObjectURL","decode","then","src","getNodeTransform","getNodeParent","matrix","translation","rotation","asset","validate","extensionsRequired","join","forEach","children","SCALAR","VEC2","VEC3","VEC4","5120","5121","5122","5123","5126","5125","FileReader","onload","result","onerror","readAsText","lods","meta","ESRI_type","scene","extensions","MSFT_lod","ids","push","map","all","warnUnsupportedIf","weights","mesh","primitives","hasPositions","warn","getMaterial","position","getPositionData","normal","texCoord0","tangent","getIndexData","primitiveType","hasNormals","getNormalData","hasTangents","getTangentData","hasTextureCoordinates","getTextureCoordinates","getVertexColors","ESRI_lod","metric","thresholds","parts","lodThreshold","model","isEsriSymbolResource","customMeta","ESRI_proxyEllipsoid","Array","isArray","has","parameters","wrap","noUnpackFlip","mipmap","some","receiveAmbientOcclustion","textureColor","textureNormal","textureOcclusion","textureEmissive","textureMetallicRoughness","details","url","resource","textureDefinitions","topology","vertexAttributes","faces","values","valueType","valuesPerElement","boundingInfo","getBBMin","getBBMax","encoding","preMultiplyAlpha","disableTextures","resolve","refId","alphaChannelUsage","channels","texture","region","fileType","cache","loadWOSR","geometries","materialDefinitions","size","exclusive","substring","lastIndexOf","transparency","externalColorMixMode","materialParamsMixin","assign","stageResources","pivotOffset","boundingBox","numberOfVertices","referenceBoundingBox","isWosr","remove","loadGLTF","esriTreeRendering","getVec","center","radius","setVec","specifiedLodIndex","Number","elementCount","itemByteSize","itemCreate","items","itemsPerBuffer","itemsPtr","tickHandle","reset","pop","Uniforms","bindCustomOrigin","ModelTransform","worldFromModel_RS","worldFromModel_TH","worldFromModel_TL","ViewProjectionTransform","worldFromView_TH","worldFromView_TL","viewFromCameraRelative_RS","projFromView","bindModelTransform","setUniformMatrix3fv","bindViewProjTransform","bindUniforms","screenLength","perDistance","tan","minWorldLength","maxWorldLength","fovY","fullViewport","pixelRatio","setUniform4f","lightingSphericalHarmonicsOrder","shadowMap","bind","bindView","bindViewCustomOrigin","constants","setUniform1fv","bindUniformsWithOpacity","vvOpacityEnabled","vvOpacityValues","vvOpacityOpacities","bindUniformsForSymbols","svgAlwaysPremultipliesAlpha","_doublePrecisionRequiresObfuscation","colorTarget","depthStencilTarget","target","wrapMode","pixelFormat","dataType","samplingMode","a_pos","geometry","offset","stride","Float32Array","setUniform3f","getBoundFramebufferObject","bindFramebuffer","setViewport","bindVAO","drawArrays","readPixels","dispose","screenSizePerspectiveAlignment","DIFFUSE","EMISSION","OCCLUSION","METALLIC_ROUGHNESS","SSAO","SHADOW_MAP","_textureIDs","Set","_textureRepository","textureRep","_textureId","_initTransparent","_texture","_acquireIfNotUndefined","_textureNormal","_textureEmissive","_textureOcclusion","_textureMetallicRoughness","release","clear","_releaseIfNotUndefined","glTexture","descriptor","textureCoordinateScaleFactor","setUniform2f","acquire","delete","locateFile","initializeBasis","charCodeAt","Int32Array","String","fromCharCode","textureData","levels","internalFormat","powerOfTwoStretchInfo","loadingPromise","loadingController","events","powerOfTwoResizeMode","estimatedTexMemRequired","estimateTexMemRequired","startPreload","HTMLVideoElement","startPreloadVideoElement","HTMLImageElement","startPreloadImageElement","preload","crossOrigin","videoWidth","videoHeight","BASIS_ENCODING","BasisFile","getNumImages","getNumLevels","getHasAlpha","getImageWidth","getImageHeight","close","ImageData","HTMLCanvasElement","getDataDimensions","components","disableAnisotropy","flipped","hasMipmap","maxAnisotropy","maxMaxAnisotropy","createDescriptor","loadFromURL","loadFromImageElement","loadFromVideoElement","loadFromImage","DDS_ENCODING","loadFromDDSData","loadFromBasis","loadFromPixelData","readyState","currentTime","framebuffer","vao","sourceTexture","setData","drawStretchedTexture","updateData","generateMipmap","loadAsync","compressedTextureETC","compressedTextureS3TC","capabilities","startTranscoding","getImageTranscodedSizeInBytes","transcodeImage","signal","complete","loadFromVideoElementAsync","removeEventListener","requiresPowerOfTwo","makePowerOfTwoTexture","gl","stretchToPowerOfTwo","requiresFrameUpdates","detachColorTexture","setPipelineState","abort","emit"],"mappings":"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","file":"chunks/2175.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{VisualVariables as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as t,DiscardOrAdjustAlpha as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{VerticalOffset as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{multipassTerrainTest as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{PhysicallyBasedRendering as m}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{InstancedDoublePrecision as v}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{TextureCoordinateAttribute as p}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{PhysicallyBasedRenderingParameters as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Offset as b}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{NormalAttribute as h}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as f}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as x}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{VertexColor as w}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as y}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{DefaultMaterialAuxiliaryPasses as C}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ComputeNormalTexture as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as j}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as M}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{Normals as T}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{HeaderComment as E}from\"../views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js\";import{MixExternalColor as O}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";function P(P){const _=new o,S=_.vertex.code,$=_.fragment.code;return _.include(E,{name:\"Default Material Shader\",output:P.output}),_.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),_.include(f),_.varyings.add(\"vpos\",\"vec3\"),_.include(l,P),_.include(v,P),_.include(n,P),0!==P.output&&7!==P.output||(_.include(h,P),_.include(r,{linearDepth:!1}),0===P.normalType&&P.offsetBackfaces&&_.include(b),_.include(L,P),_.include(y,P),P.instancedColor&&_.attributes.add(\"instanceColor\",\"vec4\"),_.varyings.add(\"localvpos\",\"vec3\"),_.include(p,P),_.include(g,P),_.include(x,P),_.include(w,P),_.vertex.uniforms.add(\"externalColor\",\"vec4\"),_.varyings.add(\"vcolorExt\",\"vec4\"),P.multipassTerrainEnabled&&_.varyings.add(\"depth\",\"float\"),S.add(e`\n      void main(void) {\n        forwardNormalizedVertexColor();\n        vcolorExt = externalColor;\n        ${P.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n        vcolorExt *= vvColor();\n        vcolorExt *= getSymbolColor();\n        forwardColorMixMode();\n\n        if (vcolorExt.a < ${e.float(t)}) {\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        }\n        else {\n          vpos = calculateVPos();\n          localvpos = vpos - view[3].xyz;\n          vpos = subtractOrigin(vpos);\n          ${0===P.normalType?e`\n          vNormalWorld = dpNormal(vvLocalNormal(normalModel()));`:\"\"}\n          vpos = addVerticalOffset(vpos, localOrigin);\n          ${P.vertexTangets?\"vTangent = dpTransformVertexTangent(tangent);\":\"\"}\n          gl_Position = transformPosition(proj, view, vpos);\n          ${0===P.normalType&&P.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n        }\n\n        ${P.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n        forwardLinearDepth();\n        forwardTextureCoordinates();\n      }\n    `)),7===P.output&&(_.include(a,P),_.include(s,P),P.multipassTerrainEnabled&&(_.fragment.include(i),_.include(d,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.fragment.include(O),$.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        ${P.attributeColor?e`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===P.output&&(_.include(a,P),_.include(M,P),_.include(j,P),_.include(s,P),P.receiveShadows&&_.include(c,P),P.multipassTerrainEnabled&&(_.fragment.include(i),_.include(d,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.include(u,P),_.include(m,P),_.fragment.include(O),_.include(T,P),$.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        shadingParams.viewDirection = normalize(vpos - camPos);\n        ${3===P.normalType?e`\n        vec3 normal = screenDerivativeNormal(localvpos);`:e`\n        shadingParams.normalView = vNormalWorld;\n        vec3 normal = shadingNormal(shadingParams);`}\n        ${1===P.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = _oldHeuristicLighting(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${P.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===P.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${P.attributeColor?e`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${P.hasNormalTexture?e`\n              mat3 tangentSpace = ${P.vertexTangets?\"computeTangentSpace(normal);\":\"computeTangentSpace(normal, vpos, vuv0);\"}\n              vec3 shadedNormal = computeTextureNormal(tangentSpace, vuv0);`:\"vec3 shadedNormal = normal;\"}\n        ${1===P.pbrMode||2===P.pbrMode?1===P.viewingMode?e`vec3 normalGround = normalize(vpos + localOrigin);`:e`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:e``}\n        ${1===P.pbrMode||2===P.pbrMode?e`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${P.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),_.include(C,P),_}var _=Object.freeze({__proto__:null,build:P});export{_ as D,P as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{VisualVariables as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as t,DiscardOrAdjustAlpha as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{VerticalOffset as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{multipassTerrainTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ReadShadowMap as c}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ForwardLinearDepth as g}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{PhysicallyBasedRendering as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{InstancedDoublePrecision as m}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{TextureCoordinateAttribute as p}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{PhysicallyBasedRenderingParameters as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{Offset as b}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{NormalAttribute as f}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as h}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as w}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{VertexColor as x}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{DefaultMaterialAuxiliaryPasses as y}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{EvaluateAmbientOcclusion as C}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as L}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{MixExternalColor as M}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";function j(j){const E=new r,O=E.vertex.code,_=E.fragment.code;return E.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),E.include(h),E.varyings.add(\"vpos\",\"vec3\"),E.include(l,j),E.include(m,j),E.include(n,j),0!==j.output&&7!==j.output||(E.include(f,j),E.include(o,{linearDepth:!1}),j.offsetBackfaces&&E.include(b),j.instancedColor&&E.attributes.add(\"instanceColor\",\"vec4\"),E.varyings.add(\"vNormalWorld\",\"vec3\"),E.varyings.add(\"localvpos\",\"vec3\"),j.multipassTerrainEnabled&&E.varyings.add(\"depth\",\"float\"),E.include(p,j),E.include(g,j),E.include(w,j),E.include(x,j),E.vertex.uniforms.add(\"externalColor\",\"vec4\"),E.varyings.add(\"vcolorExt\",\"vec4\"),O.add(e`\n        void main(void) {\n          forwardNormalizedVertexColor();\n          vcolorExt = externalColor;\n          ${j.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n          vcolorExt *= vvColor();\n          vcolorExt *= getSymbolColor();\n          forwardColorMixMode();\n\n          if (vcolorExt.a < ${e.float(t)}) {\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          }\n          else {\n            vpos = calculateVPos();\n            localvpos = vpos - view[3].xyz;\n            vpos = subtractOrigin(vpos);\n            vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\n            vpos = addVerticalOffset(vpos, localOrigin);\n            gl_Position = transformPosition(proj, view, vpos);\n            ${j.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n          }\n          ${j.multipassTerrainEnabled?e`depth = (view * vec4(vpos, 1.0)).z;`:\"\"}\n          forwardLinearDepth();\n          forwardTextureCoordinates();\n        }\n      `)),7===j.output&&(E.include(a,j),E.include(d,j),j.multipassTerrainEnabled&&(E.fragment.include(i),E.include(s,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.fragment.include(M),_.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?e`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        ${j.attributeColor?e`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===j.output&&(E.include(a,j),E.include(L,j),E.include(C,j),E.include(d,j),j.receiveShadows&&E.include(c,j),j.multipassTerrainEnabled&&(E.fragment.include(i),E.include(s,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.include(u,j),E.include(v,j),E.fragment.include(M),_.add(e`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?e`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?e`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:e`vec4 texColor = vec4(1.0);`}\n        vec3 viewDirection = normalize(vpos - camPos);\n        ${1===j.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = _oldHeuristicLighting(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${j.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===j.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${j.attributeColor?e`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:e`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${e`\n        vec3 shadedNormal = normalize(vNormalWorld);\n        albedo_ *= 1.2;\n        vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n        float alignmentLightView = clamp(dot(-viewForward, lightingMainDirection), 0.0, 1.0);\n        float transmittance = 1.0 - clamp(dot(-viewForward, shadedNormal), 0.0, 1.0);\n        float treeRadialFalloff = vColor.r;\n        float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);\n        additionalLight += backLightFactor * lightingMainIntensity;`}\n        ${1===j.pbrMode||2===j.pbrMode?1===j.viewingMode?e`vec3 normalGround = normalize(vpos + localOrigin);`:e`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:e``}\n        ${1===j.pbrMode||2===j.pbrMode?e`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${j.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),E.include(y,j),E}var E=Object.freeze({__proto__:null,build:j});export{E as R,j as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,n,o){return e(o={path:n,exports:{},require:function(e,n){return r(e,null==n?o.path:n)}},o.exports),o.exports}function r(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}export{e as a,r as b,o as c,n as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,1,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function n(e,r,n,t,a,o,u,c,f){return[e,r,n,t,a,o,u,c,f]}function t(e,r){return new Float64Array(e,r,9)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{t as a,r as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function n(e,r,n,t,a,o,c,u,s,f,i,l,_,I,b,m){return[e,r,n,t,a,o,c,u,s,f,i,l,_,I,b,m]}function t(e,r){return new Float64Array(e,r,16)}const a=e();var o=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t,IDENTITY:a});export{a as I,r as a,t as b,e as c,n as f,o as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as t,f as s}from\"./vec3f64.js\";import{E as a,R as n}from\"./common.js\";import{d as o,c as r,r as c,n as e}from\"./vec3.js\";import{c as u}from\"./mat3f64.js\";import{c as i}from\"./quatf64.js\";import{c as h,s as M,a as f,b as l,d as m,l as p,e as q,f as d,n as j,g,h as v}from\"./vec4.js\";function x(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function A(t,s,a){a*=.5;const n=Math.sin(a);return t[0]=n*s[0],t[1]=n*s[1],t[2]=n*s[2],t[3]=Math.cos(a),t}function I(t,s){const n=2*Math.acos(s[3]),o=Math.sin(n/2);return o>a?(t[0]=s[0]/o,t[1]=s[1]/o,t[2]=s[2]/o):(t[0]=1,t[1]=0,t[2]=0),n}function P(t,s,a){const n=s[0],o=s[1],r=s[2],c=s[3],e=a[0],u=a[1],i=a[2],h=a[3];return t[0]=n*h+c*e+o*i-r*u,t[1]=o*h+c*u+r*e-n*i,t[2]=r*h+c*i+n*u-o*e,t[3]=c*h-n*e-o*u-r*i,t}function b(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+c*e,t[1]=o*u+r*e,t[2]=r*u-o*e,t[3]=c*u-n*e,t}function y(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u-r*e,t[1]=o*u+c*e,t[2]=r*u+n*e,t[3]=c*u-o*e,t}function E(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+o*e,t[1]=o*u-n*e,t[2]=r*u+c*e,t[3]=c*u-r*e,t}function _(t,s){const a=s[0],n=s[1],o=s[2];return t[0]=a,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-a*a-n*n-o*o)),t}function z(t,s,n,o){const r=s[0],c=s[1],e=s[2],u=s[3];let i,h,M,f,l,m=n[0],p=n[1],q=n[2],d=n[3];return h=r*m+c*p+e*q+u*d,h<0&&(h=-h,m=-m,p=-p,q=-q,d=-d),1-h>a?(i=Math.acos(h),M=Math.sin(i),f=Math.sin((1-o)*i)/M,l=Math.sin(o*i)/M):(f=1-o,l=o),t[0]=f*r+l*m,t[1]=f*c+l*p,t[2]=f*e+l*q,t[3]=f*u+l*d,t}function L(t){const s=n(),a=n(),o=n(),r=Math.sqrt(1-s),c=Math.sqrt(s);return t[0]=r*Math.sin(2*Math.PI*a),t[1]=r*Math.cos(2*Math.PI*a),t[2]=c*Math.sin(2*Math.PI*o),t[3]=c*Math.cos(2*Math.PI*o),t}function k(t,s){const a=s[0],n=s[1],o=s[2],r=s[3],c=a*a+n*n+o*o+r*r,e=c?1/c:0;return t[0]=-a*e,t[1]=-n*e,t[2]=-o*e,t[3]=r*e,t}function w(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t}function B(t,s){const a=s[0]+s[4]+s[8];let n;if(a>0)n=Math.sqrt(a+1),t[3]=.5*n,n=.5/n,t[0]=(s[5]-s[7])*n,t[1]=(s[6]-s[2])*n,t[2]=(s[1]-s[3])*n;else{let a=0;s[4]>s[0]&&(a=1),s[8]>s[3*a+a]&&(a=2);const o=(a+1)%3,r=(a+2)%3;n=Math.sqrt(s[3*a+a]-s[3*o+o]-s[3*r+r]+1),t[a]=.5*n,n=.5/n,t[3]=(s[3*o+r]-s[3*r+o])*n,t[o]=(s[3*o+a]+s[3*a+o])*n,t[r]=(s[3*r+a]+s[3*a+r])*n}return t}function C(t,s,a,n){const o=.5*Math.PI/180;s*=o,a*=o,n*=o;const r=Math.sin(s),c=Math.cos(s),e=Math.sin(a),u=Math.cos(a),i=Math.sin(n),h=Math.cos(n);return t[0]=r*u*h-c*e*i,t[1]=c*e*h+r*u*i,t[2]=c*u*i-r*e*h,t[3]=c*u*h+r*e*i,t}function D(t){return\"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}const F=h,G=M,O=f,R=P,T=l,W=m,X=p,Y=q,Z=Y,H=d,J=H,K=j,N=g,Q=v;function S(t,s,a){const n=o(s,a);return n<-.999999?(r(U,V,s),c(U)<1e-6&&r(U,$,s),e(U,U),A(t,U,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(r(U,s,a),t[0]=U[0],t[1]=U[1],t[2]=U[2],t[3]=1+n,K(t,t))}const U=t(),V=s(1,0,0),$=s(0,1,0);function tt(t,s,a,n,o,r){return z(st,s,o,r),z(at,a,n,r),z(t,st,at,2*r*(1-r)),t}const st=i(),at=i();function nt(t,s,a,n){const o=ot;return o[0]=a[0],o[3]=a[1],o[6]=a[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-s[0],o[5]=-s[1],o[8]=-s[2],K(t,B(t,o))}const ot=u();var rt=Object.freeze({__proto__:null,identity:x,setAxisAngle:A,getAxisAngle:I,multiply:P,rotateX:b,rotateY:y,rotateZ:E,calculateW:_,slerp:z,random:L,invert:k,conjugate:w,fromMat3:B,fromEuler:C,str:D,copy:F,set:G,add:O,mul:R,scale:T,dot:W,lerp:X,length:Y,len:Z,squaredLength:H,sqrLen:J,normalize:K,exactEquals:N,equals:Q,rotationTo:S,sqlerp:tt,setAxes:nt});export{X as A,Z as B,J as C,K as D,Q as E,tt as F,nt as G,F as a,b,w as c,y as d,E as e,W as f,I as g,H as h,k as i,N as j,C as k,Y as l,P as m,x as n,_ as o,z as p,rt as q,S as r,A as s,L as t,B as u,D as v,G as w,O as x,R as y,T as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(){return[0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}const a=e();var o=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t,IDENTITY:a});export{a as I,t as a,r as b,e as c,n as f,o as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{E as t,R as n}from\"./common.js\";function a(t,n){return t[0]=n[0],t[1]=n[1],t}function r(t,n,a){return t[0]=n,t[1]=a,t}function s(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t}function o(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t}function u(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t}function c(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t}function e(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function i(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function f(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t}function M(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t}function h(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function l(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t}function m(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t}function d(t,n){const a=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(a*a+r*r)}function q(t,n){const a=n[0]-t[0],r=n[1]-t[1];return a*a+r*r}function b(t){const n=t[0],a=t[1];return Math.sqrt(n*n+a*a)}function x(t){const n=t[0],a=t[1];return n*n+a*a}function p(t,n){return t[0]=-n[0],t[1]=-n[1],t}function v(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function g(t,n){const a=n[0],r=n[1];let s=a*a+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=n[0]*s,t[1]=n[1]*s),t}function _(t,n){return t[0]*n[0]+t[1]*n[1]}function j(t,n,a){const r=n[0]*a[1]-n[1]*a[0];return t[0]=t[1]=0,t[2]=r,t}function y(t,n,a,r){const s=n[0],o=n[1];return t[0]=s+r*(a[0]-s),t[1]=o+r*(a[1]-o),t}function z(t,a){a=a||1;const r=2*n()*Math.PI;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t}function A(t,n,a){const r=n[0],s=n[1];return t[0]=a[0]*r+a[2]*s,t[1]=a[1]*r+a[3]*s,t}function D(t,n,a){const r=n[0],s=n[1];return t[0]=a[0]*r+a[2]*s+a[4],t[1]=a[1]*r+a[3]*s+a[5],t}function E(t,n,a){const r=n[0],s=n[1];return t[0]=a[0]*r+a[3]*s+a[6],t[1]=a[1]*r+a[4]*s+a[7],t}function I(t,n,a){const r=n[0],s=n[1];return t[0]=a[0]*r+a[4]*s+a[12],t[1]=a[1]*r+a[5]*s+a[13],t}function L(t,n,a,r){const s=n[0]-a[0],o=n[1]-a[1],u=Math.sin(r),c=Math.cos(r);return t[0]=s*c-o*u+a[0],t[1]=s*u+o*c+a[1],t}function O(t,n){const a=t[0],r=t[1],s=n[0],o=n[1];let u=a*a+r*r;u>0&&(u=1/Math.sqrt(u));let c=s*s+o*o;c>0&&(c=1/Math.sqrt(c));const e=(a*s+r*o)*u*c;return e>1?0:e<-1?Math.PI:Math.acos(e)}function P(t){return\"vec2(\"+t[0]+\", \"+t[1]+\")\"}function k(t,n){return t[0]===n[0]&&t[1]===n[1]}function w(n,a){const r=n[0],s=n[1],o=a[0],u=a[1];return Math.abs(r-o)<=t*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-u)<=t*Math.max(1,Math.abs(s),Math.abs(u))}const B=b,C=o,F=u,G=c,H=d,J=q,K=x;var N=Object.freeze({__proto__:null,copy:a,set:r,add:s,subtract:o,multiply:u,divide:c,ceil:e,floor:i,min:f,max:M,round:h,scale:l,scaleAndAdd:m,distance:d,squaredDistance:q,length:b,squaredLength:x,negate:p,inverse:v,normalize:g,dot:_,cross:j,lerp:y,random:z,transformMat2:A,transformMat2d:D,transformMat3:E,transformMat4:I,rotate:L,angle:O,str:P,exactEquals:k,equals:w,len:B,sub:C,mul:F,div:G,dist:H,sqrDist:J,sqrLen:K});export{M as A,h as B,v as C,z as D,E,I as F,O as G,P as H,w as I,B as J,F as K,G as L,H as M,J as N,K as O,l as a,C as b,a as c,d,o as e,g as f,j as g,_ as h,s as i,q as j,k,b as l,y as m,p as n,A as o,m as p,x as q,L as r,r as s,D as t,u,N as v,c as w,e as x,i as y,f as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(){return[0,0]}function r(n){return[n[0],n[1]]}function t(n,r){return[n,r]}function e(r){const t=n(),e=Math.min(2,r.length);for(let n=0;n<e;++n)t[n]=r[n];return t}function a(n,r){return new Float64Array(n,r,2)}function u(){return n()}function o(){return t(1,1)}function s(){return t(1,0)}function c(){return t(0,1)}const f=u(),i=o(),l=s(),_=c();var O=Object.freeze({__proto__:null,create:n,clone:r,fromValues:t,fromArray:e,createView:a,zeros:u,ones:o,unitX:s,unitY:c,ZEROS:f,ONES:i,UNIT_X:l,UNIT_Y:_});export{i as O,l as U,f as Z,a,r as b,n as c,e as d,c as e,t as f,_ as g,o,s as u,O as v,u as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{E as t,R as n}from\"./common.js\";function a(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(t,n,a,r,s){return t[0]=n,t[1]=a,t[2]=r,t[3]=s,t}function s(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function u(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function o(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t[3]=n[3]*a[3],t}function e(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t[3]=n[3]/a[3],t}function c(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function i(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function h(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t[3]=Math.min(n[3],a[3]),t}function M(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t[3]=Math.max(n[3],a[3]),t}function f(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function l(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function m(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t}function d(t,n){const a=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2],u=n[3]-t[3];return Math.sqrt(a*a+r*r+s*s+u*u)}function b(t,n){const a=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2],u=n[3]-t[3];return a*a+r*r+s*s+u*u}function x(t){const n=t[0],a=t[1],r=t[2],s=t[3];return Math.sqrt(n*n+a*a+r*r+s*s)}function q(t){const n=t[0],a=t[1],r=t[2],s=t[3];return n*n+a*a+r*r+s*s}function p(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function v(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function g(t,n){const a=n[0],r=n[1],s=n[2],u=n[3];let o=a*a+r*r+s*s+u*u;return o>0&&(o=1/Math.sqrt(o),t[0]=a*o,t[1]=r*o,t[2]=s*o,t[3]=u*o),t}function _(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function j(t,n,a,r){const s=n[0],u=n[1],o=n[2],e=n[3];return t[0]=s+r*(a[0]-s),t[1]=u+r*(a[1]-u),t[2]=o+r*(a[2]-o),t[3]=e+r*(a[3]-e),t}function w(t,a){let r,s,u,o,e,c;a=a||1;do{r=2*n()-1,s=2*n()-1,e=r*r+s*s}while(e>=1);do{u=2*n()-1,o=2*n()-1,c=u*u+o*o}while(c>=1);const i=Math.sqrt((1-e)/c);return t[0]=a*r,t[1]=a*s,t[2]=a*u*i,t[3]=a*o*i,t}function y(t,n,a){const r=n[0],s=n[1],u=n[2],o=n[3];return t[0]=a[0]*r+a[4]*s+a[8]*u+a[12]*o,t[1]=a[1]*r+a[5]*s+a[9]*u+a[13]*o,t[2]=a[2]*r+a[6]*s+a[10]*u+a[14]*o,t[3]=a[3]*r+a[7]*s+a[11]*u+a[15]*o,t}function z(t,n,a){const r=n[0],s=n[1],u=n[2],o=a[0],e=a[1],c=a[2],i=a[3],h=i*r+e*u-c*s,M=i*s+c*r-o*u,f=i*u+o*s-e*r,l=-o*r-e*s-c*u;return t[0]=h*i+l*-o+M*-c-f*-e,t[1]=M*i+l*-e+f*-o-h*-c,t[2]=f*i+l*-c+h*-e-M*-o,t[3]=n[3],t}function A(t){return\"vec4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function D(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function E(n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=a[0],c=a[1],i=a[2],h=a[3];return Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-h)<=t*Math.max(1,Math.abs(o),Math.abs(h))}const L=u,k=o,B=e,C=d,F=b,G=x,H=q;var I=Object.freeze({__proto__:null,copy:a,set:r,add:s,subtract:u,multiply:o,divide:e,ceil:c,floor:i,min:h,max:M,round:f,scale:l,scaleAndAdd:m,distance:d,squaredDistance:b,length:x,squaredLength:q,negate:p,inverse:v,normalize:g,dot:_,lerp:j,random:w,transformMat4:y,transformQuat:z,str:A,exactEquals:D,equals:E,sub:L,mul:k,div:B,dist:C,sqrDist:F,len:G,sqrLen:H});export{w as A,z as B,A as C,L as D,k as E,B as F,C as G,F as H,G as I,H as J,s as a,l as b,a as c,_ as d,x as e,q as f,D as g,E as h,b as i,u as j,e as k,j as l,o as m,g as n,c as o,i as p,h as q,M as r,r as s,y as t,f as u,I as v,m as w,d as x,p as y,v as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(){return[0,0,0,0]}function t(n){return[n[0],n[1],n[2],n[3]]}function r(n,t,r,e){return[n,t,r,e]}function e(t){const r=n(),e=Math.min(4,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u(n,t){return new Float64Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function s(){return r(1,0,0,0)}function c(){return r(0,1,0,0)}function i(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const _=a(),l=o(),N=s(),U=c(),I=i(),O=f();var T=Object.freeze({__proto__:null,create:n,clone:t,fromValues:r,fromArray:e,createView:u,zeros:a,ones:o,unitX:s,unitY:c,unitZ:i,unitW:f,ZEROS:_,ONES:l,UNIT_X:N,UNIT_Y:U,UNIT_Z:I,UNIT_W:O});export{l as O,N as U,_ as Z,u as a,e as b,n as c,t as d,c as e,r as f,i as g,f as h,U as i,I as j,O as k,o,s as u,T as v,a as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./Error.js\";class r{constructor(t,r,o=\"\"){this.major=t,this.minor=r,this._context=o}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}since(t,r){return!this.lessThan(t,r)}validate(r){if(this.major!==r.major){const o=this._context&&this._context+\":\",s=this._context&&this._context+\" \";throw new t(o+\"unsupported-version\",`Required major ${s}version is '${this.major}', but got '\\${version.major}.\\${version.minor}'`,{version:r})}}clone(){return new r(this.major,this.minor,this._context)}static parse(o,s=\"\"){const[e,i]=o.split(\".\"),n=/^\\s*\\d+\\s*$/;if(!e||!e.match||!e.match(n)){throw new t((s&&s+\":\")+\"invalid-version\",\"Expected major version to be a number, but got '${version}'\",{version:o})}if(!i||!i.match||!i.match(n)){throw new t((s&&s+\":\")+\"invalid-version\",\"Expected minor version to be a number, but got '${version}'\",{version:o})}const a=parseInt(e,10),h=parseInt(i,10);return new r(a,h,s)}}export{r as Version};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,r){const{data:a}=await e(t,{responseType:\"image\",...r});return a}export{t as requestImage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../../../../core/Logger.js\";const e=r.getLogger(\"esri.views.3d.support.buffer.math\");export{e as logger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../views/3d/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[4],c=f[5],i=f[6],a=f[8],p=f[9],y=f[10],B=f[12],m=f[13],h=f[14],l=t.typedBuffer,S=t.typedBufferStride,b=r.typedBuffer,v=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*S,r=e*v,f=b[r],o=b[r+1],M=b[r+2];l[t]=n*f+s*o+a*M+B,l[t+1]=u*f+c*o+p*M+m,l[t+2]=d*f+i*o+y*M+h}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=t.typedBuffer,m=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*m,r=e*l,f=h[r],o=h[r+1],S=h[r+2];B[t]=n*f+s*o+a*S,B[t+1]=u*f+c*o+p*S,B[t+2]=d*f+i*o+y*S}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r}}var n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{r as a,o as b,f as s,t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as l,defaultDepthWriteParams as c,defaultColorWriteParams as p}from\"../../../webgl/renderState.js\";import{View as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{colorMixModes as h,bindScreenSizePerspective as d}from\"../materials/internal/MaterialUtil.js\";import{Slice as m}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as g}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{VerticalOffset as v}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{blendingDefault as b,OITBlending as y,OITDepthTest as x,getOITPolygonOffset as T}from\"../lib/OrderIndependentTransparency.js\";import{bindMultipassTerrainUniforms as P}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{stencilWriteMaskOn as M,stencilToolMaskBaseParams as S,stencilBaseAllZerosParams as O}from\"../lib/StencilUtils.js\";import{ReadShadowMap as C}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{doublePrecisionRequiresObfuscation as w}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{InstancedDoublePrecision as D}from\"../core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{PhysicallyBasedRenderingParameters as j}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{D as A}from\"../../../../chunks/DefaultMaterial.glsl.js\";class E extends r{initializeProgram(e){const t=E.shader.get(),i=this.configuration,r=t.build({OITEnabled:0===i.transparencyPassType,output:i.output,viewingMode:e.viewingMode,receiveShadows:i.receiveShadows,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:i.symbolColors,vvSize:i.vvSize,vvColor:i.vvColor,vvInstancingEnabled:!0,instanced:i.instanced,instancedColor:i.instancedColor,instancedDoublePrecision:i.instancedDoublePrecision,useOldSceneLightInterface:!1,pbrMode:i.usePBR?i.isSchematic?2:1:0,hasMetalnessAndRoughnessTexture:i.hasMetalnessAndRoughnessTexture,hasEmissionTexture:i.hasEmissionTexture,hasOcclusionTexture:i.hasOcclusionTexture,hasNormalTexture:i.hasNormalTexture,hasColorTexture:i.hasColorTexture,receiveAmbientOcclusion:i.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:i.normalsTypeDerivate?3:0,doubleSidedMode:i.doubleSidedMode,vertexTangets:i.vertexTangents,attributeTextureCoordinates:i.hasMetalnessAndRoughnessTexture||i.hasEmissionTexture||i.hasOcclusionTexture||i.hasNormalTexture||i.hasColorTexture?1:0,textureAlphaPremultiplied:i.textureAlphaPremultiplied,attributeColor:i.vertexColors,screenSizePerspectiveEnabled:i.screenSizePerspective,verticalOffsetEnabled:i.verticalOffset,offsetBackfaces:i.offsetBackfaces,doublePrecisionRequiresObfuscation:w(e.rctx),alphaDiscardMode:i.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new n(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),a)}bindPass(e,t,i){u.bindProjectionMatrix(this.program,i.camera.projectionMatrix);const r=this.configuration.output;(1===this.configuration.output||i.multipassTerrainEnabled||3===r)&&this.program.setUniform2fv(\"cameraNearFar\",i.camera.nearFar),i.multipassTerrainEnabled&&(this.program.setUniform2fv(\"viewportDim\",[e.getViewport().width,e.getViewport().height]),P(this.program,e,i)),7===r&&(this.program.setUniform1f(\"opacity\",t.opacity),this.program.setUniform1f(\"layerOpacity\",t.layerOpacity),this.program.setUniform4fv(\"externalColor\",t.externalColor),this.program.setUniform1i(\"colorMixMode\",h[t.colorMixMode])),0===r?(i.lighting.setUniforms(this.program,!1),this.program.setUniform3fv(\"ambient\",t.ambient),this.program.setUniform3fv(\"diffuse\",t.diffuse),this.program.setUniform4fv(\"externalColor\",t.externalColor),this.program.setUniform1i(\"colorMixMode\",h[t.colorMixMode]),this.program.setUniform1f(\"opacity\",t.opacity),this.program.setUniform1f(\"layerOpacity\",t.layerOpacity),this.configuration.usePBR&&j.bindUniforms(this.program,t,this.configuration.isSchematic)):4===r&&f.bindOutputHighlight(e,this.program,i),g.bindUniformsForSymbols(this.program,t),v.bindUniforms(this.program,t,i),d(t.screenSizePerspective,this.program,\"screenSizePerspectiveAlignment\"),2!==t.textureAlphaMode&&3!==t.textureAlphaMode||this.program.setUniform1f(\"textureAlphaCutoff\",t.textureAlphaCutoff)}bindDraw(e){const i=this.configuration.instancedDoublePrecision?t(e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]):e.origin;u.bindViewCustomOrigin(this.program,i,e.camera.viewMatrix),(0===this.configuration.output||7===this.configuration.output||1===this.configuration.output&&this.configuration.screenSizePerspective||2===this.configuration.output&&this.configuration.screenSizePerspective||4===this.configuration.output&&this.configuration.screenSizePerspective)&&u.bindCamPosition(this.program,i,e.camera.viewInverseTransposeMatrix),2===this.configuration.output&&this.program.setUniformMatrix4fv(\"viewNormal\",e.camera.viewInverseTransposeMatrix),this.configuration.instancedDoublePrecision&&D.bindCustomOrigin(this.program,i),m.bindUniforms(this.program,this.configuration,e.slicePlane,i),0===this.configuration.output&&C.bindViewCustomOrigin(this.program,e,i)}setPipeline(e,t){const i=this.configuration,r=3===e,o=2===e;return l({blending:0!==i.output&&7!==i.output||!i.transparent?null:r?b:y(e),culling:z(i),depthTest:{func:x(e)},depthWrite:r||o?i.writeDepth&&c:null,colorWrite:p,stencilWrite:i.sceneHasOcludees?M:null,stencilTest:i.sceneHasOcludees?t?S:O:null,polygonOffset:r||o?null:T(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipeline(this.configuration.transparencyPassType,!0),this.setPipeline(this.configuration.transparencyPassType,!1)}getPipelineState(e){return e?this._occludeePipelineState:this.pipeline}}function U(e){return e.cullFace?0!==e.cullFace:!e.slicePlaneEnabled&&(!e.transparent&&!e.doubleSidedMode)}E.shader=new i(A,(()=>import(\"./DefaultMaterial.glsl.js\")));const z=e=>U(e)&&{face:1===e.cullFace?1028:1029,mode:2305};class R extends o{constructor(){super(...arguments),this.output=0,this.alphaDiscardMode=1,this.doubleSidedMode=0,this.isSchematic=!1,this.vertexColors=!1,this.offsetBackfaces=!1,this.symbolColors=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.receiveAmbientOcclusion=!1,this.screenSizePerspective=!1,this.textureAlphaPremultiplied=!1,this.hasColorTexture=!1,this.usePBR=!1,this.hasMetalnessAndRoughnessTexture=!1,this.hasEmissionTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.instanced=!1,this.instancedColor=!1,this.instancedDoublePrecision=!1,this.vertexTangents=!1,this.normalsTypeDerivate=!1,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparent=!1,this.enableOffset=!0,this.cullFace=0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!0}}e([s({count:8})],R.prototype,\"output\",void 0),e([s({count:4})],R.prototype,\"alphaDiscardMode\",void 0),e([s({count:3})],R.prototype,\"doubleSidedMode\",void 0),e([s()],R.prototype,\"isSchematic\",void 0),e([s()],R.prototype,\"vertexColors\",void 0),e([s()],R.prototype,\"offsetBackfaces\",void 0),e([s()],R.prototype,\"symbolColors\",void 0),e([s()],R.prototype,\"vvSize\",void 0),e([s()],R.prototype,\"vvColor\",void 0),e([s()],R.prototype,\"verticalOffset\",void 0),e([s()],R.prototype,\"receiveShadows\",void 0),e([s()],R.prototype,\"slicePlaneEnabled\",void 0),e([s()],R.prototype,\"sliceHighlightDisabled\",void 0),e([s()],R.prototype,\"receiveAmbientOcclusion\",void 0),e([s()],R.prototype,\"screenSizePerspective\",void 0),e([s()],R.prototype,\"textureAlphaPremultiplied\",void 0),e([s()],R.prototype,\"hasColorTexture\",void 0),e([s()],R.prototype,\"usePBR\",void 0),e([s()],R.prototype,\"hasMetalnessAndRoughnessTexture\",void 0),e([s()],R.prototype,\"hasEmissionTexture\",void 0),e([s()],R.prototype,\"hasOcclusionTexture\",void 0),e([s()],R.prototype,\"hasNormalTexture\",void 0),e([s()],R.prototype,\"instanced\",void 0),e([s()],R.prototype,\"instancedColor\",void 0),e([s()],R.prototype,\"instancedDoublePrecision\",void 0),e([s()],R.prototype,\"vertexTangents\",void 0),e([s()],R.prototype,\"normalsTypeDerivate\",void 0),e([s()],R.prototype,\"writeDepth\",void 0),e([s()],R.prototype,\"sceneHasOcludees\",void 0),e([s()],R.prototype,\"transparent\",void 0),e([s()],R.prototype,\"enableOffset\",void 0),e([s({count:3})],R.prototype,\"cullFace\",void 0),e([s({count:4})],R.prototype,\"transparencyPassType\",void 0),e([s()],R.prototype,\"multipassTerrainEnabled\",void 0),e([s()],R.prototype,\"cullAboveGround\",void 0);export{E as DefaultMaterialTechnique,R as DefaultMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{Default3D as r}from\"../lib/DefaultVertexAttributeLocations.js\";import s from\"../../../webgl/Program.js\";import{doublePrecisionRequiresObfuscation as i}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{DefaultMaterialTechnique as t}from\"./DefaultMaterialTechnique.js\";import{R as o}from\"../../../../chunks/RealisticTree.glsl.js\";class a extends t{initializeProgram(e){const t=a.shader.get(),o=this.configuration,l=t.build({OITEnabled:0===o.transparencyPassType,output:o.output,viewingMode:e.viewingMode,receiveShadows:o.receiveShadows,slicePlaneEnabled:o.slicePlaneEnabled,sliceHighlightDisabled:o.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:o.symbolColors,vvSize:o.vvSize,vvColor:o.vvColor,vvInstancingEnabled:!0,instanced:o.instanced,instancedColor:o.instancedColor,instancedDoublePrecision:o.instancedDoublePrecision,useOldSceneLightInterface:!1,pbrMode:o.usePBR?1:0,hasMetalnessAndRoughnessTexture:!1,hasEmissionTexture:!1,hasOcclusionTexture:!1,hasNormalTexture:!1,hasColorTexture:o.hasColorTexture,receiveAmbientOcclusion:o.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:0,doubleSidedMode:2,vertexTangets:!1,attributeTextureCoordinates:o.hasColorTexture?1:0,textureAlphaPremultiplied:o.textureAlphaPremultiplied,attributeColor:o.vertexColors,screenSizePerspectiveEnabled:o.screenSizePerspective,verticalOffsetEnabled:o.verticalOffset,offsetBackfaces:o.offsetBackfaces,doublePrecisionRequiresObfuscation:i(e.rctx),alphaDiscardMode:o.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:o.multipassTerrainEnabled,cullAboveGround:o.cullAboveGround});return new s(e.rctx,l.generateSource(\"vertex\"),l.generateSource(\"fragment\"),r)}}a.shader=new e(o,(()=>import(\"../core/shaderLibrary/default/RealisticTree.glsl.js\")));export{a as RealisticTreeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e,f as t}from\"../../../../chunks/vec3f64.js\";import{s as i,g as s,n as a,f as r,l as n,a as o,d as l,t as u}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/mat3f64.js\";import{getVerticalOffsetObject3D as h}from\"../lib/intersectorUtils.js\";import{newLayout as p}from\"../../support/buffer/InterleavedLayout.js\";import d from\"../lib/GLMaterialTexture.js\";import{verticalOffsetAtDistance as m,intersectTriangleGeometry as f}from\"./internal/MaterialUtil.js\";import{Material as v,materialParametersDefaults as g}from\"../lib/Material.js\";import{writeDefaultAttributes as C}from\"./internal/bufferWriterUtils.js\";import{defaultMaskAlphaCutoff as x}from\"../core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{OITPolygonOffsetLimit as b}from\"../lib/OrderIndependentTransparency.js\";import{DefaultMaterialTechniqueConfiguration as q,DefaultMaterialTechnique as S}from\"../shaders/DefaultMaterialTechnique.js\";import{RealisticTreeTechnique as T}from\"../shaders/RealisticTreeTechnique.js\";class y extends v{constructor(e){super(e,M),this.supportsEdges=!0,this.techniqueConfig=new q,this.vertexBufferLayout=y.getVertexBufferLayout(this.params),this.instanceBufferLayout=e.instanced?y.getInstanceBufferLayout(this.params):null}isVisibleInPass(e){return 4!==e&&6!==e&&7!==e||this.params.castShadows}isVisible(){const e=this.params;if(!super.isVisible()||0===e.layerOpacity)return!1;const t=e.instanced,i=e.vertexColors,s=e.symbolColors,a=!!t&&t.indexOf(\"color\")>-1,r=e.vvColorEnabled,n=\"replace\"===e.colorMixMode,o=e.opacity>0,l=e.externalColor&&e.externalColor[3]>0;return i&&(a||r||s)?!!n||o:i?n?l:o:a||r||s?!!n||o:n?l:o}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.hasNormalTexture=!!this.params.normalTextureId,this.techniqueConfig.hasColorTexture=!!this.params.textureId,this.techniqueConfig.vertexTangents=this.params.vertexTangents,this.techniqueConfig.instanced=!!this.params.instanced,this.techniqueConfig.instancedDoublePrecision=this.params.instancedDoublePrecision,this.techniqueConfig.vvSize=this.params.vvSizeEnabled,this.techniqueConfig.verticalOffset=null!==this.params.verticalOffset,this.techniqueConfig.screenSizePerspective=null!==this.params.screenSizePerspective,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.sliceHighlightDisabled=this.params.sliceHighlightDisabled,this.techniqueConfig.alphaDiscardMode=this.params.textureAlphaMode,this.techniqueConfig.normalsTypeDerivate=\"screenDerivative\"===this.params.normals,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees,this.techniqueConfig.cullFace=null!=this.params.cullFace?this.params.cullFace:0,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!t||t.cullAboveGround,0!==e&&7!==e||(this.techniqueConfig.vertexColors=this.params.vertexColors,this.techniqueConfig.symbolColors=this.params.symbolColors,this.params.treeRendering?this.techniqueConfig.doubleSidedMode=2:this.techniqueConfig.doubleSidedMode=this.params.doubleSided&&\"normal\"===this.params.doubleSidedType?1:this.params.doubleSided&&\"winding-order\"===this.params.doubleSidedType?2:0,this.techniqueConfig.instancedColor=!!this.params.instanced&&this.params.instanced.indexOf(\"color\")>-1,this.techniqueConfig.receiveShadows=this.params.receiveShadows&&this.params.shadowMappingEnabled,this.techniqueConfig.receiveAmbientOcclusion=this.params.receiveSSAO,this.techniqueConfig.vvColor=this.params.vvColorEnabled,this.techniqueConfig.textureAlphaPremultiplied=!!this.params.textureAlphaPremultiplied,this.techniqueConfig.usePBR=this.params.usePBR,this.techniqueConfig.hasMetalnessAndRoughnessTexture=!!this.params.metallicRoughnessTextureId,this.techniqueConfig.hasEmissionTexture=!!this.params.emissiveTextureId,this.techniqueConfig.hasOcclusionTexture=!!this.params.occlusionTextureId,this.techniqueConfig.offsetBackfaces=!(!this.params.transparent||!this.params.offsetTransparentBackfaces),this.techniqueConfig.isSchematic=this.params.usePBR&&this.params.isSchematic,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.enableOffset=!t||t.camera.relativeElevation<b),this.techniqueConfig}intersect(e,t,c,p,d,v,g){if(null!==this.params.verticalOffset){const e=p.camera;i(R,c[12],c[13],c[14]);let t=null;switch(p.viewingMode){case 1:t=a(A,R);break;case 2:t=s(A,I)}let h=0;if(null!==this.params.verticalOffset){const i=r(D,R,e.eye),s=n(i),a=o(i,i,1/s);let u=null;this.params.screenSizePerspective&&(u=l(t,a)),h+=m(e,s,this.params.verticalOffset,u,this.params.screenSizePerspective)}o(t,t,h),u(L,t,p.transform.inverseRotation),d=r(B,d,L),v=r(E,v,L)}f(e,t,p,d,v,h(p.verticalOffset),g)}getGLMaterial(e){if(0===e.output||7===e.output||1===e.output||2===e.output||3===e.output||4===e.output)return new P(e)}createBufferWriter(){return new w(this.vertexBufferLayout,this.instanceBufferLayout)}static getVertexBufferLayout(e){const t=e.textureId||e.normalTextureId||e.metallicRoughnessTextureId||e.emissiveTextureId||e.occlusionTextureId,i=p().vec3f(\"position\").vec3f(\"normal\");return e.vertexTangents&&i.vec4f(\"tangent\"),t&&i.vec2f(\"uv0\"),e.vertexColors&&i.vec4u8(\"color\"),e.symbolColors&&i.vec4u8(\"symbolColor\"),i}static getInstanceBufferLayout(e){let t=p();return t=e.instancedDoublePrecision?t.vec3f(\"modelOriginHi\").vec3f(\"modelOriginLo\").mat3f(\"model\").mat3f(\"modelNormal\"):t.mat4f(\"model\").mat4f(\"modelNormal\"),e.instanced&&e.instanced.indexOf(\"color\")>-1&&(t=t.vec4f(\"instanceColor\")),e.instanced&&e.instanced.indexOf(\"featureAttribute\")>-1&&(t=t.vec4f(\"instanceFeatureAttribute\")),t}}class P extends d{constructor(e){const t=e.material;super({...e,...t.params}),this.updateParameters()}updateParameters(e){const t=this.material.params;this.updateTexture(t.textureId),this.technique=t.treeRendering?this.techniqueRep.acquireAndReleaseExisting(T,this.material.getTechniqueConfig(this.output,e),this.technique):this.techniqueRep.acquireAndReleaseExisting(S,this.material.getTechniqueConfig(this.output,e),this.technique)}selectPipelines(){}_updateShadowState(e){e.shadowMappingEnabled!==this.material.params.shadowMappingEnabled&&this.material.setParameterValues({shadowMappingEnabled:e.shadowMappingEnabled})}_updateOccludeeState(e){e.hasOccludees!==this.material.params.sceneHasOcludees&&this.material.setParameterValues({sceneHasOcludees:e.hasOccludees})}ensureParameters(e){0!==this.output&&7!==this.output||(this._updateShadowState(e),this._updateOccludeeState(e)),this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.params,t),this.bindTexture(e,this.technique.program)}beginSlot(e){return e===(this.material.params.transparent?this.material.params.writeDepth?5:8:3)}getPipelineState(e,t){return this.technique.getPipelineState(t)}}const O=2.1,M={textureId:void 0,initTextureTransparent:!1,isSchematic:!1,usePBR:!1,normalTextureId:void 0,vertexTangents:!1,occlusionTextureId:void 0,emissiveTextureId:void 0,metallicRoughnessTextureId:void 0,emissiveFactor:[0,0,0],mrrFactors:[0,1,.5],ambient:[.2,.2,.2],diffuse:[.8,.8,.8],externalColor:[1,1,1,1],colorMixMode:\"multiply\",opacity:1,layerOpacity:1,vertexColors:!1,symbolColors:!1,doubleSided:!1,doubleSidedType:\"normal\",cullFace:void 0,instanced:void 0,instancedDoublePrecision:!1,normals:\"default\",receiveSSAO:!0,receiveShadows:!0,castShadows:!0,shadowMappingEnabled:!1,verticalOffset:null,screenSizePerspective:null,slicePlaneEnabled:!1,sliceHighlightDisabled:!1,offsetTransparentBackfaces:!1,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvSizeValue:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],vvSymbolAnchor:[0,0,0],vvSymbolRotationMatrix:c(),transparent:!1,writeDepth:!0,textureAlphaMode:0,textureAlphaCutoff:x,textureAlphaPremultiplied:!1,sceneHasOcludees:!1,...g};class w{constructor(e,t){this.vertexBufferLayout=e,this.instanceBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,i,s){C(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,i,s)}}const B=e(),E=e(),I=t(0,0,1),A=e(),L=e(),R=e(),D=e();export{O as COLOR_GAMMA,y as DefaultMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../../core/maybe.js\";import e from\"../../../core/Error.js\";import{isDataProtocol as o,dataToArrayBuffer as s}from\"../../../core/urlUtils.js\";import{throwIfAborted as t,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import i from\"../../../request.js\";import{result as m}from\"../../../core/asyncUtils.js\";class n{constructor(r){this.streamDataRequester=r}async loadJSON(r,e){return this.load(\"json\",r,e)}async loadBinary(r,e){return o(r)?(t(e),s(r)):this.load(\"binary\",r,e)}async loadImage(r,e){return this.load(\"image\",r,e)}async load(o,s,t){if(r(this.streamDataRequester))return(await i(s,{responseType:c[o]})).data;const n=await m(this.streamDataRequester.request(s,o,t));if(!0===n.ok)return n.value;throw a(n.error),new e(\"\",`Request for resource failed: ${n.error}`)}}const c={image:\"image\",binary:\"array-buffer\",json:\"json\"};export{n as DefaultLoadingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isInteger as e,maximumValue as t,isSigned as r}from\"../views/3d/support/buffer/types.js\";function f(e,t,r){const f=e.typedBuffer,n=e.typedBufferStride,d=t.typedBuffer,o=t.typedBufferStride,s=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*n,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let c=0;c<s;++c)f[u]=d[p],f[u+1]=d[p+1],u+=n,p+=o}function n(n,d,o){const s=n.typedBuffer,u=n.typedBufferStride,p=d.typedBuffer,c=d.typedBufferStride,l=o?o.count:d.count;let y=(o&&o.dstIndex?o.dstIndex:0)*u,i=(o&&o.srcIndex?o.srcIndex:0)*c;if(e(d.elementType)){const e=t(d.elementType);if(r(d.elementType))for(let t=0;t<l;++t)s[y]=Math.max(p[i]/e,-1),s[y+1]=Math.max(p[i+1]/e,-1),y+=u,i+=c;else for(let t=0;t<l;++t)s[y]=p[i]/e,s[y+1]=p[i+1]/e,y+=u,i+=c}else f(n,d,o);return n}var d=Object.freeze({__proto__:null,copy:f,normalizeIntegerBuffer:n});export{f as c,n,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,c=t.typedBufferStride,o=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*c;for(let s=0;s<o;++s)d[u]=n[p],d[u+1]=n[p+1],d[u+2]=n[p+2],u+=f,p+=c}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,d){const f=e.typedBuffer,n=e.typedBufferStride,r=t.typedBuffer,o=t.typedBufferStride,c=d?d.count:t.count;let u=(d&&d.dstIndex?d.dstIndex:0)*n,s=(d&&d.srcIndex?d.srcIndex:0)*o;for(let p=0;p<c;++p)f[u]=r[s],f[u+1]=r[s+1],f[u+2]=r[s+2],f[u+3]=r[s+3],u+=n,s+=o}function t(e,t,d,f,n,r){const o=e.typedBuffer,c=e.typedBufferStride,u=r?r.count:e.count;let s=(r&&r.dstIndex?r.dstIndex:0)*c;for(let p=0;p<u;++p)o[s]=t,o[s+1]=d,o[s+2]=f,o[s+3]=n,s+=c}var d=Object.freeze({__proto__:null,copy:e,fill:t});export{e as c,t as f,d as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<9;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<16;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const n=e.typedBuffer,o=e.typedBufferStride,c=t.typedBuffer,d=t.typedBufferStride,f=r?r.count:t.count;let s=(r&&r.dstIndex?r.dstIndex:0)*o,u=(r&&r.srcIndex?r.srcIndex:0)*d;for(let p=0;p<f;++p)n[s]=c[u],s+=o,u+=d}function t(e,t){const r=e.count;t||(t=new e.TypedArrayConstructor(r));for(let n=0;n<r;n++)t[n]=e.get(n);return t}var r=Object.freeze({__proto__:null,copy:e,makeDense:t});export{e as c,t as m,r as s};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{elementTypeSize as e}from\"./types.js\";export{m as mat3}from\"../../../../chunks/mat32.js\";export{m as mat4}from\"../../../../chunks/mat42.js\";export{s as scalar}from\"../../../../chunks/scalar.js\";export{v as vec2}from\"../../../../chunks/vec22.js\";export{v as vec3}from\"../../../../chunks/vec33.js\";export{v as vec4}from\"../../../../chunks/vec43.js\";function r(s,r){return new s(new ArrayBuffer(r*s.ElementCount*e(s.ElementType)))}export{r as createBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport r from\"../../../core/Logger.js\";import e from\"../../../core/Error.js\";const o=r.getLogger(\"esri.views.3d.glTF\");class t{error(r){throw new e(\"gltf-loader-error\",r)}errorUnsupported(r){throw new e(\"gltf-loader-unsupported-feature\",r)}errorUnsupportedIf(r,e){r&&this.errorUnsupported(e)}assert(r,e){r||this.error(e)}warn(r){o.warn(r)}warnUnsupported(r){this.warn(\"[Unsupported Feature] \"+r)}warnUnsupportedIf(r,e){r&&this.warnUnsupported(e)}}export{t as DefaultErrorContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.data=t,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}readUint32(){const t=this.offset4;return this.offset4+=1,this.dataUint32[t]}readUint8Array(t){const s=4*this.offset4;return this.offset4+=t/4,new Uint8Array(this.data,s,t)}remainingBytes(){return this.data.byteLength-4*this.offset4}}export{t as BinaryStreamReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";const o={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},r={pbrMetallicRoughness:o,emissiveFactor:[0,0,0],alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1},t={ESRI_externalColorMixMode:\"tint\"},a=(e={})=>{const a={...o,...e.pbrMetallicRoughness},i=l({...t,...e.extras});return{...r,...e,pbrMetallicRoughness:a,extras:i}};function l(o){switch(o.ESRI_externalColorMixMode){case\"multiply\":case\"tint\":case\"ignore\":case\"replace\":break;default:e(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode=\"tint\"}return o}const i={magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497},s=e=>({...i,...e});export{a as material,s as textureSampler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{isDataProtocol as t,dataComponents as r,dataToArrayBuffer as n,makeAbsolute as o}from\"../../../../core/urlUtils.js\";import{Version as s}from\"../../../../core/Version.js\";import{m as a,t as i,r as u,s as c,k as p}from\"../../../../chunks/mat4.js\";import{c as d,a as f}from\"../../../../chunks/mat4f64.js\";import{c as l}from\"../../../../chunks/quatf64.js\";import{g as m}from\"../../../../chunks/quat.js\";import{BufferViewUint32 as h,BufferViewUint16 as y,BufferViewUint8 as b,BufferViewVec3f as T,BufferViewVec4f as x,BufferViewVec2f as w,BufferViewVec4u8 as O,BufferViewVec4u16 as C,BufferViewVec3u8 as g,BufferViewVec3u16 as N,BufferViewVec2u32 as U,BufferViewVec2u16 as S,BufferViewVec2i16 as A,BufferViewVec2u8 as I,BufferViewVec2i8 as R}from\"../../support/buffer/BufferView.js\";import{BinaryStreamReader as L}from\"./BinaryStreamReader.js\";import{material as v,textureSampler as E}from\"./fillDefaults.js\";import{splitURI as B}from\"./pathUtils.js\";import{m as M}from\"../../../../chunks/scalar.js\";const D={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562,MIN_HEADER_LENGTH:20};class j{constructor(e,t,r,n,o){this.context=e,this.errorContext=t,this.uri=r,this.json=n,this.glbBuffer=o,this.bufferCache=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=B(this.uri).dirPart,this.checkVersionSupported(),this.checkRequiredExtensionsSupported(),t.errorUnsupportedIf(null==n.scenes,\"Scenes must be defined.\"),t.errorUnsupportedIf(null==n.meshes,\"Meshes must be defined\"),t.errorUnsupportedIf(null==n.nodes,\"Nodes must be defined.\"),this.computeNodeParents()}static async load(e,o,s,a){if(t(s)){const t=r(s);if(\"model/gltf-binary\"!==t.mediaType)try{const r=JSON.parse(t.isBase64?atob(t.data):t.data);return new j(e,o,s,r)}catch{}const a=n(s);if(j.isGLBData(a))return this.fromGLBData(e,o,s,a)}if(s.endsWith(\".gltf\")){const t=await e.loadJSON(s,a);return new j(e,o,s,t)}const i=await e.loadBinary(s,a);if(j.isGLBData(i))return this.fromGLBData(e,o,s,i);const u=await e.loadJSON(s,a);return new j(e,o,s,u)}static isGLBData(e){const t=new L(e);return t.remainingBytes()>=4&&t.readUint32()===D.MAGIC}static async fromGLBData(e,t,r,n){const o=await j.parseGLBData(t,n);return new j(e,t,r,o.json,o.binaryData)}static async parseGLBData(e,t){const r=new L(t);e.assert(r.remainingBytes()>=12,\"GLB binary data is insufficiently large.\");const n=r.readUint32(),o=r.readUint32(),s=r.readUint32();e.assert(n===D.MAGIC,\"Magic first 4 bytes do not fit to expected GLB value.\"),e.assert(t.byteLength>=s,\"GLB binary data is smaller than header specifies.\"),e.errorUnsupportedIf(2!==o,\"An unsupported GLB container version was detected. Only version 2 is supported.\");let a,i,u=0;for(;r.remainingBytes()>=8;){const t=r.readUint32(),n=r.readUint32();0===u?(e.assert(n===D.CHUNK_TYPE_JSON,\"First GLB chunk must be JSON.\"),e.assert(t>=0,\"No JSON data found.\"),a=await X(r.readUint8Array(t))):1===u?(e.errorUnsupportedIf(n!==D.CHUNK_TYPE_BIN,\"Second GLB chunk expected to be BIN.\"),i=r.readUint8Array(t)):e.warnUnsupported(\"More than 2 GLB chunks detected. Skipping.\"),u+=1}return a||e.error(\"No GLB JSON chunk detected.\"),{json:a,binaryData:i}}async getBuffer(e,t){const r=this.json.buffers[e],n=this.errorContext;if(null==r.uri)return n.assert(null!=this.glbBuffer,\"GLB buffer not present\"),this.glbBuffer;let o=this.bufferCache.get(e);if(!o){const s=await this.context.loadBinary(this.resolveUri(r.uri),t);o=new Uint8Array(s),this.bufferCache.set(e,o),n.assert(o.byteLength===r.byteLength,\"Buffer byte lengths should match.\")}return o}async getAccessor(e,t){const r=this.json.accessors[e],n=this.errorContext;n.errorUnsupportedIf(null==r.bufferView,\"Some accessor does not specify a bufferView.\"),n.errorUnsupportedIf(r.type in[\"MAT2\",\"MAT3\",\"MAT4\"],`AttributeType ${r.type} is not supported`);const o=this.json.bufferViews[r.bufferView],s=await this.getBuffer(o.buffer,t),a=F[r.type],i=k[r.componentType],u=a*i,c=o.byteStride||u;return{raw:s.buffer,byteStride:c,byteOffset:s.byteOffset+(o.byteOffset||0)+(r.byteOffset||0),entryCount:r.count,isDenselyPacked:c===u,componentCount:a,componentByteSize:i,componentType:r.componentType,min:r.min,max:r.max,normalized:!!r.normalized}}async getIndexData(e,t){if(null==e.indices)return null;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case 5121:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case 5123:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case 5125:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case 5121:return M(this.wrapAccessor(b,r));case 5123:return M(this.wrapAccessor(y,r));case 5125:return M(this.wrapAccessor(h,r))}}async getPositionData(e,t){const r=this.errorContext;r.errorUnsupportedIf(null==e.attributes.POSITION,\"No POSITION vertex data found.\");const n=await this.getAccessor(e.attributes.POSITION,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for POSITION vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"POSITION vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(T,n)}async getNormalData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.NORMAL,\"No NORMAL vertex data found.\");const n=await this.getAccessor(e.attributes.NORMAL,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for NORMAL vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"NORMAL vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(T,n)}async getTangentData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TANGENT,\"No TANGENT vertex data found.\");const n=await this.getAccessor(e.attributes.TANGENT,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for TANGENT vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(4!==n.componentCount,\"TANGENT vertex attribute must have 4 components, but found \"+n.componentCount.toFixed()),new x(n.raw,n.byteOffset,n.byteStride,n.byteOffset+n.byteStride*n.entryCount)}async getTextureCoordinates(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TEXCOORD_0,\"No TEXCOORD_0 vertex data found.\");const n=await this.getAccessor(e.attributes.TEXCOORD_0,t);return r.errorUnsupportedIf(2!==n.componentCount,\"TEXCOORD_0 vertex attribute must have 2 components, but found \"+n.componentCount.toFixed()),5126===n.componentType?this.wrapAccessor(w,n):(r.errorUnsupportedIf(!n.normalized,\"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\"),V(n))}async getVertexColors(e,t){const r=this.errorContext;r.assert(null!=e.attributes.COLOR_0,\"No COLOR_0 vertex data found.\");const n=await this.getAccessor(e.attributes.COLOR_0,t);if(r.errorUnsupportedIf(4!==n.componentCount&&3!==n.componentCount,\"COLOR_0 attribute must have 3 or 4 components, but found \"+n.componentCount.toFixed()),4===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(x,n);if(5121===n.componentType)return this.wrapAccessor(O,n);if(5123===n.componentType)return this.wrapAccessor(C,n)}else if(3===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(T,n);if(5121===n.componentType)return this.wrapAccessor(g,n);if(5123===n.componentType)return this.wrapAccessor(N,n)}r.errorUnsupported(\"Unsupported component type for COLOR_0 attribute: \"+q[n.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t){const r=this.errorContext;let n=this.materialCache.get(e.material);if(!n){const o=null!=e.material?v(this.json.materials[e.material]):v(),s=o.pbrMetallicRoughness,a=this.hasVertexColors(e);let i,u,c,p,d;s.baseColorTexture&&(r.errorUnsupportedIf(0!==(s.baseColorTexture.texCoord||0),\"Only TEXCOORD with index 0 is supported.\"),i=await this.getTexture(s.baseColorTexture.index,t)),o.normalTexture&&(0!==(o.normalTexture.texCoord||0)?r.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the normal map texture.\"):u=await this.getTexture(o.normalTexture.index,t)),o.occlusionTexture&&(0!==(o.occlusionTexture.texCoord||0)?r.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the occlusion texture.\"):c=await this.getTexture(o.occlusionTexture.index,t)),o.emissiveTexture&&(0!==(o.emissiveTexture.texCoord||0)?r.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the emissive texture.\"):p=await this.getTexture(o.emissiveTexture.index,t)),s.metallicRoughnessTexture&&(0!==(s.metallicRoughnessTexture.texCoord||0)?r.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the metallicRoughness texture.\"):d=await this.getTexture(s.metallicRoughnessTexture.index,t));const f=null!=e.material?e.material:-1;n={alphaMode:o.alphaMode,alphaCutoff:o.alphaCutoff,color:s.baseColorFactor,doubleSided:!!o.doubleSided,colorTexture:i,normalTexture:u,name:o.name,id:f,occlusionTexture:c,emissiveTexture:p,emissiveFactor:o.emissiveFactor,metallicFactor:s.metallicFactor,roughnessFactor:s.roughnessFactor,metallicRoughnessTexture:d,vertexColors:a,ESRI_externalColorMixMode:o.extras.ESRI_externalColorMixMode}}return n}async getTexture(e,t){const r=this.errorContext,n=this.json.textures[e],o=E(null!=n.sampler?this.json.samplers[n.sampler]:{});r.errorUnsupportedIf(null==n.source,\"Source is expected to be defined for a texture.\");const s=this.json.images[n.source];let a=this.textureCache.get(e);if(!a){let n;if(s.uri)n=await this.context.loadImage(this.resolveUri(s.uri),t);else{r.errorUnsupportedIf(null==s.bufferView,\"Image bufferView must be defined.\"),r.errorUnsupportedIf(null==s.mimeType,\"Image mimeType must be defined.\");const e=this.json.bufferViews[s.bufferView],o=await this.getBuffer(e.buffer,t);r.errorUnsupportedIf(null!=e.byteStride,\"byteStride not supported for image buffer\"),n=await J(new Uint8Array(o.buffer,o.byteOffset+(e.byteOffset||0),e.byteLength),s.mimeType)}a={data:n,wrapS:o.wrapS,wrapT:o.wrapT,minFilter:o.minFilter,name:s.name,id:e},this.textureCache.set(e,a)}return a}getNodeTransform(e){if(void 0===e)return _;let t=this.nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this.getNodeParent(e)),n=this.json.nodes[e];n.matrix?t=a(d(),r,n.matrix):n.translation||n.rotation||n.scale?(t=f(r),n.translation&&i(t,t,n.translation),n.rotation&&(P[3]=m(P,n.rotation),u(t,t,P[3],P)),n.scale&&c(t,t,n.scale)):t=r,this.nodeTransformCache.set(e,t)}return t}wrapAccessor(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}resolveUri(e){return o(e,this.baseUri)}getNodeParent(e){return this.nodeParentMap.get(e)}checkVersionSupported(){const e=s.parse(this.json.asset.version,\"glTF\");G.validate(e)}checkRequiredExtensionsSupported(){const e=this.json,t=this.errorContext;e.extensionsRequired&&0!==e.extensionsRequired.length&&t.errorUnsupported(\"gltf loader was not able to load unsupported feature. Required extensions: \"+e.extensionsRequired.join(\", \"))}computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this.nodeParentMap.set(e,t)}))}))}}const G=new s(2,0,\"glTF\"),_=p(d(),Math.PI/2),P=l(),F={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},k={5120:1,5121:1,5122:2,5123:2,5126:4,5125:4};function V(t){switch(t.componentType){case 5120:return new R(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5121:return new I(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5122:return new A(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5123:return new S(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5125:return new U(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5126:return new w(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);default:return void e(t.componentType)}}async function X(e){return new Promise(((t,r)=>{const n=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;t(JSON.parse(e))},o.onerror=e=>{r(e)},o.readAsText(n)}))}async function J(e,t){return new Promise(((r,n)=>{const o=new Blob([e],{type:t}),s=URL.createObjectURL(o),a=new Image;a.addEventListener(\"load\",(()=>{URL.revokeObjectURL(s),\"decode\"in a?a.decode().then((()=>r(a)),(()=>r(a))):r(a)})),a.addEventListener(\"error\",(e=>{URL.revokeObjectURL(s),n(e)})),a.src=s}))}const q={5120:\"BYTE\",5121:\"UNSIGNED_BYTE\",5122:\"SHORT\",5123:\"UNSIGNED_SHORT\",5125:\"UNSIGNED_INT\",5126:\"FLOAT\"};export{j as Resource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction r(r){let e,t;return r.replace(/^(.*\\/)?([^/]*)$/,((r,a,i)=>(e=a||\"\",t=i||\"\",\"\"))),{dirPart:e,filePart:t}}export{r as splitURI};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{a as o}from\"../../../chunks/mat4f64.js\";import{DefaultErrorContext as r}from\"./DefaultErrorContext.js\";import{makeMaterialParameters as s,makeTextureSource as a}from\"./LoaderResult.js\";import{Resource as i}from\"./internal/Resource.js\";let n=0;async function l(r,s,a={}){const l=await i.load(r,f,s,a),d=\"gltf_\"+n++,x={lods:[],materials:new Map,textures:new Map,meta:c(l)},h=!(!l.json.asset.extras||\"symbolResource\"!==l.json.asset.extras.ESRI_type);return await m(l,(async(r,s,i,n)=>{const c=void 0!==r.mode?r.mode:4,m=u(c);if(t(m))return void f.warnUnsupported(\"Unsupported primitive mode (\"+T[c]+\"). Skipping primitive.\");if(!l.hasPositions(r))return void f.warn(\"Skipping primitive without POSITION vertex attribute.\");const h=await l.getMaterial(r,a),w={transform:o(s),attributes:{position:await l.getPositionData(r,a),normal:null,texCoord0:null,color:null,tangent:null},indices:await l.getIndexData(r,a),primitiveType:m,material:p(x,h,d)};l.hasNormals(r)&&(w.attributes.normal=await l.getNormalData(r,a)),l.hasTangents(r)&&(w.attributes.tangent=await l.getTangentData(r,a)),l.hasTextureCoordinates(r)&&(w.attributes.texCoord0=await l.getTextureCoordinates(r,a)),l.hasVertexColors(r)&&(w.attributes.color=await l.getVertexColors(r,a));let S=null;e(x.meta)&&e(x.meta.ESRI_lod)&&\"screenSpaceRadius\"===x.meta.ESRI_lod.metric&&(S=x.meta.ESRI_lod.thresholds[i]),x.lods[i]=x.lods[i]||{parts:[],name:n,lodThreshold:S},x.lods[i].parts.push(w)})),{model:x,meta:{isEsriSymbolResource:h,uri:l.uri},customMeta:{}}}function u(e){switch(e){case 4:case 5:case 6:return e;default:return null}}function c(t){const o=t.json;let r=null;return o.nodes.forEach((t=>{const o=t.extras;e(o)&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(r=o)})),r}async function m(e,t){const o=e.json,r=o.scenes[o.scene||0].nodes,s=r.length>1;for(const i of r){const e=o.nodes[i],t=[a(i,0)];if(d(e)&&!s){const o=e.extensions.MSFT_lod.ids;t.push(...o.map(((e,t)=>a(e,t+1))))}await Promise.all(t)}async function a(r,s){const i=o.nodes[r],n=e.getNodeTransform(r);if(f.warnUnsupportedIf(null!=i.weights,\"Morph targets are not supported.\"),null!=i.mesh){const e=o.meshes[i.mesh];for(const o of e.primitives)await t(o,n,s,e.name)}for(const e of i.children||[])await a(e,s)}}function d(e){return e.extensions&&e.extensions.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function p(e,t,o){const r=t=>{const r=`${o}_tex_${t&&t.id}${t&&t.name?\"_\"+t.name:\"\"}`;if(t&&!e.textures.has(r)){const o=a(t.data,{wrap:{s:x(t.wrapS),t:x(t.wrapT)},mipmap:h.some((e=>e===t.minFilter)),noUnpackFlip:!0});e.textures.set(r,o)}return r},i=`${o}_mat_${t.id}_${t.name}`;if(!e.materials.has(i)){const o=s({color:[t.color[0],t.color[1],t.color[2]],opacity:t.color[3],alphaMode:t.alphaMode,alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,colorMixMode:t.ESRI_externalColorMixMode,textureColor:t.colorTexture?r(t.colorTexture):void 0,textureNormal:t.normalTexture?r(t.normalTexture):void 0,textureOcclusion:t.occlusionTexture?r(t.occlusionTexture):void 0,textureEmissive:t.emissiveTexture?r(t.emissiveTexture):void 0,textureMetallicRoughness:t.metallicRoughnessTexture?r(t.metallicRoughnessTexture):void 0,emissiveFactor:[t.emissiveFactor[0],t.emissiveFactor[1],t.emissiveFactor[2]],metallicFactor:t.metallicFactor,roughnessFactor:t.roughnessFactor});e.materials.set(i,o)}return i}function x(e){if(33071===e||33648===e||10497===e)return e;f.error(`Unexpected TextureSampler WrapMode: ${e}`)}const f=new r,h=[9987,9985],T=[\"POINTS\",\"LINES\",\"LINE_LOOP\",\"LINE_STRIP\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\"];export{l as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction e(e={}){return{color:[1,1,1],opacity:1,alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:\"multiply\",...e}}function t(e,t={}){return{data:e,parameters:{wrap:{s:10497,t:10497,...t.wrap},noUnpackFlip:!0,mipmap:!1,...t}}}export{e as makeMaterialParameters,t as makeTextureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t}from\"../../../../core/maybe.js\";import r from\"../../../../core/Logger.js\";import n from\"../../../../core/Error.js\";import{throwIfAbortError as a}from\"../../../../core/promiseUtils.js\";import s from\"../../../../request.js\";import{result as o}from\"../../../../core/asyncUtils.js\";import{d as i}from\"../../../../chunks/vec3f64.js\";import{Version as u}from\"../../../../core/Version.js\";import{empty as l,expandWithVec3 as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{DefaultMaterial as f}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{Texture as d}from\"../../webgl-engine/lib/Texture.js\";const y=r.getLogger(\"esri.views.3d.layers.graphics.objectResourceUtils\");async function x(e,t){const r=await g(e,t);return{resource:r,textures:await A(r.textureDefinitions,t)}}async function g(r,n){const i=e(n)&&n.streamDataRequester;if(i)return h(r,i,n);const u=await o(s(r,t(n)));if(!0===u.ok)return u.value.data;a(u.error),w(u.error)}async function h(e,t,r){const n=await o(t.request(e,\"json\",r));if(!0===n.ok)return n.value;a(n.error),w(n.error.details.url)}function w(e){throw new n(\"\",`Request for object resource failed: ${e}`)}function v(e){const t=e.params,r=t.topology;let n=!0;switch(t.vertexAttributes||(y.warn(\"Geometry must specify vertex attributes\"),n=!1),t.topology){case\"PerAttributeArray\":break;case\"Indexed\":case null:case void 0:{const e=t.faces;if(e){if(t.vertexAttributes)for(const r in t.vertexAttributes){const t=e[r];t&&t.values?(null!=t.valueType&&\"UInt32\"!==t.valueType&&(y.warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`),n=!1),null!=t.valuesPerElement&&1!==t.valuesPerElement&&(y.warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`),n=!1)):(y.warn(`Indexed geometry does not specify face indices for '${r}' attribute`),n=!1)}}else y.warn(\"Indexed geometries must specify faces\"),n=!1;break}default:y.warn(`Unsupported topology '${r}'`),n=!1}e.params.material||(y.warn(\"Geometry requires material\"),n=!1);const a=e.params.vertexAttributes;for(const s in a){a[s].values||(y.warn(\"Geometries with externally defined attributes are not yet supported\"),n=!1)}return n}function b(t,r){const n=[],a=[],s=[],o=[],l=t.resource,c=u.parse(l.version||\"1.0\",\"wosr\");I.validate(c);const p=l.model.name,y=l.model.geometries,x=l.materialDefinitions,g=t.textures;let h=0;const w=new Map;for(let u=0;u<y.length;u++){const t=y[u];if(!v(t))continue;const l=M(t),c=t.params.vertexAttributes,p=[];for(const e in c){const t=c[e],r=t.values;p.push([e,{data:r,size:t.valuesPerElement,exclusive:!0}])}const b=[];if(\"PerAttributeArray\"!==t.params.topology){const e=t.params.faces;for(const t in e)b.push([t,new Uint32Array(e[t].values)])}const j=g&&g[l.texture];if(j&&!w.has(l.texture)){const{image:e,params:t}=j,r=new d(e,t);o.push(r),w.set(l.texture,r)}const A=w.get(l.texture),I=A?A.id:void 0;let P=s[l.material]?s[l.material][l.texture]:null;if(!P){const t=x[l.material.substring(l.material.lastIndexOf(\"/\")+1)].params;1===t.transparency&&(t.transparency=0);const n=j&&j.alphaChannelUsage,a=t.transparency>0||\"transparency\"===n||\"maskAndTransparency\"===n,o={ambient:i(t.diffuse),diffuse:i(t.diffuse),opacity:1-(t.transparency||0),transparent:a,textureAlphaMode:j?U(j.alphaChannelUsage):void 0,textureAlphaCutoff:.33,textureId:I,initTextureTransparent:!0,doubleSided:!0,cullFace:0,colorMixMode:t.externalColorMixMode||\"tint\",textureAlphaPremultiplied:!0};e(r)&&r.materialParamsMixin&&Object.assign(o,r.materialParamsMixin),P=new f(o),s[l.material]||(s[l.material]={}),s[l.material][l.texture]=P}a.push(P);const T=new m(p,b);h+=b.position?b.position.length:0,n.push(T)}return{name:p,stageResources:{textures:o,materials:a,geometries:n},pivotOffset:l.model.pivotOffset,boundingBox:j(n),numberOfVertices:h,lodThreshold:null}}function j(t){const r=l();return t.forEach((t=>{const n=t.boundingInfo;e(n)&&(c(r,n.getBBMin()),c(r,n.getBBMax()))})),r}async function A(t,r){const n=[];for(const o in t){const a=t[o],s=a.images[0].data;if(!s){y.warn(\"Externally referenced texture data is not yet supported\");continue}const i=a.encoding+\";base64,\"+s,u=\"/textureDefinitions/\"+o,l={noUnpackFlip:!0,wrap:{s:10497,t:10497},preMultiplyAlpha:!0},c=e(r)&&r.disableTextures?Promise.resolve(null):p(i,r);n.push(c.then((e=>({refId:u,image:e,params:l,alphaChannelUsage:\"rgba\"===a.channels?a.alphaChannelUsage||\"transparency\":\"none\"}))))}const a=await Promise.all(n),s={};for(const e of a)s[e.refId]=e;return s}function U(e){switch(e){case\"mask\":return 2;case\"maskAndTransparency\":return 3;case\"none\":return 1;case\"transparency\":default:return 0}}function M(e){const t=e.params;return{id:1,material:t.material,texture:t.texture,region:t.texture}}const I=new u(1,2,\"wosr\");export{A as createTextureResources,x as load,b as processLoadResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../views/3d/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=f[9],m=f[10],h=f[11],l=f[12],S=f[13],b=f[14],v=f[15],M=t.typedBuffer,_=t.typedBufferStride,j=r.typedBuffer,g=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*_,r=e*g,f=j[r],o=j[r+1],w=j[r+2],x=j[r+3];M[t]=n*f+c*o+y*w+l*x,M[t+1]=u*f+i*o+B*w+S*x,M[t+2]=d*f+a*o+m*w+b*x,M[t+3]=s*f+p*o+h*w+v*x}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],B=t.typedBuffer,m=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*m,r=e*l,f=h[r],o=h[r+1],S=h[r+2],b=h[r+3];B[t]=n*f+s*o+a*S,B[t+1]=u*f+c*o+p*S,B[t+2]=d*f+i*o+y*S,B[t+3]=b}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2],o[e+3]=r*u[t+3]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r,o[e+3]=u[t+3]>>r}}var n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{o as a,t as b,f as s,r as t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{get as e,isSome as t,isNone as r}from\"../../../../core/maybe.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{k as o,f as i,C as a,l as u,n,e as l}from\"../../../../chunks/vec3.js\";import{adjustStaticAGOUrl as c}from\"../../../../core/devEnvironmentUtils.js\";import{c as m}from\"../../../../chunks/mat4.js\";import{a as d}from\"../../../../chunks/mat3.js\";import{c as f}from\"../../../../chunks/mat3f64.js\";import{c as p}from\"../../../../chunks/mat4f64.js\";import{empty as x,expandWithVec3 as g}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as h,BufferViewVec4f as b,BufferViewVec2f as v,BufferViewVec4u8 as R,BufferViewVec4u16 as y,BufferViewVec3u8 as M,BufferViewVec3u16 as B}from\"../../support/buffer/BufferView.js\";import{t as w,a as j,s as C}from\"../../../../chunks/vec32.js\";import{Geometry as E}from\"../../webgl-engine/lib/Geometry.js\";import{COLOR_GAMMA as T,DefaultMaterial as S}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{Texture as A}from\"../../webgl-engine/lib/Texture.js\";import{DefaultLoadingContext as F}from\"../../glTF/DefaultLoadingContext.js\";import{n as O}from\"../../../../chunks/vec22.js\";import{c as k}from\"../../../../chunks/vec33.js\";import{c as I,f as L}from\"../../../../chunks/vec43.js\";import{createBuffer as N}from\"../../support/buffer/utils.js\";import{load as P}from\"../../glTF/loader.js\";import{triangleFanToTriangles as z,triangleStripToTriangles as D,trianglesToTriangles as V}from\"../../glTF/internal/indexUtils.js\";import{load as _,processLoadResult as W}from\"./wosrLoader.js\";import{t as U,s as G}from\"../../../../chunks/vec42.js\";async function $(r,s){const o=q(c(r));if(\"wosr\"===o.fileType){const e=await(s.cache?s.cache.loadWOSR(o.url,s):_(o.url,s)),t=W(e,s);return{lods:[t],referenceBoundingBox:t.boundingBox,isEsriSymbolResource:!1,isWosr:!0,remove:e.remove}}const i=await(s.cache?s.cache.loadGLTF(o.url,s):P(new F(s.streamDataRequester),o.url,s)),a=e(i.model.meta,\"ESRI_proxyEllipsoid\");i.meta.isEsriSymbolResource&&t(a)&&-1!==i.meta.uri.indexOf(\"/RealisticTrees/\")&&J(i,a);const u=i.meta.isEsriSymbolResource?{usePBR:s.usePBR,isSchematic:!1,treeRendering:i.customMeta.esriTreeRendering,mrrFactors:[0,1,.2]}:{usePBR:s.usePBR,isSchematic:!1,mrrFactors:[0,1,.5]},n={...s.materialParamsMixin,treeRendering:i.customMeta.esriTreeRendering};if(null!=o.specifiedLodIndex){const e=K(i,u,n,o.specifiedLodIndex);let t=e[0].boundingBox;if(0!==o.specifiedLodIndex){t=K(i,u,n,0)[0].boundingBox}return{lods:e,referenceBoundingBox:t,isEsriSymbolResource:i.meta.isEsriSymbolResource,isWosr:!1,remove:i.remove}}const l=K(i,u,n);return{lods:l,referenceBoundingBox:l[0].boundingBox,isEsriSymbolResource:i.meta.isEsriSymbolResource,isWosr:!1,remove:i.remove}}function q(e){const t=e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);if(t)return{fileType:\"gltf\",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\\.(json|json\\.gz))$/)?{fileType:\"wosr\",url:e,specifiedLodIndex:null}:{fileType:\"unknown\",url:e,specifiedLodIndex:null}}function K(e,r,s,o){const i=e.model,a=f(),u=new Array,n=new Map,l=new Map;return i.lods.forEach(((e,c)=>{if(void 0!==o&&c!==o)return;const m={name:e.name,stageResources:{textures:new Array,materials:new Array,geometries:new Array},lodThreshold:t(e.lodThreshold)?e.lodThreshold:null,pivotOffset:[0,0,0],numberOfVertices:0,boundingBox:x()};u.push(m),e.parts.forEach((e=>{const o=e.material+(e.attributes.normal?\"_normal\":\"\")+(e.attributes.color?\"_color\":\"\")+(e.attributes.texCoord0?\"_texCoord0\":\"\")+(e.attributes.tangent?\"_tangent\":\"\"),u=i.materials.get(e.material),c=t(e.attributes.texCoord0),f=t(e.attributes.normal);if(!n.has(o)){if(c){if(t(u.textureColor)&&!l.has(u.textureColor)){const e=i.textures.get(u.textureColor),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureColor,new A(e.data,t))}if(t(u.textureNormal)&&!l.has(u.textureNormal)){const e=i.textures.get(u.textureNormal),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureNormal,new A(e.data,t))}if(t(u.textureOcclusion)&&!l.has(u.textureOcclusion)){const e=i.textures.get(u.textureOcclusion),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureOcclusion,new A(e.data,t))}if(t(u.textureEmissive)&&!l.has(u.textureEmissive)){const e=i.textures.get(u.textureEmissive),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureEmissive,new A(e.data,t))}if(t(u.textureMetallicRoughness)&&!l.has(u.textureMetallicRoughness)){const e=i.textures.get(u.textureMetallicRoughness),t={...e.parameters,preMultiplyAlpha:!0};l.set(u.textureMetallicRoughness,new A(e.data,t))}}const a=u.color[0]**(1/T),m=u.color[1]**(1/T),d=u.color[2]**(1/T),p=u.emissiveFactor[0]**(1/T),x=u.emissiveFactor[1]**(1/T),g=u.emissiveFactor[2]**(1/T);n.set(o,new S({...r,transparent:\"BLEND\"===u.alphaMode,textureAlphaMode:Q(u.alphaMode),textureAlphaCutoff:u.alphaCutoff,diffuse:[a,m,d],ambient:[a,m,d],opacity:u.opacity,doubleSided:u.doubleSided,doubleSidedType:\"winding-order\",cullFace:u.doubleSided?0:2,vertexColors:!!e.attributes.color,vertexTangents:!!e.attributes.tangent,normals:f?\"default\":\"screenDerivative\",castShadows:!0,receiveSSAO:!0,textureId:t(u.textureColor)&&c?l.get(u.textureColor).id:void 0,colorMixMode:u.colorMixMode,normalTextureId:t(u.textureNormal)&&c?l.get(u.textureNormal).id:void 0,textureAlphaPremultiplied:!0,occlusionTextureId:t(u.textureOcclusion)&&c?l.get(u.textureOcclusion).id:void 0,emissiveTextureId:t(u.textureEmissive)&&c?l.get(u.textureEmissive).id:void 0,metallicRoughnessTextureId:t(u.textureMetallicRoughness)&&c?l.get(u.textureMetallicRoughness).id:void 0,emissiveFactor:[p,x,g],mrrFactors:[u.metallicFactor,u.roughnessFactor,r.mrrFactors[2]],isSchematic:!1,...s}))}const p=H(e.indices||e.attributes.position.count,e.primitiveType),x=e.attributes.position.count,F=N(h,x);w(F,e.attributes.position,e.transform);const P=[[\"position\",{data:F.typedBuffer,size:F.elementCount,exclusive:!0}]],z=[[\"position\",p]];if(t(e.attributes.normal)){const t=N(h,x);d(a,e.transform),j(t,e.attributes.normal,a),P.push([\"normal\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"normal\",p])}if(t(e.attributes.tangent)){const t=N(b,x);d(a,e.transform),U(t,e.attributes.tangent,a),P.push([\"tangent\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"tangent\",p])}if(t(e.attributes.texCoord0)){const t=N(v,x);O(t,e.attributes.texCoord0),P.push([\"uv0\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"uv0\",p])}if(t(e.attributes.color)){const t=N(R,x);if(4===e.attributes.color.elementCount)e.attributes.color instanceof b?G(t,e.attributes.color,255):e.attributes.color instanceof R?I(t,e.attributes.color):e.attributes.color instanceof y&&G(t,e.attributes.color,1/256);else{L(t,255,255,255,255);const r=new M(t.buffer,0,4);e.attributes.color instanceof h?C(r,e.attributes.color,255):e.attributes.color instanceof M?k(r,e.attributes.color):e.attributes.color instanceof B&&C(r,e.attributes.color,1/256)}P.push([\"color\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),z.push([\"color\",p])}const D=new E(P,z);m.stageResources.geometries.push(D),m.stageResources.materials.push(n.get(o)),c&&(t(u.textureColor)&&m.stageResources.textures.push(l.get(u.textureColor)),t(u.textureNormal)&&m.stageResources.textures.push(l.get(u.textureNormal)),t(u.textureOcclusion)&&m.stageResources.textures.push(l.get(u.textureOcclusion)),t(u.textureEmissive)&&m.stageResources.textures.push(l.get(u.textureEmissive)),t(u.textureMetallicRoughness)&&m.stageResources.textures.push(l.get(u.textureMetallicRoughness))),m.numberOfVertices+=x;const V=D.boundingInfo;t(V)&&(g(m.boundingBox,V.getBBMin()),g(m.boundingBox,V.getBBMax()))}))})),u}function Q(e){switch(e){case\"BLEND\":return 0;case\"MASK\":return 2;case\"OPAQUE\":return 1;default:return 0}}function H(e,t){switch(t){case 4:return V(e);case 5:return D(e);case 6:return z(e)}}function J(e,t){for(let c=0;c<e.model.lods.length;++c){const d=e.model.lods[c];e.customMeta.esriTreeRendering=!0;for(const f of d.parts){const d=f.attributes.normal;if(r(d))return;const x=f.attributes.position,g=x.count,b=s(),v=s(),y=s(),M=N(R,g),B=N(h,g),w=m(p(),f.transform);for(let r=0;r<g;r++){x.getVec(r,v),d.getVec(r,b),o(v,v,f.transform),i(y,v,t.center),a(y,y,t.radius);const s=y[2],m=u(y),p=Math.min(.45+.55*m*m,1);a(y,y,t.radius),o(y,y,w),n(y,y),c+1!==e.model.lods.length&&e.model.lods.length>1&&l(y,y,b,s>-1?.2:Math.min(-4*s-3.8,1)),B.setVec(r,y),M.set(r,0,255*p),M.set(r,1,255*p),M.set(r,2,255*p),M.set(r,3,255)}f.attributes.normal=B,f.attributes.color=M}}}export{$ as fetch,K as gltfToEngineResources,q as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isUint16Array as t,isUint8Array as e}from\"../../../../core/typedArrayUtil.js\";import{generateDefaultIndexArray as r}from\"../../webgl-engine/lib/geometryDataUtils.js\";function n(n){return\"number\"==typeof n?r(n):t(n)||e(n)?new Uint32Array(n):n}function o(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;e+=1)e%2==0?(n[t++]=e,n[t++]=e+1,n[t++]=e+2):(n[t++]=e+1,n[t++]=e,n[t++]=e+2)}else{let e=0;for(let o=0;o<r;o+=1)if(o%2==0){const r=t[o],i=t[o+1],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}else{const r=t[o+1],i=t[o],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}}return n}function i(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;++e)n[t++]=0,n[t++]=e+1,n[t++]=e+2;return n}{const e=t[0];let o=t[1],i=0;for(let f=0;f<r;++f){const r=t[f+2];n[i++]=e,n[i++]=o,n[i++]=r,o=r}return n}}export{i as triangleFanToTriangles,o as triangleStripToTriangles,n as trianglesToTriangles};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{nullifyNonnullableForDispose as t}from\"./maybe.js\";import e from\"./nextTick.js\";import{b as s}from\"../chunks/vec3f64.js\";import{a as i}from\"../chunks/mat3f64.js\";import{b as r}from\"../chunks/mat4f64.js\";import{a as f}from\"../chunks/quatf64.js\";import{a as h}from\"../chunks/vec2f64.js\";import{a as m}from\"../chunks/vec4f64.js\";class a{constructor(t,s,i){this.itemByteSize=t,this.itemCreate=s,this.buffers=[],this.items=[],this.itemsPerBuffer=0,this.itemsPtr=0,this.itemsPerBuffer=Math.ceil(i/this.itemByteSize),this.tickHandle=e.before((()=>this.reset()))}destroy(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=t(this.tickHandle)),this.itemsPtr=0,this.items=t(this.items),this.buffers=t(this.buffers)}get(){0===this.itemsPtr&&e((()=>{}));const t=Math.floor(this.itemsPtr/this.itemsPerBuffer);for(;this.buffers.length<=t;){const t=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize);for(let e=0;e<this.itemsPerBuffer;++e)this.items.push(this.itemCreate(t,e*this.itemByteSize));this.buffers.push(t)}return this.items[this.itemsPtr++]}reset(){const t=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);for(;this.buffers.length>t;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;this.itemsPtr=0}static createVec2f64(t=c){return new a(16,h,t)}static createVec3f64(t=c){return new a(24,s,t)}static createVec4f64(t=c){return new a(32,m,t)}static createMat3f64(t=c){return new a(72,i,t)}static createMat4f64(t=c){return new a(128,r,t)}static createQuatf64(t=c){return new a(32,f,t)}get test(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}}}const c=4096;export{a as VectorStack};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{VectorStack as e}from\"../../../core/VectorStack.js\";const t=e.createVec2f64(),c=e.createVec3f64(),r=e.createVec4f64(),a=e.createMat3f64(),f=e.createMat4f64(),o=e.createQuatf64();export{a as sm3d,f as sm4d,o as sq4d,t as sv2d,c as sv3d,r as sv4d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`\n      void forwardLinearDepth() { linearDepth = gl_Position.w; }\n    `)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`\n      void forwardLinearDepth() {\n        linearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n      }\n    `)):a.vertex.code.add(e`\n      void forwardLinearDepth() {}\n    `)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../shaderModules/interfaces.js\";function e(e){e.vertex.code.add(o`\n    vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {\n      vec3 camToVert = posWorld - camPosWorld;\n\n      bool isBackface = dot(camToVert, normalWorld) > 0.0;\n      if (isBackface) {\n        posClip.z += 0.0000003 * posClip.w;\n      }\n      return posClip;\n    }\n  `)}export{e as Offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../../../chunks/vec3f64.js\";import{encodeDoubleArraySplit as i}from\"../../../lib/doublePrecisionUtils.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{DoublePrecision as o}from\"../util/DoublePrecision.glsl.js\";function n(e,i){i.instanced&&i.instancedDoublePrecision&&(e.attributes.add(\"modelOriginHi\",\"vec3\"),e.attributes.add(\"modelOriginLo\",\"vec3\"),e.attributes.add(\"model\",\"mat3\"),e.attributes.add(\"modelNormal\",\"mat3\")),i.instancedDoublePrecision&&(e.vertex.include(o,i),e.vertex.uniforms.add(\"viewOriginHi\",\"vec3\"),e.vertex.uniforms.add(\"viewOriginLo\",\"vec3\"));const n=[r`\n    vec3 calculateVPos() {\n      ${i.instancedDoublePrecision?\"return model * localPosition().xyz;\":\"return localPosition().xyz;\"}\n    }\n    `,r`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${i.instancedDoublePrecision?r`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `,r`\n    vec3 dpNormal(vec4 _normal) {\n      ${i.instancedDoublePrecision?\"return normalize(modelNormal * _normal.xyz);\":\"return normalize(_normal.xyz);\"}\n    }\n    `,r`\n    vec3 dpNormalView(vec4 _normal) {\n      ${i.instancedDoublePrecision?\"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\":\"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `,i.vertexTangets?r`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${i.instancedDoublePrecision?\"return vec4(modelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n\n    }\n    `:r``];e.vertex.code.add(n[0]),e.vertex.code.add(n[1]),e.vertex.code.add(n[2]),2===i.output&&e.vertex.code.add(n[3]),e.vertex.code.add(n[4])}!function(e){class r{}function o(e,r){i(r,t,a,3),e.setUniform3fv(\"viewOriginHi\",t),e.setUniform3fv(\"viewOriginLo\",a)}e.Uniforms=r,e.bindCustomOrigin=o}(n||(n={}));const t=e(),a=e();export{n as InstancedDoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){const d=e`\n    vec3 decodeNormal(vec2 f) {\n      float z = 1.0 - abs(f.x) - abs(f.y);\n      return vec3(f + sign(f) * min(z, 0.0), z);\n    }\n  `;o.fragment.code.add(d),o.vertex.code.add(d)}export{o as DecodeNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{DecodeNormal as r}from\"../util/DecodeNormal.glsl.js\";function o(o,d){0===d.normalType&&(o.attributes.add(\"normal\",\"vec3\"),o.vertex.code.add(e`\n      vec3 normalModel() {\n        return normal;\n      }\n    `)),1===d.normalType&&(o.include(r),o.attributes.add(\"normalCompressed\",\"vec2\"),o.vertex.code.add(e`\n      vec3 normalModel() {\n        return decodeNormal(normalCompressed);\n      }\n    `)),3===d.normalType&&(o.extensions.add(\"GL_OES_standard_derivatives\"),o.fragment.code.add(e`\n      vec3 screenDerivativeNormal(vec3 positionView) {\n        return normalize(cross(dFdx(positionView), dFdy(positionView)));\n      }\n    `))}export{o as NormalAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){o.attributes.add(\"position\",\"vec3\"),o.vertex.code.add(e`\n    vec3 positionModel() { return position; }\n  `)}export{o as PositionAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../../../core/shaderModules/interfaces.js\";function l(l){l.vertex.code.add(o`\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\n      float symbolAlpha = 0.0;\n\n      const float maxTint = 85.0;\n      const float maxReplace = 170.0;\n      const float scaleAlpha = 3.0;\n\n      if (symbolColor.a > maxReplace) {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\n      } else if (symbolColor.a > maxTint) {\n        colorMixMode = ${o.int(3)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\n      } else if (symbolColor.a > 0.0) {\n        colorMixMode = ${o.int(4)};\n        symbolAlpha = scaleAlpha * symbolColor.a;\n      } else {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = 0.0;\n      }\n\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\n    }\n  `)}export{l as DecodeSymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{DecodeSymbolColor as e}from\"../../../collections/Component/Material/shader/DecodeSymbolColor.glsl.js\";function r(r,l){l.symbolColor?(r.include(e),r.attributes.add(\"symbolColor\",\"vec4\"),r.varyings.add(\"colorMixMode\",\"mediump float\")):r.fragment.uniforms.add(\"colorMixMode\",\"int\"),l.symbolColor?r.vertex.code.add(o`\n    int symbolColorMixMode;\n\n    vec4 getSymbolColor() {\n      return decodeSymbolColor(symbolColor, symbolColorMixMode) * 0.003921568627451;\n    }\n\n    void forwardColorMixMode() {\n      colorMixMode = float(symbolColorMixMode) + 0.5;\n    }\n  `):r.vertex.code.add(o`\n    vec4 getSymbolColor() { return vec4(1.0); }\n    void forwardColorMixMode() {}\n    `)}export{r as SymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t,d){1===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.vertex.code.add(e`\n      void forwardTextureCoordinates() {\n        vuv0 = uv0;\n      }\n    `)),2===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.attributes.add(\"uvRegion\",\"vec4\"),t.varyings.add(\"vuvRegion\",\"vec4\"),t.vertex.code.add(e`\n      void forwardTextureCoordinates() {\n        vuv0 = uv0;\n        vuvRegion = uvRegion;\n      }\n    `)),0===d.attributeTextureCoordinates&&t.vertex.code.add(e`\n      void forwardTextureCoordinates() {}\n    `)}export{t as TextureCoordinateAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{c as o}from\"../../../../../../chunks/vec3f64.js\";import{c as r}from\"../../../../../../chunks/mat3f64.js\";import{c as e}from\"../../../../../../chunks/mat4f64.js\";import{glsl as i}from\"../../shaderModules/interfaces.js\";import{DoublePrecision as a}from\"../util/DoublePrecision.glsl.js\";import{PositionAttribute as m}from\"./PositionAttribute.glsl.js\";function t(o,r){o.include(m),o.vertex.include(a,r),o.varyings.add(\"vPositionWorldCameraRelative\",\"vec3\"),o.varyings.add(\"vPosition_view\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_ViewFromCameraRelative_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_ProjFromView\",\"mat4\"),o.vertex.code.add(i`\n    // compute position in world space orientation, but relative to the camera position\n    vec3 positionWorldCameraRelative() {\n      vec3 rotatedModelPosition = uTransform_WorldFromModel_RS * positionModel();\n\n      vec3 transform_CameraRelativeFromModel = dpAdd(\n        uTransform_WorldFromModel_TL,\n        uTransform_WorldFromModel_TH,\n        -uTransform_WorldFromView_TL,\n        -uTransform_WorldFromView_TH\n      );\n\n      return transform_CameraRelativeFromModel + rotatedModelPosition;\n    }\n\n    // position in view space, that is relative to the camera position and orientation\n    vec3 position_view() {\n      return uTransform_ViewFromCameraRelative_RS * positionWorldCameraRelative();\n    }\n\n    // compute gl_Position and forward related varyings to fragment shader\n    void forwardPosition() {\n      vPositionWorldCameraRelative = positionWorldCameraRelative();\n      vPosition_view = position_view();\n      gl_Position = uTransform_ProjFromView * vec4(vPosition_view, 1.0);\n    }\n\n    vec3 positionWorld() {\n      return uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n    }\n  `),o.fragment.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.fragment.code.add(i`\n    vec3 positionWorld() {\n      return uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n    }\n  `)}!function(i){class a{constructor(){this.worldFromModel_RS=r(),this.worldFromModel_TH=o(),this.worldFromModel_TL=o()}}i.ModelTransform=a;class m{constructor(){this.worldFromView_TH=o(),this.worldFromView_TL=o(),this.viewFromCameraRelative_RS=r(),this.projFromView=e()}}function t(o,r){o.setUniformMatrix3fv(\"uTransform_WorldFromModel_RS\",r.worldFromModel_RS),o.setUniform3fv(\"uTransform_WorldFromModel_TH\",r.worldFromModel_TH),o.setUniform3fv(\"uTransform_WorldFromModel_TL\",r.worldFromModel_TL)}function n(o,r){o.setUniform3fv(\"uTransform_WorldFromView_TH\",r.worldFromView_TH),o.setUniform3fv(\"uTransform_WorldFromView_TL\",r.worldFromView_TL),o.setUniformMatrix4fv(\"uTransform_ProjFromView\",r.projFromView),o.setUniformMatrix3fv(\"uTransform_ViewFromCameraRelative_RS\",r.viewFromCameraRelative_RS)}i.ViewProjectionTransform=m,i.bindModelTransform=t,i.bindViewProjTransform=n}(t||(t={}));export{t as VertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{NormalAttribute as r}from\"./NormalAttribute.glsl.js\";import{VertexPosition as a}from\"./VertexPosition.glsl.js\";function l(l,e){0===e.normalType||1===e.normalType?(l.include(r,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.varyings.add(\"vNormalView\",\"vec3\"),l.vertex.uniforms.add(\"uTransformNormal_GlobalFromModel\",\"mat3\"),l.vertex.uniforms.add(\"uTransformNormal_ViewFromGlobal\",\"mat3\"),l.vertex.code.add(o`\n      void forwardNormal() {\n        vNormalWorld = uTransformNormal_GlobalFromModel * normalModel();\n        vNormalView = uTransformNormal_ViewFromGlobal * vNormalWorld;\n      }\n    `)):2===e.normalType?(l.include(a,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.vertex.code.add(o`\n    void forwardNormal() {\n      vNormalWorld = ${1===e.viewingMode?o`normalize(vPositionWorldCameraRelative);`:o`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)):l.vertex.code.add(o`\n      void forwardNormal() {}\n    `)}!function(o){function r(o,r){o.setUniformMatrix4fv(\"viewNormal\",r)}o.bindUniforms=r}(l||(l={}));export{l as VertexNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){t.extensions.add(\"GL_EXT_shader_texture_lod\"),t.extensions.add(\"GL_OES_standard_derivatives\"),t.fragment.code.add(e`\n    #ifndef GL_EXT_shader_texture_lod\n      float calcMipMapLevel(const vec2 ddx, const vec2 ddy) {\n        float deltaMaxSqr = max(dot(ddx, ddx), dot(ddy, ddy));\n        return max(0.0, 0.5 * log2(deltaMaxSqr));\n      }\n    #endif\n\n    vec4 textureAtlasLookup(sampler2D texture, vec2 textureSize, vec2 textureCoordinates, vec4 atlasRegion) {\n      //[umin, vmin, umax, vmax]\n      vec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\n      vec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;\n\n      // calculate derivative of continuous texture coordinate\n      // to avoid mipmapping artifacts caused by manual wrapping in shader\n      // clamp the derivatives to avoid discoloring when zooming out.\n      float maxdUV = 0.125; // Emprirically tuned compromise between discoloring and aliasing noise.\n      vec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\n      vec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\n\n      #ifdef GL_EXT_shader_texture_lod\n        return texture2DGradEXT(texture, uvAtlas, dUVdx, dUVdy);\n      #else\n        // use bias to compensate for difference in automatic vs desired mipmap level\n        vec2 dUVdxAuto = dFdx(uvAtlas);\n        vec2 dUVdyAuto = dFdy(uvAtlas);\n        float mipMapLevel = calcMipMapLevel(dUVdx * textureSize, dUVdy * textureSize);\n        float autoMipMapLevel = calcMipMapLevel(dUVdxAuto * textureSize, dUVdyAuto * textureSize);\n\n        return texture2D(texture, uvAtlas, mipMapLevel - autoMipMapLevel);\n      #endif\n    }\n  `)}export{t as TextureAtlasLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{TextureCoordinateAttribute as t}from\"./TextureCoordinateAttribute.glsl.js\";import{TextureAtlasLookup as r}from\"../util/TextureAtlasLookup.glsl.js\";function u(u,a){u.include(t,a),u.fragment.code.add(e`\n  struct TextureLookupParameter {\n    vec2 uv;\n    ${a.supportsTextureAtlas?\"vec2 size;\":\"\"}\n  } vtc;\n  `),1===a.attributeTextureCoordinates&&u.fragment.code.add(e`\n      vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\n        return texture2D(tex, params.uv);\n      }\n    `),2===a.attributeTextureCoordinates&&(u.include(r),u.fragment.code.add(e`\n    vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\n        return textureAtlasLookup(tex, params.size, params.uv, vuvRegion);\n      }\n    `))}export{u as VertexTextureCoordinates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSizePerspective as r}from\"../util/ScreenSizePerspective.glsl.js\";function t(t,l){const c=t.vertex.code;l.verticalOffsetEnabled?(t.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),l.screenSizePerspectiveEnabled&&(t.include(r),t.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\")),c.add(e`\n    vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n      ${1===l.viewingMode?e`vec3 worldNormal = normalize(worldPos + localOrigin);`:e`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}\n      ${l.screenSizePerspectiveEnabled?e`\n          float cosAngle = dot(worldNormal, normalize(worldPos - camPos));\n          float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:e`\n          float verticalOffsetScreenHeight = verticalOffset.x;`}\n      // Screen sized offset in world space, used for example for line callouts\n      float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n      return worldNormal * worldOffset;\n    }\n\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n    }\n    `)):c.add(e`\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }\n    `)}function l(e,r,t,l=c){return l.screenLength=e.screenLength,l.perDistance=Math.tan(.5*r)/(.5*t),l.minWorldLength=e.minWorldLength,l.maxWorldLength=e.maxWorldLength,l}!function(e){function r(e,r,t){if(!r.verticalOffset)return;const c=l(r.verticalOffset,t.camera.fovY,t.camera.fullViewport[3]),i=t.camera.pixelRatio||1;e.setUniform4f(\"verticalOffset\",c.screenLength*i,c.perDistance,c.minWorldLength,c.maxWorldLength)}e.bindUniforms=r}(t||(t={}));const c={screenLength:0,perDistance:0,minWorldLength:0,maxWorldLength:0};export{t as VerticalOffset,l as calculateVerticalOffsetFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";import{Transform as r}from\"../Transform.glsl.js\";import{Slice as e}from\"../Slice.glsl.js\";import{OutputHighlight as t}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as i}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlpha as a}from\"../util/AlphaDiscard.glsl.js\";import{OutputDepth as l}from\"../output/OutputDepth.glsl.js\";import{TextureCoordinateAttribute as s}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{NormalAttribute as d}from\"../attributes/NormalAttribute.glsl.js\";import{VertexNormal as n}from\"../attributes/VertexNormal.glsl.js\";function u(u,c){const p=u.vertex.code,v=u.fragment.code;1!==c.output&&3!==c.output||(u.include(r,{linearDepth:!0}),u.include(s,c),u.include(i,c),u.include(l,c),u.include(e,c),u.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),u.varyings.add(\"depth\",\"float\"),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPositionWithDepth(proj, view, vpos, cameraNearFar, depth);\n        forwardTextureCoordinates();\n      }\n    `),u.include(a,c),v.add(o`\n      void main(void) {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputDepth(depth);\n      }\n    `)),2===c.output&&(u.include(r,{linearDepth:!1}),u.include(d,c),u.include(n,c),u.include(s,c),u.include(i,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),u.vertex.uniforms.add(\"viewNormal\",\"mat4\"),u.varyings.add(\"vPositionView\",\"vec3\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        ${0===c.normalType?o`\n        vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:\"\"}\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();\n      }\n    `),u.include(e,c),u.include(a,c),v.add(o`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n\n        ${3===c.normalType?o`\n            vec3 normal = screenDerivativeNormal(vPositionView);`:o`\n            vec3 normal = normalize(vNormalWorld);\n            if (gl_FrontFacing == false) normal = -normal;`}\n        gl_FragColor = vec4(vec3(0.5) + 0.5 * normal, 1.0);\n      }\n    `)),4===c.output&&(u.include(r,{linearDepth:!1}),u.include(s,c),u.include(i,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(o`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();\n      }\n    `),u.include(e,c),u.include(a,c),u.include(t),v.add(o`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?o`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputHighlight();\n      }\n    `))}export{u as DefaultMaterialAuxiliaryPasses};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{VertexTextureCoordinates as t}from\"../attributes/VertexTextureCoordinates.glsl.js\";function n(n,a){const o=n.fragment;o.uniforms.add(\"normalTexture\",\"sampler2D\"),o.uniforms.add(\"normalTextureSize\",\"vec2\"),a.vertexTangets?(n.attributes.add(\"tangent\",\"vec4\"),n.varyings.add(\"vTangent\",\"vec4\"),2===a.doubleSidedMode?o.code.add(e`\n      mat3 computeTangentSpace(vec3 normal) {\n        float tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;\n        vec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);\n        vec3 bitangent = cross(normal, tangent) * tangentHeadedness;\n        return mat3(tangent, bitangent, normal);\n      }\n    `):o.code.add(e`\n      mat3 computeTangentSpace(vec3 normal) {\n        float tangentHeadedness = vTangent.w;\n        vec3 tangent = normalize(vTangent.xyz);\n        vec3 bitangent = cross(normal, tangent) * tangentHeadedness;\n        return mat3(tangent, bitangent, normal);\n      }\n    `)):(n.extensions.add(\"GL_OES_standard_derivatives\"),o.code.add(e`\n    mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {\n\n      vec3 Q1 = dFdx(pos);\n      vec3 Q2 = dFdy(pos);\n\n      vec2 stx = dFdx(st);\n      vec2 sty = dFdy(st);\n\n      float det = stx.t * sty.s - sty.t * stx.s;\n\n      vec3 T = stx.t * Q2 - sty.t * Q1; // compute tangent\n      T = T - normal * dot(normal, T); // orthogonalize tangent\n      T *= inversesqrt(max(dot(T,T), 1.e-10)); // \"soft\" normalize - goes to 0 when T goes to 0\n      vec3 B = sign(det) * cross(normal, T); // assume normal is normalized, B has the same lenght as B\n      return mat3(T, B, normal); // T and B go to 0 when the tangent space is not well defined by the uv coordinates\n    }\n  `)),0!==a.attributeTextureCoordinates&&(n.include(t,a),o.code.add(e`\n    vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {\n      vtc.uv = uv;\n      ${a.supportsTextureAtlas?\"vtc.size = normalTextureSize;\":\"\"}\n      vec3 rawNormal = textureLookup(normalTexture, vtc).rgb * 2.0 - 1.0;\n      return tangentSpace * rawNormal;\n    }\n  `))}export{n as ComputeNormalTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o,t){const r=o.fragment;t.receiveAmbientOcclusion?(r.uniforms.add(\"ssaoTex\",\"sampler2D\"),r.uniforms.add(\"viewportPixelSz\",\"vec4\"),r.code.add(e`\n      float evaluateAmbientOcclusion() {\n        return 1.0 - texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\n      }\n\n      float evaluateAmbientOcclusionInverse() {\n        float ssao = texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\n        return viewportPixelSz.z < 0.0 ? 1.0 : ssao;\n      }\n    `)):r.code.add(e`\n      float evaluateAmbientOcclusion() { return 0.0; } // no occlusion\n      float evaluateAmbientOcclusionInverse() { return 1.0; }\n    `)}export{o as EvaluateAmbientOcclusion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function n(n,t){const e=n.fragment,a=void 0!==t.lightingSphericalHarmonicsOrder?t.lightingSphericalHarmonicsOrder:2;0===a?(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec3 ambientLight = 0.282095 * lightingAmbientSH0;\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `)):1===a?(e.uniforms.add(\"lightingAmbientSH_R\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B\",\"vec4\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec4 sh0 = vec4(\n          0.282095,\n          0.488603 * normal.x,\n          0.488603 * normal.z,\n          0.488603 * normal.y\n        );\n        vec3 ambientLight = vec3(\n          dot(lightingAmbientSH_R, sh0),\n          dot(lightingAmbientSH_G, sh0),\n          dot(lightingAmbientSH_B, sh0)\n        );\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `)):2===a&&(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.uniforms.add(\"lightingAmbientSH_R1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_R2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B2\",\"vec4\"),e.code.add(i`\n      vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\n        vec3 ambientLight = 0.282095 * lightingAmbientSH0;\n\n        vec4 sh1 = vec4(\n          0.488603 * normal.x,\n          0.488603 * normal.z,\n          0.488603 * normal.y,\n          1.092548 * normal.x * normal.y\n        );\n        vec4 sh2 = vec4(\n          1.092548 * normal.y * normal.z,\n          0.315392 * (3.0 * normal.z * normal.z - 1.0),\n          1.092548 * normal.x * normal.z,\n          0.546274 * (normal.x * normal.x - normal.y * normal.y)\n        );\n        ambientLight += vec3(\n          dot(lightingAmbientSH_R1, sh1),\n          dot(lightingAmbientSH_G1, sh1),\n          dot(lightingAmbientSH_B1, sh1)\n        );\n        ambientLight += vec3(\n          dot(lightingAmbientSH_R2, sh2),\n          dot(lightingAmbientSH_G2, sh2),\n          dot(lightingAmbientSH_B2, sh2)\n        );\n        return ambientLight * (1.0 - ambientOcclusion);\n      }\n    `),1!==t.pbrMode&&2!==t.pbrMode||e.code.add(i`\n        const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\n\n        vec3 calculateAmbientRadiance(float ambientOcclusion)\n        {\n          vec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\n          return ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n        }\n      `))}export{n as EvaluateAmbientLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function t(t){const n=t.fragment;n.uniforms.add(\"lightingMainDirection\",\"vec3\"),n.uniforms.add(\"lightingMainIntensity\",\"vec3\"),n.uniforms.add(\"lightingFixedFactor\",\"float\"),n.code.add(i`\n    vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {\n      float dotVal = clamp(-dot(normal_global, lightingMainDirection), 0.0, 1.0);\n\n      // move lighting towards (1.0, 1.0, 1.0) if requested\n      dotVal = mix(dotVal, 1.0, lightingFixedFactor);\n\n      return lightingMainIntensity * ((1.0 - shadowing) * dotVal);\n    }\n  `)}export{t as EvaluateMainLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as i}from\"./PiUtils.glsl.js\";import{ReadShadowMap as t}from\"./ReadShadowMap.glsl.js\";import{PhysicallyBasedRendering as o}from\"./PhysicallyBasedRendering.glsl.js\";import{EvaluateAmbientOcclusion as a}from\"./EvaluateAmbientOcclusion.glsl.js\";import{EvaluateAmbientLighting as n}from\"./EvaluateAmbientLighting.glsl.js\";import{EvaluateMainLighting as l}from\"./EvaluateMainLighting.glsl.js\";function r(r,c){const d=r.fragment;r.include(l),r.include(a,c),0!==c.pbrMode&&r.include(o,c),r.include(n,c),c.receiveShadows&&r.include(t,c),d.uniforms.add(\"lightingGlobalFactor\",\"float\"),d.uniforms.add(\"ambientBoostFactor\",\"float\"),r.include(i),d.code.add(e`\n    const float GAMMA_SRGB = 2.1;\n    const float INV_GAMMA_SRGB = 0.4761904;\n    ${0===c.pbrMode?\"\":\"const vec3 GROUND_REFLECTANCE = vec3(0.2);\"}\n  `),c.useOldSceneLightInterface?d.code.add(e`\n    vec3 evaluateSceneLightingExt(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight) {\n      // evaluate the main light\n      #if defined(TREE_RENDERING)\n        // Special case for tree rendering:\n        // We shift the Lambert lobe to the back, allowing it to reach part of the hemisphere\n        // facing away from the light. The idea is to get an effect where light is transmitted\n        // through the tree.\n        float minDot = -0.5;\n        float dotRange = 1.0 - minDot;\n        float dotNormalization = 0.66; // guessed & hand tweaked value, for an exact value we could precompute an integral over the sphere\n\n        float dotVal = dotNormalization * (clamp(-dot(normal, lightingMainDirection), 1.0 - dotRange, 1.0) - minDot) * (1.0 / dotRange);\n      #else\n        float dotVal = clamp(-dot(normal, lightingMainDirection), 0.0, 1.0);\n      #endif\n\n      // move lighting towards (1.0, 1.0, 1.0) if requested\n      dotVal = mix(dotVal, 1.0, lightingFixedFactor);\n\n      vec3 mainLight = (1.0 - shadow) * lightingMainIntensity * dotVal;\n      vec3 ambientLight = calculateAmbientIrradiance(normal, ssao);\n\n      // inverse gamma correction on the albedo color\n      vec3 albedoGammaC = pow(albedo, vec3(GAMMA_SRGB));\n\n      // physically correct BRDF normalizes by PI\n      vec3 totalLight = mainLight + ambientLight + additionalLight;\n      totalLight = min(totalLight, vec3(PI));\n      vec3 outColor = vec3((albedoGammaC / PI) * (totalLight));\n\n      // apply gamma correction to the computed color\n      outColor = pow(outColor, vec3(INV_GAMMA_SRGB));\n\n      return outColor;\n    }\n  `):(1===c.viewingMode?d.code.add(e`\n      float _oldHeuristicLighting(vec3 vPosWorld) {\n        vec3 shadingNormalWorld = normalize(vPosWorld);\n        float vndl = -dot(shadingNormalWorld, lightingMainDirection);\n\n        return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n      }\n    `):d.code.add(e`\n      float _oldHeuristicLighting(vec3 vPosWorld) {\n        float vndl = -dot(vec3(0.0, 0.0, 1.0), lightingMainDirection);\n        return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n      }\n    `),d.code.add(e`\n      vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {\n        float additionalAmbientScale = _oldHeuristicLighting(vPosWorld);\n        return (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * lightingMainIntensity;\n      }\n    `),0===c.pbrMode||4===c.pbrMode?d.code.add(e`\n      vec3 evaluateSceneLighting(vec3 normalWorld, vec3 baseColor, float mainLightShadow, float ambientOcclusion, vec3 additionalLight)\n      {\n        vec3 mainLighting = evaluateMainLighting(normalWorld, mainLightShadow);\n        vec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ambientOcclusion);\n        // inverse gamma correction on the base color\n        vec3 baseColorLinear = pow(baseColor, vec3(GAMMA_SRGB));\n\n        // physically correct BRDF normalizes by PI\n        vec3 totalLight = mainLighting + ambientLighting + additionalLight;\n        totalLight = min(totalLight, vec3(PI));\n        vec3 outColor = vec3((baseColorLinear / PI) * totalLight);\n\n        // apply gamma correction to the computed color\n        outColor = pow(outColor, vec3(INV_GAMMA_SRGB));\n\n        return outColor;\n      }\n      `):1!==c.pbrMode&&2!==c.pbrMode||(d.code.add(e`\n      const float fillLightIntensity = 0.25;\n      const float horizonLightDiffusion = 0.4;\n      const float additionalAmbientIrradianceFactor = 0.02;\n\n      vec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight, vec3 viewDir, vec3 normalGround, vec3 mrr, vec3 _emission, float additionalAmbientIrradiance)\n      {\n        // Calculate half vector between view and light direction\n        vec3 viewDirection = -viewDir;\n        vec3 mainLightDirection = -lightingMainDirection;\n        vec3 h = normalize(viewDirection + mainLightDirection);\n\n        PBRShadingInfo inputs;\n        inputs.NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);\n        inputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);\n        inputs.NdotH = clamp(dot(normal, h), 0.0, 1.0);\n        inputs.VdotH = clamp(dot(viewDirection, h), 0.0, 1.0);\n        inputs.NdotNG = clamp(dot(normal, normalGround), -1.0, 1.0);\n        vec3 reflectedView = normalize(reflect(viewDirection, normal));\n        inputs.RdotNG = clamp(dot(reflectedView, normalGround), -1.0, 1.0);\n\n        inputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\n        inputs.ssao = ssao;\n\n        inputs.metalness = mrr[0];\n        inputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);\n      `),d.code.add(e`\n        inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;\n        inputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0)); // more accurate then using  f90 = 1.0\n        inputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);\n      `),d.code.add(e`\n        vec3 ambientDir = vec3(5.0 * normalGround[1] - normalGround[0] * normalGround[2], - 5.0 * normalGround[0] - normalGround[2] * normalGround[1], normalGround[1] * normalGround[1] + normalGround[0] * normalGround[0]);\n        ambientDir = ambientDir != vec3(0.0)? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));\n\n        inputs.NdotAmbDir = abs(dot(normal, ambientDir));\n\n        // Calculate the irradiance components: sun, fill lights and the sky.\n        vec3 mainLightIrradianceComponent  = inputs.NdotL * (1.0 - shadow) * lightingMainIntensity;\n        vec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * lightingMainIntensity * fillLightIntensity;\n        // calculateAmbientIrradiance for localView and additionalLight for gloabalView\n        vec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;\n\n        // Assemble the overall irradiance of the sky that illuminates the surface\n        inputs.skyIrradianceToSurface    = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\n        // Assemble the overall irradiance of the ground that illuminates the surface. for this we use the simple model that changes only the sky irradiance by the groundReflectance\n        inputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\n      `),d.code.add(e`\n        vec3 horizonRingDir = inputs.RdotNG * normalGround - reflectedView;\n        vec3 horizonRingH = normalize(viewDirection + horizonRingDir);\n        inputs.NdotH_Horizon = dot(normal, horizonRingH);\n\n        vec3 mainLightRadianceComponent  = normalDistribution(inputs.NdotH, inputs.roughness) * lightingMainIntensity * (1.0 - shadow);\n        vec3 horizonLightRadianceComponent = normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * lightingMainIntensity * fillLightIntensity;\n        vec3 ambientLightRadianceComponent = calculateAmbientRadiance(ssao) + additionalLight; // calculateAmbientRadiance for localView and additionalLight for gloabalView\n\n        // Assemble the overall radiance of the sky that illuminates the surface\n        inputs.skyRadianceToSurface    =  ambientLightRadianceComponent + mainLightRadianceComponent + horizonLightRadianceComponent;\n        // Assemble the overall radiance of the ground that illuminates the surface. for this we use the simple model that changes only the sky radince by the groundReflectance\n        inputs.groundRadianceToSurface = GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) + mainLightRadianceComponent;\n\n        // Calculate average ambient radiance - this is used int the gamut mapping part to deduce the black level that is soft compressed\n        inputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE[1]);\n        `),d.code.add(e`\n        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);\n        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;\n        vec3 emissionComponent = pow(_emission, vec3(GAMMA_SRGB));\n        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent + emissionComponent;\n        ${2===c.pbrMode?e`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`:e`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs), vec3(INV_GAMMA_SRGB));`}\n        return outColor;\n      }\n    `)))}export{r as EvaluateSceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as a}from\"../../shaderModules/interfaces.js\";function r(r,e){const m=r.fragment;m.code.add(a`\n    struct ShadingNormalParameters {\n      vec3 normalView;\n      vec3 viewDirection;\n    } shadingParams;\n    `),1===e.doubleSidedMode?m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);\n      }\n    `):2===e.doubleSidedMode?m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);\n      }\n    `):m.code.add(a`\n      vec3 shadingNormal(ShadingNormalParameters params) {\n        return normalize(params.normalView);\n      }\n    `)}export{r as Normals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`\n    vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n    {\n      return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n    }\n    `),a.add(e`\n    float integratedRadiance(float cosTheta2, float roughness)\n    {\n      return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n    }\n    `),a.add(e`\n    vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n    {\n      float cosTheta2 = 1.0 - RdotNG * RdotNG;\n      float intRadTheta = integratedRadiance(cosTheta2, roughness);\n\n      // Calculate the integrated directional radiance of the ground and the sky\n      float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\n      float sky = 2.0 - ground;\n      return (ground * ambientGround + sky * ambientSky) * 0.5;\n    }\n    `)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{AnalyticalSkyModel as t}from\"./AnalyticalSkyModel.glsl.js\";function n(n,a){const r=n.fragment.code;n.include(o),3===a.pbrMode||4===a.pbrMode?(r.add(e`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${a.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(e`\n    vec3 fresnelReflection(float angle, vec3 f0, float f90) {\n      return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n    }\n    `),r.add(e`\n    float normalDistributionWater(float NdotH, float roughness)\n    {\n      float r2 = roughness * roughness;\n      float NdotH2 = NdotH * NdotH;\n      float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\n      return r2 / denom;\n    }\n    `),r.add(e`\n    float geometricOcclusionKelemen(float LoH)\n    {\n        return 0.25 / (LoH * LoH);\n    }\n    `),r.add(e`\n    vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n    {\n      vec3  F = fresnelReflection(props.VdotH, F0, F0Max);\n      float dSun = normalDistributionWater(props.NdotH, roughness);\n      float V = geometricOcclusionKelemen(props.LdotH);\n\n      float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\n      float strengthSunHaze  = 1.2;\n      float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\n\n      return ((dSun + dSunHaze) * V) * F;\n    }\n\n    vec3 tonemapACES(const vec3 x) {\n      return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n    }\n    `)):1!==a.pbrMode&&2!==a.pbrMode||(n.include(t),r.add(e`\n    struct PBRShadingInfo\n    {\n        float NdotL;                  // cos angle between normal and light direction\n        float NdotV;                  // cos angle between normal and view direction\n        float NdotH;                  // cos angle between normal and half vector\n        float VdotH;                  // cos angle between view direction and half vector\n        float LdotH;                  // cos angle between view light direction and half vector\n        float NdotNG;                 // cos angle between normal and normal of the ground\n        float RdotNG;                 // cos angle between view direction reflected of the normal and normal of the ground\n        float NdotAmbDir;             // cos angle between view direction and the fill light in ambient illumination\n        float NdotH_Horizon;          // cos angle between normal and half vector defined with horizon illumination\n        vec3 skyRadianceToSurface;         // integrated radiance of the sky based on the surface roughness (used for specular reflection)\n        vec3 groundRadianceToSurface;      // integrated radiance of the ground based on the surface roughness (used for specular reflection)\n        vec3 skyIrradianceToSurface;       // irradiance of the sky (used for diffuse reflection)\n        vec3 groundIrradianceToSurface;    // irradiance of the ground (used for diffuse reflection)\n\n        float averageAmbientRadiance;      // average ambient radiance used to deduce black level in gamut mapping\n        float ssao;                   // ssao coefficient\n        vec3 albedoLinear;            // linear color of the albedo\n        vec3 f0;                      // fresnel value at normal incident light\n        vec3 f90;                     // fresnel value at 90o of incident light\n\n        vec3 diffuseColor;            // diffuse color of the material used in environment illumination\n        float metalness;              // metalness of the material\n        float roughness;              // roughness of the material\n    };\n    `),r.add(e`\n    float normalDistribution(float NdotH, float roughness)\n    {\n        float a = NdotH * roughness;\n        float b = roughness / (1.0 - NdotH * NdotH + a * a);\n        return b * b * INV_PI;\n    }\n    `),r.add(e`\n    const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\n    const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\n    const vec2 c2 = vec2(-1.04, 1.04);\n\n    vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\n        vec4 r = roughness * c0 + c1;\n        float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\n        return c2 * a004 + r.zw;\n    }\n    `),r.add(e`\n    vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\n      vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\n      vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\n\n      // From diffuse illumination calculate reflected color\n      vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\n\n      // From specular illumination calculate reflected color\n      vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\n      vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\n      vec3 specularComponent = specularColor * indirectSpecular;\n\n      return (diffuseComponent + specularComponent);\n    }\n    `),r.add(e`\n    float gamutMapChanel(float x, vec2 p){\n      return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n    }`),r.add(e`\n    vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\n      vec3 outColor;\n      vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\n      outColor.x = gamutMapChanel(inColor.x, p) ;\n      outColor.y = gamutMapChanel(inColor.y, p) ;\n      outColor.z = gamutMapChanel(inColor.z, p) ;\n      return outColor;\n    }\n    `))}export{n as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../../../chunks/vec3f32.js\";import{glsl as s}from\"../../shaderModules/interfaces.js\";import{VertexTextureCoordinates as o}from\"../attributes/VertexTextureCoordinates.glsl.js\";const t=e(0,.6,.2);function r(e,t){const r=e.fragment,a=t.hasMetalnessAndRoughnessTexture||t.hasEmissionTexture||t.hasOcclusionTexture;1===t.pbrMode&&a&&e.include(o,t),2!==t.pbrMode?(0===t.pbrMode&&r.code.add(s`\n      float getBakedOcclusion() { return 1.0; }\n  `),1===t.pbrMode&&(r.uniforms.add(\"emissionFactor\",\"vec3\"),r.uniforms.add(\"mrrFactors\",\"vec3\"),r.code.add(s`\n      vec3 mrr;\n      vec3 emission;\n      float occlusion;\n    `),t.hasMetalnessAndRoughnessTexture&&(r.uniforms.add(\"texMetallicRoughness\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texMetallicRoughnessSize\",\"vec2\"),r.code.add(s`\n      void applyMetallnessAndRoughness(TextureLookupParameter params) {\n        vec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\n\n        mrr[0] *= metallicRoughness.b;\n        mrr[1] *= metallicRoughness.g;\n      }`)),t.hasEmissionTexture&&(r.uniforms.add(\"texEmission\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texEmissionSize\",\"vec2\"),r.code.add(s`\n      void applyEmission(TextureLookupParameter params) {\n        emission *= textureLookup(texEmission, params).rgb;\n      }`)),t.hasOcclusionTexture?(r.uniforms.add(\"texOcclusion\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texOcclusionSize\",\"vec2\"),r.code.add(s`\n      void applyOcclusion(TextureLookupParameter params) {\n        occlusion *= textureLookup(texOcclusion, params).r;\n      }\n\n      float getBakedOcclusion() {\n        return occlusion;\n      }\n      `)):r.code.add(s`\n      float getBakedOcclusion() { return 1.0; }\n      `),r.code.add(s`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${a?\"vtc.uv = vuv0;\":\"\"}\n      ${t.hasMetalnessAndRoughnessTexture?t.supportsTextureAtlas?\"vtc.size = texMetallicRoughnessSize; applyMetallnessAndRoughness(vtc);\":\"applyMetallnessAndRoughness(vtc);\":\"\"}\n      ${t.hasEmissionTexture?t.supportsTextureAtlas?\"vtc.size = texEmissionSize; applyEmission(vtc);\":\"applyEmission(vtc);\":\"\"}\n      ${t.hasOcclusionTexture?t.supportsTextureAtlas?\"vtc.size = texOcclusionSize; applyOcclusion(vtc);\":\"applyOcclusion(vtc);\":\"\"}\n    }\n  `))):r.code.add(s`\n      const vec3 mrr = vec3(0.0, 0.6, 0.2);\n      const vec3 emission = vec3(0.0);\n      float occlusion = 1.0;\n\n      void applyPBRFactors() {}\n\n      float getBakedOcclusion() { return 1.0; }\n    `)}!function(e){function s(e,s,o=!1){o||(e.setUniform3fv(\"mrrFactors\",s.mrrFactors),e.setUniform3fv(\"emissionFactor\",s.emissiveFactor))}e.bindUniforms=s}(r||(r={}));export{t as PBRSchematicMRRValues,r as PhysicallyBasedRenderingParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function t(t){t.vertex.code.add(o`\n    const float PI = 3.141592653589793;\n  `),t.fragment.code.add(o`\n    const float PI = 3.141592653589793;\n    const float LIGHT_NORMALIZATION = 1.0 / PI;\n    const float INV_PI = 0.3183098861837907;\n    const float HALF_PI = 1.570796326794897;\n    `)}export{t as PiUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`\n    int chooseCascade(float _linearDepth, out mat4 mat) {\n      vec4 distance = uShadowMapDistance;\n      float depth = _linearDepth;\n\n      //choose correct cascade\n      int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\n\n      mat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\n\n      return i;\n    }\n\n    vec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\n      vec4 lv = mat * vec4(_vpos, 1.0);\n      lv.xy /= lv.w;\n      return 0.5 * lv.xyz + vec3(0.5);\n    }\n\n    vec2 cascadeCoordinates(int i, vec3 lvpos) {\n      return vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n    }\n\n    float readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\n      return rgba2float(texture2D(_depthTex, uv));\n    }\n\n    float posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\n      return readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n    }\n\n    float filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\n      float texSize = 0.5 / halfPixelSize;\n\n      // filter, offset by half pixels\n      vec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\n\n      float s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\n      float s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\n      float s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\n\n      return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n    }\n\n    float readShadowMap(const in vec3 _vpos, float _linearDepth) {\n      mat4 mat;\n      int i = chooseCascade(_linearDepth, mat);\n\n      if (i >= uShadowMapNum) { return 0.0; }\n\n      vec3 lvpos = lightSpacePosition(_vpos, mat);\n\n      // vertex completely outside? -> no shadow\n      if (lvpos.z >= 1.0) { return 0.0; }\n      if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\n\n      // calc coord in cascade texture\n      vec2 uv = cascadeCoordinates(i, lvpos);\n\n      return filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n    }\n  `)}!function(e){function a(e,a,t){a.shadowMappingEnabled&&(a.shadowMap.bind(e,t),a.shadowMap.bindView(e,a.origin))}function t(e,a,t){a.shadowMappingEnabled&&a.shadowMap.bindView(e,t)}function o(e,a){a.shadowMappingEnabled&&a.shadowMap.bindView(e,a.origin)}e.bindUniforms=a,e.bindViewCustomOrigin=t,e.bindView=o}(t||(t={}));export{t as ReadShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as v}from\"../../shaderModules/interfaces.js\";function e(e,o){o.vvInstancingEnabled&&(o.vvSize||o.vvColor)&&e.attributes.add(\"instanceFeatureAttribute\",\"vec4\"),o.vvSize?(e.vertex.uniforms.add(\"vvSizeMinSize\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeMaxSize\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeOffset\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeFactor\",\"vec3\"),e.vertex.uniforms.add(\"vvSymbolRotationMatrix\",\"mat3\"),e.vertex.uniforms.add(\"vvSymbolAnchor\",\"vec3\"),e.vertex.code.add(v`\n      vec3 vvScale(vec4 _featureAttribute) {\n        return clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n      }\n\n      vec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\n        return vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n      }\n    `),e.vertex.code.add(v`\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\n      }\n\n      ${o.vvInstancingEnabled?v`\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }`:\"\"}\n    `)):e.vertex.code.add(v`\n      vec4 localPosition() { return vec4(position, 1.0); }\n\n      vec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }\n    `),o.vvColor?(e.vertex.constants.add(\"vvColorNumber\",\"int\",8),e.vertex.code.add(v`\n      uniform float vvColorValues[vvColorNumber];\n      uniform vec4 vvColorColors[vvColorNumber];\n\n      vec4 vvGetColor(vec4 featureAttribute, float values[vvColorNumber], vec4 colors[vvColorNumber]) {\n        float value = featureAttribute.y;\n        if (value <= values[0]) {\n          return colors[0];\n        }\n\n        for (int i = 1; i < vvColorNumber; ++i) {\n          if (values[i] >= value) {\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\n            return mix(colors[i-1], colors[i], f);\n          }\n        }\n        return colors[vvColorNumber - 1];\n      }\n\n      ${o.vvInstancingEnabled?v`\n      vec4 vvColor() {\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\n      }`:\"\"}\n    `)):e.vertex.code.add(v`\n      vec4 vvColor() { return vec4(1.0); }\n    `)}!function(v){function e(v,e){e.vvSizeEnabled&&(v.setUniform3fv(\"vvSizeMinSize\",e.vvSizeMinSize),v.setUniform3fv(\"vvSizeMaxSize\",e.vvSizeMaxSize),v.setUniform3fv(\"vvSizeOffset\",e.vvSizeOffset),v.setUniform3fv(\"vvSizeFactor\",e.vvSizeFactor)),e.vvColorEnabled&&(v.setUniform1fv(\"vvColorValues\",e.vvColorValues),v.setUniform4fv(\"vvColorColors\",e.vvColorColors))}function o(v,o){e(v,o),o.vvOpacityEnabled&&(v.setUniform1fv(\"vvOpacityValues\",o.vvOpacityValues),v.setUniform1fv(\"vvOpacityOpacities\",o.vvOpacityOpacities))}function r(v,o){e(v,o),o.vvSizeEnabled&&(v.setUniform3fv(\"vvSymbolAnchor\",o.vvSymbolAnchor),v.setUniformMatrix3fv(\"vvSymbolRotationMatrix\",o.vvSymbolRotationMatrix))}v.bindUniforms=e,v.bindUniformsWithOpacity=o,v.bindUniformsForSymbols=r}(e||(e={}));export{e as VisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as n}from\"../../../../core/maybe.js\";import\"../../../../core/mathUtils.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import{unpackFloatRGBA as o}from\"./Util.js\";import{encodeDoubleArray as i}from\"./doublePrecisionUtils.js\";import r from\"../../../webgl/Program.js\";import s from\"../../../webgl/BufferObject.js\";import a from\"../../../webgl/VertexArrayObject.js\";import c from\"../../../webgl/FramebufferObject.js\";import{testSVGPremultipliedAlpha as l}from\"../../../webgl/testSVGPremultipliedAlpha.js\";class u{constructor(e){this.context=e,this.svgAlwaysPremultipliesAlpha=!1,this._doublePrecisionRequiresObfuscation=null,l(e).then((e=>{this.svgAlwaysPremultipliesAlpha=!e}))}get doublePrecisionRequiresObfuscation(){if(e(this._doublePrecisionRequiresObfuscation)){const e=v(this.context,!1),n=v(this.context,!0);this._doublePrecisionRequiresObfuscation=0!==e&&(0===n||e/n>5)}return this._doublePrecisionRequiresObfuscation}}let f=null;function p(n){return(e(f)||f.context!==n)&&(f=new u(n)),f}function h(e){n(f)&&f.context===e&&(f=null)}function v(e,n){const l=new c(e,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1});function u(t,o){const s=new r(e,`\\n\\n  precision highp float;\\n\\n  attribute vec2 a_pos;\\n\\n  uniform vec3 u_highA;\\n  uniform vec3 u_lowA;\\n  uniform vec3 u_highB;\\n  uniform vec3 u_lowB;\\n\\n  varying vec4 v_color;\\n\\n  ${n?\"#define DOUBLE_PRECISION_REQUIRES_OBFUSCATION\":\"\"}\\n\\n  #ifdef DOUBLE_PRECISION_REQUIRES_OBFUSCATION\\n\\n  vec3 dpPlusFrc(vec3 a, vec3 b) {\\n    return mix(a, a + b, vec3(notEqual(b, vec3(0))));\\n  }\\n\\n  vec3 dpMinusFrc(vec3 a, vec3 b) {\\n    return mix(vec3(0), a - b, vec3(notEqual(a, b)));\\n  }\\n\\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\\n    vec3 t1 = dpPlusFrc(hiA, hiB);\\n    vec3 e = dpMinusFrc(t1, hiA);\\n    vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\\n    return t1 + t2;\\n  }\\n\\n  #else\\n\\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\\n    vec3 t1 = hiA + hiB;\\n    vec3 e = t1 - hiA;\\n    vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\\n    return t1 + t2;\\n  }\\n\\n  #endif\\n\\n  const float MAX_RGBA_FLOAT =\\n    255.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 / 256.0 +\\n    255.0 / 256.0 / 256.0 / 256.0 / 256.0;\\n\\n  const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\\n\\n  vec4 float2rgba(const float value) {\\n    // Make sure value is in the domain we can represent\\n    float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);\\n\\n    // Decompose value in 32bit fixed point parts represented as\\n    // uint8 rgba components. Decomposition uses the fractional part after multiplying\\n    // by a power of 256 (this removes the bits that are represented in the previous\\n    // component) and then converts the fractional part to 8bits.\\n    vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);\\n\\n    // Convert uint8 values (from 0 to 255) to floating point representation for\\n    // the shader\\n    const float toU8AsFloat = 1.0 / 255.0;\\n\\n    return fixedPointU8 * toU8AsFloat;\\n  }\\n\\n  void main() {\\n    vec3 val = dpAdd(u_highA, u_lowA, -u_highB, -u_lowB);\\n\\n    v_color = float2rgba(val.z / 25.0);\\n\\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n  }\\n  `,\"\\n  precision highp float;\\n\\n  varying vec4 v_color;\\n\\n  void main() {\\n    gl_FragColor = v_color;\\n  }\\n  \",{a_pos:0}),a=new Float32Array(6);i(t,a,3);const c=new Float32Array(6);return i(o,c,3),e.bindProgram(s),s.setUniform3f(\"u_highA\",a[0],a[2],a[4]),s.setUniform3f(\"u_lowA\",a[1],a[3],a[5]),s.setUniform3f(\"u_highB\",c[0],c[2],c[4]),s.setUniform3f(\"u_lowB\",c[1],c[3],c[5]),s}const f=s.createVertex(e,35044,new Uint16Array([0,0,1,0,0,1,1,1])),p=new a(e,{a_pos:0},{geometry:[{name:\"a_pos\",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:f}),h=t(5633261.287538229,2626832.878767164,1434988.0495278358),v=t(5633271.46742708,2626873.6381334523,1434963.231608387),m=u(h,v),d=e.getBoundFramebufferObject(),{x:A,y:b,width:_,height:g}=e.getViewport();e.bindFramebuffer(l),e.setViewport(0,0,1,1),e.bindVAO(p),e.drawArrays(5,0,4);const w=new Uint8Array(4);l.readPixels(0,0,1,1,6408,5121,w),m.dispose(),p.dispose(!1),f.dispose(),l.dispose(),e.setViewport(A,b,_,g),e.bindFramebuffer(d);const F=(h[2]-v[2])/25,B=o(w);return Math.abs(F-B)}export{h as clearTestWebGLDriver,p as testWebGLDriver};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/has.js\";import{glsl as c}from\"../../shaderModules/interfaces.js\";import{testWebGLDriver as i}from\"../../../lib/WebGLDriverTest.js\";function o({code:e},i){i.doublePrecisionRequiresObfuscation?e.add(c`\n      vec3 dpPlusFrc(vec3 a, vec3 b) {\n        return mix(a, a + b, vec3(notEqual(b, vec3(0))));\n      }\n\n      vec3 dpMinusFrc(vec3 a, vec3 b) {\n        return mix(vec3(0), a - b, vec3(notEqual(a, b)));\n      }\n\n      // based on https://www.thasler.com/blog/blog/glsl-part2-emu\n      vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n        vec3 t1 = dpPlusFrc(hiA, hiB);\n        vec3 e = dpMinusFrc(t1, hiA);\n        vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\n        return t1 + t2;\n      }\n    `):e.add(c`\n      vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n        vec3 t1 = hiA + hiB;\n        vec3 e = t1 - hiA;\n        vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\n        return t1 + t2;\n      }\n    `)}function r(c){return!!e(\"force-double-precision-obfuscation\")||i(c).doublePrecisionRequiresObfuscation}export{o as DoublePrecision,r as doublePrecisionRequiresObfuscation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../../../core/has.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function u(u,e){t`\n  /*\n  *  ${e.name}\n  *  ${0===e.output?\"RenderOutput: Color\":1===e.output?\"RenderOutput: Depth\":3===e.output?\"RenderOutput: Shadow\":2===e.output?\"RenderOutput: Normal\":4===e.output?\"RenderOutput: Highlight\":\"\"}\n  */\n  `}export{u as HeaderComment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ColorConversion as t}from\"./ColorConversion.glsl.js\";function i(i){i.include(t),i.code.add(e`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${e.int(1)}) {\n        return allMixed;\n      }\n      else if (mode == ${e.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${e.int(3)}) {\n        return externalColor;\n      }\n      else {\n        // tint (or something invalid)\n        float vIn = rgb2v(internalMixed);\n        vec3 hsvTint = rgb2hsv(externalColor);\n        vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n        return hsv2rgb(hsvOut);\n      }\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${e.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${e.int(3)}) {\n        return externalOpacity;\n      }\n      else {\n        // multiply or tint (or something invalid)\n        return allMixed;\n      }\n    }\n  `)}export{i as MixExternalColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{bindScreenSizePerspective as r}from\"../../../materials/internal/MaterialUtil.js\";function a(r){r.vertex.code.add(e`\n    float screenSizePerspectiveMinSize(float size, vec4 factor) {\n      float nonZeroSize = 1.0 - step(size, 0.0);\n\n      return (\n        factor.z * (\n          1.0 +\n          // Multiply by nzs ensures if size is 0, then we ignore proportionally scaled padding\n          nonZeroSize *\n          2.0 * factor.w / (\n            size + (1.0 - nonZeroSize) // Adding 1 - nzs ensures we divide either by size, or by 1\n          )\n        )\n      );\n    }\n  `),r.vertex.code.add(e`\n    float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\n      return absCosAngle * absCosAngle * absCosAngle;\n    }\n  `),r.vertex.code.add(e`\n    vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\n      return vec4(\n        min(params.x / (distanceToCamera - params.y), 1.0),\n        screenSizePerspectiveViewAngleDependentFactor(absCosAngle),\n        params.z,\n        params.w\n      );\n    }\n  `),r.vertex.code.add(e`\n    float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\n      return max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n    }\n  `),r.vertex.code.add(e`\n    float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\n      return applyScreenSizePerspectiveScaleFactorFloat(\n        size,\n        screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n      );\n    }\n  `),r.vertex.code.add(e`\n    vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\n      return mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / size.y, 1.0), size, factor.y);\n    }\n  `),r.vertex.code.add(e`\n    vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\n      return applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n    }\n  `)}!function(e){function a(e,a){if(a.screenSizePerspective){r(a.screenSizePerspective,e,\"screenSizePerspective\");const s=a.screenSizePerspectiveAlignment||a.screenSizePerspective;r(s,e,\"screenSizePerspectiveAlignment\")}}e.bindUniforms=a}(a||(a={}));export{a as ScreenSizePerspective};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst S={DIFFUSE:0,NORMAL:1,EMISSION:2,OCCLUSION:3,METALLIC_ROUGHNESS:4,SSAO:6,SHADOW_MAP:7};export{S as DefaultTextureUnits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{DefaultTextureUnits as r}from\"./DefaultTextureUnits.js\";import i from\"./GLMaterial.js\";class s extends i{constructor(e){super(e),this._textureIDs=new Set,this._textureRepository=e.textureRep,this._textureId=e.textureId,this._initTransparent=!!e.initTextureTransparent,this._texture=this._acquireIfNotUndefined(this._textureId),this._textureNormal=this._acquireIfNotUndefined(e.normalTextureId),this._textureEmissive=this._acquireIfNotUndefined(e.emissiveTextureId),this._textureOcclusion=this._acquireIfNotUndefined(e.occlusionTextureId),this._textureMetallicRoughness=this._acquireIfNotUndefined(e.metallicRoughnessTextureId)}dispose(){this._textureIDs.forEach((e=>this._textureRepository.release(e))),this._textureIDs.clear()}updateTexture(e){e!==this._textureId&&(this._releaseIfNotUndefined(this._textureId),this._textureId=e,this._texture=this._acquireIfNotUndefined(this._textureId))}bindTexture(t,i){e(this._texture)&&(i.setUniform1i(\"tex\",r.DIFFUSE),t.bindTexture(this._texture.glTexture,r.DIFFUSE)),e(this._textureNormal)&&(i.setUniform1i(\"normalTexture\",r.NORMAL),t.bindTexture(this._textureNormal.glTexture,r.NORMAL)),e(this._textureEmissive)&&(i.setUniform1i(\"texEmission\",r.EMISSION),t.bindTexture(this._textureEmissive.glTexture,r.EMISSION)),e(this._textureOcclusion)&&(i.setUniform1i(\"texOcclusion\",r.OCCLUSION),t.bindTexture(this._textureOcclusion.glTexture,r.OCCLUSION)),e(this._textureMetallicRoughness)&&(i.setUniform1i(\"texMetallicRoughness\",r.METALLIC_ROUGHNESS),t.bindTexture(this._textureMetallicRoughness.glTexture,r.METALLIC_ROUGHNESS))}bindTextureScale(t,r){const i=e(this._texture)&&this._texture.glTexture;i&&i.descriptor.textureCoordinateScaleFactor?r.setUniform2fv(\"textureCoordinateScaleFactor\",i.descriptor.textureCoordinateScaleFactor):r.setUniform2f(\"textureCoordinateScaleFactor\",1,1)}_acquireIfNotUndefined(e){if(!t(e))return this._textureIDs.add(e),this._textureRepository.acquire(e,this._initTransparent)}_releaseIfNotUndefined(e){t(e)||(this._textureIDs.delete(e),this._textureRepository.release(e))}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import{getAssetUrl as t}from\"../../assets.js\";function s(){if(e(i)){const e=e=>t(`esri/libs/basisu/${e}`);i=import(\"../../chunks/basis_transcoder.js\").then((function(e){return e.b})).then((({default:t})=>t({locateFile:e}).then((e=>(e.initializeBasis(),delete e.then,e)))))}return i}let i;export{s as getBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import t from\"../../../webgl/Texture.js\";import{getBytesPerElementFormat as s}from\"../../../webgl/Util.js\";import{getBasisTranscoder as n}from\"../../../../libs/basisu/BasisU.js\";let r=null,a=null;async function i(){return e(a)&&(a=n(),r=await a),a}function o(t){if(e(r))return t.byteLength;const n=new r.BasisFile(new Uint8Array(t));if(n.getNumImages()<1)return 0;const a=n.getNumLevels(0),i=n.getHasAlpha(),o=n.getImageWidth(0,0),l=n.getImageHeight(0,0);n.close(),n.delete();const g=s(i?37496:37492),m=(4**a-1)/(3*4**(a-1));return Math.ceil(o*l*g*m)}async function l(s,n,a){e(r)&&(r=await i());const o=new r.BasisFile(new Uint8Array(a));if(o.getNumImages()<1)return null;const l=o.getNumLevels(0),g=o.getHasAlpha(),m=o.getImageWidth(0,0),c=o.getImageHeight(0,0),{compressedTextureETC:u,compressedTextureS3TC:p}=s.capabilities,[d,h]=u?g?[1,37496]:[0,37492]:p?g?[3,33779]:[2,33776]:[13,6408];o.startTranscoding();const f=[];for(let e=0;e<l;e++)f.push(new Uint8Array(o.getImageTranscodedSizeInBytes(0,e,d))),o.transcodeImage(f[e],0,e,d,0,0);o.close(),o.delete();const w={...n,samplingMode:l>1?9987:9729,hasMipmap:l>1,internalFormat:h,width:m,height:c};return new t(s,w,{type:\"compressed\",levels:f})}export{l as createTextureFromBasis,o as estimateBasisTextureMemoryUsage,i as loadBasis};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{isPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import r from\"../../../webgl/Texture.js\";const n=e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),o=542327876,a=131072,i=4;function s(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function l(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const u=s(\"DXT1\"),c=s(\"DXT3\"),m=s(\"DXT5\"),h=31,d=0,p=1,g=2,f=3,w=4,x=7,C=20,D=21;function b(e,t,n,o){const{textureData:a,internalFormat:i,width:s,height:l}=A(n,o);t.samplingMode=a.levels.length>1?9987:9729,t.hasMipmap=a.levels.length>1,t.internalFormat=i,t.width=s,t.height=l;const u=new r(e,t,a);return e.bindTexture(u,0),u}function A(e,r){const s=new Int32Array(e,0,h);if(s[d]!==o)return n.error(\"Invalid magic number in DDS header\"),null;if(!(s[C]&i))return n.error(\"Unsupported format, must contain a FourCC code\"),null;const b=s[D];let A,v;switch(b){case u:A=8,v=33776;break;case c:A=16,v=33778;break;case m:A=16,v=33779;break;default:return n.error(\"Unsupported FourCC code:\",l(b)),null}let F=1,M=s[w],T=s[f];0==(3&M)&&0==(3&T)||(n.warn(\"Rounding up compressed texture size to nearest multiple of 4.\"),M=M+3&-4,T=T+3&-4);const U=M,j=T;let k,y;s[g]&a&&!1!==r&&(F=Math.max(1,s[x])),1===F||t(M)&&t(T)||(n.warn(\"Ignoring mipmaps of non power of two sized compressed texture.\"),F=1);let I=s[p]+4;const S=[];for(let t=0;t<F;++t)y=(M+3>>2)*(T+3>>2)*A,k=new Uint8Array(e,I,y),S.push(k),I+=y,M=Math.max(1,M>>1),T=Math.max(1,T>>1);return{textureData:{type:\"compressed\",levels:S},internalFormat:v,width:U,height:j}}export{b as createDDSTexture,A as createDDSTextureData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{isArrayBuffer as t,isUint8Array as r}from\"../../../../core/typedArrayUtil.js\";import{isNone as i,isSome as s}from\"../../../../core/maybe.js\";import a from\"../../../../core/Error.js\";import{isBlobProtocol as o,isDataProtocol as n}from\"../../../../core/urlUtils.js\";import{createAbortController as h,onAbort as l,createAbortError as m}from\"../../../../core/promiseUtils.js\";import p from\"../../../../core/Evented.js\";import{isPowerOfTwo as d,nextHighestPowerOfTwo as u}from\"../../../../core/mathUtils.js\";import{loadImageAsync as c}from\"../../../../support/requestUtils.js\";import{ContentObject as g}from\"./ContentObject.js\";import{assert as f}from\"./Util.js\";import{requestImage as w}from\"../../../../support/requestImageUtils.js\";import T from\"../../../webgl/capabilities/isWebGL2Context.js\";import x from\"../../../webgl/Texture.js\";import{vertexCount as D}from\"../../../webgl/Util.js\";import{createQuadVAO as M}from\"./glUtil3D.js\";import y from\"../../../webgl/FramebufferObject.js\";import{estimateBasisTextureMemoryUsage as F,createTextureFromBasis as b}from\"./BasisUtil.js\";import{createDDSTexture as I}from\"./DDSUtil.js\";class E extends g{constructor(e,t){super(),this.data=e,this.type=4,this.glTexture=null,this.powerOfTwoStretchInfo=null,this.loadingPromise=null,this.loadingController=null,this.events=new p,this.params=t||{},this.params.mipmap=!1!==this.params.mipmap,this.params.noUnpackFlip=this.params.noUnpackFlip||!1,this.params.preMultiplyAlpha=this.params.preMultiplyAlpha||!1,this.params.wrap=this.params.wrap||{s:10497,t:10497},this.params.powerOfTwoResizeMode=this.params.powerOfTwoResizeMode||1,this.estimatedTexMemRequired=E.estimateTexMemRequired(this.data,this.params),this.startPreload()}startPreload(){const e=this.data;i(e)||(e instanceof HTMLVideoElement?this.startPreloadVideoElement(e):e instanceof HTMLImageElement&&this.startPreloadImageElement(e))}startPreloadVideoElement(e){o(e.src)||\"auto\"===e.preload&&e.crossOrigin||(e.preload=\"auto\",e.crossOrigin=\"anonymous\",e.src=e.src)}startPreloadImageElement(e){n(e.src)||o(e.src)||e.crossOrigin||(e.crossOrigin=\"anonymous\",e.src=e.src)}static getDataDimensions(e){return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e}static estimateTexMemRequired(e,s){if(i(e))return 0;if(t(e)||r(e))return s.encoding===E.BASIS_ENCODING?F(e):e.byteLength;const{width:a,height:o}=e instanceof Image||e instanceof ImageData||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement?E.getDataDimensions(e):s;return(s.mipmap?4/3:1)*a*o*(s.components||4)||0}dispose(){this.data=void 0}get width(){return this.params.width}get height(){return this.params.height}createDescriptor(e){const t=this.params.mipmap&&!this.params.disableAnisotropy;return{target:3553,pixelFormat:6408,dataType:5121,wrapMode:this.params.wrap,flipped:!this.params.noUnpackFlip,samplingMode:this.params.mipmap?9987:9729,hasMipmap:this.params.mipmap,preMultiplyAlpha:this.params.preMultiplyAlpha,maxAnisotropy:t?e.parameters.maxMaxAnisotropy:void 0}}load(e,a){if(s(this.glTexture))return this.glTexture;if(s(this.loadingPromise))return this.loadingPromise;const o=this.data;return i(o)?(this.glTexture=new x(e,this.createDescriptor(e),null),e.bindTexture(this.glTexture,0),this.glTexture):\"string\"==typeof o?this.loadFromURL(e,a,o):o instanceof Image?this.loadFromImageElement(e,a,o):o instanceof HTMLVideoElement?this.loadFromVideoElement(e,a,o):o instanceof ImageData||o instanceof HTMLCanvasElement?this.loadFromImage(e,o,a):(t(o)||r(o))&&this.params.encoding===E.DDS_ENCODING?this.loadFromDDSData(e,o):(t(o)||r(o))&&this.params.encoding===E.BASIS_ENCODING?this.loadFromBasis(e,o):r(o)?this.loadFromPixelData(e,o):t(o)?this.loadFromPixelData(e,new Uint8Array(o)):null}get requiresFrameUpdates(){return this.data instanceof HTMLVideoElement}frameUpdate(e,t,r){if(!(this.data instanceof HTMLVideoElement)||i(this.glTexture))return r;if(this.data.readyState<2||r===this.data.currentTime)return r;if(s(this.powerOfTwoStretchInfo)){const{framebuffer:r,vao:i,sourceTexture:s}=this.powerOfTwoStretchInfo;s.setData(this.data),this.drawStretchedTexture(e,t,r,i,s,this.glTexture)}else{const{width:e,height:t}=this.data,{width:r,height:i}=this.glTexture.descriptor;e!==r||t!==i?this.glTexture.updateData(0,0,0,Math.min(e,r),Math.min(t,i),this.data):this.glTexture.setData(this.data)}return this.glTexture.descriptor.hasMipmap&&this.glTexture.generateMipmap(),this.data.currentTime}loadFromDDSData(e,t){return this.glTexture=I(e,this.createDescriptor(e),t,this.params.mipmap),e.bindTexture(this.glTexture,0),this.glTexture}loadFromBasis(e,t){return this.loadAsync((()=>b(e,this.createDescriptor(e),t).then((e=>(this.glTexture=e,e)))))}loadFromPixelData(e,t){f(this.params.width>0&&this.params.height>0);const r=this.createDescriptor(e);return r.pixelFormat=1===this.params.components?6409:3===this.params.components?6407:6408,r.width=this.params.width,r.height=this.params.height,this.glTexture=new x(e,r,t),e.bindTexture(this.glTexture,0),this.glTexture}async loadAsync(e){const t=h();this.loadingController=t;const r=e(t.signal);this.loadingPromise=r;const i=()=>{this.loadingController===t&&(this.loadingController=null),this.loadingPromise===r&&(this.loadingPromise=null)};return r.then(i,i),r}loadFromURL(e,t,r){return this.loadAsync((async i=>{const s=await w(r,{signal:i});return this.loadFromImage(e,s,t)}))}loadFromImageElement(e,t,r){return r.complete?this.loadFromImage(e,r,t):this.loadAsync((async i=>{const s=await c(r,r.src,!1,i);return this.loadFromImage(e,s,t)}))}loadFromVideoElement(e,t,r){return r.readyState>=2?this.loadFromImage(e,r,t):this.loadFromVideoElementAsync(e,t,r)}loadFromVideoElementAsync(e,t,r){return this.loadAsync((i=>new Promise(((o,n)=>{const h=()=>{r.removeEventListener(\"loadeddata\",p),r.removeEventListener(\"error\",d),s(u)&&u.remove()},p=()=>{r.readyState>=2&&(h(),o(this.loadFromImage(e,r,t)))},d=e=>{h(),n(e||new a(\"Failed to load video\"))};r.addEventListener(\"loadeddata\",p),r.addEventListener(\"error\",d);const u=l(i,(()=>d(m())))}))))}loadFromImage(e,t,r){const i=E.getDataDimensions(t);this.params.width=i.width,this.params.height=i.height;const s=this.createDescriptor(e);return s.pixelFormat=3===this.params.components?6407:6408,!this.requiresPowerOfTwo(e,s)||d(i.width)&&d(i.height)?(s.width=i.width,s.height=i.height,this.glTexture=new x(e,s,t),e.bindTexture(this.glTexture,0),this.glTexture):(this.glTexture=this.makePowerOfTwoTexture(e,t,i,s,r),e.bindTexture(this.glTexture,0),this.glTexture)}requiresPowerOfTwo(e,t){const r=33071,i=\"number\"==typeof t.wrapMode?t.wrapMode===r:t.wrapMode.s===r&&t.wrapMode.t===r;return!T(e.gl)&&(t.hasMipmap||!i)}makePowerOfTwoTexture(t,r,i,s,a){const{width:o,height:n}=i,h=u(o),l=u(n);let m;switch(s.width=h,s.height=l,this.params.powerOfTwoResizeMode){case 2:s.textureCoordinateScaleFactor=[o/h,n/l],m=new x(t,s),m.updateData(0,0,0,o,n,r);break;case 1:case null:case void 0:m=this.stretchToPowerOfTwo(t,r,s,a);break;default:e(this.params.powerOfTwoResizeMode)}return s.hasMipmap&&m.generateMipmap(),m}stretchToPowerOfTwo(e,t,r,i){const s=new x(e,r),a=new y(e,{colorTarget:0,depthStencilTarget:0},s),o=new x(e,{target:3553,pixelFormat:r.pixelFormat,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!!r.flipped,maxAnisotropy:8,preMultiplyAlpha:r.preMultiplyAlpha},t),n=M(e);return this.drawStretchedTexture(e,i,a,n,o,s),this.requiresFrameUpdates?this.powerOfTwoStretchInfo={vao:n,sourceTexture:o,framebuffer:a}:(n.dispose(!0),o.dispose(),a.detachColorTexture(),e.bindFramebuffer(null),a.dispose()),s}drawStretchedTexture(e,t,r,i,s,a){e.bindFramebuffer(r);const o=e.getViewport();e.setViewport(0,0,a.descriptor.width,a.descriptor.height);const n=t.program;e.bindProgram(n),n.setUniform4f(\"color\",1,1,1,1),n.setUniform1i(\"tex\",0),e.bindTexture(s,0),e.bindVAO(i),e.setPipelineState(t.pipeline),e.drawArrays(5,0,D(i,\"geometry\")),e.bindFramebuffer(null),e.setViewport(o.x,o.y,o.width,o.height)}unload(){if(s(this.powerOfTwoStretchInfo)){const{framebuffer:e,vao:t,sourceTexture:r}=this.powerOfTwoStretchInfo;t.dispose(!0),r.dispose(),e.dispose(),this.glTexture=null,this.powerOfTwoStretchInfo=null}if(s(this.glTexture)&&(this.glTexture.dispose(),this.glTexture=null),s(this.loadingController)){const e=this.loadingController;this.loadingController=null,this.loadingPromise=null,e.abort()}this.events.emit(\"unloaded\")}}E.DDS_ENCODING=\"image/vnd-ms.dds\",E.BASIS_ENCODING=\"image/x.basis\";export{E as Texture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"./Program.js\";import r from\"./BufferObject.js\";import t from\"./Texture.js\";import i from\"./VertexArrayObject.js\";import o from\"./FramebufferObject.js\";async function n(n){const a=new Image;if(a.src=\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\",a.width=5,a.height=5,await a.decode(),!n.gl)return!0;const s=new o(n,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1}),p=r.createVertex(n,35044,new Uint16Array([0,0,1,0,0,1,1,1])),m=new i(n,{a_pos:0},{geometry:[{name:\"a_pos\",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:p}),d=new e(n,\"\\n  precision highp float;\\n\\n  attribute vec2 a_pos;\\n  varying vec2 v_uv;\\n\\n  void main() {\\n    v_uv = a_pos;\\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n  }\\n  \",\"\\n  precision highp float;\\n\\n  varying vec2 v_uv;\\n  uniform sampler2D u_texture;\\n\\n  void main() {\\n    gl_FragColor = texture2D(u_texture, v_uv);\\n  }\\n  \",{a_pos:0});n.bindProgram(d);const g=new t(n,{dataType:5121,pixelFormat:6408,preMultiplyAlpha:!1,wrapMode:33071,samplingMode:9729},a);n.bindTexture(g,0),d.setUniform1i(\"u_texture\",0);const c=n.getBoundFramebufferObject(),{x:f,y:u,width:l,height:w}=n.getViewport();n.bindFramebuffer(s),n.setViewport(0,0,1,1),n.bindVAO(m),n.drawArrays(5,0,4);const h=new Uint8Array(4);return s.readPixels(0,0,1,1,6408,5121,h),d.dispose(),m.dispose(!1),p.dispose(),s.dispose(),g.dispose(),n.setViewport(f,u,l,w),n.bindFramebuffer(c),a.src=\"\",255===h[0]}export{n as testSVGPremultipliedAlpha};\n"],"sourceRoot":""}