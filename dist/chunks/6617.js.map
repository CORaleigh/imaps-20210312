{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/_commonjsHelpers.js","webpack://imaps/./node_modules/@arcgis/core/core/MemCache.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/simplify.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://imaps/./node_modules/@arcgis/core/tasks/geometry/cut.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/quantizationUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/FieldsIndex.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/viewUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/InteractiveToolViewModel.js"],"names":["globalThis","window","global","self","n","e","__esModule","Object","prototype","hasOwnProperty","call","default","o","path","exports","require","r","Error","s","t","this","_namespace","_storage","_removeFunc","_hit","_miss","register","registerRemoveFunc","slice","size","maxSize","clear","deregisterRemoveFunc","deregister","i","put","get","pop","updateSize","clearAll","getStats","resetStats","_maxSize","_db","Map","_size","_removeFuncs","_users","push","removeUnordered","filter","Math","max","_checkSizeLimit","h","delete","entry","_notifyRemoved","console","warn","_","set","lifetime","lives","Size","round","_getHitRate","Entries","toString","Array","forEach","forAll","namespace","startsWith","isNaN","hitRate","keys","sort","length","resetHitRate","a","H","u","m","f","min","M","c","I","y","N","p","F","Y","q","w","A","B","D","O","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","P","k","J","xmin","ymin","xmax","ymax","spatialReference","x","g","b","j","z","async","query","sr","wkid","JSON","stringify","geometries","map","fromJSON","data","geometryType","toJSON","d","type","error","l","sqrt","floor","rings","paths","R","isArray","clone","offset","cutIndexes","some","toFixed","getPoint","setPoint","addRing","addPath","L","url","U","v","isWebMercator","maxX","minX","plus180Line","minus180Line","points","_normalize","extent","intersects","X","C","target","cutter","shift","Promise","resolve","valid","102100","4326","ceil","originPosition","scale","tolerance","translate","T","G","S","zmin","zmax","mmin","mmax","E","toLowerCase","trim","fields","_fieldsMap","_dateFieldsSet","Set","dateFields","name","add","uid","join","has","projectToRenderScreen","state","camera","renderCoordsHelper","toRenderCoords","renderToScreen","super","tool","_baseHandles","_loggedUnsupportedErrorOnce","_creationAbortController","visible","view","ready","isSupported","logUnsupportedError","removeTool","destroy","supportedViewType","_get","_set","remove","tools","on","removed","destroyed","abort","active","reject","createToolParams","constructorArguments","AbortController","signal","createTool","toolConstructor","constructOnly","value","Boolean","readOnly"],"mappings":"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","file":"chunks/6617.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nvar e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,n,o){return e(o={path:n,exports:{},require:function(e,n){return r(e,null==n?o.path:n)}},o.exports),o.exports}function r(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}export{e as a,r as b,o as c,n as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3;class s{constructor(t,e,s){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=\":\",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(t,e,s,i=0){this._storage.put(this._namespace+t,e,s,i)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,s){this._storage.updateSize(this._namespace+t,e,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new t}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs=this._removeFuncs.filter((e=>e[0]!==t))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,s,i,h){const r=this._db.get(t);if(r&&(this._size-=r.size,this._db.delete(t),r.entry!==s&&this._notifyRemoved(t,r.entry)),i>this._maxSize)return void this._notifyRemoved(t,s);if(void 0===s)return void console.warn(\"Refusing to cache undefined entry \");if(!i||i<0)return void console.warn(\"Refusing to cache entry with invalid size \"+i);const _=1+Math.max(h,e)-e;this._db.set(t,{entry:s,size:i,lifetime:_,lives:_}),this._size+=i,this._checkSizeLimit()}updateSize(t,e,s){const i=this._db.get(t);if(i&&i.entry===e){if(this._size-=i.size,s>this._maxSize)return this._db.delete(t),void this._notifyRemoved(t,e);i.size=s,this._size+=s,this._checkSizeLimit()}}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},s={},i=new Array;this._db.forEach(((t,e)=>{const h=t.lifetime;i[h]=(i[h]||0)+t.size,this._users.forAll((i=>{const h=i.namespace;if(e.startsWith(h)){const e=s[h]||0;s[h]=e+t.size}}))}));const h={};this._users.forAll((t=>{const e=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const i=s[e]||0;s[e]=i,h[e]=Math.round(100*t.hitRate)+\"%\"}else h[e]=\"0%\"}));const r=Object.keys(s);r.forEach((t=>s[t]=s[t]/this._size*100)),r.sort(((t,e)=>s[e]-s[t])),r.forEach((e=>t[e]=Math.round(s[e])+\"% / \"+h[e]));for(let _=i.length-1;_>=0;--_){const s=i[_];s&&(t[\"Priority \"+(_+e-1)]=Math.round(s/this.size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemoved(s,e.entry))}))}clearAll(){this._db.forEach(((t,e)=>this._notifyRemoved(e,t.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(t,e){this._removeFuncs.forEach((s=>{t.startsWith(s[0])&&s[1](e)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db)if(this._db.delete(t),e.lives<=1?(this._size-=e.size,this._notifyRemoved(t,e.entry)):(--e.lives,this._db.set(t,e)),this._size<=.9*this.maxSize)return}}export{e as MIN_PRIORITY,s as MemCache,i as MemCacheStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../core/maybe.js\";import t from\"../Extent.js\";import{create as r}from\"./aaBoundingRect.js\";function i(n){return n}function a(n=H){return i([n[0],n[1],n[2],n[3],n[4],n[5]])}function u(n,t,r,i,u,e,m=a()){return m[0]=n,m[1]=t,m[2]=r,m[3]=i,m[4]=u,m[5]=e,m}function e(n,t=a()){return t[0]=n.xmin,t[1]=n.ymin,t[2]=n.zmin,t[3]=n.xmax,t[4]=n.ymax,t[5]=n.zmax,t}function m(n,r){const i=isFinite(n[2])||isFinite(n[5]);return new t(i?{xmin:n[0],xmax:n[3],ymin:n[1],ymax:n[4],zmin:n[2],zmax:n[5],spatialReference:r}:{xmin:n[0],xmax:n[3],ymin:n[1],ymax:n[4],spatialReference:r})}function o(n,t,r=a()){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r}function f(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[2]=Math.min(n[2],t[2]),n[3]=Math.max(n[3],t[3]),n[4]=Math.max(n[4],t[4]),n[5]=Math.max(n[5],t[5])}function c(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[3]=Math.max(n[3],t[2]),n[4]=Math.max(n[4],t[3])}function h(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[2]=Math.min(n[2],t[2]),n[3]=Math.max(n[3],t[0]),n[4]=Math.max(n[4],t[1]),n[5]=Math.max(n[5],t[2])}function M(n,t,r=0,i=t.length/3){let a=n[0],u=n[1],e=n[2],m=n[3],o=n[4],f=n[5];for(let c=0;c<i;c++)a=Math.min(a,t[r+3*c]),u=Math.min(u,t[r+3*c+1]),e=Math.min(e,t[r+3*c+2]),m=Math.max(m,t[r+3*c]),o=Math.max(o,t[r+3*c+1]),f=Math.max(f,t[r+3*c+2]);n[0]=a,n[1]=u,n[2]=e,n[3]=m,n[4]=o,n[5]=f}function x(n,t,r,i){n[0]=Math.min(n[0],n[0]+t),n[3]=Math.max(n[3],n[3]+t),n[1]=Math.min(n[1],n[1]+r),n[4]=Math.max(n[4],n[4]+r),n[2]=Math.min(n[2],n[2]+i),n[5]=Math.max(n[5],n[5]+i)}function s(n,t,r){const i=t.length;let a=n[0],u=n[1],e=n[2],m=n[3],o=n[4],f=n[5];if(r)for(let c=0;c<i;c++){const n=t[c];a=Math.min(a,n[0]),u=Math.min(u,n[1]),e=Math.min(e,n[2]),m=Math.max(m,n[0]),o=Math.max(o,n[1]),f=Math.max(f,n[2])}else for(let c=0;c<i;c++){const n=t[c];a=Math.min(a,n[0]),u=Math.min(u,n[1]),m=Math.max(m,n[0]),o=Math.max(o,n[1])}n[0]=a,n[1]=u,n[2]=e,n[3]=m,n[4]=o,n[5]=f}function l(n){for(let t=0;t<6;t++)if(!isFinite(n[t]))return!1;return!0}function I(n){return n[0]>=n[3]?0:n[3]-n[0]}function y(n){return n[1]>=n[4]?0:n[4]-n[1]}function N(n){return n[2]>=n[5]?0:n[5]-n[2]}function g(n){const t=I(n),r=N(n),i=y(n);return Math.sqrt(t*t+r*r+i*i)}function p(n,t=[0,0,0]){return t[0]=n[0]+I(n)/2,t[1]=n[1]+y(n)/2,t[2]=n[2]+N(n)/2,t}function F(n,t=[0,0,0]){return t[0]=I(n),t[1]=y(n),t[2]=N(n),t}function z(n){return Math.max(I(n),N(n),y(n))}function E(n,t){return t[0]>=n[0]&&t[1]>=n[1]&&t[2]>=n[2]&&t[0]<=n[3]&&t[1]<=n[4]&&t[2]<=n[5]}function T(n,t,r){return t[0]>=n[0]-r&&t[1]>=n[1]-r&&t[2]>=n[2]-r&&t[0]<=n[3]+r&&t[1]<=n[4]+r&&t[2]<=n[5]+r}function b(n,t){return t[0]>=n[0]&&t[1]>=n[1]&&t[2]>=n[2]&&t[3]<=n[3]&&t[4]<=n[4]&&t[5]<=n[5]}function j(n,t){return Math.max(t[0],n[0])<=Math.min(t[3],n[3])&&Math.max(t[1],n[1])<=Math.min(t[4],n[4])&&Math.max(t[2],n[2])<=Math.min(t[5],n[5])}function R(t,r){return!!n(r)||j(t,r)}function V(n,t,r,i,a=n){return a[0]=n[0]+t,a[1]=n[1]+r,a[2]=n[2]+i,a[3]=n[3]+t,a[4]=n[4]+r,a[5]=n[5]+i,a}function Y(n,t,r=n){const i=n[0]+I(n)/2,a=n[1]+y(n)/2,u=n[2]+N(n)/2;return r[0]=i+(n[0]-i)*t,r[1]=a+(n[1]-a)*t,r[2]=u+(n[2]-u)*t,r[3]=i+(n[3]-i)*t,r[4]=a+(n[4]-a)*t,r[5]=u+(n[5]-u)*t,r}function _(n,t){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function d(n,t){return t[0]=n[3],t[1]=n[4],t[2]=n[5],t}function q(n,t,r=n){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==n&&(r[3]=n[3],r[4]=n[4],r[5]=n[5]),r}function w(n,t,r=n){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==n&&(r[0]=n[0],r[1]=n[1],r[2]=n[2]),n}function A(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function B(n){return n?A(n,D):a(D)}function G(n,t){return t||(t=r()),t[0]=n[0],t[1]=n[1],t[2]=n[3],t[3]=n[4],t}function O(n,t){return n[0]=t[0],n[1]=t[1],n[2]=Number.NEGATIVE_INFINITY,n[3]=t[2],n[4]=t[3],n[5]=Number.POSITIVE_INFINITY,n}function P(n){return 6===n.length}function S(n){return 0===I(n)&&0===y(n)&&0===N(n)}function k(t,r,i){if(n(t)||n(r))return t===r;if(!P(t)||!P(r))return!1;if(i){for(let n=0;n<t.length;n++)if(!i(t[n],r[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}function v(n,t,r,i,a,e){return u(n,t,r,i,a,e,J)}const C=i([-1/0,-1/0,-1/0,1/0,1/0,1/0]),D=i([1/0,1/0,1/0,-1/0,-1/0,-1/0]),H=i([0,0,0,0,0,0]),J=a();export{D as NEGATIVE_INFINITY,C as POSITIVE_INFINITY,H as ZERO,l as allFinite,p as center,b as contains,E as containsPoint,T as containsPointWithMargin,a as create,y as depth,g as diameter,B as empty,k as equals,f as expandWithAABB,M as expandWithBuffer,s as expandWithNestedArray,x as expandWithOffset,c as expandWithRect,h as expandWithVec3,e as fromExtent,o as fromMinMax,O as fromRect,u as fromValues,d as getMax,_ as getMin,N as height,j as intersects,R as intersectsClippingArea,P as is,S as isPoint,z as maximumDimension,V as offset,Y as scale,A as set,w as setMax,q as setMin,F as size,m as toExtent,G as toRect,I as width,v as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import n from\"../Extent.js\";function t(n){return n}function r(n=J){return t([n[0],n[1],n[2],n[3]])}function i(n){return t([n[0],n[1],n[2],n[3]])}function u(n,t,i,u,e=r()){return e[0]=n,e[1]=t,e[2]=i,e[3]=u,e}function e(n,t=r()){return t[0]=n.xmin,t[1]=n.ymin,t[2]=n.xmax,t[3]=n.ymax,t}function a(t,r){return new n({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:r})}function o(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])}function f(n,t,r=n){if(\"length\"in t)B(t)?(r[0]=Math.min(n[0],t[0]),r[1]=Math.min(n[1],t[1]),r[2]=Math.max(n[2],t[2]),r[3]=Math.max(n[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(n[0],t[0]),r[1]=Math.min(n[1],t[1]),r[2]=Math.max(n[2],t[0]),r[3]=Math.max(n[3],t[1]));else switch(t.type){case\"extent\":r[0]=Math.min(n[0],t.xmin),r[1]=Math.min(n[1],t.ymin),r[2]=Math.max(n[2],t.xmax),r[3]=Math.max(n[3],t.ymax);break;case\"point\":r[0]=Math.min(n[0],t.x),r[1]=Math.min(n[1],t.y),r[2]=Math.max(n[2],t.x),r[3]=Math.max(n[3],t.y)}return r}function c(n,t,r=n){const i=t.length;let u=n[0],e=n[1],a=n[2],o=n[3];for(let f=0;f<i;f++){const n=t[f];u=Math.min(u,n[0]),e=Math.min(e,n[1]),a=Math.max(a,n[0]),o=Math.max(o,n[1])}return r[0]=u,r[1]=e,r[2]=a,r[3]=o,r}function m(n){for(let t=0;t<4;t++)if(!isFinite(n[t]))return!1;return!0}function h(n){return n[0]>=n[2]?0:n[2]-n[0]}function x(n){return n[1]>=n[3]?0:n[3]-n[1]}function M(n){const t=h(n),r=x(n);return Math.sqrt(t*t+r*r)}function s(n){return h(n)*x(n)}function l(n,t=[0,0]){return t[0]=(n[0]+n[2])/2,t[1]=(n[1]+n[3])/2,t}function y(n,t){return p(n,t[0],t[1])}function g(n,t){return p(n,t.x,t.y)}function p(n,t,r){return t>=n[0]&&r>=n[1]&&t<=n[2]&&r<=n[3]}function b(n,t,r){return t[0]>=n[0]-r&&t[1]>=n[1]-r&&t[0]<=n[2]+r&&t[1]<=n[3]+r}function F(n,t){return Math.max(t[0],n[0])<=Math.min(t[2],n[2])&&Math.max(t[1],n[1])<=Math.min(t[3],n[3])}function j(n,t){return t[0]>=n[0]&&t[2]<=n[2]&&t[1]>=n[1]&&t[3]<=n[3]}function q(n,t,r=n){const i=t[0],u=t[1],e=t[2],a=t[3];return r[0]=G(n[0],i,e),r[1]=G(n[1],u,a),r[2]=G(n[2],i,e),r[3]=G(n[3],u,a),r}function w(n,t){const r=(n[0]+n[2])/2,i=(n[1]+n[3])/2,u=Math.max(Math.abs(t[0]-r)-h(n)/2,0),e=Math.max(Math.abs(t[1]-i)-x(n)/2,0);return Math.sqrt(u*u+e*e)}function k(n,t){t[0]=n[2]-n[0],t[1]=n[3]-n[1]}function E(n,t,r,i=n){return i[0]=n[0]+t,i[1]=n[1]+r,i[2]=n[2]+t,i[3]=n[3]+r,i}function R(n,t,r=n){return r[0]=n[0]-t,r[1]=n[1]-t,r[2]=n[2]+t,r[3]=n[3]+t,r}function d(n,t,r=n){return r[0]=t[0],r[1]=t[1],r!==n&&(r[2]=n[2],r[3]=n[3]),r}function v(n,t,r=n){return r[2]=t[0],r[3]=t[1],r!==n&&(r[0]=n[0],r[1]=n[1]),n}function z(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function A(n){return n?z(n,I):r(I)}function B(n){return 4===n.length}function C(n){return!(0!==h(n)&&isFinite(n[0])||0!==x(n)&&isFinite(n[1]))}function D(n,t,r){if(null==n||null==t)return n===t;if(!B(n)||!B(t))return!1;if(r){for(let i=0;i<n.length;i++)if(!r(n[i],t[i]))return!1}else for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}function G(n,t,r){return n<t?t:n>r?r:n}const H=t([-1/0,-1/0,1/0,1/0]),I=t([1/0,1/0,-1/0,-1/0]),J=t([0,0,0,0]),K=t([0,0,1,1]);export{I as NEGATIVE_INFINITY,H as POSITIVE_INFINITY,K as UNIT,J as ZERO,m as allFinite,s as area,l as center,i as clone,j as contains,y as containsPoint,g as containsPointObject,b as containsPointWithMargin,p as containsXY,r as create,M as diameter,w as distance,A as empty,D as equals,f as expand,o as expandPointInPlace,c as expandWithNestedArray,e as fromExtent,u as fromValues,x as height,q as intersection,F as intersects,B as is,C as isPoint,E as offset,R as pad,z as set,v as setMax,d as setMin,k as size,a as toExtent,h as width};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import{getJsonType as t,getGeometryType as e}from\"../../geometry/support/jsonUtils.js\";import o from\"../../request.js\";async function i(e,i,f){const m=\"string\"==typeof e?r(e):e,p=i[0].spatialReference,a=t(i[0]),u={...f,query:{...m.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await o(m.path+\"/simplify\",u)).data,a,p)}function s(r){return{geometryType:t(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,o){const i=e(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}export{i as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import{isNone as e,isSome as n}from\"../../core/maybe.js\";import o from\"../../core/Logger.js\";import s from\"../../core/Error.js\";import{getInfo as r}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as i,webMercatorToGeographic as l}from\"./webMercatorUtils.js\";import f from\"../Polygon.js\";import c from\"../Polyline.js\";import{getGeometryParts as p,cutParams as u,offsetMagnitude as a,updatePolyGeometry as h}from\"./normalizeUtilsCommon.js\";import{cut as m}from\"../../tasks/geometry/cut.js\";import{simplify as g}from\"../../tasks/geometry/simplify.js\";const y=o.getLogger(\"esri.geometry.support.normalizeUtils\");function x(t){return\"polygon\"===t.type}function d(t){return\"polygon\"===t[0].type}function w(t){return\"polyline\"===t[0].type}function j(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function R(t,e){if(!(t instanceof c||t instanceof f)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(t),new s(t)}const n=p(t),o=[];for(const s of n){const t=[];o.push(t),t.push([s[0][0],s[0][1]]);for(let n=0;n<s.length-1;n++){const o=s[n][0],r=s[n][1],i=s[n+1][0],l=s[n+1][1],f=Math.sqrt((i-o)*(i-o)+(l-r)*(l-r)),c=(l-r)/f,p=(i-o)/f,u=f/e;if(u>1){for(let l=1;l<=u-1;l++){const n=l*e,s=p*n+o,i=c*n+r;t.push([s,i])}const n=(f+Math.floor(u-1)*e)/2,s=p*n+o,i=c*n+r;t.push([s,i])}t.push([i,l])}}return x(t)?new f({rings:o,spatialReference:t.spatialReference}):new c({paths:o,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=l(e,!0)}return n&&(t=h(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=a(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=a(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=a(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=a(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=p(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*a(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(d(t))for(const e of p(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of p(r))t[s]=t[s].addPath(e)}else n=s,t[s]=r}return t}async function L(o,s,l){if(!Array.isArray(o))return L([o],s);const p=s?s.url:t.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t of o)if(e(t))z.push(t);else if(y||(y=t.spatialReference,x=r(y),d=y.isWebMercator,R=d?102100:4326,w=u[R].maxX,j=u[R].minX,U=u[R].plus180Line,k=u[R].minus180Line),x)if(\"mesh\"===t.type)z.push(t);else if(\"point\"===t.type)z.push(P(t.clone(),w,j));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,x);z.push(e.rings?new f(e):e)}else if(t.extent){const e=t.extent,n=a(e.xmin,j)*(2*w);let o=0===n?t.clone():h(t.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push(\"cut\")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push(\"cut\")):z.push(o)}else z.push(t.clone());else z.push(t);let I=a(v,w),X=-90;const q=I,C=new c;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--}if(A.length>0&&q>0){const t=b(A,await m(p,A,C,l)),e=[],s=[];for(let l=0;l<z.length;l++){const r=z[l];if(\"cut\"!==r)s.push(r);else{const r=t.shift(),f=o[l];n(f)&&\"polygon\"===f.type&&f.rings&&f.rings.length>1&&r.rings.length>=f.rings.length?(e.push(r),s.push(\"simplify\")):s.push(d?i(r):r)}}if(!e.length)return s;const r=await g(p,e,l),f=[];for(let n=0;n<s.length;n++){const t=s[n];\"simplify\"!==t?f.push(t):f.push(d?i(r.shift()):r.shift())}return f}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if(\"cut\"!==e)D.push(e);else{const t=A.shift();D.push(!0===d?i(t):t)}}return Promise.resolve(D)}function U(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&r(t.spatialReference);if(!n)return e;const[o,s]=n.valid,i=2*s,{width:l}=e;let f,{xmin:c,xmax:p}=e;if([c,p]=[p,c],\"extent\"===t.type||0===l||l<=s||l>i||c<o||p>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;f=j(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;f=j(t.paths);break;case\"multipoint\":f=t.points}const u=e.clone();for(let r=0;r<f.length;r++){let t=f[r][0];t<0?(t+=s,p=Math.max(t,p)):(t-=s,c=Math.min(t,c))}return u.xmin=c,u.xmax=p,u.width<l?(u.xmin-=s,u.xmax-=s,u):e}function k(t,e){const n=r(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{U as getDenormalizedExtent,L as normalizeCentralMeridian,k as normalizeMapX,R as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{urlToObject as e}from\"../../core/urlUtils.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import\"../../geometry.js\";import s from\"../../request.js\";async function o(o,i,n,m){const p=\"string\"==typeof o?e(o):o,a=i[0].spatialReference,u={...m,query:{...p.query,f:\"json\",sr:JSON.stringify(a),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await s(p.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=a,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../SpatialReference.js\";import n from\"../Polyline.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator}),minus180Line:new n({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:e.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n({paths:[[[180,-180],[180,180]]],spatialReference:e.WGS84}),minus180Line:new n({paths:[[[-180,-180],[-180,180]]],spatialReference:e.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function o(e,n){const t=s(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s(e){return t(e)?e.rings:e.paths}function a(e){const n=(null==e?void 0:e.isWebMercator)?102100:4326;return[r[n].minX,r[n].maxX]}export{r as cutParams,s as getGeometryParts,a as getSpatialReferenceMinMaxX,i as offsetMagnitude,o as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isPoint as n,isPolyline as t,isPolygon as r,isMultipoint as e,isExtent as u}from\"./jsonUtils.js\";function i(n){return n&&\"upperLeft\"===n.originPosition}const o=(n,t,r)=>[t,r],l=(n,t,r)=>[t,r,n[2]],a=(n,t,r)=>[t,r,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:\"upper-left\"===n.originPosition?\"upperLeft\":\"lower-left\"===n.originPosition?\"lowerLeft\":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,o,l,a;return i(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),i(t)?(o=t.translate[0],l=t.translate[1],a=t.scale[0]):(o=t.extent.xmin,l=t.extent.ymax,a=t.tolerance),r===o&&e===l&&u===a}function s({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function f({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function x(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=s(n,m[0]),l=f(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=s(n,m[0]),i=f(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function h(n,t,r){return t[0]=s(n,r[0]),t[3]=f(n,r[1]),t[2]=s(n,r[2]),t[1]=f(n,r[3]),t}function I(n,t,r,e){return x(n,r?e?a:l:e?l:o,t)}function g(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let o=0;o<t.length;o++){const r=x(n,i,t[o]);r&&r.length>=3&&u.push(r)}return u.length?u:null}function N(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let o=0;o<t.length;o++){const r=x(n,i,t[o]);r&&r.length>=2&&u.push(r)}return u.length?u:null}function p({scale:n,translate:t},r){return r*n[0]+t[0]}function y({scale:n,translate:t},r){return t[1]-r*n[1]}function z(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=p(n,r[0][0]),l=y(n,r[0][1]);e[0]=t(r[0],o,l);for(let a=1;a<r.length;a++){const n=r[a];o+=n[0]*u,l-=n[1]*i,e[a]=t(n,o,l)}return e}function T(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=z(n,t,r[u]);return e}function M(n,t,r){return r?(t[0]=p(n,r[0]),t[1]=y(n,r[3]),t[2]=p(n,r[2]),t[3]=y(n,r[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,r,e){return z(n,r?e?a:l:e?l:o,t)}function P(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function b(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function F(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let m=1;m<r.length;m++){const[n,t]=r[m];e+=n,u+=t,n<0&&(i=Math.min(i,e)),n>0&&(l=Math.max(l,e)),t<0?o=Math.min(o,u):t>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)F(n,n,t[r]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,r,e,u){return t.xmin=s(n,r.xmin),t.ymin=f(n,r.ymin),t.xmax=s(n,r.xmax),t.ymax=f(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function G(n,t,r,e,u){return t.points=I(n,r.points,e,u),t}function L(n,t,r,e,u){return t.x=s(n,r.x),t.y=f(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function O(n,t,r,e,u){const i=g(n,r.rings,e,u);return i?(t.rings=i,t):null}function S(n,t,r,e,u){const i=N(n,r.paths,e,u);return i?(t.paths=i,t):null}function d(i,o){return i&&o?n(o)?L(i,{},o,!1,!1):t(o)?S(i,{},o,!1,!1):r(o)?O(i,{},o,!1,!1):e(o)?G(i,{},o,!1,!1):u(o)?w(i,{},o,!1,!1):null:null}function j(n,t,r,e,u){return t.xmin=p(n,r.xmin),t.ymin=y(n,r.ymin),t.xmax=p(n,r.xmax),t.ymax=y(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function U(n,t,r,e,u){return t.points=E(n,r.points,e,u),t}function k(n,t,r,e,u){return t.x=p(n,r.x),t.y=y(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function q(n,t,r,e,u){return t.rings=b(n,r.rings,e,u),t}function v(n,t,r,e,u){return t.paths=P(n,r.paths,e,u),t}export{c as equals,F as getQuantizedBoundsCoordsArray,V as getQuantizedBoundsCoordsArrayArray,_ as getQuantizedBoundsPaths,Y as getQuantizedBoundsPoints,A as getQuantizedBoundsRings,h as quantizeBounds,w as quantizeExtent,d as quantizeGeometry,G as quantizeMultipoint,N as quantizePaths,L as quantizePoint,I as quantizePoints,O as quantizePolygon,S as quantizePolyline,g as quantizeRings,s as quantizeX,f as quantizeY,m as toQuantizationTransform,M as unquantizeBounds,z as unquantizeCoordsArray,T as unquantizeCoordsArrayArray,j as unquantizeExtent,U as unquantizeMultipoint,P as unquantizePaths,k as unquantizePoint,E as unquantizePoints,q as unquantizePolygon,v as unquantizePolyline,b as unquantizeRings,p as unquantizeX,y as unquantizeY};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t){return\"date\"===t.type||\"esriFieldTypeDate\"===t.type}class e{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const i=[];for(const d of e){const e=d&&d.name;if(e){const a=s(e);this._fieldsMap.set(e,d),this._fieldsMap.set(a,d),i.push(a),t(d)&&(this.dateFields.push(d),this._dateFieldsSet.add(d))}}i.sort(),this.uid=i.join(\",\")}destroy(){this._fieldsMap.clear()}has(t){return null!=this.get(t)}get(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(s(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}normalizeFieldName(t){const e=this.get(t);if(e)return e.name}}function s(t){return t.toLowerCase().trim()}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{c as o}from\"../../../../../chunks/vec3f64.js\";import{s as t,b as s,a as c}from\"../../../../../chunks/vec3.js\";import{i as f,t as a,s as i}from\"../../../../../chunks/mat4.js\";import{e as u,f as m,d as p}from\"../../../../../chunks/vec2.js\";const h=o();function l(r,n){return{...r,...e(n)}}function d(e,r,n,o){for(;e.length<r;)e.push(n());if(o)for(;e.length>r;){o(e.pop())}else e.length=r}function j(e,r,n){f(n),a(n,n,r),t(h,e,e,e),i(n,n,h)}function g(e,r){if(t(r,0,0,0),e.length>0){for(let n=0;n<e.length;++n)s(r,r,e[n]);c(r,r,1/e.length)}}function k(e,r,n,o){o.projectToRenderScreen(e,b),o.projectToRenderScreen(r,H),u(n,U,x),m(n,n)}function R(e,r,n){const o=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,v),o.projectToRenderScreen(v,C),n.state.camera.renderToScreen(C,r)}function S(e,r,n){return R(e,w,n),R(r,y,n),p(w,y)}function T(e,r,n){return R(e,q,n),p(q,r)}const v=o(),C=r(),b=r(),x=b,H=r(),U=H,q=n(),w=n(),y=n();export{l as copyParameter,g as midpoint,S as pointToPointScreenDistance,T as pointToScreenPositionDistance,d as resizeArray,j as scaleTranslateMatrix,k as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../core/Accessor.js\";import i from\"../../core/Handles.js\";import{init as l}from\"../../core/watchUtils.js\";import{evaluateToolConstructorArguments as n}from\"../../views/interactive/interactiveToolUtils.js\";let p=class extends s{constructor(t){super(t),this.tool=null,this._baseHandles=new i,this._loggedUnsupportedErrorOnce=!1,this._creationAbortController=null,t&&null!=t.visible&&(this.visible=t.visible)}initialize(){this._baseHandles.add(l(this,[\"view.ready\",\"isSupported\"],(()=>{this.view&&this.view.ready&&!this.isSupported?this._loggedUnsupportedErrorOnce||(this.logUnsupportedError(),this._loggedUnsupportedErrorOnce=!0):this._loggedUnsupportedErrorOnce=!1})))}destroy(){this.removeTool(),this.view=null,this._baseHandles.destroy(),this._baseHandles=null}get isSupported(){return!this.view||this.view.type===this.supportedViewType}get view(){return this._get(\"view\")}set view(t){if(t===this.view)return;this.removeTool(),this._set(\"view\",t);const o=\"tools\";this._baseHandles.remove(o),t&&this._baseHandles.add(t.tools.on(\"change\",(t=>{if(this.tool)for(const o of t.removed)if(this.tool===o){o.destroyed||o.destroy(),this._set(\"tool\",null);break}})),o)}set visible(t){this._set(\"visible\",t),this.tool&&(this.tool.visible=t),!t&&this._creationAbortController&&(this._creationAbortController.abort(),this._creationAbortController=null)}get active(){return null!=this._creationAbortController||null!=this.tool&&this.tool.active}get isDisabled(){return!this.view||!this.view.ready||!this.isSupported}get creatingTool(){return!!this._creationAbortController}async createTool(){if(this.removeTool(),!this.isSupported)return Promise.reject(new r(\"tool:create\",\"The view does not support the tool\"));const t=this.createToolParams(),o=()=>{const o=n(t.constructorArguments);return{visible:this.visible,...o}},e=new AbortController,s=e.signal;this._creationAbortController=e;const i=()=>{e===this._creationAbortController&&(this._creationAbortController=null)};try{const e=await this.view.createTool(t.toolConstructor,o,{signal:s});this._set(\"tool\",e),i()}catch(l){throw i(),l}}removeTool(){this._creationAbortController&&this._creationAbortController.abort(),this._creationAbortController=null;const t=this.tool;t&&(this.view&&this.view.tools&&this.view.tools.remove(t),t.destroyed||t.destroy(),this._set(\"tool\",null))}};t([o({constructOnly:!0})],p.prototype,\"tool\",void 0),t([o()],p.prototype,\"isSupported\",null),t([o({value:null})],p.prototype,\"view\",null),t([o({type:Boolean,value:!0})],p.prototype,\"visible\",null),t([o()],p.prototype,\"active\",null),t([o()],p.prototype,\"isDisabled\",null),t([o()],p.prototype,\"_creationAbortController\",void 0),t([o({readOnly:!0})],p.prototype,\"creatingTool\",null),p=t([e(\"esri.widgets.support.InteractiveToolViewModel\")],p);export{p as InteractiveToolViewModel};\n"],"sourceRoot":""}