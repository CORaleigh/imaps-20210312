{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/LRUCache.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/commonProperties.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/LegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/SizeVariable.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/VisualVariable.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/SizeStop.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/SizeVariableLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/renderers/visualVariables/support/VisualVariableLegendOptions.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/ElevationInfo.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/ImageryLayerView.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryGraphicsView2D.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"names":["e","r","this","_storage","maxSize","registerRemoveFunc","t","put","pop","get","clearAll","s","type","Boolean","value","json","origins","read","source","i","screenSizePerspective","originOf","store","set","write","ignoreOrigin","target","n","a","name","reader","disablePopup","enabled","l","p","String","isRequired","writer","c","service","d","f","readOnly","u","Number","default","y","opacity","origin","drawingInfo","transparency","layerDefinition","m","dependsOn","layer","timeInfo","view","timeExtent","useViewTime","intersection","isEmpty","o","timeOffset","offset","unit","_get","equals","super","arguments","title","prototype","S","z","v","width","depth","height","widthAndDepth","all","w","unknown","inch","foot","yard","mile","millimeter","centimeter","decimeter","meter","kilometer","V","g","axis","legendOptions","normalizationField","scaleBy","useSymbolValue","valueExpression","valueRepresentation","valueUnit","ipData","_interpolateData","hasExpression","compiledFunc","isScaleDriven","warn","_set","index","minSize","stops","arcadeRequired","minDataValue","maxDataValue","Array","isArray","filter","sort","inputValueType","expression","messages","push","instance","propertyName","context","field","valueExpressionTitle","clone","map","transformationType","size","reverse","length","getAttributeHash","apiValues","jsonValues","colorInfo","transparencyInfo","rotationInfo","sizeInfo","error","label","cast","customValues","showLegend","slice","onTheGround","relativeToGround","relativeToScene","absoluteHeight","featureExpression","_isOverridden","featureExpressionInfo","_override","mode","nonNullable","Object","keys","popupEnabled","popupTemplate","getRequiredFields","geometry","outFields","outSpatialReference","spatialReference","resolution","returnTopmostRaster","showNoDataRecords","layerOptions","h","returnDomainValues","pixelSize","queryVisibleRasters","then","canResume","container","_graphicsView","_graphics","_updateGraphics","stationary","state","xmin","extent","ymin","xmax","ymax","requestAsImageElement","signal","_getVectorFieldExportParams","fetchImage","renderer","_pixelData","pixelBlock","pixelData","getGraphicsFromPixelData","rasterInfo","dataType","update","updating","catch","suspended","toMap","attributes","graphics","requestUpdateCallback","requestUpdate","destroy","removeChild","addChild","updateRequested","fullExtent","symbolTileSize","Math","max","ceil","floor","x","_bitmapView","strategy","removeAllChildren","version","imageMaxHeight","imageMaxWidth","imageNormalizationSupported","fetchSource","_fetchImage","bind","updateExports","HTMLImageElement","requestRender","applyRenderer","applyFilter","children","originalPixelBlock","intersects","imageElement","imagery","_exportImageVersion","subview","getPixelData","hitTest","increaseRasterJobHandlerUsage","_setSubView","handles","add","watch","on","redraw","decreaseRasterJobHandlerUsage","remove","isUpdating","format","uninstall","attach","install","async","fields","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","indexOf","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"mappings":"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","file":"chunks/5490.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as r}from\"../../core/accessorSupport/write.js\";import{transparencyToOpacity as n}from\"../../webdoc/support/opacityUtils.js\";import t from\"../../TimeExtent.js\";import o from\"../../symbols/support/ElevationInfo.js\";const s={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(i,r){if(null!=r.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return r.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,i,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||r(this,\"screenSizePerspectiveEnabled\",{},t))&&(i[n]=e)}}}}}},a={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,i)=>!i.disablePopup},write:{enabled:!0,writer(e,i,r){i[r]=!e}}}},l={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},p={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},c={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:o,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function f(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},y={...u,json:{...u.json,origins:{\"web-document\":{...u.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,i,r)=>r&&\"service\"!==r.origin||!i.drawingInfo||void 0===i.drawingInfo.transparency?i.layerDefinition&&i.layerDefinition.drawingInfo&&void 0!==i.layerDefinition.drawingInfo.transparency?n(i.layerDefinition.drawingInfo.transparency):void 0:n(i.drawingInfo.transparency)}}},m={type:t,dependsOn:[\"view.timeExtent\",\"layer.timeExtent\",\"layer.timeInfo\",\"layer.timeOffset\",\"layer.timeOffset.value\",\"layer.timeOffset.unit\",\"layer.useViewTime\"],readOnly:!0,get(){var e,i;if(null==(e=this.layer)||!e.timeInfo)return null;const r=null==(i=this.view)?void 0:i.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,s=o?t.offset(-o.value,o.unit):t,a=this._get(\"timeExtent\");return s.equals(a)?a:s}};export{m as combinedViewLayerTimeExtentProperty,d as elevationInfo,l as labelsVisible,c as legendEnabled,u as opacity,y as opacityDrawingInfo,a as popupEnabled,f as readOnlyService,s as screenSizePerspectiveEnabled,p as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as e}from\"../../core/JSONSupport.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.title=null}clone(){return new s({title:this.title})}};r([o({type:String,json:{write:!0}})],p.prototype,\"title\",void 0),p=s=r([t(\"esri.renderers.support.LegendOptions\")],p);var i=p;export default i;export{p as LegendOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{JSONMap as r}from\"../../core/jsonMap.js\";import{reader as a}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../../core/accessorSupport/decorators/writer.js\";import l from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{toPt as p}from\"../../core/screenUtils.js\";import u from\"./VisualVariable.js\";import m from\"./support/SizeStop.js\";import h from\"./support/SizeVariableLegendOptions.js\";import{isSizeVariable as d,getInputValueType as c,getTransformationType as y}from\"./support/sizeVariableUtils.js\";import{viewScaleRE as x}from\"./support/visualVariableUtils.js\";var S;const z=t.getLogger(\"esri.renderers.visualVariables.SizeVariable\"),v=new r({width:\"width\",depth:\"depth\",height:\"height\",widthAndDepth:\"width-and-depth\",all:\"all\"}),w=new r({unknown:\"unknown\",inch:\"inches\",foot:\"feet\",yard:\"yards\",mile:\"miles\",\"nautical-mile\":\"nautical-miles\",millimeter:\"millimeters\",centimeter:\"centimeters\",decimeter:\"decimeters\",meter:\"meters\",kilometer:\"kilometers\",\"decimal-degree\":\"decimal-degrees\"});function V(e){if(null!=e)return\"string\"==typeof e||\"number\"==typeof e?p(e):\"size\"===e.type?d(e)?e:(delete(e={...e}).type,new g(e)):void 0}function f(e,t,i){if(\"object\"!=typeof e)return e;const s=new g;return s.read(e,i),s}let g=S=class extends u{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type=\"size\",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:x.test(this.valueExpression)}}set expression(e){z.warn(\"'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.\"),\"view.scale\"===e?(this.valueExpression=\"$view.scale\",this._set(\"expression\",e)):this._set(\"expression\",null)}set index(e){d(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),d(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set(\"index\",e)}get inputValueType(){return c(this)}set maxDataValue(e){e&&this.stops&&(z.warn(\"cannot set maxDataValue when stops is not null.\"),e=null),this._set(\"maxDataValue\",e)}set maxSize(e){e&&this.stops&&(z.warn(\"cannot set maxSize when stops is not null.\"),e=null),this._set(\"maxSize\",e)}castMaxSize(e){return V(e)}readMaxSize(e,t,i){return f(e,0,i)}set minDataValue(e){e&&this.stops&&(z.warn(\"cannot set minDataValue when stops is not null.\"),e=null),this._set(\"minDataValue\",e)}set minSize(e){e&&this.stops&&(z.warn(\"cannot set minSize when stops is not null.\"),e=null),this._set(\"minSize\",e)}castMinSize(e){return V(e)}readMinSize(e,t,i){return f(e,0,i)}get arcadeRequired(){return!!this.valueExpression||(this.minSize&&\"object\"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&\"object\"==typeof this.maxSize&&this.maxSize.arcadeRequired)}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(z.warn(\"cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null.\"),e=null),this._set(\"stops\",e)}get transformationType(){return y(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&\"$view.scale\"}writeValueExpressionWebScene(e,t,i,s){if(\"$view.scale\"===e){if(s&&s.messages){const e=this.index,t=\"string\"==typeof e?e:`visualVariables[${e}]`;s.messages.push(new l(\"property:unsupported\",this.type+\"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.\",{instance:this,propertyName:t+\".valueExpression\",context:s}))}}else t[i]=e}readValueUnit(e){return e?w.read(e):null}clone(){return new S({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:d(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:d(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(\"clamped-linear\"===this.transformationType){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(\"stops\"===this.transformationType){const e=this.stops,t=e.map((e=>e.size)).reverse(),i=e.length;for(let s=0;s<i;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};e([i({readOnly:!0,dependsOn:[\"valueExpression\",\"stops\"]})],g.prototype,\"cache\",null),e([i({type:v.apiValues,json:{type:v.jsonValues,origins:{\"web-map\":{read:!1}},read:v.read,write:v.write}})],g.prototype,\"axis\",void 0),e([i({type:String,value:null,json:{read:!1}})],g.prototype,\"expression\",null),e([i()],g.prototype,\"index\",null),e([i({type:String,readOnly:!0,dependsOn:[\"field\",\"valueExpression\"]})],g.prototype,\"inputValueType\",null),e([i({type:h,json:{write:!0}})],g.prototype,\"legendOptions\",void 0),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"maxDataValue\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"maxSize\",null),e([s(\"maxSize\")],g.prototype,\"castMaxSize\",null),e([a(\"maxSize\")],g.prototype,\"readMaxSize\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"minDataValue\",null),e([i({type:Number,value:null,json:{write:!0}})],g.prototype,\"minSize\",null),e([s(\"minSize\")],g.prototype,\"castMinSize\",null),e([a(\"minSize\")],g.prototype,\"readMinSize\",null),e([i({type:String,json:{write:!0}})],g.prototype,\"normalizationField\",void 0),e([i({readOnly:!0,dependsOn:[\"valueExpression\",\"minSize.arcadeRequired\",\"maxSize.arcadeRequired\"]})],g.prototype,\"arcadeRequired\",null),e([i({type:String})],g.prototype,\"scaleBy\",void 0),e([i({type:[m],value:null,json:{write:!0}})],g.prototype,\"stops\",null),e([i({type:[\"outline\"],json:{write:!0}})],g.prototype,\"target\",void 0),e([i({type:String,readOnly:!0,dependsOn:[\"minDataValue\",\"maxDataValue\",\"minSize\",\"maxSize\",\"valueUnit\",\"inputValueType\",\"stops\"]})],g.prototype,\"transformationType\",null),e([i({type:[\"size\"],json:{type:[\"sizeInfo\"]}})],g.prototype,\"type\",void 0),e([i({type:Boolean,json:{write:!0,origins:{\"web-map\":{read:!1}}}})],g.prototype,\"useSymbolValue\",void 0),e([i({type:String,json:{write:!0}})],g.prototype,\"valueExpression\",void 0),e([a(\"valueExpression\",[\"valueExpression\",\"expression\"])],g.prototype,\"readValueExpression\",null),e([o(\"web-scene\",\"valueExpression\")],g.prototype,\"writeValueExpressionWebScene\",null),e([i({type:[\"radius\",\"diameter\",\"area\",\"width\",\"distance\"],json:{write:!0}})],g.prototype,\"valueRepresentation\",void 0),e([i({type:w.apiValues,json:{write:w.write,origins:{\"web-map\":{read:!1},\"web-scene\":{write:!0}}}})],g.prototype,\"valueUnit\",void 0),e([a(\"valueUnit\")],g.prototype,\"readValueUnit\",null),g=S=e([n(\"esri.renderers.visualVariables.SizeVariable\")],g);var j=g;export default j;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{ensureString as o}from\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import n from\"./support/VisualVariableLegendOptions.js\";const a=r.getLogger(\"esri.renderers.visualVariables.VisualVariable\"),u=new i({colorInfo:\"color\",transparencyInfo:\"opacity\",rotationInfo:\"rotation\",sizeInfo:\"size\"});let c=class extends l{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:\"function\"==typeof e?(a.error(\".field: field must be a string value\"),null):o(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};e([t()],c.prototype,\"index\",void 0),e([t({type:u.apiValues,readOnly:!0,json:{read:u.read,write:u.write}})],c.prototype,\"type\",void 0),e([t({type:String,json:{write:!0}})],c.prototype,\"field\",void 0),e([s(\"field\")],c.prototype,\"castField\",null),e([t({type:String,json:{write:!0}})],c.prototype,\"valueExpression\",void 0),e([t({type:String,json:{write:!0}})],c.prototype,\"valueExpressionTitle\",void 0),e([t({readOnly:!0,dependsOn:[\"valueExpression\"]})],c.prototype,\"arcadeRequired\",null),e([t({type:n,json:{write:!0}})],c.prototype,\"legendOptions\",void 0),c=e([p(\"esri.renderers.visualVariables.VisualVariable\")],c);var d=c;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{toPt as t}from\"../../../core/screenUtils.js\";var p;let i=p=class extends s{constructor(r){super(r),this.label=null,this.size=null,this.value=null}clone(){return new p({label:this.label,size:this.size,value:this.value})}};r([e({type:String,json:{write:!0}})],i.prototype,\"label\",void 0),r([e({type:Number,cast:t,json:{write:!0}})],i.prototype,\"size\",void 0),r([e({type:Number,json:{write:!0}})],i.prototype,\"value\",void 0),i=p=r([o(\"esri.renderers.visualVariables.support.SizeStop\")],i);var l=i;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"./VisualVariableLegendOptions.js\";var t;let i=t=class extends o{constructor(){super(...arguments),this.customValues=null}clone(){return new t({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};s([r({type:[Number],json:{write:!0}})],i.prototype,\"customValues\",void 0),i=t=s([e(\"esri.renderers.visualVariables.support.SizeVariableLegendOptions\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../support/LegendOptions.js\";var t;let p=t=class extends s{constructor(){super(...arguments),this.showLegend=null}clone(){return new t({title:this.title,showLegend:this.showLegend})}};r([o({type:Boolean,json:{write:!0}})],p.prototype,\"showLegend\",void 0),p=t=r([e(\"esri.renderers.visualVariables.support.VisualVariableLegendOptions\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){return this._isOverridden(\"mode\")?this._get(\"mode\"):r(this.offset)||this.featureExpressionInfo?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,dependsOn:[\"offset\",\"featureExpressionInfo\"],nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}const e=function(){const n=Object.keys(t);return n.sort(),n}();export{r as getMetersPerUnit,e as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{reject as p}from\"../../core/promiseUtils.js\";import i from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as a}from\"../../layers/support/commonProperties.js\";import u from\"../../tasks/support/Query.js\";import{getFetchPopupTemplate as n}from\"./support/popupUtils.js\";const m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,o){const{layer:t}=this;if(!e)return p(new s(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:t}));const{popupEnabled:a}=t,m=n(t,o);if(!a||!r(m))throw new s(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new u;l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const y=this.view.resolution,d=\"2d\"===this.view.type?new i(y,y,this.view.spatialReference):new i(.5*y,.5*y,this.view.spatialReference),{returnTopmostRaster:w,showNoDataRecords:f}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},h={returnDomainValues:!0,returnTopmostRaster:w,pixelSize:d,showNoDataRecords:f};return t.queryVisibleRasters(l,h).then((e=>e))}canResume(){var e;return!!super.canResume()&&(null==(e=this.timeExtent)||!e.isEmpty)}};return e([o()],c.prototype,\"layer\",void 0),e([o({dependsOn:[\"timeExtent\"]})],c.prototype,\"suspended\",void 0),e([o(a)],c.prototype,\"timeExtent\",void 0),e([o()],c.prototype,\"view\",void 0),c=e([t(\"esri.views.layers.ImageryLayerView\")],c),c};export{m as ImageryLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import{enumeration as r}from\"../../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{debounce as a,isAbortError as o,resolve as n,after as p}from\"../../../../core/promiseUtils.js\";import h from\"../../../../geometry/Extent.js\";import{createScreenPoint as c}from\"../../../../core/screenUtils.js\";import l from\"../../../../Graphic.js\";import m from\"../../../../support/GraphicsCollection.js\";import d from\"../../../layers/LayerView.js\";import{Container as u}from\"../../engine/Container.js\";import x from\"../graphics/GraphicsView2D.js\";import{LayerView2DMixin as g}from\"../LayerView2D.js\";const y=t.getLogger(\"esri.views.2d.layers.imagery.ImageryGraphicsView2D\");let w=class extends(g(d)){constructor(){super(...arguments),this.container=new u,this._graphicsView=null,this.type=\"Graphics\",this._graphics=new m,this._updateGraphics=a((async(e,t)=>{if(!e.stationary)return;const i=e.state,r=new h({xmin:i.extent.xmin,ymin:i.extent.ymin,xmax:i.extent.xmax,ymax:i.extent.ymax,spatialReference:i.spatialReference}),s=e.state.size[0],a=e.state.size[1],o={};o.timeExtent=this.timeExtent,o.requestAsImageElement=!1,o.signal=t;const n=this._getVectorFieldExportParams({extent:r,width:s,height:a}),c=await this.layer.fetchImage(n.extent,n.width,n.height,o),l=this.layer.renderer;if(\"vector-field\"===l.type){this._pixelData={extent:n.extent,pixelBlock:c.pixelData.pixelBlock};const t=await l.getGraphicsFromPixelData(c.pixelData,\"vector-uv\"===this.layer.rasterInfo.dataType);this._graphicsView.update(e),await p(0).then((()=>{this._graphics.set(\"items\",t)}))}}))}get updating(){var e;return null==(e=this._graphicsView)?void 0:e.updating}update(e){this._updateGraphics(e).catch((e=>{o(e)||y.error(e)}))}hitTest(e,t){if(this.suspended)return n(null);const i=this.view.toMap(c(e,t));return n(new l({attributes:{},geometry:i,layer:this.layer}))}attach(){this._graphicsView=new x({view:this.view,graphics:this._graphics,requestUpdateCallback:()=>this.requestUpdate()})}detach(){this._graphics.destroy(),this._graphicsView.destroy(),this.container.removeChild(this._graphicsView.container),this._graphicsView=null}moveStart(){}viewChange(){}moveEnd(){}install(e){this.container.addChild(this._graphicsView.container),e.addChild(this.container)}uninstall(e){this.container.removeChild(this._graphicsView.container),e.removeChild(this.container)}isUpdating(){return this._graphicsView.updating||this.updateRequested}getPixelData(){return this.updating?null:this._pixelData}redraw(){}_getVectorFieldExportParams(e){var t,i;let{extent:r,width:s,height:a}=e;const o=this.layer,n=null==(t=o.fullExtent)?void 0:t.xmin,p=null==(i=o.fullExtent)?void 0:i.ymax;let h;\"vector-field\"===o.renderer.type&&(h=o.renderer.symbolTileSize),h=Math.max(h||0,30),s=Math.ceil(s*(1/h)),a=Math.ceil(a*(1/h));const c=(r.xmax-r.xmin)/s,l=(r.ymax-r.ymin)/a;return r.xmin=n+Math.floor((r.xmin-n)/c)*c,r.xmax=n+Math.ceil((r.xmax-n)/c)*c,r.ymin=p+Math.floor((r.ymin-p)/l)*l,r.ymax=p+Math.ceil((r.ymax-p)/l)*l,{extent:r,width:s,height:a}}};e([i()],w.prototype,\"container\",void 0),e([i()],w.prototype,\"layer\",void 0),e([i()],w.prototype,\"timeExtent\",void 0),e([i({dependsOn:[\"_graphicsView.updating\"]})],w.prototype,\"updating\",null),e([i()],w.prototype,\"_graphicsView\",void 0),e([r({graphics:\"Graphics\"})],w.prototype,\"type\",void 0),w=e([s(\"esri.views.2d.layers.imagery.ImageryGraphicsView2D\")],w);var f=w;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import{enumeration as i}from\"../../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{isAbortError as o,resolve as a}from\"../../../../core/promiseUtils.js\";import{createScreenPoint as n}from\"../../../../core/screenUtils.js\";import p from\"../../../../Graphic.js\";import{mosaicPixelData as l}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import m from\"../../../layers/LayerView.js\";import{Container as c}from\"../../engine/Container.js\";import h from\"../../engine/ImageryBitmapSource.js\";import{BitmapContainer as u}from\"../../engine/BitmapContainer.js\";import{LayerView2DMixin as g}from\"../LayerView2D.js\";import d from\"../support/ExportStrategy.js\";const y=t.getLogger(\"esri.views.2d.layers.imagery.ImageryView2D\");let x=class extends(g(m)){constructor(){super(...arguments),this.container=new c,this.type=\"Imagery\",this._bitmapView=null}get updating(){var e;return null==(e=this.strategy)?void 0:e.updating}update(e){this.strategy.update(e).catch((e=>{o(e)||y.error(e)}))}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren()}hitTest(e,t){if(this.suspended)return a(null);const r=this.view.toMap(n(e,t));return a(new p({attributes:{},geometry:r,layer:this.layer}))}attach(){const e=this.layer.version>=10,t=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,r=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this._bitmapView=new u,this.strategy=new d({container:this._bitmapView,imageNormalizationSupported:e,imageMaxHeight:t,imageMaxWidth:r,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}moveStart(){}viewChange(){}moveEnd(){}install(e){this.container.addChild(this._bitmapView),e.addChild(this.container)}uninstall(e){this.container.removeChild(this._bitmapView),e.removeChild(this.container)}redraw(){this.strategy.updateExports((e=>{e.source instanceof HTMLImageElement?e.requestRender():this.layer.applyRenderer({pixelBlock:e.source.pixelBlock}).then((t=>{const r=e.source;r.pixelBlock=t.pixelBlock,r.filter=e=>this.layer.applyFilter(e),this.container.requestRender()}))}))}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const e=this.strategy.container.children;if(1===e.length&&e[0].source)return{extent:e[0].source.extent,pixelBlock:e[0].source.originalPixelBlock};if(e.length>1){const t=this.view.extent,r=e.map((e=>e.source)).filter((e=>e.extent&&e.extent.intersects(t))).map((e=>({extent:e.extent,pixelBlock:e.originalPixelBlock}))),i=l(r,t);return i?{extent:i.extent,pixelBlock:i.pixelBlock}:null}return null}_fetchImage(e,t,r,i){return(i=i||{}).timeExtent=this.timeExtent,i.requestAsImageElement=!0,this.layer.fetchImage(e,t,r,i).then((e=>e.imageElement?e.imageElement:this.layer.applyRenderer(e.pixelData,{signal:i.signal}).then((t=>{const r=new h(t.pixelBlock,t.extent.clone(),e.pixelData.pixelBlock);return r.filter=e=>this.layer.applyFilter(e),r}))))}};e([r()],x.prototype,\"container\",void 0),e([r()],x.prototype,\"layer\",void 0),e([r()],x.prototype,\"strategy\",void 0),e([r()],x.prototype,\"timeExtent\",void 0),e([r({dependsOn:[\"strategy.updating\"]})],x.prototype,\"updating\",null),e([i({imagery:\"Imagery\"})],x.prototype,\"type\",void 0),x=e([s(\"esri.views.2d.layers.imagery.ImageryView2D\")],x);var f=x;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as r}from\"../../../core/promiseUtils.js\";import{init as i,watch as a}from\"../../../core/watchUtils.js\";import{RefreshableLayerView as o}from\"../../layers/RefreshableLayerView.js\";import p from\"../../layers/LayerView.js\";import{ImageryLayerView as u}from\"../../layers/ImageryLayerView.js\";import{LayerView2DMixin as h}from\"./LayerView2D.js\";import n from\"./imagery/ImageryGraphicsView2D.js\";import l from\"./imagery/ImageryView2D.js\";let m=class extends(u(o(h(p)))){constructor(){super(...arguments),this._exportImageVersion=-1}get pixelData(){return this.updating?null:this.subview.getPixelData()}get updating(){return!(this.subview&&!this.subview.updating)}hitTest(e,t){return this.suspended||!this.subview?r(null):this.subview.hitTest(e,t)}update(e){var t;null==(t=this.subview)||t.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.handles.add([i(this,\"layer.exportImageServiceParameters.version\",(e=>{this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())})),this.watch(\"timeExtent\",(()=>{this.subview.timeExtent=this.timeExtent,this.requestUpdate()})),this.layer.on(\"redraw\",(()=>this.subview.redraw())),a(this.layer,\"renderer\",(()=>this._setSubView()))],\"imagerylayerview-update\")}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.subview.destroy(),this.handles.remove(\"imagerylayerview-update\"),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.isUpdating()}_setSubView(){var e;let t=\"Imagery\";var s,r;(\"vector-field\"===(null==(e=this.layer.renderer)?void 0:e.type)&&\"lerc\"===this.layer.format&&(t=\"Graphics\"),this.subview&&this.subview.type===t)||(null==(s=this.subview)||s.uninstall(this.container),null==(r=this.subview)||r.destroy(),this.subview=\"Imagery\"===t?new l({layer:this.layer,view:this.view}):new n({layer:this.layer,view:this.view}),this.subview.attach(),this.subview.install(this.container));this.requestUpdate()}};e([t({dependsOn:[\"updating\"]})],m.prototype,\"pixelData\",null),e([t({readOnly:!0,dependsOn:[\"subview.updating\"]})],m.prototype,\"updating\",null),e([t()],m.prototype,\"subview\",void 0),m=e([s(\"esri.views.2d.layers.ImageryLayerView2D\")],m);var d=m;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l,hasField as t}from\"../../../layers/support/fieldUtils.js\";async function i(i,d=i.popupTemplate){if(!e(d))return[];const o=await d.getRequiredFields(i.fields),{lastEditInfoEnabled:s}=d,{objectIdField:u,typeIdField:a,globalIdField:n,relationships:f}=i;if(o.includes(\"*\"))return[\"*\"];const r=s?await p(i):[],m=l(i.fields,[...o,...r]);return a&&m.push(a),m&&u&&t(i.fields,u)&&-1===m.indexOf(u)&&m.push(u),m&&n&&t(i.fields,n)&&-1===m.indexOf(n)&&m.push(n),f&&f.forEach((e=>{const{keyField:p}=e;m&&p&&t(i.fields,p)&&-1===m.indexOf(p)&&m.push(p)})),m}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,i as getRequiredFields};\n"],"sourceRoot":""}