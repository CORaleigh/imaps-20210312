{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","webpack://imaps/./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","webpack://imaps/./node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","webpack://imaps/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/triangulationUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/debugFlags.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/terrain/Overlay.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/CommonUniformStore.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2.js","webpack://imaps/./node_modules/@arcgis/core/chunks/mat2f64.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["n","s","include","linearDepth","fragment","vertex","uniforms","add","attributes","varyings","screenSizeEnabled","shadingEnabled","code","output","OITEnabled","Object","freeze","__proto__","build","a","c","m","receiveShadows","f","i","u","byteLength","Uint32Array","minReduction","h","originalIndices","g","componentOffsets","y","t","length","U","Math","floor","o","w","A","b","d","p","ceil","M","q","sqrt","r","l","e","x","buffer","indices","uniqueCount","xoffset","max","abs","yoffset","stops","size","renderer","event","pointerType","filter","type","map","maxSize","minSize","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","this","cache","Map","texture","dispose","clear","patternId","get","refCount","bind","patternToTextureData","width","height","internalFormat","pixelFormat","dataType","wrapMode","bindTexture","set","delete","acquire","release","join","reduce","Uint8Array","slice","main","selected","staged","outline","selectedOutline","clone","color","coneHeight","coneWidth","renderOccluded","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","W","transparent","edge","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","shape","primitive","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","radius","heightFillColor","intersectsLineRadius","style","laserlineStyle","shadowStyle","C","super","extensionType","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","O","visualElements","reshapeManipulators","zManipulator","uniqueName","shaderTransformationDirty","data","toRenderData","boundingInfo","material","origin","center","bsRadius","transformation","calculateShaderTransformation","updateTransformation","castShadow","instanceParameters","highlights","occludees","visible","getBoundingSphere","getCenter","getBSRadius","shaderTransformation","computeAttachmentOrigin","getIndices","getAttribute","vertexAttr","Array","Float64Array","index","pathLengths","count","holeIndices","position","polygons","outlines","intensity","direction","castShadows","sh","L","_viewUp","_viewForward","_viewRight","_ray","_viewport","_padding","_fov","PI","_nearFar","_viewDirty","_viewMatrix","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","_fullViewport","_contextNavigation","pixelRatio","relativeElevation","_eye","_center","_up","_compareAndSetView","eye","_ensureViewClean","fullWidth","fullHeight","projectionMatrix","viewMatrix","near","tan","fovY","aspect","far","_recomputeFrustum","fovX","perRenderPixelRatio","up","copyFrom","B","J","computeRenderPixelSizeAtDist","viewDirectionDistance","computeScreenPixelSizeAtDist","viewForward","perScreenPixelRatio","min","padding","viewport","setViewport","fullViewport","projectToRenderScreen","K","renderToScreen","viewProjectionMatrix","unprojectFromRenderScreen","screenToRender","N","_","computeUpGlobal","computeUpLocal","markViewDirty","S","arguments","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TERRAIN_DEBUG_POPUP","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","prototype","_renderTarget","id","colorTarget","depthStencilTarget","target","samplingMode","hasMipmap","maxAnisotropy","colorTexture","resize","bindFramebuffer","descriptor","generateMipmap","vec3","extent","resolution","renderLocalOrigin","renderTargets","fbo","valid","lastUsed","colorWithoutRasterImage","highlight","water","occluded","drawPass","disposeRenderTargetMemory","validateUsage","getGpuMemoryUsage","_uniforms","proj","shadowMapDistance","viewportPixelSz","lightingMainDirection","hasUniform","push","technique","refZeroFrame","_context","_perConstructorInstances","_frameCounter","_keepAliveFrameCount","viewingMode","key","constructor","commonUniformStore","getPrograms","shader","reload","name","find","refCnt","glMaterial","ROOT_ORIGIN_ID","_origins","_gridSize","testOrigin","getOrigin","random","round","window","view","_stage","_object","_material","isPickable","idHint","addObject","addToViewContent","Float32Array","spatialReference","I","j","addGeometry","console","log","_array","_size","subarray","waterTextureRepository","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","pbrMode","useCustomDTRExponentForWater","ssrEnabled","useSSR","highStepCount","rctx","generateSource","ready","updating","loadTextures","program","camera","lighting","setUniforms","bindRepo","setUniform4fv","viewInverseTransposeMatrix","blending","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","enableOffset","setPipelineState","isDraped","updateParameters","techniqueRep","acquireAndReleaseExisting","getTechniqueConfig","params","animation","time","setUniform1f","animationSpeed","shadowMappingEnabled","ensureResource","_updateShadowState","_updateSSRState","bindProgram","bindPass","setElapsedTimeUniform","from","to","isVisible","hasHighlights","hasOccludees","transformationNormal","first","drawCalls","triangles","begin","end","H","_pendingAddsRemoves","_adds","_removes","_updates","allocator","deallocator","renderGeometry","_materialRenderers","_sortedMaterialRenderers","_hasHighlights","_hasWater","prune","rendersOccluded","forAll","stopAtTime","updateAddsRemoves","toAdd","numToAdd","toRemove","numToRemove","toUpdate","numToUpdate","_dataByOrigin","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","isEmpty","updateGeometries","addAndRemoveGeometries","updateRenderCommands","vertexBufferLayout","stride","optimalCount","sparseCount","elementCount","createData","array","removeAndRebuild","removeByErasing","append","vertexBuffers","geometry","byteSize","setData","setSubData","drawCommandsDirty","updateType","instances","write","invTranspTransformation","createView","hasHiddenInstances","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","stats","default","layout","sort","values","update","pass","ensureResources","beginSlot","ensureParameters","getTechnique","getPipelineState","bindDraw","ensureAttributeLocations","bindVAO","primitiveType","renderCommands","drawArrays","vertexAttributeLocations","erase","glMaterials","materialRepository","hasWater","modify","updateSortedMaterialRenderers","notifyChange","pushNew","materialRenderer","updateLogic","render","insertOrder","renderPriority","has","removeUnorderedIndex","sortedMaterialRenderers","hasAlpha","P","k","sphericalHarmonics","_renderLighting","_shOrder","_oldSunlight","ambient","diffuse","setUniform3fv","_info","groundLightingFactor","globalFactor","setLightDirectionUniform","setUniform3f","setUniform4f","lights","F","_overlays","_rendersOccluded","_lighting","_localOrigins","_handles","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","_uniqueIdx","globalUnitScale","longitudeCyclical","renderView","renderingContext","_renderContext","lastFrameCamera","slot","highlightDepthTexture","renderOccludedMask","offscreenRenderingHelper","scenelightingData","shadowMap","ssaoHelper","sliceHelper","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_materialRepository","_textureRep","_techniqueRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","getGLMaterial","textureRep","incRefCnt","decRefCnt","getRefCnt","error","textureRepository","Y","updateRendersOccluded","_compositingHelper","compositingHelper","_bindParameters","inverseViewport","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","linearDepthTexture","linearDepthTextureID","lastFrameColorTexture","lastFrameColorTextureID","reprojectionMat","destroy","commitChanges","remove","updateSortedLayerRenderers","updateHasHighlights","updateHasWater","ensureLayerRenderer","notifyGraphicUpdate","notifyUpdateGeometries","warn","graphicUid","numViews","_screenToWorldRatio","views","hasNonZeroSizedView","isValid","setClearColor","clearSafe","setViewParameters","drawDebugTexture","layerView","drapeSourceType","fullOpacity","bindTemporaryFramebuffer","draw","_temporaryRenderTarget","composite","getTexture","generateMipMap","resetRenderOccludedMask","hotReload","intersectRenderGeometry","range","intersect","getShaderTransformation","addIntersectionResult","layerUid","metadata","results","ground","dist","normal","intersector","drapedLayerOrder","options","store","ray","all","stopAnimationsAtTime","watch","allLayerViews","keys","Set","z","setGLViewport","onContentChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","_debugTextureTechnique","pipeline","setUniform1i","_debugPatternTexture","_quadVAO","layerRenderers","constructOnly","Boolean","readOnly","dependsOn","attributeData","removeDuplicateStartEnd","offsetIdx","strideIdx","mapPosition","mapPos","colorFeature","sizeFeature","opacityFeature","E","uniformSize","pow","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","recreate","createResources","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","geometries","addGeometries","G","_attachmentOrigin","_attachmentOriginDirty","events","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","updateAttached","laserlineAttached","laserlineEnabled","updateMaterial","isClosed","renderCoordsHelper","fromRenderCoords","materialParameters","stippleIntegerRepeats","normalizedRenderOccluded","createRenderGeometries","emit","rings","paths","lines","projectionSuccess","hasZ","sampledElevation","elevationProvider","elevationInfo","pathVerticalPlane","shadingTint","shadingDirection","blendColor","setUniformMatrix4fv","culling","cullFace","face","mode","offset","supportsEdges","techniqueConfig","_vertexAttributeLocations","applyToVertex","screenSize","computeRenderPixelSizeAt","applyToAabb","T","getPassParameters","vec3f","createBuffer","Error","getField","_vertices","_spatialReference","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","vertexGeometry","vertexOutlineGeometry","uv","indexCount","vertexAttributes","drawOperation","_createGraphic","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","defaultZ","snapToScene","snappingOptions","geometryType","_internalGraphicsLayer","layers","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","_set","onInputEvent","hasStagedVertex","splice","regularVertices","stagedVertices","full","coordinateHelper","createPointFromArray","makeMapPoint","forceUniformSize","centered","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","_getCreateGeometry","createGraphicSymbol","maskOccludee","interactive","_updateCreateGraphic","canRedo","redo","canUndo","undo","complete","isCompleted","cancel","vertexIndex","graphic","nonNullable","value","Z","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","_focused","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayerId","_materialIdReferences","state","_removeResourcesFromStage","_updateEngineObject","toRenderCoords","elevationAlignedLocation","te","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","action","ensureScreenLocation","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","re","available","_getCollisionRadius","screenLocation","_getWorldToScreenObjectScale","_calculateObjectTransform","$","Q","ie","oe","ne","ee","se","_calculateModelTransformPosition","manipulator3D","engineLayerId","engineLayerReferences","materialIdReferences","ae","_getFocusedSize","focused","objectsByState","_ensureEngineResources","stateMask","objects","setVisible","objectTransformation","getContent","renderObjects","transform","isArray","layer","materials","_addResourcesToStage","removeObject","areAnyResourcesVisible","atan2","getViewForGraphic","tracking","displaying","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","v","visualElement","writeDepthEnabled","D","angleCutoff","V","setStartEndFromWorldDownAtLocation","heightManifoldTarget","attachmentOrigin","onManipulatorsChanged","trackGraphicState","intersectsLineInfinite","R","intersectsWorldUpAtLocation","calculateMapBounds","sin","cos","copy","identity","transpose","invert","adjoint","determinant","multiply","rotate","scale","fromRotation","fromScaling","str","frob","LDU","subtract","exactEquals","equals","multiplyScalar","multiplyScalarAndAdd","mul","sub","create","fromValues","dxScreen","screenDeltaX","dyScreen","screenDeltaY","next","translationX","translationY","translationZ","Number","POSITIVE_INFINITY","forEachManipulator3D","someManipulator","screenStart","screenEnd","renderStart","renderEnd","plane","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","worldUpAtPosition","execute","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","_createArrowManipulator","displayScale","modelTransform","arrowManipulators","lastDragEvent","_enabled","snap","toMap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","discManipulator","createManipulator","updateManipulator","applyObjectTransform","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","graphics","enableZ","_toolHandles","_refreshManipulators","_moveManipulation","toArray","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","destroyed","toScreen","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_vertexLaserLineVisualElement","snappingEngine","_clear","_recreateManipulators","enableMoveGraphic","handle","_removeVertices","inputGeometry","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","info","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","doneSnapping","_updateMoveManipulationPosition","Vertex","Edge","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","_snapDrag","_perVertexManipulatorDragAction","_manipulatorClickCallback","isMultiVertexSelection","context","originalPos","createDehydratedPoint","_updateSelection","indexOf","toPoint","splitEdge","createdVertex","component","coordinates","componentIndex","added","orthogonalAvailable","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","heading","getSymbolLayerSize","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","onScaleChanged","lt","applySymbolData","startAnimation","ct","updateDelayedFocusedState","updateStateEnabled","concat","enforceNonZeroSize","depth","ht","gt","enableRotation","enableScaling","handles","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","builder","bindPassUniforms","bindUniforms","setUniform2fv","nearFar","waveStrength","waveTextureRepeat","flowStrength","flowOffset","setUniform2f","waveDirection","waveVelocity","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","originalPoint","mapPoint","radiusPx","renderSpatialReference","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects"],"mappings":"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","file":"chunks/9227.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as i}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ScreenSizeScaling as l}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";function n(n){const s=new r;return s.include(o,{linearDepth:!1}),s.include(l.builder,{}),s.include(a,n),s.fragment.include(i),s.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),s.fragment.uniforms.add(\"color\",\"vec4\"),s.attributes.add(\"position\",\"vec3\"),s.varyings.add(\"vWorldPosition\",\"vec3\"),n.screenSizeEnabled&&s.attributes.add(\"offset\",\"vec3\"),n.shadingEnabled&&(s.vertex.uniforms.add(\"viewNormal\",\"mat4\"),s.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),s.attributes.add(\"normal\",\"vec3\"),s.varyings.add(\"vViewNormal\",\"vec3\")),s.vertex.code.add(e`\n    void main(void) {\n      vWorldPosition = ${n.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),n.shadingEnabled&&s.vertex.code.add(e`\n      vec3 worldNormal = normal;\n      vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;\n    `),s.vertex.code.add(e`\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),s.fragment.code.add(e`\n    void main() {\n      discardBySlice(vWorldPosition);\n    `),n.shadingEnabled?s.fragment.code.add(e`\n      vec3 viewNormalNorm = normalize(vViewNormal);\n      float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 finalColor = mix(color, shadedColor, shadingFactor);\n    `):s.fragment.code.add(e`\n      vec4 finalColor = color;\n    `),s.fragment.code.add(e`\n      if (finalColor.a < ${e.float(d)}) {\n        discard;\n      }\n      ${7===n.output?e`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===n.output?e`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${n.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),s}var s=Object.freeze({__proto__:null,build:n});export{s as S,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ScreenSpacePass as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";function n(){const n=new r;return n.include(o),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(e`\n    void main() {\n      vec4 texColor = texture2D(tex, uv);\n      gl_FragColor = texColor * color;\n    }\n  `),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ReadShadowMap as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{WaterDistortion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ForwardLinearDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{NormalUtils as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{Water as g}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";function c(c){const m=new a;return m.include(o,{linearDepth:!1}),m.attributes.add(\"position\",\"vec3\"),m.attributes.add(\"uv0\",\"vec2\"),m.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),m.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==c.output&&7!==c.output||(m.include(v,c),m.include(s,c),m.varyings.add(\"vuv\",\"vec2\"),m.varyings.add(\"vpos\",\"vec3\"),m.varyings.add(\"vnormal\",\"vec3\"),m.varyings.add(\"vtbnMatrix\",\"mat3\"),m.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(n)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===c.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),7===c.output&&(m.include(i,c),m.fragment.uniforms.add(\"waterColor\",\"vec4\"),m.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===c.output&&(m.include(l,c),m.include(i,c),c.receiveShadows&&m.include(d,c),m.include(g,c),m.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),m.fragment.include(r),m.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        vec3 l = normalize(-lightingMainDirection);\n        float shadow = ${c.receiveShadows?e`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, l, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${c.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===c.output&&(m.include(v,c),m.include(l,c),m.include(i,c),m.varyings.add(\"vpos\",\"vec3\"),m.varyings.add(\"vuv\",\"vec2\"),m.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(n)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),m.fragment.uniforms.add(\"timeElapsed\",\"float\"),m.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          // the created normal is in tangent space and foam\n          vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n          tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\n\n          gl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n        }\n    `)),5===c.output&&(m.varyings.add(\"vpos\",\"vec3\"),m.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(n)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),m.fragment.uniforms.add(\"waterColor\",\"vec4\"),m.fragment.code.add(e`\n        void main() {\n          gl_FragColor = waterColor;\n        }\n    `)),4===c.output&&(m.include(t),m.varyings.add(\"vpos\",\"vec3\"),m.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(n)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),m.include(i,c),m.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        outputHighlight();\n      }\n    `)),m}var m=Object.freeze({__proto__:null,build:c});export{m as W,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){const u=n.byteLength/(4*f),c=new Uint32Array(n,0,u*f);let s=new Uint32Array(u);const a=i&&i.minReduction||0,h=i&&i.originalIndices||null,g=i&&i.componentOffsets||null;let y=0;if(g)for(let t=0;t<g.length-1;t++){const n=g[t+1]-g[t];n>y&&(y=n)}else y=u;const U=Math.floor(1.1*y)+1;(null==o||o.length<2*U)&&(o=new Uint32Array(t(2*U)));for(let t=0;t<2*U;t++)o[t]=0;let w=0;const A=!!g&&!!h,m=A?h.length:u,b=A?new Uint32Array(h.length):null,d=1.96;let p=0!==a?Math.ceil(4*d*d/(a*a)*a*(1-a)):m,M=1,q=g?g[1]:m;for(let t=0;t<m;t++){if(t===p){const n=1-w/t;if(n+d*Math.sqrt(n*(1-n)/t)<a)return null;p*=2}if(t===q){for(let t=0;t<2*U;t++)o[t]=0;if(h)for(let t=g[M-1];t<g[M];t++)b[t]=s[h[t]];q=g[++M]}const n=A?h[t]:t,r=n*f,i=l(c,r,f);let u=i%U,y=w;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(c,r,t*f,f)){y=s[t];break}}u++,u>=U&&(u-=U)}y===w&&(o[2*u]=i,o[2*u+1]=n+1,w++),s[n]=y}if(0!==a&&1-w/u<a)return null;if(A){for(let t=g[M-1];t<b.length;t++)b[t]=s[h[t]];s=b}const x=new Uint32Array(f*w);w=0;for(let t=0;t<m;t++)if(s[t]===w){r(c,(A?h[t]:t)*f,x,w*f,f),w++}if(h&&!A){const t=new Uint32Array(h.length);for(let n=0;n<t.length;n++)t[n]=s[h[n]];s=t}return{buffer:x.buffer,indices:s,uniqueCount:w}}function e(t,n,e,r){for(let l=0;l<r;l++)if(t[n+l]!==t[e+l])return!1;return!0}function r(t,n,e,r,l){for(let o=0;o<l;o++)e[r+o]=t[n+o]}function l(t,n,e){let r=0;for(let l=0;l<e;l++)r=t[n+l]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t,e){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?function(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}(t.stops):e}function n(n){const r=n&&n.renderer,s=\"touch\"===(n&&n.event&&n.event.pointerType)?9:6;if(!r)return s;const o=\"visualVariables\"in r?function(t,n){if(!n)return t;const r=n.filter((t=>\"size\"===t.type)).map((n=>{const{maxSize:r,minSize:s}=n;return(e(r,t)+e(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let t=0;t<o;t++)s+=r[t];const f=Math.floor(s/o);return Math.max(f,t)}(s,r.visualVariables):s;if(\"simple\"===r.type)return t(o,r.symbol);if(\"unique-value\"===r.type){let e=o;return r.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===r.type){let e=o;return r.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return r.type,o}export{n as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import\"../../../../chunks/builtins.js\";import r from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";class n{constructor(){this.cache=new Map}dispose(){this.cache.forEach((t=>{e(t.texture)&&(t.texture.dispose(),t.texture=null)})),this.cache.clear()}acquire(e){if(t(e))return null;const n=this.patternId(e),i=this.cache.get(n);if(i)return i.refCount++,i.bind;const s=this.patternToTextureData(e,2),o=s.length/2,u={refCount:1,texture:null,bind:(e,n)=>(t(u.texture)&&(u.texture=new r(e,{width:s.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},s)),e.bindTexture(u.texture,n),o)};return this.cache.set(n,u),u.bind}release(r){if(t(r))return;const n=this.patternId(r),i=this.cache.get(n);i&&(i.refCount--,0===i.refCount&&(e(i.texture)&&i.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let i=!0,s=0;for(const r of e){for(let e=0;e<r*t;e++)n[s++]=i?255:0;i=!i}return n}}function i(e){return t(e)?e:e.slice()}function s(e){return[e,e]}export{n as StippleTextureRepository,i as createStipplePattern,s as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])};function n(t,i){const e=t.clone();return e.a*=i,e}function r(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function h(t,i){if(i)for(const e in i)t[e]=i[e]}class c{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,h(this,t)}}class a{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,h(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:W(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class d{constructor(t){this.vertex=new a({color:s.main,outlineColor:s.outline}),this.edge=new a({color:r(n(s.main,2/3),.5),outlineColor:n(s.outline,.5),size:8,collisionPadding:8}),this.selected=new a({color:s.selected,outlineColor:s.outline}),h(this,t)}}class u{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,h(this,t)}apply(t){t.color=W(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=W(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=W(this.innerColor),t.renderOccluded=this.renderOccluded}}class p{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",h(this,t)}apply(t){t.color=W(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=W(this.outlineColor),t.primitive=this.shape}}class w{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.3,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,h(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class f{constructor(t){this.outline=new u({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new u({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),h(this,t)}}class g{constructor(t){this.outline=new p({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),h(this,t)}}class C extends u{constructor(t){super(),this.extensionType=2,h(this,t)}}class m{constructor(t){this.lineGraphics=new f,this.pointGraphics=new g,this.heightPlane=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new C({color:n(s.main,.5),falloff:2,innerColor:n(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,h(this,t)}}function W(i){return o(t.toUnitRGBA(i))}const O=new class{constructor(t){this.visualElements=new m,this.reshapeManipulators=new d,this.zManipulator=new c,h(this,t)}colorToVec4(t){return W(t)}};export{s as colors,O as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isSome as r}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{computeAttachmentOriginTriangles as h}from\"./geometryDataUtils.js\";import{VertexAttrConstants as m}from\"./Util.js\";import{generateObject3DStateId as u}from\"./Object3DStateSet.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";export default class{constructor(t,r,s,a,n,e,o){this.uniqueName=null,this.shaderTransformationDirty=!0,this.data=t.toRenderData(),this.boundingInfo=r,this.material=s,this.origin=null,this.center=i(),this.bsRadius=0,this.transformation=null,this.calculateShaderTransformation=n,a&&this.updateTransformation(a,e),this.castShadow=o,this.instanceParameters={highlights:null,occludees:null,visible:!0}}updateTransformation(t,r){this.transformation=t,this.shaderTransformationDirty=!0,this.bsRadius=this.getBoundingSphere(t,r,this.center)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}getBoundingSphere(t,r,i){return r=r||a(t),s(i,this.boundingInfo.getCenter(),t),this.boundingInfo.getBSRadius()*r}get hasShaderTransformation(){return!!this.calculateShaderTransformation}getShaderTransformation(){return this.calculateShaderTransformation?(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(t(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation):t(this.transformation,e)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0);const i=this.getIndices(m.POSITION),a=this.getAttribute(m.POSITION);return!!h(a,i,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0)}getIndices(t){return\"indices\"in this.data?this.data.indices[t]:null}getAttribute(t){return\"vertexAttr\"in this.data?this.data.vertexAttr[t]:null}addHighlight(){const t=u(0),r=this.instanceParameters;return r.highlights=d(r.highlights,t),t}removeHighlight(t){const r=this.instanceParameters;r.highlights=f(r.highlights,t)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isClockwise as n}from\"./coordsUtils.js\";import{earcut as t}from\"../../core/libs/earcut/earcut.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(n){const o=r(n.rings,n.hasZ,1),l=[];let s=0,i=0;for(const n of o.polygons){const e=n.count,r=n.index,c=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*e),h=n.holeIndices.map((n=>n-r)),f=new Uint32Array(t(c,h,3));l.push({position:c,faces:f}),s+=c.length,i+=f.length}const c=function(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const t of n){for(let n=0;n<t.position.length;n++)o[l++]=t.position[n];for(let n=0;n<t.faces.length;n++)r[s++]=t.faces[n]+i;i=l/3}return{position:o,faces:r}}(l,s,i),h=e(c.position.buffer,6,{originalIndices:c.faces});return c.position=new Float64Array(h.buffer),c.faces=h.indices,c}function r(t,e,o){const r=t.length,s=new Array(r),i=new Array(r),c=new Array(r);let h=0,f=0,g=0,a=0;for(let n=0;n<r;++n)a+=t[n].length;const u=new Float64Array(3*a);let p=0;for(let a=r-1;a>=0;a--){const d=t[a],y=1===o&&!n(d,!1,!1);if(y&&1!==r)s[h++]=d;else{let n=d.length;for(let t=0;t<h;++t)n+=s[t].length;const t={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};t.pathLengths[0]=d.length,d.length>0&&(c[g++]={index:p,count:d.length}),p=y?l(d,d.length-1,-1,u,p,d.length,e):l(d,0,1,u,p,d.length,e);for(let n=0;n<h;++n){const o=s[n];t.holeIndices[n]=p,t.pathLengths[n+1]=o.length,o.length>0&&(c[g++]={index:p,count:o.length}),p=l(o,0,1,u,p,o.length,e)}h=0,t.count>0&&(i[f++]=t)}}for(let n=0;n<h;++n){const t=s[n];t.length>0&&(c[g++]={index:p,count:t.length}),p=l(t,0,1,u,p,t.length,e)}return f<r&&(i.length=f),g<r&&(c.length=g),{position:u,polygons:i,outlines:c}}function l(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}export{r as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(i=s(),c=t(.57735,.57735,.57735),n=!0){this.intensity=i,this.direction=c,this.castShadows=n}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=s(),this.direction=s(),this.intensity=i,this.direction=c}}class n{constructor(t=s()){this.intensity=t}}class o{constructor(){this.sh={r:[0],g:[0],b:[0]}}}export{n as AmbientLight,c as FillLight,i as MainLight,o as SphericalHarmonicsLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as e,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as s,b as h,f as n}from\"../../../../chunks/vec3f64.js\";import{f as o,k as a,g as _,m as p,r as u,d as v,u as c,v as w,a as d,l,s as y,c as g,n as f}from\"../../../../chunks/vec3.js\";import{directionFromTo as m}from\"../../support/mathUtils.js\";import{c as x,m as D,h as j,a as M,b as R,l as P}from\"../../../../chunks/mat4.js\";import{a as F}from\"../../../../chunks/mat4f64.js\";import{f as V}from\"../../../../chunks/vec2f64.js\";import{b as S,a as T}from\"../../../../chunks/vec4f64.js\";import{c as I,k as U}from\"../../../../chunks/vec2.js\";import{c as k,g as b,i as A,t as C}from\"../../../../chunks/vec4.js\";import{p as E}from\"../../../../chunks/vector.js\";import{ray as z,frustum as H}from\"../../support/geometryUtils.js\";import{fovd2fovx as W,fovx2fovd as G,fovd2fovy as X,fovy2fovd as Y}from\"./Util.js\";class L{constructor(i=null,e=null,r=null){this._viewUp=s(),this._viewForward=s(),this._viewRight=s(),this._ray=z.createWrapper(),this._viewport=S(0,0,1,1),this._padding=S(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=V(1,1e3),this._viewDirty=!0,this._viewMatrix=F(),this._projectionDirty=!0,this._projectionMatrix=F(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=F(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=F(),this._frustumDirty=!0,this._frustum=H.create(),this._fullViewport=T(),this._contextNavigation=!0,this.pixelRatio=1,this.relativeElevation=0,this._eye=t(i)?h(i):s(),this._center=t(e)?h(e):s(),this._up=t(r)?h(r):n(0,0,1)}get eye(){return this._eye}set eye(t){this._compareAndSetView(t,this._eye)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return this._ray.origin=this.eye,this._ray.direction||(this._ray.direction=s()),o(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){x(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),k(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(D(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;j(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){x(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return W(this._fov,this.width,this.height)}set fovX(t){this._fov=G(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return X(this._fov,this.width,this.height)}set fovY(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return a(this._center,this._eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(M(this._viewInverseTransposeMatrix,this.viewMatrix),R(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){const i=t;return _(this._eye,i._eye),_(this._center,i._center),_(this._up,i._up),k(this._viewport,i._viewport),k(this._padding,i._padding),I(this._nearFar,i._nearFar),this._fov=i._fov,this.relativeElevation=t.relativeElevation,this._viewDirty=i._viewDirty,this._viewDirty||(x(this._viewMatrix,i._viewMatrix),_(this._viewRight,i._viewRight),_(this._viewUp,i._viewUp),_(this._viewForward,i._viewForward)),i._projectionDirty?this._projectionDirty=!0:(x(this._projectionMatrix,i._projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H.copy(i._frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(x(this._viewInverseTransposeMatrix,i._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),k(this._fullViewport,i._fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new L).copyFrom(this)}equals(t){return p(this._eye,t._eye)&&p(this._center,t._center)&&p(this._up,t._up)&&b(this._viewport,t._viewport)&&b(this._padding,t._padding)&&U(this._nearFar,t._nearFar)&&this._fov===t._fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t._fov-this._fov)>=.001)return!1;const i=5e-4;u(B,t._eye,t._center),u(J,this._eye,this._center);const e=v(B,J),r=c(B),s=c(J);return e*e>=(1-1e-10)*r*s&&w(t._eye,this._eye)<Math.max(r,s)*i*i&&A(t._padding,this._padding)<.5&&A(t._viewport,this._viewport)<.5}markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(E(this.viewForward,o(B,t,this._eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=e()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=r()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==q&&_(q,t),q[3]=1,r&&(e[2]=-q[2]),C(q,q,this.projectionMatrix),d(q,q,1/Math.abs(q[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*q[0]),e[1]=i(0,s[1]+s[3],.5+.5*q[1]),r||(e[2]=.5*(q[2]+1)),e}projectToScreen(t,i){return this.projectToRenderScreen(t,K),this.renderToScreen(K,i)}projectToRenderScreen(t,e){if(q[0]=t[0],q[1]=t[1],q[2]=t[2],q[3]=1,C(q,q,this.viewProjectionMatrix),0===q[3])return null;d(q,q,1/Math.abs(q[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*q[0]),e.y=i(0,r[1]+r[3],.5+.5*q[1])):(e[0]=i(0,r[0]+r[2],.5+.5*q[0]),e[1]=i(0,r[1]+r[3],.5+.5*q[1]),e.length>2&&(e[2]=.5*(q[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,K),i)}unprojectFromRenderScreen(t,i){if(D(N,this.projectionMatrix,this.viewMatrix),!M(N,N))return null;const e=this.fullViewport;return q[0]=2*(t[0]-e[0])/e[2]-1,q[1]=2*(t[1]-e[1])/e[3]-1,q[2]=2*t[2]-1,q[3]=1,C(q,q,N),0===q[3]?null:(i[0]=q[0]/q[3],i[1]=q[1]/q[3],i[2]=q[2]/q[3],i)}constrainWindowSize(t,i,e,r=1){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e*r/2,0),o=Math.max(this.fullHeight-h-e/2,0),a=-Math.min(s-e*r/2,0),_=-Math.min(this.fullHeight-h-e/2,0);return[n,o,e*r-a- -Math.min(this.fullWidth-s-e*r/2,0),e-_- -Math.min(h-e/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;return i[0]=e,i[1]=r,i}computeUpGlobal(){o(B,this.center,this.eye);const t=l(this.center);t<1?(y(this.up,0,0,1),this.markViewDirty()):Math.abs(v(B,this.center))>.9999*l(B)*t||(g(this.up,B,this.center),g(this.up,this.up,B),f(this.up,this.up),this.markViewDirty())}computeUpLocal(){m(B,this.eye,this.center),Math.abs(B[2])<=.9999&&(d(B,B,B[2]),y(this.up,-B[0],-B[1],1-B[2]),f(this.up,this.up),this.markViewDirty())}_compareAndSetView(t,i){p(t,i)||(_(i,t),this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0)}_recomputeFrustum(){this._frustumDirty&&(H.fromMatrix(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(P(this._viewMatrix,this._eye,this._center,this._up),y(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),y(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),y(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const q=T(),N=F(),B=s(),J=s(),K=r();export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import I from\"../../../core/Accessor.js\";let S=class extends I{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED=!1,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TERRAIN_DEBUG_POPUP=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([_()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([_()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([_()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([_()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([_()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([_()],S.prototype,\"SHOW_POI\",void 0),E([_()],S.prototype,\"TERRAIN_DEBUG_POPUP\",void 0),E([_()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([_()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([_()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([_()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([_()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([_()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([_()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([_()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([_()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const t=new S;export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import\"../../../core/mathUtils.js\";import\"../../../chunks/builtins.js\";import{getGpuMemoryUsage as e}from\"../../webgl/Util.js\";import r from\"../../webgl/FramebufferObject.js\";import\"../../webgl/RenderingContext.js\";class t{constructor(e,t,i,s){this._renderTarget=null,this.id=`${t}_${++i}`,this._renderTarget=new r(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:s,maxAnisotropy:8,width:0,height:0})}dispose(){this._renderTarget.dispose(),this._renderTarget=null}getTexture(){return this._renderTarget?this._renderTarget.colorTexture:null}isValid(){return null!==this._renderTarget}resize(e,r){this._renderTarget.resize(e,r)}bind(e){e.bindFramebuffer(this._renderTarget)}generateMipMap(){this._renderTarget.colorTexture.descriptor.hasMipmap&&this._renderTarget.colorTexture.generateMipmap()}disposeRenderTargetMemory(){this._renderTarget&&this._renderTarget.resize(0,0)}getGpuMemoryUsage(){let r=0;return this._renderTarget&&(r+=e(this._renderTarget)),r}}export{t as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{b as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{OverlayRenderTarget as r}from\"./OverlayRenderTarget.js\";import{fromValues as t}from\"../webgl-engine/lib/localOrigin.js\";class s{constructor(s,a){this.extent=e(),this.resolution=0,this.renderLocalOrigin=t(0,0,0,\"O\"),this.pixelRatio=1,this.renderTargets={color:{fbo:new r(s,\"overlay\",a,!0),valid:!1,lastUsed:1/0},colorWithoutRasterImage:{fbo:new r(s,\"overlayWithoutRasterImage\",a,!0),valid:!1,lastUsed:1/0},highlight:{fbo:new r(s,\"overlayHighlight\",a,!1),valid:!1,lastUsed:1/0},water:{fbo:new r(s,\"overlayWaterMask\",a,!0),valid:!1,lastUsed:1/0},occluded:{fbo:new r(s,\"overlayOccluded\",a,!0),valid:!1,lastUsed:1/0}}}dispose(){this.renderTargets.color.fbo.dispose(),this.renderTargets.colorWithoutRasterImage.fbo.dispose(),this.renderTargets.highlight.fbo.dispose(),this.renderTargets.water.fbo.dispose(),this.renderTargets.occluded.fbo.dispose()}drawRenderTargets(e,r,t){const s=this.renderTargets;s.color.valid=e.drawPass(0,s.color.fbo,r),s.highlight.valid=e.drawPass(5,s.highlight.fbo,r),s.water.valid=e.drawPass(3,s.water.fbo,r),s.occluded.valid=e.drawPass(0,s.occluded.fbo,r,1),s.colorWithoutRasterImage.valid=t&&e.drawPass(0,s.colorWithoutRasterImage.fbo,r,2)}computeRenderTargetValidityBitfield(){const e=this.renderTargets;return+e.color.valid|+e.colorWithoutRasterImage.valid<<1|+e.highlight.valid<<2|+e.water.valid<<3|+e.occluded.valid<<4}validateUsage(e,r){if(e.valid)e.lastUsed=r;else if(r-e.lastUsed>a)e.fbo.disposeRenderTargetMemory(),e.lastUsed=1/0;else if(e.lastUsed<1/0)return!0;return!1}collectUnusedMemory(e){let r=!1;return r=this.validateUsage(this.renderTargets.color,e)||r,r=this.validateUsage(this.renderTargets.colorWithoutRasterImage,e)||r,r=this.validateUsage(this.renderTargets.highlight,e)||r,r=this.validateUsage(this.renderTargets.occluded,e)||r,r=this.validateUsage(this.renderTargets.water,e)||r,r}getGpuMemoryUsage(){return this.renderTargets.color.fbo.getGpuMemoryUsage()+this.renderTargets.colorWithoutRasterImage.fbo.getGpuMemoryUsage()+this.renderTargets.highlight.fbo.getGpuMemoryUsage()+this.renderTargets.water.fbo.getGpuMemoryUsage()+this.renderTargets.occluded.fbo.getGpuMemoryUsage()}}const a=1e3;export{s as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{removeUnordered as s}from\"../../../../../core/arrayUtils.js\";class r{constructor(){this._uniforms={proj:[],shadowMapDistance:[],viewportPixelSz:[],lightingMainDirection:[]}}dispose(){this._uniforms=null}getPrograms(s){return this._uniforms[s]||[]}subscribeProgram(s){for(const r in this._uniforms)s.hasUniform(r)&&this._uniforms[r].push(s)}unsubscribeProgram(r){for(const i in this._uniforms)s(this._uniforms[i],r)}}export{r as CommonUniformStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../core/maybe.js\";import{all as t}from\"../../../../../core/promiseUtils.js\";class r{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class s{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,t){const s=t.key;let o=this._perConstructorInstances.get(e);o||(o=new Map,this._perConstructorInstances.set(e,o));let n=o.get(s);return void 0===n&&(n=new r(new e(this._context,t)),o.set(s,n)),++n.refCount,n.technique}acquireAndReleaseExisting(t,r,s){return e(s)?this.acquire(t,r):r.key===s.key&&s instanceof t?s:(this.release(s),this.acquire(t,r))}release(e){const t=this._perConstructorInstances.get(e.constructor).get(e.key);t.refCount-=1,0===t.refCount&&(t.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}getProgramsUsingUniform(e){return this._context.commonUniformStore.getPrograms(e)}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{e.push((async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))})(t,r))})),await t(e)}}export{s as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import{assert as i}from\"./Util.js\";import{getShaderOutputID as r,ShaderOutputTypes as a}from\"../core/shaderLibrary/ShaderOutputOptions.js\";const s=t.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,i(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}export default class{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const i=r(e.id,t);let a=this._id2glMaterialRef.get(i);if(null==a){const r=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(r),a.incRefCnt(),this._id2glMaterialRef.set(i,a),r}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const i=r(e.id,t),a=this._id2glMaterialRef.get(i);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(i)}}materialChanged(e){for(const t of a)if(5!==t.output&&6!==t.output){const i=this._id2glMaterialRef.get(r(e.id,t.output));if(i&&i.getGLMaterial()){const e=i.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(t){e(t.materialRepository)&&t.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),t.materialRepository=this}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import i from\"../../../../geometry/SpatialReference.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{f as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as s}from\"../../../../geometry/projection.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{VertexAttrConstants as n}from\"./Util.js\";import{GeometryData as a}from\"./GeometryData.js\";import c from\"./Object3D.js\";import h from\"./Geometry.js\";import{fromValues as m}from\"./localOrigin.js\";import d from\"./Layer.js\";import{RibbonLineMaterial as O}from\"../materials/RibbonLineMaterial.js\";let _=0;class l{constructor(){this.ROOT_ORIGIN_ID=\"rg_root_\"+_++,this._origins=new Map,this._gridSize=42e5}getOrigin(i){const r=this._origins.get(this.ROOT_ORIGIN_ID);if(null==r){if(t(l.testOrigin)){const t=l.testOrigin;return this._origins.set(this.ROOT_ORIGIN_ID,m(t[0],t[1],t[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i)}const r=m(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,r),r}o(g,i,r.vec3),g[0]=Math.abs(g[0]),g[1]=Math.abs(g[1]),g[2]=Math.abs(g[2]);const s=this._gridSize;if(g[0]<s&&g[1]<s&&g[2]<s)return r;const e=Math.round(i[0]/s),n=Math.round(i[1]/s),a=Math.round(i[2]/s),c=`rg_${e}/${n}/${a}`;let h=this._origins.get(c);return h||(h=m(e*s,n*s,a*s,c),this._origins.set(c,h)),h}_drawOriginBox(t){const r=window.view,o=r._stage;if(null==this._object){this._material=new O({width:2,color:[0,1,0,1]},\"GridLocalOriginMaterial\"),o.add(3,this._material);const t=new d(\"GridLocalOrigin\",{isPickable:!1});o.add(0,t),this._object=new c({idHint:\"GridLocalOrigin\",castShadow:!1}),o.add(1,this._object),t.addObject(this._object),o.addToViewContent([t.id])}const m=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],_=m.length,l=new Float32Array(3*_),g=new Uint32Array(2*(_-1)),f=.5*this._gridSize;for(let i=0;i<_;i++)l[3*i+0]=t[0]+(1&m[i]?f:-f),l[3*i+1]=t[1]+(2&m[i]?f:-f),l[3*i+2]=t[2]+(4&m[i]?f:-f),i>0&&(g[2*i+0]=i-1,g[2*i+1]=i);s(l,i.WebMercator,0,l,r.spatialReference,0,_);const I={};I[n.POSITION]={size:3,data:l};const j={};j[n.POSITION]=g;const p=new a(I,j,\"line\"),u=new h(p,\"GridLocalOriginBox\");o.add(2,u),this._object.addGeometry(u,this._material,e),console.log(this._origins.size,t)}}const g=r();!function(t){t.testOrigin=null}(l||(l={}));var f=l;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getFirstObjectValue as t}from\"./Util.js\";function e(t){const e=new Map;let n=null,r=null;const d=t=>{if(t===n)return r;let o=e.get(t);return o||(o={toAdd:[],numToAdd:-1,toRemove:[],numToRemove:-1,toUpdate:[],numToUpdate:-1},e.set(t,o)),n=t,r=o,o};for(let e=0;e<t.numToAdd;e++){const n=t.toAdd[e];if(o(n)){d(n.material).toAdd.push(n)}}for(let e=0;e<t.numToRemove;e++){const n=t.toRemove[e];if(o(n)){d(n.material).toRemove.push(n)}}for(let e=0;e<t.numToUpdate;e++){const n=t.toUpdate[e];if(o(n.renderGeometry)){d(n.renderGeometry.material).toUpdate.push(n)}}return e}function o(e){return o=e.data,t(o.indices).length>=1;var o}export{e as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as p,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";import{View as h}from\"../core/shaderLibrary/util/View.glsl.js\";import{DefaultTextureUnits as c}from\"../lib/DefaultTextureUnits.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as l}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{blendingDefault as g,OITBlending as m,OITDepthTest as f,OITDepthWrite as b,getOITPolygonOffset as y}from\"../lib/OrderIndependentTransparency.js\";import{ReadShadowMap as w}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ScreenSpaceReflections as S}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{WaterDistortion as T}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{W as x}from\"../../../../chunks/WaterSurface.glsl.js\";class j extends r{constructor(t,e){super(t,e),this.waterTextureRepository=t.waterTextureRepository}initializeProgram(t){const e=j.shader.get(),r=this.configuration,i=e.build({OITEnabled:0===r.transparencyPassType,output:r.output,viewingMode:t.viewingMode,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:r.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:r.useSSR,highStepCount:!0});return new a(t.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),s)}ensureResource(t){return this.waterTextureRepository.ready||this.waterTextureRepository.updating||this.waterTextureRepository.loadTextures(t),this.waterTextureRepository.ready?2:1}bindPass(t,e,r){h.bindProjectionMatrix(this.program,r.camera.projectionMatrix),0===this.configuration.output&&(r.lighting.setUniforms(this.program,!1),S.bindUniforms(this.program,t,r)),0!==this.configuration.output&&2!==this.configuration.output||(T.bindUniforms(this.program,e),this.waterTextureRepository.bindRepo(t)),this.program.setUniform4fv(\"waterColor\",e.color),4===this.configuration.output&&l.bindOutputHighlight(t,this.program,r)}bindDraw(t){h.bindView(this.program,t),0!==this.configuration.output&&7!==this.configuration.output||h.bindCamPosition(this.program,t.origin,t.camera.viewInverseTransposeMatrix),0===this.configuration.output&&w.bindUniforms(this.program,t,c.SHADOW_MAP),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||d.bindUniformsWithOrigin(this.program,this.configuration,t)}setPipelineState(t){const e=this.configuration,r=3===t,i=2===t;return n({blending:2!==e.output&&4!==e.output&&e.transparent?r?g:m(t):null,depthTest:{func:f(t)},depthWrite:r?e.writeDepth&&p:b(t),colorWrite:u,polygonOffset:r||i?null:y(e.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}j.shader=new e(x,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class v extends i{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3}}t([o({count:8})],v.prototype,\"output\",void 0),t([o()],v.prototype,\"receiveShadows\",void 0),t([o()],v.prototype,\"slicePlaneEnabled\",void 0),t([o()],v.prototype,\"transparent\",void 0),t([o()],v.prototype,\"enableOffset\",void 0),t([o()],v.prototype,\"writeDepth\",void 0),t([o()],v.prototype,\"useSSR\",void 0),t([o()],v.prototype,\"isDraped\",void 0),t([o({count:4})],v.prototype,\"transparencyPassType\",void 0);export{j as WaterTechnique,v as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../lib/GLMaterial.js\";import{WaterTechnique as e}from\"./WaterTechnique.js\";class a extends t{constructor(t){super(t),this.updateParameters()}updateParameters(t){this.technique=this.techniqueRep.acquireAndReleaseExisting(e,this.material.getTechniqueConfig(this.output,t),this.technique)}beginSlot(t){if(2===this.output)return 22===t;if(5===this.output)return null==t;if(4===this.output)return 3===t;let e=3;return this.material.params.transparent&&(e=this.material.params.writeDepth?5:8),t===e}setElapsedTimeUniform(t){const e=.001*this.material.animation.time;t.setUniform1f(\"timeElapsed\",e*this.material.params.animationSpeed)}_updateShadowState(t){t.shadowMappingEnabled!==this.material.params.receiveShadows&&this.material.setParameterValues({receiveShadows:t.shadowMappingEnabled})}_updateSSRState(t){t.ssrEnabled!==this.material.params.ssrEnabled&&this.material.setParameterValues({ssrEnabled:t.ssrEnabled})}ensureResources(t){return this.technique.ensureResource(t)}ensureParameters(t){0===this.output&&(this._updateShadowState(t),this._updateSSRState(t)),this.updateParameters(t)}bind(t,e){t.bindProgram(this.technique.program),this.technique.bindPass(t,this.material.params,e),2!==this.output&&0!==this.output||this.setElapsedTimeUniform(this.technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as t,b as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,m,f,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=m,this.hasOccludees=f,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n=o,(i=s).first+i.count>=n.from){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o));var i,n}export{s as Instance,n as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{once as t}from\"../../../../core/accessorSupport/utils.js\";import s from\"../../../../core/PerformanceSampler.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends s{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new s(\"gpu\",9),this.renderPassTimings=i.map((e=>new s(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:t((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{m as s,a,b as i}from\"../../../../../chunks/mat4.js\";import{someMap as r}from\"../../../../../core/MapUtils.js\";import{a as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{assert as l,setMatrixTranslation3 as d}from\"../../lib/Util.js\";import h from\"../../../../webgl/BufferObject.js\";import{getStride as m}from\"../../../../webgl/Util.js\";import u from\"../../../../webgl/VertexArrayObject.js\";import{acquireMaterials as c,releaseMaterials as f,calculateTransformRelToOrigin as g}from\"./utils.js\";import{ResizableFloat32Array as p}from\"../../lib/ResizableFloat32Array.js\";import{WaterGLMaterial as b}from\"../WaterGLMaterial.js\";import{Instance as y,sortInstancesAccordingToRange as C,addOrMerge as _}from\"./Instance.js\";import{addToRenderStats as w}from\"../../statistics/RendererPerformanceInfo.js\";const v={begin:0,end:0},O=n(),H=n(),B=n();export default class{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=c(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){f(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&r(this._glMaterials,(e=>e instanceof b))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.toUpdate),this.addAndRemoveGeometries(e.toAdd,e.toRemove),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=function(e,t,s,a){const i=new Map,r=t.vertexBufferLayout.stride/4,n=(s,a)=>{const n=s.origin,o=e.get(n.id);let l=i.get(n.id);null==l&&(l={optimalCount:null==o?0:o.optimalCount,sparseCount:null==o?0:o.buffer.size,toAdd:[],toRemove:[],origin:n.vec3},i.set(n.id,l));const d=t.elementCount(s.data)*r;a?(l.optimalCount+=d,l.sparseCount+=d,l.toAdd.push(s)):(l.optimalCount-=d,l.toRemove.push(s))};for(const e of s)n(e,!0);for(const e of a)n(e,!1);return i}(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let h=r.get(t);if(null==h)l(s>0),h=this.createData(a,s,e.origin),r.set(t,h);else if(0===s)return h.vao.dispose(!0),h.vao=null,void r.delete(t);const m=s<e.sparseCount/2,u=m?s:o,c=v,f=h.buffer.size,g=h.buffer.array,p=h.buffer.resize(u,!1);m||p?this.removeAndRebuild(h,e.toRemove,i,g,c):e.toRemove.length>0?(this.removeByErasing(h,e.toRemove,i,c),e.toAdd.length>0&&(c.end=f)):(c.begin=f,c.end=f);const b=O;d(b,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(h,e.toAdd,i,b,c);const y=h.vao.vertexBuffers.geometry;if(y.byteSize!==h.buffer.array.buffer.byteLength)y.setData(h.buffer.array);else{const{begin:e,end:t}=c;if(e<t){const s=h.buffer.array,a=4,i=e*a,r=t*a;y.setSubData(s,i,i,r)}}h.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.uniqueName);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;g(i,H,B),t.write({transformation:H,invTranspTransformation:B},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),l(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,r(e.instances,(t=>(t.isVisible?(t.hasHighlights&&(this._hasHighlights=!0,e.hasHighlights=!0),t.hasOccludees&&(this._hasOccludees=!0,e.hasOccludees=!0)):e.hasHiddenInstances=!0,e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees)))}));this._dataByOrigin.forEach((e=>{e.drawCommandsDirty&&((e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.stats={default:0,highlight:0,occludees:0},0===e.instances.size)return;if(!(e.hasOccludees||e.hasHighlights||e.hasHiddenInstances)){const t=4*e.buffer.size/m(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0})}const t=C([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[];for(const s of t)s.isVisible&&(s.hasOccludees?_(e.drawCommandsOccludees,s):_(e.drawCommandsDefault,s),s.hasHighlights&&_(e.drawCommandsHighlight,s));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees)}})(e),e.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(s,a,i,r){const n=this._rctx,o=this._glMaterials.get(a.pass),l=5===a.pass;let d=s;if(3===a.pass&&null===d&&(d=22),!o||2!==o.ensureResources(n)||null!=d&&!o.beginSlot(d)||l&&!this._hasHighlights)return!1;o.ensureParameters(i);const h=o.getTechnique(),m=o.getPipelineState(d,!1);n.setPipelineState(m),o.bind(n,i);let u=!1;return this._dataByOrigin.forEach((s=>{if(e(s.drawCommandsDefault)&&e(s.drawCommandsHighlight)&&e(s.drawCommandsOccludees))return;if(l&&!s.hasHighlights)return;i.origin=s.origin,h.bindDraw(i),h.ensureAttributeLocations(s.vao),n.bindVAO(s.vao);const a=h.primitiveType;let c=l?s.drawCommandsHighlight:s.drawCommandsDefault;const f=l?s.stats.highlight:s.stats.default;if(t(c)&&(this.renderCommands(n,a,c),w(c.length,f,r),u=!0),!l&&(c=s.drawCommandsOccludees,t(c))){const e=o.getPipelineState(d,!0);n.setPipelineState(e),this.renderCommands(n,a,c),n.setPipelineState(m),w(c.length,s.stats.occludees,r),u=!0}})),u}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new u(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:h.createVertex(this._rctx,35044)}),buffer:new p(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,stats:{default:0,highlight:0,occludees:0}}}removeAndRebuild(e,t,s,a,i){for(const a of t){const t=a.uniqueName,i=e.instances.get(t);e.optimalCount-=(i.to-i.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,l=-1,d=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==l&&l!==t?(n.set(a.subarray(o,l),d),d+=l-o,o=t):-1===o&&(o=t),l=i,e.from=r/s,r+=h,e.to=r/s})),o!==l&&n.set(a.subarray(o,l),d),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.uniqueName,o=e.instances.get(t),l=o.from*s,d=o.to*s;i!==r&&r!==l?(e.buffer.erase(i,r),i=l):-1===i&&(i=l),r=d,e.instances.delete(t),e.optimalCount-=d-l,l<a.begin&&(a.begin=l),d>a.end&&(a.end=d)}i!==r&&e.buffer.erase(i,r)}append(e,r,n,o,d){const h=this._bufferWriter;for(const m of r){const r=t(m.transformation)?s(H,o,m.transformation):o;a(B,r),i(B,B);const u=d.end;h.write({transformation:r,invTranspTransformation:B},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),d.end/n);const c=h.elementCount(m.data)*n,f=u+c;l(null==e.instances.get(m.uniqueName));const g=m.instanceParameters.visible,p=!!m.instanceParameters.highlights&&g,b=!!m.instanceParameters.occludees,C=new y(u/n,f/n,g,p,b);e.instances.set(m.uniqueName,C),e.optimalCount+=c,d.end+=c}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{applySome as t}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/PooledArray.js\";import a from\"../../../../core/Accessor.js\";import{someMap as d}from\"../../../../core/MapUtils.js\";import{materialPredicate as o}from\"./Material.js\";import{splitRenderGeometryChangeSetByMaterial as n}from\"./rendererUtils.js\";import h from\"../materials/renderers/MergedRenderer.js\";class l{}let p=class extends a{constructor(){super(...arguments),this._pendingAddsRemoves=new Map,this._adds=new i,this._removes=new i,this._updates=new i({allocator:e=>e||new l,deallocator:e=>(e.renderGeometry=null,e)}),this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._adds.prune(),this._removes.prune(),this._updates.prune(),this._materialRenderers&&(this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear())}get updating(){return this._pendingAddsRemoves.size>0||this._updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return d(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((r=>t(r.material.animation,(t=>t.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){let e=!1;if(!this.updating)return!1;this.updateAddsRemoves();const t={numToAdd:this._adds.length,toAdd:this._adds.data,numToRemove:this._removes.length,toRemove:this._removes.data,numToUpdate:this._updates.length,toUpdate:this._updates.data},r=n(t);let s=!1,i=!1;return r.forEach(((t,r)=>{let a=this._materialRenderers.get(r);if(!a&&t.toAdd.length>0&&(a=new h(this.rctx,this.materialRepository,r),this._materialRenderers.set(r,a),e=!0,s=!0,i=!0),!a)return;const d=s||a.hasHighlights,o=i||a.hasWater;a.modify(t),s=s||d!==a.hasHighlights,i=i||o!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(r),a.dispose(),e=!0)})),this._adds.clear(),this._removes.clear(),this._updates.clear(),this._pendingAddsRemoves.clear(),e&&this.updateSortedMaterialRenderers(),s&&(this._hasHighlights=d(this._materialRenderers,(e=>e.hasHighlights))),i&&(this._hasWater=d(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const t=0===this._pendingAddsRemoves.size;for(const t of e)this._pendingAddsRemoves.set(t,0);t&&this.notifyChange(\"updating\")}remove(e){const t=0===this._pendingAddsRemoves.size;for(const t of e){const e=this._pendingAddsRemoves.get(t);0===e?this._pendingAddsRemoves.set(t,2):2!==e&&this._pendingAddsRemoves.set(t,1)}t&&this._pendingAddsRemoves.size>0&&this.notifyChange(\"updating\")}modify(e,t){const r=0===this._updates.length;for(const r of e){const e=this._updates.pushNew();e.renderGeometry=r,e.updateType=t}r&&this._updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let t=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:r})=>{r.updateLogic&&r.updateLogic(e)&&(t=!0)})),t}draw(e,t){for(let r=0;r<this._sortedMaterialRenderers.length;r++){const s=this._sortedMaterialRenderers.data[r];o(s.material,e)&&s.materialRenderer.render(null,e,t,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((t,r)=>{r.insertOrder=e++,this._sortedMaterialRenderers.push({material:r,materialRenderer:t})})),this._sortedMaterialRenderers.sort(((e,t)=>{const r=t.material.renderPriority-e.material.renderPriority;return 0!==r?r:e.material.insertOrder-t.material.insertOrder}))}updateAddsRemoves(){this._adds.clear(),this._removes.clear(),this._pendingAddsRemoves.forEach(((e,t)=>{switch(e){case 0:this._adds.push(t);break;case 1:this._removes.push(t)}}));let e=0;for(;e<this._updates.length;){const t=this._updates.data[e].renderGeometry;this._pendingAddsRemoves.has(t)?this._updates.removeUnorderedIndex(e):e++}}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([r()],p.prototype,\"rctx\",void 0),e([r()],p.prototype,\"materialRepository\",void 0),e([r()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"./DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,separateBlendingParams as l,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";import{T as c}from\"../../../../chunks/TextureOnly.glsl.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new a(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),s)}initializePipeline(){return this.configuration.hasAlpha?n({blending:l(770,1,771,771),colorWrite:h}):n({colorWrite:h})}}u.shader=new r(c,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends o{constructor(){super(...arguments),this.hasAlpha=!1}}e([i()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../../../core/mathUtils.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{p as i,s,g as o}from\"../../../../chunks/vec3.js\";import{MainLight as r,FillLight as e,AmbientLight as c,SphericalHarmonicsLight as a}from\"./Lightsources.js\";import{elementwiseProduct as h,scalarProduct as f,add as m}from\"../lib/LongVectorMath.js\";function u(n){return(n+1)*(n+1)}function l(n){return 2*n+1}function g(t){return n(Math.floor(Math.sqrt(t)-1),0,2)}function p(n,t,i){const s=n[0],o=n[1],r=n[2],e=i||[];return e.length=u(t),t>=0&&(e[0]=.28209479177),t>=1&&(e[1]=.4886025119*s,e[2]=.4886025119*r,e[3]=.4886025119*o),t>=2&&(e[4]=1.09254843059*s*o,e[5]=1.09254843059*o*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*s*r,e[8]=.54627421529*(s*s-o*o)),e}function y(n,t){const i=u(n),s=t||{r:[],g:[],b:[]};s.r.length=s.g.length=s.b.length=i;for(let n=0;n<i;n++)s.r[n]=s.g[n]=s.b[n]=0;return s}function b(n,t){const s=g(t.r.length);for(const o of n)i(v,o.direction),p(v,s,P),h(P,w),f(P,o.intensity[0],k),m(t.r,k),f(P,o.intensity[1],k),m(t.g,k),f(P,o.intensity[2],k),m(t.b,k);return t}function H(n,t){p(v,0,P);for(const i of n)t.r[0]+=P[0]*w[0]*i.intensity[0]*4*Math.PI,t.g[0]+=P[0]*w[0]*i.intensity[1]*4*Math.PI,t.b[0]+=P[0]*w[0]*i.intensity[2]*4*Math.PI;return t}function M(n,t,i){y(t,i.sphericalHarmonics.sh),s(i.main.intensity,0,0,0);let h=!1;const f=d,u=j,l=I;f.length=0,u.length=0,l.length=0;for(const t of n)t instanceof r&&!h?(o(i.main.direction,t.direction),i.main.intensity[0]=t.intensity[0],i.main.intensity[1]=t.intensity[1],i.main.intensity[2]=t.intensity[2],i.main.castShadows=t.castShadows,h=!0):t instanceof r||t instanceof e?f.push(t):t instanceof c?u.push(t):t instanceof a&&l.push(t);b(f,i.sphericalHarmonics.sh),H(u,i.sphericalHarmonics.sh);for(const n of l)m(i.sphericalHarmonics.sh.r,n.sh.r),m(i.sphericalHarmonics.sh.g,n.sh.g),m(i.sphericalHarmonics.sh.b,n.sh.b)}const d=[],j=[],I=[],P=[0],k=[0],v=t(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,p as computeCoefficients,y as initSHCoefficients,u as numberOfCoefficients,l as numberOfCoefficientsInBand,g as orderFromNumberOfCoefficients,H as projectAmbientLights,b as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as i,f as t}from\"../../../../chunks/vec3f64.js\";import{p as n,g as r,a as s,b as o}from\"../../../../chunks/vec3.js\";import{combineLights as e}from\"./SphericalHarmonics.js\";const h=i();class g{constructor(){this._renderLighting={main:{intensity:i(),direction:t(1,0,0),castShadows:!1},sphericalHarmonics:{sh:{r:[0],g:[0],b:[0]}}},this._shOrder=2,this._oldSunlight={direction:i(),ambient:{color:i(),intensity:0},diffuse:{color:i(),intensity:0}}}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._renderLighting.main.direction)}setUniforms(i,t=!1){if(t){const t=(1-this._info.groundLightingFactor)*(1-this._info.globalFactor);i.setUniform1f(\"lightingFixedFactor\",t)}else i.setUniform1f(\"lightingFixedFactor\",0);i.setUniform1f(\"lightingGlobalFactor\",this._info.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._renderLighting.main.intensity),i.setUniform1f(\"ambientBoostFactor\",.4);const n=this._renderLighting.sphericalHarmonics.sh;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",n.r[0],n.r[1],n.r[2],n.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",n.g[0],n.g[1],n.g[2],n.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",n.b[0],n.b[1],n.b[2],n.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",n.r[1],n.r[2],n.r[3],n.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",n.g[1],n.g[2],n.g[3],n.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",n.b[1],n.b[2],n.b[3],n.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",n.r[5],n.r[6],n.r[7],n.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",n.g[5],n.g[6],n.g[7],n.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",n.b[5],n.b[6],n.b[7],n.b[8]))}set(i){this._info=i,e(i.lights,this._shOrder,this._renderLighting),n(this._oldSunlight.direction,this._renderLighting.main.direction);const t=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._renderLighting.sphericalHarmonics.sh.r[0]*t,this._oldSunlight.ambient.color[1]=.282095*this._renderLighting.sphericalHarmonics.sh.g[0]*t,this._oldSunlight.ambient.color[2]=.282095*this._renderLighting.sphericalHarmonics.sh.b[0]*t,this._oldSunlight.ambient.intensity=1,this._oldSunlight.diffuse.color[0]=this._renderLighting.main.intensity[0]*t,this._oldSunlight.diffuse.color[1]=this._renderLighting.main.intensity[1]*t,this._oldSunlight.diffuse.color[2]=this._renderLighting.main.intensity[2]*t,this._oldSunlight.diffuse.intensity=1;const g=r(h,this._oldSunlight.diffuse.color);s(g,g,.4*this._info.globalFactor),o(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,g)}get globalFactor(){return this._info.globalFactor}get old(){return this._oldSunlight}}export{g as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,isNone as r,unwrap as s}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/PooledArray.js\";import l from\"../../../core/Accessor.js\";import{f as h,c as d}from\"../../../chunks/vec3f64.js\";import u from\"../../../core/Handles.js\";import{init as p}from\"../../../core/watchUtils.js\";import{o as c,i as g,t as m}from\"../../../chunks/mat4.js\";import{someMap as y}from\"../../../core/MapUtils.js\";import{a as _}from\"../../../chunks/vec2f64.js\";import f from\"../../webgl/Texture.js\";import{vertexCount as R}from\"../../webgl/Util.js\";import{createEmptyDepthTexture as w,createQuadVAO as x}from\"../webgl-engine/lib/glUtil3D.js\";import{AmbientLight as b}from\"../webgl-engine/lighting/Lightsources.js\";import{IntersectorResult as T}from\"../webgl-engine/lib/intersectorUtils.js\";import v from\"../webgl-engine/lib/Camera.js\";import O from\"../support/debugFlags.js\";import{AutoDisposableMixin as C,autoDispose as j}from\"../webgl-engine/lib/AutoDisposable.js\";import{OverlayRenderTarget as L}from\"./OverlayRenderTarget.js\";import{Overlay as U}from\"./Overlay.js\";import{CommonUniformStore as V}from\"../webgl-engine/core/shaderTechnique/CommonUniformStore.js\";import{ShaderTechniqueRepository as M}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import q from\"../webgl-engine/lib/GLMaterialRep.js\";import D from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import E from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as G}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as S,TextureTechnique as P}from\"../webgl-engine/lib/TextureTechnique.js\";import{SceneLighting as A}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as H}from\"../webgl-engine/materials/lineStippleUtils.js\";const W=i.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let F=class extends(C(l)){constructor(e){super(e),this._overlays=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new A,this._localOrigins=new D,this._handles=new u,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new a,this._geometries=new Map,this._uniqueIdx=0,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){this._rctx=this.renderView.renderingContext,this._renderContext=new E(this._rctx,null,null,null,null,null),this._stippleTextureRepository=new H,this.waterTextureRepository=this.renderView.waterTextureRepository,this._shaderTechniqueRepository=new M({rctx:this._rctx,viewingMode:2,commonUniformStore:new V,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:this.waterTextureRepository}),p(this.waterTextureRepository,\"loadingState\",(()=>this.emitContentChanged())),this._materialRepository=new q(this.renderView.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&Y)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._compositingHelper=this.renderView.compositingHelper,this._lighting.set({lights:[new b(h(1,1,1))],groundLightingFactor:1,globalFactor:0}),this._bindParameters={slot:null,highlightDepthTexture:w(this._rctx),camera:I,inverseViewport:_(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,linearDepthTextureID:0,lastFrameColorTexture:null,lastFrameColorTextureID:0,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3}}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._bindParameters.highlightDepthTexture.dispose(),this._bindParameters.highlightDepthTexture=null,this._shaderTechniqueRepository.dispose(),this._shaderTechniqueRepository=null}get updating(){return this._sortedLayerRenderersDirty||y(this._layerRenderers,(e=>e.updating))||this.waterTextureRepository.updating}get hasOverlays(){return t(this._overlays)}get gpuMemoryUsage(){return t(this._overlays)?this._overlays[0].getGpuMemoryUsage()+this._overlays[1].getGpuMemoryUsage():0}get overlays(){return this._overlays}forEachOverlay(e){t(this._overlays)&&(e(this._overlays[0],0),e(this._overlays[1],1))}ensureOverlays(){if(r(this._overlays)){const e=this.renderView.renderingContext;this._overlays=[new U(e,0),new U(e,1)]}}disposeOverlays(){t(this._overlays)&&(this._overlays.forEach((e=>e.dispose())),this._overlays=null)}commitChanges(){let e=!1;this._layerRenderers.forEach(((t,r)=>{t.commitChanges()&&(e=!0),t.isEmpty&&(this._layerRenderers.delete(r),this._sortedLayerRenderersDirty=!0,this._handles.remove(r))})),this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),e=!0),e&&(this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}addGeometries(e,t,r){for(const t of e)null==t.origin&&(t.origin=this._localOrigins.getOrigin(t.center)),t.uniqueName||(t.uniqueName=\"ov:\"+this._uniqueIdx++),this._geometries.set(t.uniqueName,t);this.ensureLayerRenderer(t).add(e),2===r&&this.notifyGraphicUpdate(e,t,2)}removeGeometries(e,t,r){for(const t of e)this._geometries.delete(t.uniqueName);const s=this._layerRenderers.get(t);s&&(s.remove(e),2===r&&this.notifyGraphicUpdate(e,t,2))}updateGeometries(e,t,r){const s=this._layerRenderers.get(t);s?(s.modify(e,r),this.notifyUpdateGeometries(e,t,r)):W.warn(\"Attempted to update geometry for nonexistent layer\")}notifyUpdateGeometries(e,t,r){const s=4===r||2===r?2:1===r?1:0;this.notifyGraphicUpdate(e,t,s)}notifyGraphicUpdate(e,t,s){if(0===s||r(t.notifyGraphicUpdate))return;let i=-1;for(const r of e){const e=r.data.graphicUid;e!==i&&(t.notifyGraphicUpdate(e,s),i=e)}}updateHighlights(e,t){const r=this._layerRenderers.get(t);r?r.modify(e,8):W.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!O.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let t=!1;return this._layerRenderers.forEach((r=>{r.updateLogic(e)&&(t=!0)})),t}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawPass(e,r,i,n=0){if(0===i.numViews)return!1;if(this._screenToWorldRatio=i.pixelRatio*Math.abs(i.views[0].extent[2]-i.views[0].extent[0])/Math.abs(i.views[0].viewport[2]-i.views[0].viewport[0]),this.isEmpty()||5===e&&!this.hasHighlights||3===e&&!this.hasWater)return!1;if(!this.hasNonZeroSizedView(i))return!1;const o=i.width,a=i.height;if(!r.isValid())return!1;r.resize(o,a);const l=this._rctx;if(I.pixelRatio=i.pixelRatio||1,this._renderContext.pass=e,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,r.bind(l),l.setClearColor(0,0,0,0),l.clearSafe(16384),1===n&&(this._renderContext.renderOccludedMask=Y),O.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==n)for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],I),this.drawDebugTexture(o,a,k[i.index%k.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:h,renderer:d})=>{if(2===n&&t(h)&&0===h.drapeSourceType)return;const u=t(h)&&t(h.fullOpacity)&&h.fullOpacity<1&&0===e;u&&(this.bindTemporaryFramebuffer(this._rctx,o,a),l.clearSafe(16384));for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],I),d.draw(this._renderContext,this._bindParameters);u&&t(this._temporaryRenderTarget)&&(r.bind(l),this._compositingHelper.composite(this._temporaryRenderTarget.getTexture(),2,s(s(h).fullOpacity)))})),l.bindFramebuffer(null),r.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,t,s){r(this._temporaryRenderTarget)&&(this._temporaryRenderTarget=new L(e,\"temp\",0,!1)),this._temporaryRenderTarget.resize(t,s),this._temporaryRenderTarget.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,t,r){let s=0;this._geometries.forEach((i=>{if(r&&!r(i))return;this.intersectRenderGeometry(i,t,0,e,s);const n=this.longitudeCyclical;n&&(i.center[0]-i.bsRadius<n.min&&this.intersectRenderGeometry(i,t,n.range,e,s),i.center[0]+i.bsRadius>n.max&&this.intersectRenderGeometry(i,t,-n.range,e,s)),s++}))}intersectRenderGeometry(e,r,s,i,n){let o=0;t(e.transformation)&&(s+=e.transformation[12],o=e.transformation[13]),N[0]=r[0]-s,N[1]=r[1]-o,N[2]=1,B[0]=r[0]-s,B[1]=r[1]-o,B[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),i,N,B,((t,r,s)=>{this.addIntersectionResult(s,e.material.renderPriority,n,i,e.data.layerUid,e.data.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,t,r,s,i,n){const o={type:\"external\",metadata:{layerUid:i,graphicUid:n}},a=i=>{i.set(o,null,s.results.ground.dist,s.results.ground.normal,s.results.ground.transformation,t,null,null,e,r),i.intersector=\"OverlayRenderer\"};if((null==s.results.min.drapedLayerOrder||t>=s.results.min.drapedLayerOrder)&&(null==s.results.min.dist||s.results.ground.dist<=s.results.min.dist)&&a(s.results.min),0!==s.options.store&&(null==s.results.max.drapedLayerOrder||t<s.results.max.drapedLayerOrder)&&(null==s.results.max.dist||s.results.ground.dist>s.results.max.dist)&&a(s.results.max),2===s.options.store){const e=new T(s.ray);a(e),s.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((t=>t.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let t=this._layerRenderers.get(e);return t||(t=new G({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,t),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(p(t,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),t}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const[{view:{allLayerViews:e}}]=this._layerRenderers.keys(),t=new Set(this._layerRenderers.values());e.forEach((e=>{const r=e,s=this._layerRenderers.get(r);s&&(this._sortedLayerRenderers.push(new z(r,s)),t.delete(s))})),t.forEach((e=>{this._sortedLayerRenderers.push(new z(null,e))}))}setViewParameters(e,t){t.viewport=e.viewport;const r=e.extent;c(t.projectionMatrix,0,r[2]-r[0],0,r[3]-r[1],t.near,t.far),g(t.viewMatrix),m(t.viewMatrix,t.viewMatrix,[-e.extent[0],-e.extent[1],0]),t.setGLViewport(this._rctx),this._renderContext.camera=t,this._bindParameters.camera=t,this._bindParameters.inverseViewport[0]=1/t.fullViewport[2],this._bindParameters.inverseViewport[1]=1/t.fullViewport[3]}hasNonZeroSizedView(e){for(let t=0;t<e.numViews;t++){const r=e.views[t];if(r.extent[0]!==r.extent[2]&&r.extent[1]!==r.extent[3])return!0}return!1}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=y(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e)}updateHasHighlights(){const e=y(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=y(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,t,r){const s=this._rctx;this.ensureDebugPatternResources(e,t);const i=this._debugTextureTechnique.program;s.bindProgram(i),s.setPipelineState(this._debugTextureTechnique.pipeline),i.setUniform4f(\"color\",r[0],r[1],r[2],1),i.setUniform1i(\"tex\",0),s.bindTexture(this._debugPatternTexture,0),s.bindVAO(this._quadVAO),s.drawArrays(5,0,R(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,t){if(this._debugPatternTexture)return;const r=new Uint8Array(e*t*4);let s=0;for(let i=0;i<t;i++)for(let n=0;n<e;n++){const o=Math.floor(n/10),a=Math.floor(i/10);o<2||a<2||10*o>e-20||10*a>t-20?(r[s++]=255,r[s++]=255,r[s++]=255,r[s++]=255):(r[s++]=255,r[s++]=255,r[s++]=255,r[s++]=1&o&&1&a?1&n^1&i?0:255:1&o^1&a?0:128)}this._debugPatternTexture=new f(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:t},r);const i=new S;i.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquireAndReleaseExisting(P,i,this._debugTextureTechnique),this._quadVAO=x(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([j()],F.prototype,\"_shaderTechniqueRepository\",void 0),e([j()],F.prototype,\"_stippleTextureRepository\",void 0),e([n(),j()],F.prototype,\"waterTextureRepository\",void 0),e([n({constructOnly:!0})],F.prototype,\"renderView\",void 0),e([n()],F.prototype,\"globalUnitScale\",void 0),e([n({type:Boolean,readOnly:!0,dependsOn:[\"waterTextureRepository.updating\"]})],F.prototype,\"updating\",null),F=e([o(\"esri.views.3d.terrain.OverlayRenderer\")],F);class z{constructor(e,t){this.layerView=e,this.renderer=t}}const k=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],I=new v;I.near=1,I.far=1e4,I.relativeElevation=null;const N=d(),B=d(),X=-2,Y=4;export{X as DRAPED_Z,F as OverlayRenderer,Y as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";const e=13;export default class{constructor(t,i,h,r,a,l){this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=e,this.hasOccludees=!1,this.rctx=t,this.offscreenRenderingHelper=i,this.scenelightingData=h,this.shadowMap=r,this.ssaoHelper=a,this.sliceHelper=l}resetRenderOccludedMask(){this.renderOccludedMask=e}get isHighlightPass(){return 5===this.pass}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{slice as t}from\"../../../../core/typedArrayUtil.js\";import{isNone as e,isSome as o,unwrapOr as n}from\"../../../../core/maybe.js\";import{acosClamped as r}from\"../../../../core/mathUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,n as s,d as f,a as c}from\"../../../../chunks/vec3.js\";import{projectBuffer as u}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{GeometryData as I}from\"../../webgl-engine/lib/GeometryData.js\";import{applyPerVertexElevationAlignment as p}from\"./elevationAlignmentUtils.js\";import{RibbonVertexAttributeConstants as d}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{WHITE_UNIT as T}from\"./constants.js\";function y(i){const u={},l={};!function(e,o,n){const{attributeData:{position:r},removeDuplicateStartEnd:i}=e,a=function(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}(r)&&1===i,s=r.length/3-(a?1:0),f=new Uint32Array(2*(s-1)),c=a?t(r,0,r.length-3):r;let u=0;for(let t=0;t<s-1;t++)f[u++]=t,f[u++]=t+1;o[d.POSITION]={size:3,data:c,offsetIdx:0,strideIdx:3},n[d.POSITION]=f}(i,l,u);const p=new Uint32Array(u[d.POSITION].length);return function(t,o,n){const r=t.attributeData.mapPosition;if(e(r))return;n.mapPos=n[d.POSITION],o.mapPos={size:3,data:r,offsetIdx:0,strideIdx:3}}(i,l,u),function(t,e,r,i){if(o(t.attributeData.colorFeature))return;const a=t.attributeData.color;e[d.COLOR]={size:4,data:n(a,T),offsetIdx:0,strideIdx:4},r[d.COLOR]=i}(i,l,u,p),function(t,e,r,i){if(o(t.attributeData.sizeFeature))return;const a=t.attributeData.size;e[d.SIZE]={size:1,data:new Float32Array([n(a,1)]),offsetIdx:0,strideIdx:1},r[d.SIZE]=i}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.colorFeature;if(e(i))return;o[d.COLORFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.COLOR]=r}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.sizeFeature;if(e(i))return;o[d.SIZEFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.SIZEFEATUREATTRIBUTE]=r}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.opacityFeature;if(e(i))return;o[d.OPACITYFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.OPACITYFEATUREATTRIBUTE]=r}(i,l,u,p),function(t,e,o){if(\"round\"!==t.join)return;const i=e[d.POSITION].data,u=i.length/3,l=new Float32Array(u),I=E,p=S;a(I,0,0,0);const m=n(t.uniformSize,1);for(let t=-1;t<u;++t){const e=t<0?u+t:t,o=(t+1)%u;if(a(p,i[3*o+0]-i[3*e+0],i[3*o+1]-i[3*e+1],i[3*o+2]-i[3*e+2]),s(p,p),t>=0){const e=1*((Math.PI-r(f(I,p)))*x)*A(m);l[t]=Math.max(Math.floor(e),0)}c(I,p,-1)}e[d.SUBDIVISIONS]={size:1,data:l,offsetIdx:0,strideIdx:1},o[d.SUBDIVISIONS]=o[d.POSITION]}(i,l,u),new I(l,u,\"line\")}function O(t,e,o,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:a,outlines:s}=l(i,t.hasZ,r),f=new Float64Array(a.length),c=p(a,t.spatialReference,0,f,0,a,0,a.length/3,e,o,n),u=null!=c;return{lines:u?g(s,a,f):[],projectionSuccess:u,sampledElevation:c}}function g(t,e,o){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,a=t+3*i;n.push({position:e.subarray(t,a),mapPosition:o?o.subarray(t,a):void 0})}return n}function h(t,e){const o=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,o),a=u(r,t.spatialReference,0,r,e,0,r.length/3);for(let t=2;t<r.length;t+=3)r[t]=m;return{lines:a?g(i,r):[],projectionSuccess:a}}function A(t){return 1.863798+-2.0062872/Math.pow(1+t/18.2313,.8856294)}const E=i(),S=i(),x=4/Math.PI;export{y as createGeometryData,O as geometryToRenderInfo,h as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as n,a as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c}from\"../../../../chunks/vec4.js\";import{empty as d,expandWithBuffer as u,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as f}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import _ from\"../../webgl-engine/lib/Geometry.js\";import{RibbonVertexAttributeConstants as y}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{RibbonLineMaterial as v}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import O from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as w,createGeometryData as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{f as C,a as D}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{VisualElementResources as E}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class G{constructor(e){this.view=null,this._attachmentOrigin=p(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=C(1,0,1,1),this._innerWidth=0,this._innerColor=C(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new E({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new j({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?D(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(I,0,0,0);const s=y.POSITION;let i=0;for(const e of r){const r=e.getAttribute(s),a=e.getIndices(s),o=t(this.resources.resources).material.isClosed(r.data,a);f(r,a,o,M)&&(n(I,I,M),i++)}return 0===i?null:(o(I,I,1/i),this.view.renderCoordsHelper.fromRenderCoords(I,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new v(this.materialParameters,\"lineVisualElement\"),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new v(this.materialParameters,\"lineVisualElement\");return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=w(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:t}of s.lines){const r={attributeData:{position:t},removeDuplicateStartEnd:this.isClosed?1:0},s=new O(R(r));s.material=e;const n=d(A);u(n,t),a(s.center,.5*(n[0]+n[3]),.5*(n[1]+n[4]),0),s.bsRadius=.5*Math.sqrt((n[3]-n[0])*(n[3]-n[0])+(n[4]-n[1])*(n[4]-n[1])),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.data.getAttribute(\"position\"),i=s.data,a=new Float64Array(i.length);l(s.data,t.spatialReference,0,a,this.view.spatialReference,0,i.length/3),u(e,a)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,g.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:e,mapPosition:r}of t.lines){const t={attributeData:{position:e,mapPosition:r},removeDuplicateStartEnd:this.isClosed?1:0},a=R(t);s.push(new _(a,\"geometryOutlineVisualElement\")),i.push(e)}return this._laserline.pathVerticalPlane=i,s}}const A=m(),M=i(),I=i();export{G as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import c from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h,j){const y=n?n.length:0,v=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(v)&&!s(v,u))return null;const w=t.renderCoordsHelper.spatialReference;o(r,u,w);const x=t.localOriginFactory.getOrigin(u),b=new c({castShadow:!1,metadata:{layerUid:d,graphicUid:h,usesVerticalDistanceToGround:!0},idHint:g});for(let e=0;e<y;e++){const t=l?l[e]:i;b.addGeometry(n[e],a[e],t,m,x,j)}return{object:b,sampledElevation:p(b,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{a as r}from\"../../../../chunks/vec4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as a,defaultDepthWriteParams as l,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as p}from\"../core/shaderLibrary/Slice.glsl.js\";import{blendingDefault as h,OITBlending as g,OITDepthWrite as m,OITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{ScreenSizeScaling as b}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";class y extends t{initializeProgram(e){const r=y.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType});return new n(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),P)}bindPass(e,r,i){const{screenSizeEnabled:t,shadingEnabled:o}=this.configuration,{color:s,shadingTint:n,shadingDirection:a}=r;c.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"color\",s),o&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(E,n,s)),this.program.setUniform3fv(\"shadingDirection\",a),this.program.setUniformMatrix4fv(\"viewNormal\",i.camera.viewInverseTransposeMatrix)),t&&b.bindPassUniforms(this.program,r,i)}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}bindDraw(e){c.bindView(this.program,e),c.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),p.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return a({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:g(e),culling:(o=r.cullFace,0!==o&&{face:1===o?1028:1029,mode:2305}),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&l:m(e),colorWrite:d,polygonOffset:i||t?null:u});var o}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class S extends o{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3}}e([s({count:8})],S.prototype,\"output\",void 0),e([s({count:3})],S.prototype,\"cullFace\",void 0),e([s()],S.prototype,\"slicePlaneEnabled\",void 0),e([s()],S.prototype,\"sliceHighlightDisabled\",void 0),e([s()],S.prototype,\"transparent\",void 0),e([s()],S.prototype,\"writeDepth\",void 0),e([s()],S.prototype,\"screenSizeEnabled\",void 0),e([s()],S.prototype,\"shadingEnabled\",void 0),e([s({count:4})],S.prototype,\"transparencyPassType\",void 0);const v={POSITION:\"position\",NORMAL:\"normal\",OFFSET:\"offset\"},P={position:0,normal:1,offset:2},E=r();export{y as ShadedColorMaterialTechnique,S as ShadedColorMaterialTechniqueConfiguration,v as ShadedColorMaterialVertexAttrConstants,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{n as t,s as r,a as i,b as s}from\"../../../../chunks/vec3.js\";import{BufferViewVec3f as a}from\"../../support/buffer/BufferView.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{assert as u}from\"../lib/Util.js\";import h from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as l}from\"./internal/MaterialUtil.js\";import{Material as p,materialParametersDefaults as f}from\"../lib/Material.js\";import{writeDefaultAttributes as d,writePosition as m}from\"./internal/bufferWriterUtils.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as b,ShadedColorMaterialVertexAttrConstants as S,ShadedColorMaterialTechnique as E}from\"../shaders/ShadedColorMaterialTechnique.js\";export{ShadedColorMaterialVertexAttrConstants}from\"../shaders/ShadedColorMaterialTechnique.js\";class q extends p{constructor(e,t){super(t,e,F),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=b}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,a,c,u,h,p){if(this.params.screenSizeEnabled){const a=e.getAttribute(S.OFFSET),f={applyToVertex:(e,t,n,o)=>{const u=r(v,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),h=r(C,e,t,n);return i(u,u,this.params.screenSize*c.camera.computeRenderPixelSizeAt(u)),s(h,h,u),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,v);return o(e,this.params.screenSize*c.camera.computeRenderPixelSizeAt(t))}};l(e,t,c,u,h,f,p)}else l(e,t,c,u,h,void 0,p)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new T(e):void 0}createBufferWriter(){return new P(this.params.screenSizeEnabled)}}class T extends h{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(E,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;let t=3;return this.technique.configuration.transparent&&(t=this.technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const F={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:t(e(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class P{constructor(e){this.screenSizeEnabled=e;const t=c().vec3f(S.POSITION).vec3f(S.NORMAL);this.screenSizeEnabled&&t.vec3f(S.OFFSET),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices[S.POSITION].length}write(e,t,r,i){if(d(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!(S.OFFSET in t.vertexAttr))throw new Error(`${S.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const s=t.vertexAttr[S.OFFSET],n=t.indices[S.OFFSET];u(3===s.size);const o=r.getField(S.OFFSET,a);if(!o)throw new Error(\"unable to acquire view for \"+S.OFFSET);m(n,s.data,e.invTranspTransformation,o,i)}}}}const v=e(),C=e();export{q as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as o}from\"../../layers/graphics/ElevationContext.js\";import l from\"../../webgl-engine/lib/Geometry.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{ShadedColorMaterialVertexAttrConstants as c}from\"../../webgl-engine/shaders/ShadedColorMaterialTechnique.js\";import{ShadedColorMaterial as h}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as d}from\"../editingTools/settings.js\";class m extends u{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=d.colorToVec4(d.reshapeManipulators.vertex.color),this._size=d.reshapeManipulators.vertex.size,this._outlineColor=d.colorToVec4(d.reshapeManipulators.vertex.outlineColor),this._outlineSize=d.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=n(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,o.fromElevationInfo(this.elevationInfo)),s=[],a=i.numVertices,u=i.position;for(let e=0;e<a;++e){const t=r(p,u[3*e+0],u[3*e+1],u[3*e+2]),i=new l(v(.5,16,16,t),\"VerticesVisualElement-vertex\"),a=new l(v(.5,16,16,t),\"VerticesVisualElement-vertexOutline\");s.push({vertexGeometry:i,vertexOutlineGeometry:a})}return s}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new h({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0},\"manipulator\"),this.vertexOutlineMaterial=new h({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1},\"manipulator-outline\")}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalResource(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const p=t();function v(e,t,r,i){const s=a.createSphereGeometry(e,t,r,{attributes:{position:c.OFFSET,uv:null}});return s.indices[c.POSITION]=new Uint32Array(s.indexCount),s.vertexAttributes[c.POSITION]={size:3,data:Float64Array.from(i),offsetIdx:0,strideIdx:3},s}export{m as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../core/Evented.js\";import l from\"../../../../../Graphic.js\";import c from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as h}from\"../../../../../support/elevationInfoUtils.js\";import{SceneDrawSurface as p}from\"./drawSurfaces.js\";import{DrawOperation as u}from\"./DrawOperation.js\";import{InteractiveToolBase as d}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as m}from\"../../../../interactive/snapping/SnappingOptions.js\";import{createViewAlignedCoordinateSystem as y,createSquare as v,createRectangle as g,createCircle as V,createEllipse as _,createPolygon as f,createPolyline as w}from\"../../../../draw/support/createUtils.js\";import{settings as E}from\"../settings.js\";import{OutlineVisualElement as O}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as G}from\"../../visualElements/VerticesVisualElement.js\";let b=class extends(o.EventedMixin(d)){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingOptions=new m,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new c({elevationInfo:e}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new u({view:this.view,manipulators:this.manipulators,geometryType:C(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new p(this.view,e,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:e,snappingOptions:this.snappingOptions}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,o=n.slice(),l=[];i(r)&&(o.splice(r,1),l.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=o,c.stagedVertices=l,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=w([n],a,h));break;case\"polygon\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=f([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=V([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?V(s,e,this.centered):_(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=v([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?v(s,e,this.centered):g(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=w([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=f([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=f(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo,n=\"on-the-ground\"===h(this.hasZ,a);i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new O({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:n,attached:!1}),E.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),E.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=E.colorToVec4(E.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new l({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new l({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function C(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([a()],b.prototype,\"createGraphicSymbol\",void 0),e([a()],b.prototype,\"createGraphic\",null),e([a({value:!0})],b.prototype,\"enabled\",null),e([a({value:!0})],b.prototype,\"centered\",null),e([a({value:!0})],b.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],b.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],b.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([a()],b.prototype,\"snapToScene\",void 0),e([a()],b.prototype,\"snappingOptions\",void 0),e([a({constructOnly:!0})],b.prototype,\"mode\",void 0),e([a({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],b.prototype,\"type\",void 0),b=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],b);const S=48;export{b as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as t,isNone as i,unwrapOr as s,unwrap as o}from\"../../../core/maybe.js\";import{once as n}from\"../../../core/accessorSupport/utils.js\";import r from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import a from\"../../../core/Evented.js\";import{deg2rad as c}from\"../../../core/mathUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray3 as h,screenPointObjectToArray as d,castRenderScreenPointArray as _}from\"../../../core/screenUtils.js\";import{c as u,Z as g}from\"../../../chunks/vec3f64.js\";import{b as m,t as f,i as p,a as b,g as v,h as y,s as j,f as L}from\"../../../chunks/vec3.js\";import{getReferenceEllipsoid as S}from\"../../../geometry/projectionEllipsoid.js\";import{c as R,d as w,m as O,i as T}from\"../../../chunks/mat4.js\";import{containsPointObject as E}from\"../../../geometry/support/aaBoundingRect.js\";import{canProjectWithoutEngine as A,projectPoint as D,sphericalECEFToSphericalPCPF as I,computeLatLonToENURotation as P}from\"../../../geometry/projection.js\";import{a as F}from\"../../../chunks/mat3f64.js\";import{a as z}from\"../../../chunks/mat4f64.js\";import{f as k}from\"../../../chunks/mat3.js\";import{j as C}from\"../../../chunks/vec2.js\";import{getElevationAtPoint as M}from\"../support/ElevationProvider.js\";import{sv3d as x}from\"../support/stack.js\";import{ray as B,plane as V,lineSegment as W}from\"../support/geometryUtils.js\";import H from\"../webgl-engine/lib/Object3D.js\";import U from\"../webgl-engine/lib/Camera.js\";import{clonePoint as G}from\"../../../layers/graphics/hydratedFeatures.js\";import N from\"../webgl-engine/lib/Layer.js\";class Z{constructor(e){this.camera=new U,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=z(),this._worldFrame=null,this._renderLocation=u(),this._renderLocationDirty=!0,this._location=new r({x:0,y:0,z:0}),this._elevationAlignedLocation=new r,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new a.EventEmitter,this._screenLocation={screenPointArray:l(),renderScreenPointArray:h(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayerId=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:n((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){q(e)&&(this._screenLocationDirty=!0),R(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=z()),function(e,t,i){switch(e.viewingMode){case\"local\":return T(i),!0;case\"global\":{const s=S(e.renderCoordsHelper.spatialReference);I(t,0,te,0,s.radius),P(c(te[1]),c(te[0]),i)}}}(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){G(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){G(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=t(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(q(this._modelTransform)){const t=this._calculateModelTransformOffset(re);e=m(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,s){if(!this.available)return null;const o=d(t,J),n=this._getCollisionRadius(s),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(C(this.screenLocation.screenPointArray,o)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),s=this._calculateObjectTransform(t,$),a=n*this.screenLocation.pixelSize,c=B.fromScreen(this.camera,o,Q);if(i(c))return null;for(const t of e){if(0===t.length)continue;const e=p(te,t[0],s);for(let i=1;i<t.length;i++){const o=p(ie,t[i],s),n=W.closestRayDistance2(W.fromPoints(e,o,K),c);if(null!=n&&n<a*a){const t=m(x.get(),e,o);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:g,s=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(s,$),l=n*this.screenLocation.pixelSize,h=B.fromScreen(this.camera,o,Q);if(i(h))return null;const d=k(X,c),_=f(oe,e,d),u=p(ne,t,c);V.fromPositionAndNormal(u,_,ee);const m=se;if(V.intersectRay(ee,h,m)&&y(m,u)<l*l)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,s=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(s,$),c=n*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=B.fromScreen(this.camera,o,Q);if(i(l))return null;const h=k(X,a),d=f(oe,t,h),u=this._calculateModelTransformPosition(ne);V.fromPositionAndNormal(u,d,ee);const g=se;if(!V.intersectRay(ee,l,g))break;for(const t of e){if(0===t.length)continue;const e=p(te,t[0],a);for(let i=1;i<t.length;i++){const s=p(ie,t[i],a),o=W.distance2(W.fromPoints(e,s,K),g);if(null!=o&&o<c*c){const t=m(x.get(),e,s);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,s)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){if(!this.view._stage)return;const t=e.manipulator3D;if(this._engineLayerId=t.engineLayerId,i(this._engineLayerId)){const e=new N(\"manipulator-3d\",{isPickable:!1});this.view._stage.add(0,e),this.view._stage.addToViewContent([e.id]),this._engineLayerId=e.id,t.engineLayerId=e.id}t.engineLayerReferences=(t.engineLayerReferences||0)+1,this._materialIdReferences=t.materialIdReferences,i(this._materialIdReferences)&&(this._materialIdReferences=new Map,t.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new r({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayerId=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){D(this.location,ae,e.spatialReference),E(e.extent,ae)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(i(this.elevationInfo))return!1;let t=null,o=0;const n=s(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=M(this.view.elevationProvider,e,\"ground\")||0;break;case\"relative-to-ground\":o=(M(this.view.elevationProvider,e,\"ground\")||0)+n;break;case\"relative-to-scene\":o=(M(this.view.elevationProvider,e,\"scene\")||0)+n;break;case\"absolute-height\":o=n}return(o!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=o,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=$;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:e,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const i=!(0!=(15&e))||(s&e)==(15&e),r=!(0!=(65520&e))||(this.state&e)==(65520&e);if(i&&r)for(const e of n)e.setVisible(!0),e.objectTransformation=t;else for(const e of n)e.setVisible(!1)}}_ensureEngineResources(){if(i(this._engineResources)){const e=this.view._stage.getContent(0,o(this._engineLayerId)),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},n=new Map;this.renderObjects.forEach((e=>{const t=new H({idHint:\"manipulator\",castShadow:!1});s(t,e);const i=e.stateMask||0,o=n.get(i)||[];o.push(t),n.set(i,o)}));const r=[];n.forEach(((e,t)=>{r.push({stateMask:t,objects:e})})),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:e,layer:t,materials:s}=this._engineResources;s.forEach((e=>{const t=o(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(3,e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{e.forEach((e=>{t.addObject(e),this.view._stage.add(1,e)}))})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:t,layer:s,materials:n}=this._engineResources;t.forEach((({objects:e})=>{e.forEach((e=>{s.removeObject(e),this.view._stage.remove(1,e.id)}))})),n.forEach((e=>{const t=o(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(3,e.id),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(0,s.id),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,Y);return j(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return L(e,t,this.renderLocation)}_calculateObjectTransform(e,i){return w(i,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&O(i,i,this._worldFrame),O(i,i,this._modelTransform),i[12]+=this.renderLocation[0],i[13]+=this.renderLocation[1],i[14]+=this.renderLocation[2],i[15]=1,t(this._applyObjectTransform)&&this._applyObjectTransform(i),i}get test(){let e=!1;if(t(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function q(e){return 0!==e[12]||0!==e[13]||0!==e[14]}const J=l(),K=W.create(),Q=B.create(),X=F(),Y=z(),$=z(),ee=V.create(),te=u(),ie=u(),se=u(),oe=u(),ne=u(),re=u(),ae=new r({x:0,y:0,z:0,spatialReference:null});export{Z as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{f as r,c as n,i as o,n as i}from\"../../../chunks/vec3.js\";import{a}from\"../../../chunks/mat4.js\";import{b as c}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as m}from\"../support/stack.js\";import l from\"../webgl-engine/lib/GeometryUtil.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/Geometry.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as h}from\"./Manipulator3D.js\";import{ShadedColorMaterial as j}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4){const r=c(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return new j({color:r,transparent:n,writeDepth:!0,cullFace:2,renderOccluded:t},\"manipulator\")}function w(e,t=4){const r=c(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t},\"manipulator-outline\")}function b(e,t,r){return new h({view:e,renderObjects:[{geometry:new g(l.createSphereGeometry(1,32,32),\"manipulator\"),material:d(c(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,i,c){const l=r(s.get(),e,i),u=O(l,n(s.get(),c,l),i,m.get());a(u,u);const p=o(s.get(),t,u);return Math.atan2(p[1],p[0])}function O(e,t,r,o){const a=i(s.get(),e),c=i(s.get(),t),m=n(s.get(),a,c);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=c[0],o[5]=c[1],o[6]=c[2],o[7]=0,o[8]=m[0],o[9]=m[1],o[10]=m[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function k(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(r,n,o){const i=k(r,o);e(i)?n.elevationAlignedLocation=i:function(e,r){if(t(r))return;const n=p(r);if(t(n))return;e.location=u(n)}(n,o.geometry)}export{y as calculateInputRotationTransform,O as calculateTranslateRotateFromBases,d as createManipulatorMaterial,w as createManipulatorOutlineMaterial,b as createSphereManipulator,k as getGraphicAttachmentOrigin,v as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(l){const{view:d,graphic:v}=l,b=new f({graphic:v}),S=y(l,b),j=[S,function(l,d,f){const{graphic:v,view:y}=l,b=[],S=c(v),j=\"on-the-ground\"===S.mode||!S.offset&&\"absolute-height\"!==S.mode,M=new g,G=new m({view:y,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(G);const L=i(u.visualElements.heightPlaneAngleCutoff),D=new p({view:y,attached:!1,angleCutoff:L});u.visualElements.heightPlane.apply(D);let C=1,V=1;const k=()=>{if(M.update(l),!f.displaying||j&&(f.isDraped||!E(v)||!v.geometry.hasZ))return d.laserlineEnabled=!1,G.attached=!1,void(D.attached=!1);d.laserlineEnabled=!0;{const e=4&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==C&&(C=e,u.visualElements.lineGraphics.shadowStyle.apply(d,e),u.visualElements.pointGraphics.shadowStyle.apply(G,e))}{const e=2&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==V&&(V=e,u.visualElements.heightPlane.apply(D,e))}!function(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}(G,M),function(t,a,n,i){if(i.numSelected>0){s(w,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(w,w,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(w,w,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,w)?(n.heightManifoldTarget=w,n.attached=!0):n.attached=!1}}(l,d,D,M)};u.visualElements.zVerticalLine.apply(G),b.push(f.on(\"changed\",k),f.watch(\"displaying\",k),d.events.on(\"attachment-origin-changed\",k),a(G),a(D));const x=[],A=()=>{t(x).remove(),x.length=0,l.forEachManipulator((e=>x.push(e.events.on(\"grab-changed\",k)))),l.forEachManipulator((e=>x.push(e.events.on(\"select-changed\",k)))),k()};return A(),b.push(l.onManipulatorsChanged(A),n((()=>t(x)))),t(b)}(l,S.visualElement,b),d.maskOccludee(v),d.trackGraphicState(b)];return{visualElement:S.visualElement,remove:()=>t(j).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:E(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=E(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const w=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{ManipulatorState as j}from\"./ManipulatorState.js\";import{GraphicState as b}from\"../../layers/graphics/GraphicState.js\";function x(r){const{view:m,graphic:x}=r,A=new b({graphic:x}),C=[],M=function(t,i,r){const{view:a,graphic:p}=t,m=new E({view:a,geometry:S(p)?p.geometry:null,elevationInfo:g(p),attached:!1});return function(t,n,i,r){const a=()=>n.attached=i.displaying;(function(t,n,i,r){const{view:a,graphic:s}=t;let p=null;const m=()=>{e(p)&&(p.remove(),p=null),i.isDraped&&S(s)&&(p=function(e,t,n){const o=e.elevationProvider.spatialReference;c(t,L,o);const i=L[0],r=L[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}(a,s.geometry,(()=>{n.geometry=s.geometry})))},h=()=>{m(),n.geometry=S(s)?s.geometry:null};r.push(i.on(\"changed\",h),o((()=>p))),h()})(t,n,i,r),w.visualElements.pointGraphics.outline.apply(n),r.push(s(i,\"displaying\",a))}(t,m,i,r),r.push(n(m)),m}(r,A,C);return function(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),b=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(b);const x=g(e.graphic),A=f.fromElevationInfo(x),C=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,M=new j;let R=1,U=1;const D=()=>{M.update(e);const n=C&&(t.isDraped||!S(l)||!l.geometry.hasZ);let o=!0;if(!n&&S(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,A,s.renderCoordsHelper);a(L,e.x,e.y,t),p(L,e.spatialReference,L,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(L),m.intersectsWorldUpAtLocation=L}else o=!1;{const e=2&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==R&&(R=e,w.visualElements.heightPlane.apply(b,e))}{const e=h(P);!n&&t.displaying&&r.calculateMapBounds(e)&&p(u(e,L),s.spatialReference,L,s.renderCoordsHelper.spatialReference)?(b.heightManifoldTarget=L,b.attached=!0):b.attached=!1}{const e=4&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==U&&(U=e,w.visualElements.pointGraphics.shadowStyle.apply(m,e))}const i=o&&t.displaying&&!n;m.attached=i,c.attached=i};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(b)),D()}(r,A,C,M),C.push(m.trackGraphicState(A)),{visualElement:M,remove(){t(C).remove()}}}function S(t){return e(t.geometry)&&\"point\"===t.geometry.type}const L=r(),P=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(70/3*2),P=160,i=.5,l=24,n=9,p=190,r=213,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,n,a,s,r){return t[0]=n,t[1]=a,t[2]=s,t[3]=r,t}function r(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],s=n[1],r=n[2],u=n[3];let o=a*u-r*s;return o?(o=1/o,t[0]=u*o,t[1]=-s*o,t[2]=-r*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function e(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return t[0]=s*c+u*e,t[1]=r*c+o*e,t[2]=s*i+u*f,t[3]=r*i+o*f,t}function i(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=Math.sin(a),e=Math.cos(a);return t[0]=s*e+u*c,t[1]=r*e+o*c,t[2]=s*-c+u*e,t[3]=r*-c+o*e,t}function f(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1];return t[0]=s*c,t[1]=r*c,t[2]=u*e,t[3]=o*e,t}function h(t,n){const a=Math.sin(n),s=Math.cos(n);return t[0]=s,t[1]=a,t[2]=-a,t[3]=s,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function l(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function m(t,n,a,s){return t[2]=s[2]/s[0],a[0]=s[0],a[1]=s[1],a[3]=s[3]-t[2]*a[1],[t,n,a]}function p(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function x(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function w(n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))}function y(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function j(t,n,a,s){return t[0]=n[0]+a[0]*s,t[1]=n[1]+a[1]*s,t[2]=n[2]+a[2]*s,t[3]=n[3]+a[3]*s,t}let q=e,_=d;var v=Object.freeze({__proto__:null,copy:n,identity:a,set:s,transpose:r,invert:u,adjoint:o,determinant:c,multiply:e,rotate:i,scale:f,fromRotation:h,fromScaling:M,str:l,frob:b,LDU:m,add:p,subtract:d,exactEquals:x,equals:w,multiplyScalar:y,multiplyScalarAndAdd:j,mul:q,sub:_});export{m as L,u as a,o as b,n as c,c as d,e,h as f,f as g,M as h,a as i,l as j,b as k,p as l,v as m,d as n,x as o,w as p,y as q,i as r,s,r as t,j as u,q as v,_ as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{cyclical2PI as n}from\"../../../support/mathUtils.js\";import{empty as e,expandPointInPlace as r,area as o,create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a}from\"../../../../../chunks/vec2f64.js\";import{o as c}from\"../../../../../chunks/vec2.js\";import{convexHull as i}from\"../../../../../geometry/geometryEngine.js\";import{f as m}from\"../../../../../chunks/mat2.js\";import{c as f}from\"../../../../../chunks/mat2f64.js\";import{dragGraphic as p,resetGraphic as l}from\"../../../../interactive/dragEventPipeline.js\";function u(t,n,e){const r=t.graphic,o=(t,e)=>n({action:t,graphic:r,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return e(((t,n,e)=>{n.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(p(r)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t})),e.next(l(r)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})}))}))}function h(s){if(t(s)||\"polyline\"!==s.type&&\"polygon\"!==s.type)return 0;const a=i(s),f=a&&a.rings&&a.rings[0];if(!f)return 0;!function(t){let n=0,e=0;for(const r of t)n+=r[0],e+=r[1];n/=t.length,e/=t.length;for(const r of t)r[0]-=n,r[1]-=e}(f);const p=[];for(let t=0;t<f.length-1;t++){const e=Math.atan2(f[t+1][1]-f[t][1],f[t+1][0]-f[t][0]),r=n.normalize(e)%(Math.PI/2);p.push(r)}const l=p.sort(((t,n)=>t-n));let u=null,h=0,y=Number.POSITIVE_INFINITY,x=0;for(const t of l){if(t===u)continue;u=t,m(g,t),e(d);for(const t of f)c(j,t,g),r(d,j);const n=o(d);((n>y?y/n:n/y)>=.99&&t<h||n<y)&&(h=t,y=n),x=Math.max(x,n)}return y/x>=.95?0:h}const g=f(),d=s(),j=a();export{u as createGraphicMoveDragPipeline,h as primaryShapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as n}from\"../../../../core/maybe.js\";import t from\"../../../../geometry/Point.js\";import\"../../../../geometry.js\";import{sign as o}from\"../../../../core/mathUtils.js\";import{screenPointObjectToArray as s,castScreenPointArray as c,createScreenPointArray as l}from\"../../../../core/screenUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{g as a,l as u,f as m,d,a as p,b as f,c as S}from\"../../../../chunks/vec3.js\";import{projectPoint as g}from\"../../../../geometry/projection.js\";import{getZForElevationMode as y,getGraphicEffectiveElevationInfo as j}from\"../../../../support/elevationInfoUtils.js\";import{sv2d as E}from\"../../support/stack.js\";import{ray as x,plane as w,vector as b}from\"../../support/geometryUtils.js\";import{TERRAIN_ID as v}from\"../../webgl-engine/lib/intersectorUtils.js\";import{Intersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{EventPipeline as P}from\"../../../interactive/dragEventPipeline.js\";function R(n,t){const o=i(),l=i();let a=!1;return i=>{if(\"start\"===i.action){const r=s(i.screenStart,c(E.get())),l=x.fromScreen(n.state.camera,r,G);e(l)&&(a=w.intersectRay(t,l,o))}if(!a)return null;const u=s(i.screenEnd,c(E.get())),m=x.fromScreen(n.state.camera,u,G);return r(m)?null:w.intersectRay(t,m,l)?{...i,renderStart:o,renderEnd:l,plane:t,ray:m}:null}}function C(n,t,o,s=null){let c=null;return i=>{if(\"start\"===i.action&&(c=n.sceneIntersectionHelper.intersectElevationFromScreen(l(i.screenStart.x,i.screenStart.y),t,o),e(c)&&e(s)&&!g(c,c,s)))return null;if(r(c))return null;const a=n.sceneIntersectionHelper.intersectElevationFromScreen(l(i.screenEnd.x,i.screenEnd.y),t,o);return e(a)?e(s)&&!g(a,a,s)?null:{...i,mapStart:c,mapEnd:a}:null}}function H(e,r,n,t=null){return C(e,n,y(r,e,n),t)}function U(e,r,n,t=null){return H(e,n,j(r),t)}function k(r,n,t,o){const s=n.toMap(r.screenStart,{include:[t]});return e(s)?U(n,t,s,o):null}function h(e,r,n){let t=null;const o=new P;return o.next(R(e,function(e,r){const n=D,t=q,o=w.create();e.renderCoordsHelper.worldUpAtPosition(r,n);const s=S(o,n,m(t,r,e.state.camera.eye));return S(s,s,n),w.fromPositionAndNormal(r,s,o)}(e,r))).next(T(e,r)).next(A(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function T(e,r){const n=i(),t=u(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=i(),c=i(),l=s=>{if(m(s,s,r),b.projectPoint(n,s,s),\"global\"===e.viewingMode){u(s)*o(d(n,s))<.001-t&&m(s,p(s,n,.001),r)}return f(s,s,r),s};return e=>(e.renderStart=l(a(s,e.renderStart)),e.renderEnd=l(a(c,e.renderEnd)),e)}function A(r,n){const o=r.renderCoordsHelper;return r=>{const s=o.fromRenderCoords(r.renderStart,new t,n),c=o.fromRenderCoords(r.renderEnd,new t,n);return e(s)&&e(c)?{...r,mapStart:s,mapEnd:c}:null}}function F(r){let n=null;return t=>{switch(t.action){case\"start\":n=r.disableDisplay();break;case\"end\":case\"cancel\":e(n)&&(n.remove(),n=null)}return t}}function M(o,c=null){let a=null;const u=new I(o.state.mode);u.options.selectionMode=!0,u.options.store=0;const m=l(),d={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},p=i(),f=n(c,o.spatialReference),S=e=>{o.map.ground&&o.map.ground.opacity<1?d.exclude.add(v):d.exclude.delete(v),o.sceneIntersectionHelper.intersectIntersectorScreen(s(e,m),u,d);const r=u.results.min;let n;if(r.getIntersectionPoint(p))n=\"TerrainRenderer\"===r.intersector?0:1;else{if(!u.results.ground.getIntersectionPoint(p))return null;n=0}const c=new t({spatialReference:f});return o.renderCoordsHelper.fromRenderCoords(p,c),{location:c,surfaceType:n}};return n=>{if(\"start\"===n.action){const r=S(n.screenStart);a=e(r)?r.location:null}if(r(a))return null;const t=S(n.screenEnd);return e(t)?{...n,mapStart:a,mapEnd:t.location,surfaceType:t.surfaceType}:null}}const D=i(),q=i(),G=x.create();export{A as convertToMapCoordinates,F as hideManipulatorWhileDragging,T as projectToWorldUp,M as screenToMap3D,C as screenToMapXY,H as screenToMapXYAtLocation,k as screenToMapXYForGraphic,U as screenToMapXYForGraphicAtLocation,R as screenToRenderPlane,h as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as w}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as v,dragAtLocation as j,constrainToMapAxis as y,addScreenDelta as A}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as I}from\"../dragEventPipeline3D.js\";import{Manipulator3D as b}from\"../../Manipulator3D.js\";import{colors as x}from\"../settings.js\";import{DISC_RADIUS as T,DISC_HEIGHT as D,DISC_TRANSLATE_ARROW_OFFSET as P,DISC_TRANSLATE_ARROW_SIZE as k}from\"./config.js\";import{Manipulation as E}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as S}from\"./moveUtils.js\";class U extends E{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=T,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r){const e=a.graphic,i=d(e),o=t(e.geometry).spatialReference;return S(a,r,(t=>this.createDragPipeline(t,i,o)))}createDragPipeline(t,r,e){return a(this._arrowManipulatorInfos.map((({manipulator:a},i)=>v(a,((a,o,s,n,l)=>{const p=o.next((t=>({...t,manipulatorType:1}))).next(j(this._view,a.elevationAlignedLocation)).next(I(this._view,a.elevationAlignedLocation,r,e)).next(y(a.location,this.angle+(i+1)*Math.PI*.5)).next(A());t(a,p,s,n,l)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/T,i=k*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,D);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0)));const m=new M(h,\"move-xy-axis-arrow\");t.renderObjects=[{geometry:m,material:this._opaqueMaterial,stateMask:2},{geometry:m,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const c=l(_.get());p(c,r*Math.PI/2);const d=l(_.get());n(d,o(f.get(),0,P*e,0)),u(a,c,d)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const t of this._arrowManipulatorInfos){const a=u(_.get(),e,t.transform);t.manipulator.modelTransform=a}}_createArrowManipulator(t){const a=new b({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(x.main);return a[3]*=t,new w({color:a,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{U as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import m from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as h,dragAtLocation as d,addScreenDelta as _}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as f}from\"../dragEventPipeline3D.js\";import{Manipulator3D as g}from\"../../Manipulator3D.js\";import{colors as M}from\"../settings.js\";import{DISC_RADIUS as j,DISC_HEIGHT as y,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as v}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as w}from\"./moveUtils.js\";import{SnapToScene as b}from\"../snapping/SnapToScene.js\";class x extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new b,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=j,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i){const a=e.graphic,r=n(a),s=t(a.geometry).spatialReference;return w(e,i,(t=>this.createDragPipeline(t,r,s)))}createDragPipeline(t,e,i){const a=this._view;return h(this._manipulator,((r,s,o,n,l)=>{const p=s.next(d(a,r.elevationAlignedLocation)).next(f(a,r.elevationAlignedLocation,e,i)).next(this._snapToScene.createDragEventPipelineStep(a,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(_());t(r,p,o,n,l)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new g({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=new m(c.createCylinderGeometry(y,1,S,i(0,0,1),i(0,0,0)),\"graphic-transform-disc\"),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=v*(this._radius/j)}_createMaterial(t=1){const i=e.toUnitRGBA(M.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2},\"move-xy-disc\")}get test(){return{discManipulator:this._manipulator}}}export{x as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{t as u,e as h,s as d}from\"../../../../../chunks/mat4.js\";import{darken as f}from\"../../../../../core/colorUtils.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import _ from\"../../../webgl-engine/lib/Geometry.js\";import{createManipulatorDragEventPipeline as y,addScreenDelta as j}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as v}from\"../dragEventPipeline3D.js\";import{Manipulator3D as w}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as z}from\"../../manipulatorUtils.js\";import{settings as b}from\"../settings.js\";import{DISC_RADIUS as k}from\"./config.js\";import{Manipulation as P}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as x}from\"./moveUtils.js\";class D extends P{constructor(t){super(),this._handles=new c,this._radius=k,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r){const a=t(e.graphic.geometry).spatialReference;return x(e,r,(t=>this.createDragPipeline(t,a)))}createDragPipeline(t,e){const r=this._view;return y(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(v(r,a.renderLocation,e)).next(j());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/k,e=b.zManipulator.height*t,r=b.zManipulator.coneHeight*t,a=b.zManipulator.coneWidth*t,o=b.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=new _(g.createTubeGeometry(s,o/2,16,!1),\"move-z\"),l=g.createConeGeometry(r,a/2,16,!1),m=new _(l),p=[i(0,0,0),i(0,0,e+r)],c=(t=>{const r=M();if(u(r,r,[0,0,e]),h(r,r,Math.PI/2),t){const e=1+2*t/a;d(r,r,[e,e,e])}return r})(0),y=(t,e)=>{const r=f(b.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,b.zManipulator.color.a*t]},j=z(y(1,.25),1),v=z(y(1,0),1),w=z(y(.7,0),b.zManipulator.renderOccluded),P=z(y(.85,0),b.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:m,transform:c,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:m,transform:c,material:v,stateMask:2},{geometry:n,material:v,stateMask:2},{geometry:m,transform:c,material:w,stateMask:1},{geometry:n,material:w,stateMask:1},{geometry:m,transform:c,material:P,stateMask:2},{geometry:n,material:P,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[p]}}createManipulator(){const t=new w({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=E;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(O,a,e.eye);n(u,u);const h=U;this._view.renderCoordsHelper.worldUpAtPosition(E,h);const d=Math.abs(l(u,h)),f=m(O,u,h),M=m(O,f,h),g=r(d,.01,1),_=1-Math.sqrt(1-g*g)/g/e.fullWidth,y=this._radius/k,j=b.zManipulator.width*y;p(M,n(M,M),(1/_-1)*i+c*j),t[12]-=O[0],t[13]-=O[1],t[14]-=O[2]},this._manipulator=t,this.updateManipulator()}}const E=a(),O=a(),U=a();export{D as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a){return t([this.xyManipulation.createGraphicDragPipeline(i,a),this.xyAxisManipulation.createGraphicDragPipeline(i,a),this.zManipulation.createGraphicDragPipeline(i,a)])}createDragPipeline(i,a,e){return t([this.xyManipulation.createDragPipeline(i,a,e),this.xyAxisManipulation.createDragPipeline(i,a,e),this.zManipulation.createDragPipeline(i,e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Collection.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as h}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{dragGraphicMany as c,resetGraphicMany as m}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as g}from\"./isSupportedGraphic.js\";import{canMoveZ as v}from\"../manipulatorUtils.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as M}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as _}from\"../manipulations/config.js\";import{primaryShapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveManipulation as w}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";class x{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class E{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class A{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let S=class extends(n.EventedMixin(u)){constructor(t){super(t),this.graphics=new r,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new l,this._handles=new l}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===g(t))).map((t=>new D(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a)=>this.buildDragEventPipeline(e,i,a,t))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new w({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?w.radiusForSymbol(t[0].graphic.symbol):_});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const o=t[t.length-1];this._handles.add(o.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(o)))),this._handles.add(i.createDragPipeline(((e,i,a)=>{this.buildDragEventPipeline(e,i,a,t)}),p(o.graphic),e(o.graphic.geometry).spatialReference)),this.updateMoveManipulationAngle(o)}createVisualElements(t){for(const e of t){const i=e.graphic,o=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>a()});e.geometryRepresentation=o.visualElement,e.geometryRepresentation instanceof f&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(o)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}updateMoveManipulation(t){const e=h(0,0,0,this.view.spatialReference);let a=0,o=!1;const s=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&v(t)&&(o=!0);const n=s.geometryRepresentation instanceof f&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:d(this.view,t);i(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,s.location=e,s.xyManipulation.available=!0,s.xyAxisManipulation.available=!0,s.zManipulation.available=o):s.available=!1}buildDragEventPipeline(t,e,i,a){const o=[],s=[];let n=null,r=null;const l=()=>{for(const t of o)t.dragging=!1;o.length=0,s.length=0,n=null,r=null,this._moveManipulation.interactive=!0};e.next((e=>{if(\"start\"===e.action){o.length=0,s.length=0;for(const e of a)e.dragging||!e.manipulationXY.hasManipulator(t)&&e.manipulationXY.grabbing||(o.push(e),s.push(e.graphic),e.dragging=!0);if(0!==s.length&&(this._moveManipulation.interactive=!1,n=c(s),r=m(s),this.emit(\"graphic-move-start\",new x(s)),this.destroyed))return null}return 0!==s.length?e:null})).next((t=>n(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,o=i.y-e.y;if(this.emit(\"graphic-move\",new E(a,o,s)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}})),i.next((t=>r(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}))}};t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([o({readOnly:!0})],S.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"enableZ\",void 0),t([o({readOnly:!0})],S.prototype,\"type\",void 0),S=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],S);class D{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new M({graphic:t})}get graphic(){return this.state.graphic}}export{E as GraphicMoveEvent,x as GraphicMoveStartEvent,A as GraphicMoveStopEvent,S as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as n}from\"../../../../../core/handleUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{s as p,b as h,a as u}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as m}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as g}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as _}from\"../../../support/stack.js\";import v from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{EditGeometry as y}from\"../editGeometry/EditGeometry.js\";import{EditGeometryHelper as f}from\"../editGeometry/EditGeometryHelper.js\";import{addMapDelta as x,createManipulatorDragEventPipeline as b,dragAtLocation as S}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingContext as E}from\"../../../../interactive/snapping/SnappingAlgorithm.js\";import{SnappingEngine as G}from\"../../../../interactive/snapping/SnappingEngine.js\";import{screenToMapXYForGraphicAtLocation as w}from\"../dragEventPipeline3D.js\";import{Manipulator3D as H}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as I,createManipulatorOutlineMaterial as O,placeAtGraphic as P}from\"../../manipulatorUtils.js\";import{canMoveZ as V}from\"../manipulatorUtils.js\";import{settings as D}from\"../settings.js\";import{OutlineVisualElement as j}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as k}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as A}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as U}from\"../manipulations/config.js\";import{primaryShapeOrientation as L}from\"../manipulations/moveUtils.js\";import{MoveManipulation as T}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as z}from\"../manipulations/MoveXYGraphicManipulation.js\";let C=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.vertex.color),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.outlineColor),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.hoverOutlineColor),D.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.edge.color),D.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.edge.outlineColor),D.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.selected.color),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.outlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.hoverOutlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new c,this._manipulatorHandles=new c,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._vertexLaserLineVisualElement=null,this.snappingEngine=new G(e.tool.snappingOptions)}initialize(){const e=new k({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy(),this.snappingEngine.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=null,this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;this._reshapeHelper=new Y(y.fromGeometry(e,this.view.viewingMode),e.type);const t=m(this.graphic);for(const e of this._reshapeHelper.data.components){for(const i of e.vertices)this._createPerVertexManipulator(i,t);for(const i of e.edges)this._createPerVertexManipulator(i,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),n=1===e&&a,r=o(this._reshapeHelper);for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&(e.manipulator.grabbing||n&&!e.manipulator.selected||(o(r).moveVertices([e.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(e.handle.pos),this._updateManipulatorPosition(e)));if(0===i.length)return;let s=0;for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&s++;this.outputGeometry=r.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)F(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const n=[];for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected&&!t.manipulator.grabbing||t===e.info)&&n.push(t);const r=o(this._reshapeHelper);for(const e of n)r.moveVertices([e.handle],t,i,a);this.outputGeometry=r.geometry;for(const e of n)this._updateManipulatorPosition(e);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\"),e.stopPropagation()}))]))),this._moveManipulation=new T({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&V(this.graphic),snapToScene:!1,radius:T.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\"),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=o(this.graphic.geometry).spatialReference;let a=null;this._handles.add([this._moveManipulation.createDragPipeline(((i,n,r,s)=>{n.next((e=>this._trackNumDragging(e))).next((i=>{if(\"start\"===i.action){const t=this._manipulatorInfos.filter((e=>F(e)&&e.manipulator.selected));if(1===i.manipulatorType&&1===t.length){const i=t[0].handle;a=new E(o(this._reshapeHelper),this.view,e,s,i)}}return t(a)&&(i.mapEnd=this.snappingEngine.snap(i.mapEnd,a)),\"end\"===i.action&&(this.snappingEngine.doneSnapping(),a=null),i})).next(x()).next((e=>{this._perGraphicManipulatorDragAction(1,e)})),r.next(this._cancelDragOperation())}),e,i),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const n=A({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=n.visualElement instanceof j?n.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(n)}_createPerVertexManipulator(e,t=m(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=D.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=D.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}const i=new H({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|X.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|X.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|X.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const o=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(o),this.manipulators.add(i),this._updateManipulatorPosition(o),\"edge\"===o.type){const e=this._getManipulatorInfoFromHandle(o.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o))),t=this._getManipulatorInfoFromHandle(o.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o)));o.locationUpdateHandle=n([e,t]),this._manipulatorHandles.add(o.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const r=b(i,((e,i,a,n)=>{i.next((e=>this._trackNumDragging(e))).next((e=>R(o)?{...e,info:this._splitEdgeManipulator(o)}:{...e,info:o})).next(S(this.view,e.elevationAlignedLocation)).next(w(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference)).next(this._snapDrag(t,n)).next(x()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(r,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,o))),i.events.on(\"select-changed\",(()=>{o.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_snapDrag(e,i){let a=null;const n=o(this._reshapeHelper);return o=>{if(\"start\"===o.action&&(this.isMultiVertexSelection()||(a={context:new E(n,this.view,e,i,o.info.handle),originalPos:n.data.coordinateHelper.createDehydratedPoint(o.info.handle.pos)})),t(a)){const e={...a.originalPos};e.x+=o.mapEnd.x-o.mapStart.x,e.y+=o.mapEnd.y-o.mapStart.y;const t=this.snappingEngine.snap(e,a.context);o.mapEnd.x=t.x+(o.mapStart.x-a.originalPos.x),o.mapEnd.y=t.y+(o.mapStart.y-a.originalPos.y)}return\"end\"===o.action&&(this.snappingEngine.doneSnapping(),a=null),o}}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,this.snappingEngine.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=X.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=D.reshapeManipulators.vertex.size/2+D.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=X.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=D.reshapeManipulators.edge.size/2+D.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=o(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.data.coordinateHelper.toPoint(e.handle.pos,N),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,o=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,n=o.location,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?0:void 0;e.manipulator.location=g(s,l,p,i.geometry.spatialReference)}else{const t=a.elevationAlignedLocation,n=o.elevationAlignedLocation,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?t.z+r*(n.z-t.z):void 0;e.manipulator.elevationAlignedLocation=g(s,l,p,i.geometry.spatialReference)}}}_splitEdgeManipulator(e){const t=o(this._reshapeHelper),i=o(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const n=m(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const r=this._updateEventState(2),s=t.data.coordinateHelper.toArray(a.handle.pos),l=t.data.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:o(i.index)}],added:s}),r&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=_.get();p(e,0,0,0);let i=0,n=!1,r=null,s=null;for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected?(i++,h(e,e,t.manipulator.renderLocation),a(r)||t.selectedIndex>r.selectedIndex?(s=r,r=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):n=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic)}if(0!==i){let e=0;if(t(r)){const i=r.handle.pos,a=t(s)?s.handle.pos:r.handle.left&&r.handle.left.left?r.handle.left.left.pos:null,o=!t(s)&&r.handle.right&&r.handle.right.right?r.handle.right.right.pos:null;a&&o?this._moveManipulation.xyAxisManipulation.available=!1:a?e=Z(a,i):o&&(e=Z(i,o))}this._moveManipulation.angle=e,this._moveManipulation.radius=U}else this._moveManipulation.angleDeferred=()=>L(o(this.graphic.geometry)),this._moveManipulation.radius=T.radiusForSymbol(this.graphic.symbol);0!==i&&n?(u(e,e,1/i),N.spatialReference=o(this._reshapeHelper).geometry.spatialReference,N.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,N),this._moveManipulation.elevationAlignedLocation=N):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:P(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=o(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=o(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:o(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),R(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function Z(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function F(e){return\"vertex\"===e.handle.type}function R(e){return\"edge\"===e.handle.type}e([r({constructOnly:!0})],C.prototype,\"tool\",void 0),e([r()],C.prototype,\"inputGeometry\",null),e([r()],C.prototype,\"outputGeometry\",void 0),C=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation\")],C);const N=g(0,0,null,null);var X;!function(e){e.Vertex=16,e.Edge=32}(X||(X={}));class Y extends f{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.data.toPolyline();break;case\"polygon\":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry}}export{Y as ReshapeGeometryHelper,C as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as n}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as h}from\"../../../../interactive/snapping/SnappingOptions.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as m}from\"./ReshapeOperation.js\";let l=class extends(s.EventedMixin(n)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingOptions=new h}destroy(){this._handles.removeAll(),this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!t(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){r(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new m({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(()=>this.emit(\"immediate-click\"))),a(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){this._reshapeOperation.snappingEngine.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}};e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"view\",void 0),e([o({constructOnly:!0})],l.prototype,\"graphic\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableZ\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableMoveGraphic\",void 0),e([o({readOnly:!0})],l.prototype,\"type\",void 0),e([o()],l.prototype,\"snappingOptions\",void 0),l=e([i(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],l);export{l as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as s,createScreenPointArray as r}from\"../../../../../core/screenUtils.js\";import{b as n,f as l,c}from\"../../../../../chunks/vec3f64.js\";import{a as h}from\"../../../../../chunks/common.js\";import{s as g,f as d,l as m,h as u,c as p,b as f}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as D}from\"../../../support/mathUtils.js\";import M from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as S,r as b,p as R,m as v,s as w}from\"../../../../../chunks/mat4.js\";import{a as k}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as j,sm4d as A}from\"../../../support/stack.js\";import{plane as F,ray as I}from\"../../../support/geometryUtils.js\";import E from\"../../../webgl-engine/lib/GeometryUtil.js\";import P from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as x}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new M,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,2)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,s=T(a,((a,s,r)=>{this._scaleRotateDragData=null;const l=function(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}(this.tool.view,i);if(e(l))return this.updateDragState(),null;const c={mode:\"none\",origin:n(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:l};this._scaleRotateDragData=c,this.updateDragState();const h=j.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,h),s.next(O(this.tool.view,F.fromPositionAndNormal(a.renderLocation,h))).next((e=>{const a=F.normal(e.plane),s=z(e.renderStart,e.renderEnd,c.origin,a),r=D.shortestSignedDiff(c.angle,s);c.angleDir=o(c.angleDir+r,-N,N),c.angle=s;const n=function(t,e){const a=d(j.get(),e.renderStart,t.origin),i=d(j.get(),e.renderEnd,t.origin),o=m(a),s=m(i);if(0===o)return 0;return s/o}(c,e),l=n-c.scale;if(c.scaleDir=o(c.scaleDir+l,-Z,Z),c.scale=n,this.onScaleChanged(),\"none\"===c.mode){const a=this.mode||function(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=lt(o,i,j.get()),n=lt(s,i,j.get());if(u(r,n)<B*B)return null;const l=d(j.get(),o,a),c=p(j.get(),l,e),h=o,g=f(j.get(),h,c),m=lt(a,i,j.get()),D=r,M=lt(g,i,j.get()),y=d(j.get(),M,D),S=d(j.get(),r,m),b=I.wrap(D,y),R=I.wrap(m,S);if(I.distance2(b,n)<I.distance2(R,n))return\"rotate\";return\"scale\"}(e,e.plane,c.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,scale:c.scale})}c.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(c.mode){default:case\"none\":break;case\"scale\":a=c.scale;break;case\"rotate\":e=c.angle}this.applySymbolData(t,c.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,scale:c.scale})}break;case\"end\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:c.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),r.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:this._scaleRotateDragData.startAngle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:1})}this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(function(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=S(A.get()),e=this.tool.symbolRotationAngle;b(t,t,e,l(0,0,1));const a=this.getScale(),i=R(A.get(),g(j.get(),a,a,a)),o=S(A.get());v(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(l(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=(t,e)=>new P(E.createPathExtrusionGeometry((t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]])(e),t,[],[],!1),\"graphic-transform-ring\"),i=e(Y),o=a(i,q),s={left:[],right:[]},r=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-$,n=i+o,l=i+Math.PI/2-o,c=t(n,l,tt),h=a(c,Q);r.push(c),r.push(t(n,l,et-q/2)),s.left.push(h),s.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=k();if(e){w(a,a,[1,-1,1]),b(a,a,-n,[0,0,1]);const t=Math.round(W*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{b(a,a,l,[0,0,1]);const t=Math.round((1-W)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const i=E.createExtrudedTriangle(H,0,V,G);E.transformInPlace(i,a);const o=new P(i,\"graphic-transform-ring-rotate\");(e?s.left:s.right).push(o)}}const n=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-st,s=i+o,r=i+Math.PI/2-o,l=t(s,r,et);n.push(a(l,Q))}const c=e(Y+at),h=e(Y+it),g=a(c,Q),d=a(h,Q),m=e(Y-at),u=e(Y-it),p=a(m,Q),f=a(u,Q),D=this.createMaterial(),M=this.createMaterial(.66),y=this.createMaterial(.5),S=this.createMaterial(.33);let R=[{geometry:o,material:D,stateMask:rt.DelayedFocused},{geometry:o,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(R=R.concat([{geometry:n,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:g,material:M,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:p,material:M,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(R=R.concat([{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:s.left,material:D,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.RotateRight}]));const v=[i,...r];return new x({view:this.tool.view,renderObjects:R,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:_(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:v,direction:l(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-h(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e,a){const i=e.projectToRenderScreen(t,s(ht)),o=e.renderToScreen(i,gt);return g(a,o[0],o[1],0)}function ct(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}const ht=c(),gt=r();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as a,isNone as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as e}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import{t as r}from\"../../../../../chunks/common.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{InteractiveToolBase as c}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as p}from\"../../manipulatorUtils.js\";import{canMoveZ as m}from\"../manipulatorUtils.js\";import{GraphicState as u}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as d}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as g}from\"../manipulations/config.js\";import{MoveManipulation as v}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as y}from\"./GraphicScaleRotateTransform.js\";let M=class extends(n.EventedMixin(c)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new l,this.scaleRotate=null}initialize(){if(this.graphicState=new u({graphic:this.graphic}),this.moveManipulation=new v({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&m(this.graphic),radius:v.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic),this.moveManipulation.createGraphicDragPipeline(this.graphicState,(t=>{const{action:a,graphic:i,dxScreen:e,dyScreen:o}=t,s={graphic:i,dxScreen:e,dyScreen:o};switch(a){case\"start\":this.emit(\"graphic-translate-start\",s);break;case\"update\":this.emit(\"graphic-translate\",s);break;case\"end\":this.emit(\"graphic-translate-stop\",s)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new y({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([d({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>e()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),a(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((a=>a.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&m(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),a(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const a=t.symbolLayers.find((t=>\"object\"===t.type)),i=a&&a.heading||0;return r(-i)}return 0}reset(){}onDetach(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(i(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<g?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){p(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:a(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"enableZ\",void 0),t([o()],M.prototype,\"enableRotation\",void 0),t([o()],M.prototype,\"enableScaling\",void 0),t([o({value:!1})],M.prototype,\"snapToScene\",null),t([o({readOnly:!0})],M.prototype,\"type\",void 0),M=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],M);export{M as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";var i;!function(i){i.builder=function(i,r){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`\n    float computeRenderPixelSizeAt( vec3 pWorld ){\n      vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n      float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\n      return viewDirectionDistance*perScreenPixelRatio;\n    }\n\n    vec3 screenSizeScaling(vec3 position, vec3 anchor){\n      return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n    }\n  `)},i.bindPassUniforms=function(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}}(i||(i={}));export{i as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`\n    float normals2FoamIntensity(vec3 n, float waveStrength){\n      float normalizationFactor =  max(0.015, waveStrength);\n      return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n    }\n  `)}function n(o){o.fragment.code.add(t`\n    vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\n      return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n    }\n  `)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return normalize(pos + origin);\n      }\n    `):n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return vec3(0.0, 0.0, 1.0); // WARNING: up-axis dependent code\n      }\n    `),1===r.viewingMode?n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `):n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = vec3(1.0, 0.0, 0.0);\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy*0.5 + 0.5;\n  }\n  `)}!function(r){r.bindUniforms=function(r,o,e){r.setUniform1i(\"lastFrameColorMap\",e.lastFrameColorTextureID),o.bindTexture(e.lastFrameColorTexture,e.lastFrameColorTextureID),r.setUniformMatrix4fv(\"reprojectionMat\",e.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",e.camera.projectionMatrix)}}(o||(o={}));export{o as Reprojection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ReadLinearDepth as t}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as o}from\"./Reprojection.glsl.js\";function r(r,a){r.fragment.uniforms.add(\"nearFar\",\"vec2\"),r.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),r.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),r.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),r.include(t),r.include(o),r.fragment.code.add(e`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}!function(e){e.bindUniforms=function(e,t,r){r.ssrEnabled&&(e.setUniform1i(\"depthMapView\",r.linearDepthTextureID),t.bindTexture(r.linearDepthTexture,r.linearDepthTextureID),e.setUniform2fv(\"nearFar\",r.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",r.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/r.camera.height),o.bindUniforms(e,t,r))}}(r||(r={}));export{r as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`\n    const float GAMMA = 2.2;\n    const float INV_GAMMA = 0.4545454545;\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSpaceReflections as o}from\"./ScreenSpaceReflections.glsl.js\";import{FoamColor as t}from\"./FoamRendering.glsl.js\";import{Gamma as r}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as i}from\"./PhysicallyBasedRendering.glsl.js\";function a(a,n){a.include(i,n),a.include(r),a.include(t),n.ssrEnabled&&a.include(o,n),a.fragment.code.add(e`\n    const vec3 fresnelSky =  vec3(0.02, 1.0, 15.0); // f0, f0max, exp\n    const vec2 fresnelMaterial =  vec2(0.02, 0.1); // f0, f0max for specular term\n    const float roughness = 0.015;\n    const float foamIntensityExternal = 1.7;\n    const float ssrIntensity = 0.65;\n    const float ssrHeightFadeStart = 300000.0;\n    const float ssrHeightFadeEnd = 500000.0;\n    const float waterDiffusion = 0.775;\n    const float waterSeeColorMod = 0.8;\n    const float correctionViewingPowerFactor = 0.4;\n\n    const vec3 skyZenitColor = vec3(0.52, 0.68, 0.90);\n    const vec3 skyColor = vec3(0.67, 0.79, 0.9);\n\n    PBRShadingWater shadingInfo;\n\n    /*\n    *   This function is an approximation for the sky gradient reflected\n    *   the water surface and describes a combination of two fresnel terms.\n    *   @parameter: cosTheta = is the result of max(dot(n,v), 0.0)\n    *   @parameter: horizon = the dominant color of the sky horizon\n    *   @parameter: cosTheta = the dominant color of the sky zenit\n    */\n    vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\n      float exponent = pow((1.0 - cosTheta), fresnelSky[2]);\n      return mix(zenit, horizon, exponent);\n    }\n\n    /*\n    *   This function determines the water color per pixel.\n    *   @parameter: n = normal facing away from the surface\n    *   @parameter: v = view direction facing away from the surface.\n    *   @parameter: l = light direction facing away from the surface\n    *   @parameter: lightIntensity = light intensity, currently between 0...PI\n    *   @parameter: localUp = a normal for the general direction of the surface\n    *   @parameter: shadow = the amount of shadow at this pixel (0 = no shadow)\n    */\n    vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\n\n      float reflectionHit = 0.;\n      vec3 seaWaterColor = linearizeGamma(color);\n      // using half vector to determine the specular light\n      vec3 h = normalize(l + v);\n      shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\n      shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\n      shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\n      shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\n      shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\n      shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\n\n      // angle between vertex normal and view direction\n      float upDotV = max(dot(localUp,v), 0.0);\n      // reflected sky color: the reflected sky color consists of two main colors, the\n      // reflected color at the horizon and the reflected color of the zenit.\n      // the reflected sky color is then an approximation based on the fresnel term.\n      vec3 skyHorizon = linearizeGamma(skyColor);\n      vec3 skyZenit = linearizeGamma(skyZenitColor);\n      vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\n\n      // we use the upDotL to smoothen out the\n      // reflected color of the water\n      float upDotL = max(dot(localUp,l),0.0);\n\n      // The approximated sky color is adjusted according to the sun position.\n      // This is done as approximation for e.g. night views.\n      float daytimeMod = 0.1 + upDotL * 0.9;\n      skyColor *= daytimeMod;\n\n      // If a water surface is in shadow we just use a slight darkening of the\n      // water surface expressed with this shadowModifier.\n      float shadowModifier = clamp(shadow, 0.8, 1.0);\n\n      // The reflected sky color consists of the fresnel reflection multiplied with the approximated sky color.\n      // The shadow is influencing the frensel term to keep the shadow impression for really near views. As long\n      // as reflection are absent there is a need to have a slight shadow for depth perception.\n      vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\n      vec3 reflSky = fresnelModifier * skyColor * shadowModifier;\n\n      // The reflected sea color is the input water color combined with the reflected sky color.\n      // The reflected sky color is modified by the incoming light.\n      vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\n\n      vec3 specular = vec3(0.0);\n      // This prevents the specular light to be rendered when:\n      // - sun is behind a polygon (e.g. sundown for elevated polygons where nDotL might be still ok)\n      // - viewer is under water (for this localUp is better than n)\n      if(upDotV > 0.0 && upDotL > 0.0) {\n        // calculate the cook torrance BRDF but with simplified occlusion\n        vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\n\n        // Normalize light intensity to be between 0...1. Shadow cancels out specular light here\n        vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\n\n        specular = shadingInfo.NdotL * incidentLight * specularSun;\n      }\n\n      vec3 foam = vec3(0.0);\n      if(upDotV > 0.0) {\n        foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n      }\n      `),n.ssrEnabled?a.fragment.code.add(e`\n      // Convert the world position to view position\n      vec4 viewPosition = vec4(positionView.xyz, 1.0);\n      vec3 viewDir = normalize(viewPosition.xyz);\n      vec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\n      vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\n      vec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\n\n      // at steeper viewing angles we use more of a vertex normal (in this case up) then the wave normal\n      // this removes some artifacts of normal mapping\n      float correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\n      vec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\n\n      vec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\n\n      // perform screen space reflection to detect hit\n      vec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\n      vec3 reflectedColor = vec3(0.0);\n\n      // if there is a hit with ssr find reflected color from the reprojeted frame\n      if (hitCoordinate.z > 0.0)\n      {\n        vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\n\n        // fade out if there if the hit is near end of Y axis\n        vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\n        float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\n        reflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\n\n        reflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n      }\n      float seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n    }\n  `):a.fragment.code.add(e`\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n    }\n  `)}export{a as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{FoamIntensity as t}from\"./FoamRendering.glsl.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(t),r.fragment.code.add(e`\n      const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\n\n      vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rg - 1.0;\n      }\n\n      float sampleNoiseTexture(vec2 _uv) {\n        return texture2D(texWavePerturbation, _uv).b;\n      }\n\n      vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n      }\n\n      float computeProgress(vec2 uv, float time) {\n        return fract(time);\n      }\n\n      float computeWeight(vec2 uv, float time) {\n        float progress = computeProgress(uv, time);\n        return 1.0 - abs(1.0 - 2.0 * progress);\n      }\n\n      vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\n        float flowStrength = waveParams[2];\n        float flowOffset = waveParams[3];\n\n        vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\n\n        float progress = computeProgress(uv, time + phaseOffset);\n        float weight = computeWeight(uv, time + phaseOffset);\n\n        vec2 result = uv;\n        result -= flowVector * (progress + flowOffset);\n        result += phaseOffset;\n        result += (time - progress) * FLOW_JUMP;\n\n        return vec3(result, weight);\n      }\n\n      const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\n      const float TIME_NOISE_STRENGTH = 7.77;\n\n      vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\n        float waveStrength = waveParams[0];\n\n        // overall directional shift in uv's for directional wave movement for\n        // now we do a hard coded scale for wave speed such that a unit length\n        // direction is not too fast.\n        vec2 waveMovement = time * -_waveDir;\n\n        float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\n\n        // compute two perturbed uvs and blend weights\n        // then sample the wave normals at the two positions and blend\n        vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\n        vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\n\n        vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\n        vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\n\n        // logic to flatten the wave pattern\n        // scale xy components of the normal, then adjust z (up) component\n        vec3 mixNormal = normalize(normal_A + normal_B);\n        mixNormal.xy *= waveStrength;\n        mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\n\n        return mixNormal;\n      }\n\n      vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\n        float waveTextureRepeat = waveParams[1];\n        vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\n        float foam  = normals2FoamIntensity(normal, waveParams[0]);\n        return vec4(normal, foam);\n      }\n    `)}!function(e){e.bindUniforms=function(e,t){e.setUniform1i(\"texWaveNormal\",0),e.setUniform1i(\"texWavePerturbation\",1),e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}}(r||(r={}));export{r as WaterDistortion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}