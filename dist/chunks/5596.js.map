{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/GraphicMover.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/Reshape.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/settings.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack://imaps/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"names":["t","e","xoffset","Math","max","abs","yoffset","n","stops","length","r","s","size","filter","type","map","maxSize","minSize","o","f","floor","renderer","event","pointerType","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","i","h","this","graphic","index","x","y","viewEvent","c","a","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","super","_activeGraphic","_dragEvent","_handles","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","enableMoveAllGraphics","graphics","view","_setUpManipulators","add","on","_clickHandler","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","destroy","removeAll","get","set","_findTargetGraphic","indexOf","emit","onGraphicClick","onGraphicDoubleClick","onGraphicPointerDown","onGraphicPointerUp","onGraphicPointerOut","onGraphicPointerOver","action","geometry","stopPropagation","origin","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","key","state","Number","MAX_VALUE","intersectionDistance","prototype","readOnly","mover","selected","b","G","S","w","M","added","removed","H","oldGraphic","vertices","E","I","removeVertex","R","C","default","style","vertex","color","outline","outlineColor","width","hover","hoverSize","hoverColor","hoverOutlineColor","midpoints","midpoint","j","_graphicAttributes","esriSketchTool","_mover","_totalDx","_totalDy","enableMidpoints","handleGraphics","layer","midpointGraphics","midpointSymbol","selectedHandles","_setup","refresh","_clearSelection","_resetGraphics","_reset","_set","push","concat","includes","_removeVertex","_setupGraphics","_setupMover","_resetGraphicStateVars","cursor","removeMany","clone","pop","_createHandleGraphics","_createMidpointGraphics","_saveRelatedIndices","addMany","symbols","spatialReference","attributes","pathIndex","pointIndex","d","m","v","_","pointIndexStart","pointIndexEnd","relatedGraphicIndices","_onGraphicClickCallback","_onGraphicMoveStartCallback","_onGraphicMoveCallback","_onGraphicMoveStopCallback","_onGraphicPointerOverCallback","_onGraphicPointerOutCallback","clearSelection","_isMidpoint","button","_createHandleFromMidpoint","_emitVertexAddEvent","_isHandle","native","shiftKey","_removeFromSelection","_addToSelection","visible","_emitMoveStartEvent","_emitReshapeStartEvent","_emitMoveEvent","_syncGeometryAfterHandleMove","_emitReshapeEvent","_syncGraphicsWithGeometry","_emitMoveStopEvent","_emitReshapeStopEvent","paths","rings","_updateHandleGraphicLocations","_updateMidpointGraphicLocations","l","_isSelected","_updateHoverCursor","splice","coordinates","componentIndex","vertexIndex","_emitSelectEvent","_emitDeselectEvent","repeat","_removeHandles","_emitVertexRemoveEvent","onMoveStart","onMove","onMoveStop","onReshapeStart","onReshape","onReshapeStop","onVertexSelect","onVertexDeselect","onVertexAdd","onVertexRemove","value","main","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","stagedColor","stagedOutlineColor","center","fill","line","reshapeGraphics","transformGraphics","interactive","selectable","grabbable","dragging","events","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","error","elevationInfo","offset","mode","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","originalPoint","equals","mapPoint","radiusPx","toScreen","toMap","include","renderSpatialReference","camera","eye","constructOnly","nonNullable","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","min","ymin","xmax","ymax","intersects"],"mappings":"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","file":"chunks/5596.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as m,GraphicPointerOutEvent as G,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new m(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new G(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new G(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{unwrap as t,get as s}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import r from\"../../../geometry/Point.js\";import{geometryToCoordinates as h,getMidpoint as a}from\"../../../geometry/support/coordsUtils.js\";import\"../../../geometry.js\";import c from\"../../../core/Evented.js\";import n from\"../../../symbols/SimpleMarkerSymbol.js\";import l from\"../../../Graphic.js\";import p from\"../../../core/Handles.js\";import{whenOnce as d,pausable as m}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as v}from\"../../input/InputManager.js\";import{cloneMove as y}from\"./drawUtils.js\";import{addUniqueLayer as _}from\"./layerUtils.js\";import u from\"./GraphicMover.js\";import{settings as g}from\"./settings.js\";class f{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape-start\"}}class x{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape\"}}class b{constructor(e,t,s){this.graphic=e,this.mover=t,this.selected=s,this.type=\"reshape-stop\"}}class G{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move-start\"}}class S{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move\"}}class w{constructor(e,t,s){this.mover=e,this.dx=t,this.dy=s,this.type=\"move-stop\"}}class M{constructor(e){this.added=e,this.type=\"vertex-select\"}}class k{constructor(e){this.removed=e,this.type=\"vertex-deselect\"}}class H{constructor(e,t,s,i){this.added=e,this.graphic=t,this.oldGraphic=s,this.vertices=i,this.type=\"vertex-add\"}}class E{constructor(e,t,s,i){this.removed=e,this.graphic=t,this.oldGraphic=s,this.vertices=i,this.type=\"vertex-remove\"}}const I={removeVertex:[\"Backspace\",\"Delete\"]},R=g.reshapeGraphics,C={vertices:{default:new n({style:\"circle\",size:R.vertex.size,color:R.vertex.color,outline:{color:R.vertex.outlineColor,width:1}}),hover:new n({style:\"circle\",size:R.vertex.hoverSize,color:R.vertex.hoverColor,outline:{color:R.vertex.hoverOutlineColor,width:1}}),selected:new n({style:\"circle\",size:R.selected.size,color:R.selected.color,outline:{color:R.selected.outlineColor,width:1}})},midpoints:{default:new n({style:\"circle\",size:R.midpoint.size,color:R.midpoint.color,outline:{color:R.midpoint.outlineColor,width:1}}),hover:new n({style:\"circle\",size:R.midpoint.size,color:R.midpoint.color,outline:{color:R.midpoint.outlineColor,width:1}})}};let j=class extends c.EventedAccessor{constructor(e){super(e),this._handles=new p,this._graphicAttributes={esriSketchTool:\"box\"},this._mover=null,this._viewHandles=new p,this._totalDx=0,this._totalDy=0,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.graphic=null,this.handleGraphics=[],this.layer=null,this.midpointGraphics=[],this.midpointSymbol=new n({style:\"circle\",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedHandles=[],this.type=\"reshape\",this.view=null}initialize(){this._setup(),this._handles.add([d(this,\"view.ready\",(()=>{const{layer:e,view:t}=this;_(t,e),this._viewHandles.add([t.on(\"key-down\",(e=>this._keyDownHandler(e)),v.TOOL)])})),m(this,\"graphic\",(()=>this.refresh())),m(this,\"layer\",((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),m(this,\"enableMidpoints\",(()=>{this.refresh()}))])}destroy(){this._reset(),this._mover&&this._mover.destroy(),this._mover=null,this._handles.removeAll(),this._handles=null,this._viewHandles.removeAll(),this._viewHandles=null}get state(){const e=!!this.get(\"view.ready\"),t=!(!this.get(\"graphic\")||!this.get(\"layer\"));return e&&t?\"active\":e?\"ready\":\"disabled\"}set symbols(e){const{midpoints:t=C.midpoints,vertices:s=C.vertices}=e||{};this._set(\"symbols\",{midpoints:t,vertices:s})}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.handleGraphics,this.midpointGraphics),t.length&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedHandles(){this.selectedHandles.length&&this._removeVertex(this.selectedHandles)}_setup(){this.graphic&&this.layer&&(this._setupGraphics(),this._setupMover())}_reset(){this._clearSelection(),this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._totalDx=0,this._totalDy=0}_resetGraphics(e){const t=e||this.layer;t&&(t.removeMany(this.handleGraphics),t.removeMany(this.midpointGraphics)),this.handleGraphics.forEach((e=>e.destroy())),this.midpointGraphics.forEach((e=>e.destroy())),this._set(\"handleGraphics\",[]),this._set(\"midpointGraphics\",[]),this._set(\"selectedHandles\",[])}_setupGraphics(){const e=t(this.graphic.geometry),s=h(e.clone());if(\"polygon\"===e.type)for(const t of s){const e=t[t.length-1];t[0][0]===e[0]&&t[0][1]===e[1]&&t.length>2&&t.pop()}this._set(\"handleGraphics\",this._createHandleGraphics(s)),this.enableMidpoints&&this._set(\"midpointGraphics\",this._createMidpointGraphics(s)),this._saveRelatedIndices(this.handleGraphics),this.layer.addMany(this.midpointGraphics),this.layer.addMany(this.handleGraphics)}_createHandleGraphics(e){const{_graphicAttributes:t,symbols:s,view:{spatialReference:i}}=this,o=[];return null==e||e.forEach(((e,h)=>{e.forEach(((e,a)=>{var c;const[n,p]=e;o.push(new l({geometry:new r({x:n,y:p,spatialReference:i}),symbol:null==s||null==(c=s.vertices)?void 0:c.default,attributes:{...t,pathIndex:h,pointIndex:a}}))}))})),o}_createMidpointGraphics(e){const{_graphicAttributes:t,symbols:i,view:{spatialReference:o}}=this,h=[];return null==e||e.forEach(((e,c)=>{e.forEach(((n,p)=>{const[d,m]=n,v=e[p+1]?p+1:0;if(\"polygon\"===s(this.graphic.geometry,\"type\")||0!==v){const[s,n]=e[v],[y,_]=a([d,m],[s,n]);h.push(new l({geometry:new r({x:y,y:_,spatialReference:o}),symbol:i.midpoints.default,attributes:{...t,pathIndex:c,pointIndexStart:p,pointIndexEnd:v}}))}}))})),h}_saveRelatedIndices(e){if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let s=0;s<t.length;s++){const i=[];for(let e=0;e<t.length;e++){if(s===e)continue;const o=t[s],r=t[e];o.x===r.x&&o.y===r.y&&i.push(e)}e[s].attributes.relatedGraphicIndices=i}}_setupMover(){this._mover=new u({enableMoveAllGraphics:!1,graphics:[].concat(this.handleGraphics,this.midpointGraphics,this.graphic),view:this.view,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const s=this.graphic.clone(),i=this._createHandleFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],s,i)}else if(this._isHandle(t))if(e.viewEvent.stopPropagation(),2===e.viewEvent.button)this._removeVertex(t);else{e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedHandles.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)}}_onGraphicMoveStartCallback(e){const t=e.graphic;if(this._resetGraphicStateVars(),t===this.graphic){const{dx:t,dy:s}=e;return this.handleGraphics.forEach((e=>e.visible=!1)),this.midpointGraphics.forEach((e=>e.visible=!1)),this._clearSelection(),void this._emitMoveStartEvent(t,s)}if(this._isMidpoint(t)){this._clearSelection();const e=this.graphic.clone(),s=this._createHandleFromMidpoint(t);this._emitVertexAddEvent([t],e,s),this._addToSelection(t)}else this.selectedHandles.includes(t)||(this._clearSelection(),this._addToSelection(t));this._emitReshapeStartEvent(t)}_onGraphicMoveCallback(e){const{graphic:t,dx:s,dy:i}=e;this._totalDx+=s,this._totalDy+=i,t===this.graphic?this._emitMoveEvent(s,i):(this._syncGeometryAfterHandleMove(t,s,i),this._emitReshapeEvent(t))}_onGraphicMoveStopCallback(e){const{graphic:t,dx:s,dy:i}=e;if(this._totalDx+=s,this._totalDy+=i,t===this.graphic){for(const e of[].concat(this.handleGraphics,this.midpointGraphics))e.visible=!0;this._syncGraphicsWithGeometry(),this._emitMoveStopEvent()}else this._syncGeometryAfterHandleMove(t,s,i),this._isMidpoint(t)&&this.refresh(),this._emitReshapeStopEvent(t);this._resetGraphicStateVars()}_syncGraphicsWithGeometry(){const e=this.graphic.geometry,t=\"polyline\"===e.type?e.paths:e.rings;this._updateHandleGraphicLocations(t),this._updateMidpointGraphicLocations(t)}_updateHandleGraphicLocations(e){for(const t of this.handleGraphics){const{pathIndex:s,pointIndex:i}=t.attributes,[o,h]=e[s][i];t.set(\"geometry\",new r(o,h,this.view.spatialReference))}}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:s,pointIndexStart:i,pointIndexEnd:o}=t.attributes,[h,c]=e[s][i],[n,l]=e[s][o],[p,d]=a([h,c],[n,l]);t.geometry=new r({x:p,y:d,spatialReference:this.view.spatialReference})}}_syncGeometryAfterHandleMove(e,s,i){const o=t(this.graphic.geometry).clone(),r=\"polyline\"===o.type?o.paths:o.rings,{pathIndex:h,pointIndex:a}=e.attributes,{x:c,y:n}=e.geometry,l=r[h].length-1;if(r[h][a]=[c,n],\"polygon\"===o.type&&(0===a?r[h][l]=[c,n]:a===l&&(r[h][0]=[c,n])),this._isHandle(e)){const{relatedGraphicIndices:t}=e.attributes;for(const s of t){const t=this.handleGraphics[s],{pathIndex:i,pointIndex:o}=t.attributes;r[i][o]=[c,n],t.geometry=e.geometry}for(const h of this.selectedHandles)if(h!==e){const{pathIndex:e,pointIndex:t,relatedGraphicIndices:a}=h.attributes,c=y(h.geometry,s,i,this.view),n=r[e].length-1;r[e][t]=[c.x,c.y],h.geometry=c,\"polygon\"===o.type&&(0===t?r[e][n]=[c.x,c.y]:t===n&&(r[e][0]=[c.x,c.y]));for(const s of a){const e=this.handleGraphics[s],{pathIndex:t,pointIndex:i}=e.attributes;r[t][i]=[c.x,c.y],e.geometry=c}}this._updateMidpointGraphicLocations(r)}this.graphic.geometry=o}_onGraphicPointerOverCallback(e){const t=e.graphic;this._isHandle(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._isHandle(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor=\"default\"}_createHandleFromMidpoint(e){const{_graphicAttributes:s}=this,i=[],o=t(this.graphic.geometry).clone(),{pathIndex:r,pointIndexStart:h,pointIndexEnd:a}=e.attributes,{x:c,y:n}=e.geometry,l=0===a?h+1:a,p=\"polyline\"===o.type?o.paths:o.rings;return p[r].splice(l,0,[c,n]),e.attributes={...s,pathIndex:r,pointIndex:l,relatedGraphicIndices:[]},i.push({coordinates:p[r][l],componentIndex:r,vertexIndex:l}),this.graphic.geometry=o,i}_removeHandles(e){const s=t(this.graphic.geometry).clone(),i=\"polygon\"===s.type?s.rings:s.paths,o=[];e instanceof l&&(e=[e]);for(const t of e){const{x:e,y:s}=t.geometry;for(let t=0;t<i.length;t++){const r=i[t];for(let h=0;h<r.length;h++){const[a,c]=r[h];e===a&&s===c&&(o.push({coordinates:i[t][h],componentIndex:t,vertexIndex:h}),i[t].splice(Number(h),1))}}}if(\"polygon\"===s.type)for(const t of i){const[e,s]=t[0],[o,r]=t[t.length-1];(1===t.length||t.length<3&&e===o&&s===r)&&i.splice(i.indexOf(t),1),t.length>2&&(e!==o||s!==r)&&t.push(t[0])}else for(const t of i)1===t.length&&i.splice(i.indexOf(t),1);return this.graphic.geometry=s,o}_addToSelection(e){e instanceof l&&(e=[e]);for(const t of e)t.symbol=this.symbols.vertices.selected;this._set(\"selectedHandles\",this.selectedHandles.concat(e)),this._emitSelectEvent(e)}_removeFromSelection(e,t){const{vertices:s}=this.symbols,i=t?s.hover:s.default;e instanceof l&&(e=[e]);for(const o of e)this.selectedHandles.splice(this.selectedHandles.indexOf(o),1),this._set(\"selectedHandles\",this.selectedHandles),o.set(\"symbol\",i);this._emitDeselectEvent(e)}_clearSelection(){if(this.selectedHandles.length){const e=this.selectedHandles;for(const t of this.selectedHandles)t.set(\"symbol\",this.symbols.vertices.default);this._set(\"selectedHandles\",[]),this._emitDeselectEvent(e)}}_keyDownHandler(e){I.removeVertex.includes(e.key)&&!e.repeat&&this.selectedHandles.length&&this._removeVertex(this.selectedHandles)}_removeVertex(e){if(\"polygon\"===this.graphic.geometry.type&&this.handleGraphics.length<4||this.handleGraphics.length<3)return;const t=this.graphic.clone();e instanceof l&&(e=[e]);const s=this._removeHandles(e);this.refresh(),this._emitVertexRemoveEvent(e,t,s)}_isHandle(e){return this.handleGraphics.includes(e)}_isSelected(e){return this._isHandle(e)&&this.selectedHandles.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?\"copy\":\"move\"}_emitMoveStartEvent(e,t){const s=new G(this.graphic,e,t);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(e,t){const s=new S(this.graphic,e,t);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(){const e=new w(this.graphic,this._totalDx,this._totalDy);this.emit(\"move-stop\",e),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(e)}_emitReshapeStartEvent(e){const t=new f(this.graphic,e,this.selectedHandles);this.emit(\"reshape-start\",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}_emitReshapeEvent(e){const t=new x(this.graphic,e,this.selectedHandles);this.emit(\"reshape\",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}_emitReshapeStopEvent(e){const t=new b(this.graphic,e,this.selectedHandles);this.emit(\"reshape-stop\",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}_emitSelectEvent(e){const t=new M(e);this.emit(\"select\",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}_emitDeselectEvent(e){const t=new k(e);this.emit(\"deselect\",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}_emitVertexAddEvent(e,t,s){const i=new H(e,this.graphic,t,s);this.emit(\"vertex-add\",i),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(i)}_emitVertexRemoveEvent(e,t,s){const i=new E(e,this.graphic,t,s);this.emit(\"vertex-remove\",i),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(i)}};e([i()],j.prototype,\"callbacks\",void 0),e([i()],j.prototype,\"enableMidpoints\",void 0),e([i()],j.prototype,\"graphic\",void 0),e([i({readOnly:!0})],j.prototype,\"handleGraphics\",void 0),e([i()],j.prototype,\"layer\",void 0),e([i({readOnly:!0})],j.prototype,\"midpointGraphics\",void 0),e([i()],j.prototype,\"midpointSymbol\",void 0),e([i({readOnly:!0})],j.prototype,\"selectedHandles\",void 0),e([i({readOnly:!0})],j.prototype,\"state\",null),e([i({value:C})],j.prototype,\"symbols\",null),e([i({readOnly:!0})],j.prototype,\"type\",void 0),e([i()],j.prototype,\"view\",void 0),j=e([o(\"esri.views.draw.support.Reshape\")],j);var V=j;export default V;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}class c{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}}const h=new c;export{o as colors,h as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isNone as o,isSome as i}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{i as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as y,project as g,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{j as f}from\"../../chunks/vec2.js\";import{getDefaultSymbol2D as _}from\"../../symbols/support/defaults.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),o=e?e.offset:0;return new b({mode:t,offset:o})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const s=t.geometry;if(o(s))return null;const r=this._get(\"focusedSymbol\"),l=i(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,s,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||_(s),o(r))return null;const l=1;let a=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?l:null;if(o(a)||!a.originalPoint.equals(s)){const t=s,o=e.spatialReference;if(y(t.spatialReference,o)){const e=g(t,o);a={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=a}}if(i(a)){const o=h(t,G),i=e.toScreen(a.mapPoint),s=a.radiusPx,n=i.x+c(r.xoffset),p=i.y-c(r.yoffset);return f(o,[n,p])<s*s?l:null}return null}_intersectDistance3D(e,t,o){const i=e.toMap(t,{include:[o]});return i&&d(i,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"sourceRoot":""}