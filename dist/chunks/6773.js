(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[6773],{96773:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>N});var s=t(56140),i=(t(95830),t(36544),t(68055),t(79881)),a=t(87566),o=(t(10923),t(57002),t(86035),t(95986)),n=t(36654),l=t(91535),u=t(47977),p=t(66849),y=t(97274),c=t(59472),f=t(30590),d=t(58385),B=t(73032),g=t(61106),m=t(53817),v=t(93833),h=t(56885),P=(t(36348),t(15988)),b=t(36405);function _(e){return e.features.map((r=>{const t=B.Z.fromJSON(e.spatialReference),s=P.default.fromJSON(r);return(0,c.Wg)(s.geometry).spatialReference=t,s}))}function A(e){return e.features.map((r=>(r.geometry.spatialReference=e.spatialReference,(0,h.im)(r.geometry))))}let C=class extends d.wq{constructor(e){super(e),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(e){return A(e)}readPointBarriers(e,r){return A(r.barriers)}readPolylineBarriers(e){return A(e)}readPolygonBarriers(e){return A(e)}readIncidents(e,r){return _(r.saPolylines)}readServiceAreaPolygons(e,r){return _(r.saPolygons)}};(0,s._)([(0,i.Cb)({type:[g.Z]})],C.prototype,"facilities",void 0),(0,s._)([(0,f.r)("facilities")],C.prototype,"readFacilities",null),(0,s._)([(0,i.Cb)({type:[b.Z]})],C.prototype,"messages",void 0),(0,s._)([(0,i.Cb)({type:[g.Z]})],C.prototype,"pointBarriers",void 0),(0,s._)([(0,f.r)("pointBarriers",["barriers"])],C.prototype,"readPointBarriers",null),(0,s._)([(0,i.Cb)({type:[v.Z]})],C.prototype,"polylineBarriers",void 0),(0,s._)([(0,f.r)("polylineBarriers")],C.prototype,"readPolylineBarriers",null),(0,s._)([(0,i.Cb)({type:[m.Z]})],C.prototype,"polygonBarriers",void 0),(0,s._)([(0,f.r)("polygonBarriers")],C.prototype,"readPolygonBarriers",null),(0,s._)([(0,i.Cb)({type:[P.default]})],C.prototype,"serviceAreaPolylines",void 0),(0,s._)([(0,f.r)("serviceAreaPolylines",["saPolylines"])],C.prototype,"readIncidents",null),(0,s._)([(0,i.Cb)({type:[P.default]})],C.prototype,"serviceAreaPolygons",void 0),(0,s._)([(0,f.r)("serviceAreaPolygons",["saPolygons"])],C.prototype,"readServiceAreaPolygons",null),C=(0,s._)([(0,a.j)("esri.tasks.support.ServiceAreaSolveResult")],C);const k=C,S=(0,u.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});var R=t(10532);let Z=class extends((0,R.Y)(o.Z)){constructor(e){super(e),this.url=null}solve(e,r){return async function(e,r,t){const s=[],i=[],a={},o={},u=(0,p.en)(e);return r.facilities&&r.facilities.features&&(0,y.et)(r.facilities.features,i,"facilities.features",a),r.pointBarriers&&r.pointBarriers.features&&(0,y.et)(r.pointBarriers.features,i,"pointBarriers.features",a),r.polylineBarriers&&r.polylineBarriers.features&&(0,y.et)(r.polylineBarriers.features,i,"polylineBarriers.features",a),r.polygonBarriers&&r.polygonBarriers.features&&(0,y.et)(r.polygonBarriers.features,i,"polygonBarriers.features",a),(0,l.aX)(i).then((e=>{for(const r in a){const t=a[r];s.push(r),o[r]=e.slice(t[0],t[1])}return(0,y.Wf)(o,s)?(0,y.bI)(u.path):Promise.resolve({dontCheck:!0})})).then((e=>{("dontCheck"in e?e.dontCheck:e.hasZ)||(0,y.ef)(o,s);for(const e in o)o[e].forEach(((t,s)=>{r.get(e)[s].geometry=t}));let i={query:{...u.query,f:"json",...S.toQueryParams(r)}};return t&&(i={...t,...i}),(0,n.default)(`${u.path}/solveServiceArea`,i)})).then((e=>k.fromJSON(e.data)))}(this.url,e,r)}};(0,s._)([(0,i.Cb)()],Z.prototype,"url",void 0),Z=(0,s._)([(0,a.j)("esri.tasks.ServiceAreaTask")],Z);const N=Z}}]);
//# sourceMappingURL=6773.js.map