{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/devEnvironmentUtils.js","webpack://imaps/./node_modules/@arcgis/core/support/featureFlags.js","webpack://imaps/./node_modules/@arcgis/core/symbols/support/styleUtils.js"],"names":["a","e","some","c","t","match","r","m","replace","n","s","b","h","o","portal","url","user","username","load","then","disableExtraQuery","query","D","R","queryItems","results","toLowerCase","Array","isArray","typeKeywords","type","owner","styleName","g","fetchData","data","baseUrl","itemUrl","j","styleUrl","P","d","Promise","reject","w","name","q","U","origin","E","N","l","p","items","find","symbolName","cimRef","formatInfos","href","webRef","S","thumbnail","imageData","styleOrigin","symbol","$","test","responseType","f"],"mappings":"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","file":"chunks/1328.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport c from\"./global.js\";function a(a){return a=a||c.location.hostname,e.some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}function t(a,t){return a&&(t=t||c.location.hostname)?null!=t.match(r)||null!=t.match(m)?a.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=t.match(n)||null!=t.match(s)?a.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):a:a}function o(a){a=a||c.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(e).some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}const r=/^devext.arcgis.com$/,n=/^qaext.arcgis.com$/,m=/^[\\w-]*\\.mapsdevext.arcgis.com$/,s=/^[\\w-]*\\.mapsqa.arcgis.com$/,e=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,r,n,/^jsapps.esri.com$/,m,s];export{t as adjustStaticAGOUrl,a as isDevEnvironment,o as isTelemetryDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport o from\"../core/has.js\";function t(t){return!!o(`enable-feature:${t}`)}const e=()=>t(\"force-wosr\"),r=()=>t(\"disable-context-navigation\"),n=()=>t(\"extent-transform-tool\");export{r as disableContextNavigation,n as enableExtentTransformTool,e as enableWebStyleForceWOSR,t as hasEnableFeature};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{normalize as t,removeFile as r,urlToObject as o}from\"../../core/urlUtils.js\";import{f as s}from\"../../chunks/persistableUrlUtils.js\";import n from\"../../request.js\";import l from\"../../portal/PortalQueryParams.js\";import a from\"../../portal/Portal.js\";import i from\"./StyleOrigin.js\";import m from\"./Thumbnail.js\";import{f as u,i as y}from\"../../chunks/symbols.js\";import{isDevEnvironment as f,adjustStaticAGOUrl as c}from\"../../core/devEnvironmentUtils.js\";import{enableWebStyleForceWOSR as p}from\"../../support/featureFlags.js\";const b={};function d(e,t){return P(e,t).then((t=>({data:t.data,baseUrl:r(e),styleUrl:e})))}function h(e,t,r){const o=t.portal||a.getDefault();let s;const n=`${o.url} - ${o.user&&o.user.username} - ${e}`;return b[n]||(b[n]=g(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl,styleName:e})))),b[n]}function g(t,r,o){return r.load(o).then((()=>{const e=new l({disableExtraQuery:!0,query:`owner:${D} AND type:${R} AND typekeywords:\"${t}\"`});return r.queryItems(e,o)})).then((({results:r})=>{let s=null;const n=t.toLowerCase();if(r&&Array.isArray(r))for(const e of r){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===R&&e.owner===D){s=e;break}}if(!s)throw new e(\"symbolstyleutils:style-not-found\",`The style '${t}' could not be found`,{styleName:t});return s.load(o)}))}function j(t,r,o){return t.styleUrl?d(t.styleUrl,o):t.styleName?h(t.styleName,r,o):Promise.reject(new e(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function w(t,r,o,s){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?E(t,r,s):j(t,r,s).then((e=>N(e,t.name,r,o,s))):Promise.reject(new e(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function N(t,n,l,a,p){const b=t.data,d={portal:l.portal,url:o(t.baseUrl),origin:\"portal-item\"},h=b.items.find((e=>e.name===n));if(!h){const t=`The symbol name '${n}' could not be found`;return Promise.reject(new e(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:n}))}let g=s(S(h,a),d),j=h.thumbnail&&h.thumbnail.href;const w=h.thumbnail&&h.thumbnail.imageData;f()&&(g=c(g),j=c(j));const N={portal:l.portal,url:o(r(g)),origin:\"portal-item\"};return P(g,p).then((e=>{const r=\"cimRef\"===a?U(e.data):e.data,o=u(r,N);if(o&&y(o)){if(j){const e=s(j,d);o.thumbnail=new m({url:e})}else w&&(o.thumbnail=new m({url:`data:image/png;base64,${w}`}));t.styleUrl?o.styleOrigin=new i({portal:l.portal,styleUrl:t.styleUrl,name:n}):t.styleName&&(o.styleOrigin=new i({portal:l.portal,styleName:t.styleName,name:n}))}return o}))}function U(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function S(e,t){if(\"cimRef\"===t)return e.cimRef;if(e.formatInfos&&!p())for(const r of e.formatInfos)if(\"gltf\"===r.type)return r.href;return e.webRef}function $(e){for(const t of e.typeKeywords)if(/^Esri.*Style$/.test(t)&&\"Esri Style\"!==t)return t}function E(e,t,s){const n=q.replace(/\\{SymbolName\\}/gi,e.name);return P(n,s).then((e=>{const s=U(e.data);return u(s,{portal:t.portal,url:o(r(n)),origin:\"portal-item\"})}))}function P(e,r){const o={responseType:\"json\",query:{f:\"json\"},...r};return n(t(e),o)}const D=\"esri_en\",R=\"Style\",q=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{j as fetchStyle,N as fetchSymbolFromStyle,w as resolveWebStyleSymbol,$ as styleNameFromItem};\n"],"sourceRoot":""}