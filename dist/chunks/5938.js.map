{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/CircularArray.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureDisplayList.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/FreeList.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Buffer.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/BufferData.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/BufferDataPool.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/DisplayRecordReader.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/heuristics.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/MetricReader.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/Geometry.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/FeatureTile.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js"],"names":["t","Number","POSITIVE_INFINITY","this","size","_start","maxSize","_buffer","isFinite","Array","s","i","dequeue","z","D","U","k","e","_texture","_lastTexture","_fbos","texelSize","buffer","pixelType","r","textureOnly","h","o","shared","data","_resetRange","dispose","detachColorTexture","target","wrapMode","pixelFormat","dataType","samplingMode","width","height","length","dirtyStart","Math","min","dirtyEnd","max","_initTexture","colorTarget","depthStencilTarget","getTexture","_textureDesc","Atomics","load","locked","d","n","l","p","c","x","_","f","g","BYTES_PER_ELEMENT","console","debug","b","m","y","error","updateData","start","end","a","layout","destroy","descriptor","getFBO","ArrayBuffer","getBoundFramebufferObject","u","getViewport","bindFramebuffer","readPixels","setViewport","j","_initialized","_forceNextUpload","_locked","blocks","_data","resize","_defaultTexture","setData","getData","_pendingAttributeUpdate","resolver","promise","update","_getDefaultTexture","bindTexture","updateTexture","Uint8Array","value","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","ddColors","ddBackgroundColor","ddActiveDots","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_vvSizeFieldStops","type","levels","parseFloat","abs","sizes","values","_vvInfo","_updateVisualVariables","vvRanges","forEach","_updateEffects","_updateDotDensityInfo","ddDotBlending","outsideLabelsVisible","oesTextureFloat","supportsTextureFloat","filter","enabled","excludedLabelsVisible","minMaxValue","minSize","scale","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","color","colors","opacity","opacities","v","rotation","attributes","ddDotValue","dotValue","ddDotScale","referenceScale","ddDotSize","dotSize","dotBlendingEnabled","ddSeed","seed","backgroundColor","super","_rendererInfo","_materialItemsRequestQueue","attributeView","removeAllChildren","children","clear","setInfo","requestRender","push","items","abortOptions","context","capabilities","enable","pop","_processMaterialItemRequest","doRender","commit","state","renderChildren","createRenderParams","rendererInfo","painter","pixelRatio","map","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","stage","reject","id","mosaicItem","resolve","key","level","row","col","_tileInfoView","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","displayLevel","tileInfo","scaleToZoom","registerRenderPass","name","brushes","drawPhase","getStencilTarget","has","prepareRenderPasses","getTileResolution","setTransform","stencilRef","triangleCountReportedInDebug","transforms","dvs","tileMat3","triangleCount","bounds","coordRange","texture","_coords","_bounds","toScreenNoRotation","coords","displayViewMat3","geometryType","materialKey","indexFrom","indexCount","draw","_infos","_target","next","add","_last","indexEnd","extend","isArray","find","remove","last","_head","Uint32Array","strideInt","bufferType","dirty","cpu","gpu","freeList","fillPointer","maxAvailableSpace","firstFit","free","_createBuffer","setSubData","_vaoInvalidated","_vaoHash","indicesPerRecord","multiplier","geometry","verticesPerRecord","stride","_buffers","index","vertex","pool","acquire","_records","_displayList","release","_vao","getCursor","upload","_getVAO","bindVAO","drawElements","done","vertexData","offset","records","indices","vertices","_getInsertionInfo","vertFrom","vertCount","recordCount","insert","_addRecords","_freeId","vertexFrom","vertexCount","link","lookup","delete","JSON","stringify","Error","_pools","Map","get","enqueue","_cursor","byteLength","BYTES_PER_RECORD","Int32Array","ELEMENTS_PER_RECORD","insertAfter","_index","_link","copy","peekId","isEmpty","_deletedCount","_offsets","instance","_packedRecords","recordBytes","indexBytes","vertexBytes","warn","tiles","layer","layerView","tileInfoView","isUpdating","createTile","once","notifyChange","disposeTile","isReady","requestUpdate","prototype","from","baseZoom","anchorX","anchorY","directionX","directionY","hasVV","boundsCount","computedMinZoom","setComputedMinZoom","boundsComputedAnchorX","boundsComputedAnchorY","setBoundsComputedAnchorX","setBoundsComputedAnchorY","boundsCenterX","boundsCenterY","boundsWidth","boundsHeight","_savedCursor","_savedOffset","_offset","_count","count","_computeCount","freeIds","reverse","displayList","w","instanceId","patchCount","_renderState","current","metrics","swap","swapFrames","_patches","_lastCommitTime","_lastMessageWasClear","labelMat2d","_store","getScreenTransform","viewMat2d","_dropPatches","time","_updateMesh","_swapRenderStates","_flushUpdates","_swap","peek","_patch","ready","_remove","_insert","addOrUpdate","_insertLabelMetrics","_removeLabelMetrics","_pointToCallbacks","_layer","_layerView","hasAnimation","effects","integrate","patch","contains","addChild","minScale","maxScale","hasLabels","featureReduction","labelsVisible","labelingInfo","enableDefaultDraw","hasEffects","apply","outsideEffect","args","effectLists","excluded","insideEffect","included","hittest","highlight","hasHighlight","featuresView","removeChild","hitTest","indexOf","visualVariables","clone","normalizationField","valueExpression","field","setRendererInfo","tileKey","onTileData","view","labelManager","onTileError","forceTextureUpload","lockTextureUpload","lock","unlockTextureUpload","unlock","getMaterialItems","getTileBounds","sqrt","expression","vvFields","valueUnit","valueRepresentation","rotationType"],"mappings":"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","file":"chunks/5938.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";class s{constructor(t=Number.POSITIVE_INFINITY){this.size=0,this._start=0,this.maxSize=t,this._buffer=isFinite(t)?new Array(t):[]}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return isFinite(this.maxSize)?this._buffer[(this._start+this.size++)%this.maxSize]=t:this._buffer[this._start+this.size++]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}clear(s){let i=this.dequeue();for(;t(i);)s&&s(i),i=this.dequeue()}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{isNone as e,mapMany as i,isSome as s,andThen as r,unwrap as a,forEachSome as h,mapOr as o,unwrapOr as d}from\"../../../../core/maybe.js\";import n from\"../../../../core/Logger.js\";import u from\"../../../../core/Error.js\";import{createResolver as l}from\"../../../../core/promiseUtils.js\";import{ATTRIBUTE_DATA_VV as p,TEXTURE_BINDING_ATTRIBUTE_DATA_0 as c,TEXTURE_BINDING_ATTRIBUTE_DATA_1 as x,TEXTURE_BINDING_ATTRIBUTE_DATA_2 as _,TEXTURE_BINDING_ATTRIBUTE_DATA_3 as f}from\"./definitions.js\";import\"../../../../chunks/builtins.js\";import g from\"../../../webgl/Texture.js\";import b from\"../../../webgl/FramebufferObject.js\";import{getPixelArrayCtor as T,getPixelBytes as m}from\"./Utils.js\";import{createDebugLogger as y,DEBUG_ATTR_UPDATES as w}from\"./util/debug.js\";const z=n.getLogger(\"esri.views.2d.engine.webgl.AttributeStoreView\"),D=y(w,z),S=2147483647,U=t=>t&S;class k{constructor(t,e,i){this._texture=null,this._lastTexture=null,this._fbos={},this.texelSize=4;const{buffer:s,pixelType:r,textureOnly:h}=t,o=T(r);this.shared=i,this.pixelType=r,this.size=e,this.textureOnly=h,h||(this.data=new o(a(s))),this._resetRange()}destroy(){r(this._texture,(t=>t.dispose()));for(const t in this._fbos)r(this._fbos[t],(e=>{\"0\"===t&&e.detachColorTexture(),e.dispose()})),this._fbos[t]=null;this._texture=null}get _textureDesc(){return{target:3553,wrapMode:33071,pixelFormat:6408,dataType:this.pixelType,samplingMode:9728,width:this.size,height:this.size}}setData(t,e,i){const s=U(t),r=a(this.data),h=s*this.texelSize+e;!r||h>=r.length||(r[h]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s))}getData(t,i){if(e(this.data))return null;const s=U(t)*this.texelSize+i;return!this.data||s>=this.data.length?null:this.data[s]}getTexture(t){return d(this._texture,(()=>this._initTexture(t)))}getFBO(t,i=0){if(e(this._fbos[i])){const e={colorTarget:0,depthStencilTarget:0},s=0===i?this.getTexture(t):this._textureDesc;this._fbos[i]=new b(t,e,s)}return this._fbos[i]}get locked(){return!(5121!==this.pixelType||!this.shared||this.textureOnly||!t(\"esri-atomics\")||!this.data)&&1===Atomics.load(this.data,0)}updateTexture(t){if(!this.locked)try{const i=this.dirtyStart,s=this.dirtyEnd;if(i>s)return;this._resetRange();const r=a(this.data).buffer,h=this.getTexture(t),o=4,d=(i-i%this.size)/this.size,n=(s-s%this.size)/this.size,l=d,p=this.size,c=n,x=d*this.size*o,_=(p+c*this.size)*o-x,f=T(this.pixelType),g=f.BYTES_PER_ELEMENT;try{new f(r,x*g,_)}catch(e){console.debug(e)}const b=new f(r,x*g,_),m=this.size,y=c-l+1;if(y>this.size)return void z.error(new u(\"mapview-webgl\",\"Out-of-bounds index when updating AttributeData\"));h.updateData(0,0,l,m,y,b)}catch(e){console.debug(e)}}update(t){const{data:e,start:i,end:r}=t;if(s(e)){const s=this.data,r=i*this.texelSize;for(let i=0;i<e.length;i++){const a=1<<i%this.texelSize;t.layout&a&&(s[r+i]=e[i])}}this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,r)}resize(t,e){const i=this.size;if(this.size=e,this.textureOnly)return void(i!==this.size&&(this._lastTexture=this._texture,this._texture=null));const s=T(this.pixelType);this.destroy(),this.data=new s(a(t.buffer))}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}_initTexture(t){const e=new g(t,this._textureDesc,d(this.data,void 0));if(s(this._lastTexture)&&this._fbos[0]){const i=this._lastTexture.descriptor.width,s=this._lastTexture.descriptor.height,r=this._lastTexture.descriptor.dataType,a=this._lastTexture.descriptor.pixelFormat,h=this.getFBO(t),o=m(r),d=new(T(r))(new ArrayBuffer(i*s*o*this.texelSize)),n=t.getBoundFramebufferObject(),{x:u,y:l,width:p,height:c}=t.getViewport();t.bindFramebuffer(h),h.readPixels(0,0,i,s,a,r,d),e.updateData(0,0,0,2*i,s/2,d),t.setViewport(u,l,p,c),t.bindFramebuffer(n)}return this.destroy(),this._texture=e,this._texture}}class j{constructor(){this._initialized=!1,this._forceNextUpload=!1,this._locked=!1}initialize(t){const{blocks:r,shared:a,size:h}=t;if(this.shared=a,this.size=h,D(\"Initializing AttributeStoreView\",t),e(this._data))this._data=i(r,(t=>new k(t,h,a)));else for(let i=0;i<this._data.length;i++){const t=this._data[i],o=r[i];s(o)&&(e(t)?this._data[i]=new k(o,h,a):t.resize(o,h))}this._initialized=!0}destroy(){r(this._data,(t=>i(t,(t=>t.destroy())))),r(this._defaultTexture,(t=>t.dispose()))}getBlock(t){if(e(this._data))return null;return this._data[t]}setLabelMinZoom(t,e){this.setData(t,0,1,e)}getLabelMinZoom(t){return this.getData(t,0,1,255)}getFilterFlags(t){return this.getData(t,0,0,0)}getVVSize(t){return this.getData(t,p,0,0)}getData(t,i,r,h){if(!this._data)return 0;const o=a(this._data)[i];if(e(o))return 0;const d=o.getData(t,r);return s(d)?d:h}setData(t,e,i,s){const r=a(this._data)[e];a(r).setData(t,i,s)}lockTextureUpload(){this._locked=!0}unlockTextureUpload(){this._locked=!1}forceTextureUpload(){this._forceNextUpload=!0}async requestUpdate(t){if(this._pendingAttributeUpdate)return void z.error(new u(\"mapview-webgl\",\"Tried to update attribute data with a pending update\"));const e=l();return D(\"AttributeStoreView Update Requested\",t),this._pendingAttributeUpdate={data:t,resolver:e},e.promise}update(){if(this._initialized&&s(this._pendingAttributeUpdate)){const{data:t,resolver:e}=this._pendingAttributeUpdate,i=a(this._data);for(let s=0;s<t.blocks.length;s++){const e=t.blocks[s],a=i[s];r(a,(t=>r(e,(e=>{D(`Updating block ${s}`,e),t.update(e)}))))}this._pendingAttributeUpdate=null,e()}}bindTextures(t){this.update();const e=this._getDefaultTexture(t);if(!this._initialized)return t.bindTexture(e,c),t.bindTexture(e,x),t.bindTexture(e,_),void t.bindTexture(e,f);const i=a(this._data);this._locked&&!this._forceNextUpload||(h(i,(e=>e.updateTexture(t))),this._forceNextUpload=!1),t.bindTexture(o(i[0],e,(e=>e.getTexture(t))),c),t.bindTexture(o(i[1],e,(e=>e.getTexture(t))),x),t.bindTexture(o(i[2],e,(e=>e.getTexture(t))),_),t.bindTexture(o(i[3],e,(e=>e.getTexture(t))),f)}_getDefaultTexture(t){if(e(this._defaultTexture)){const e={wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1};this._defaultTexture=new g(t,e,new Uint8Array(4))}return this._defaultTexture}}export{j as AttributeStoreView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{unwrapOr as e,unwrap as t,isSome as i,isNone as s}from\"../../../../core/maybe.js\";import a from\"../../../../Color.js\";import{pt2px as o}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as l}from\"../../../../core/unitUtils.js\";import{meterIn as r}from\"../../../../renderers/support/lengthUtils.js\";import{DOT_DENSITY_MAX_FIELDS as n}from\"./definitions.js\";import v from\"../../../webgl/capabilities.js\";import{isDefined as d,isNumber as u}from\"./Utils.js\";function c(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}function h(e,t,i=0){if(s(t))return e[i+0]=0,e[i+1]=0,e[i+2]=0,void(e[i+3]=0);const{r:a,g:o,b:l,a:r}=t;e[i+0]=a*r/255,e[i+1]=o*r/255,e[i+2]=l*r/255,e[i+3]=r}class p{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.ddColors=new Float32Array(32),this.ddBackgroundColor=new Float32Array(4),this.ddActiveDots=new Float32Array(8),this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1}}getSizeVVFieldStops(i){const s=this._vvSizeFieldStops;switch(s.type){case\"static\":return s;case\"level-dependent\":return e(s.levels[i],(()=>{let e=1/0,a=0;for(const t in s.levels){const s=parseFloat(t),o=Math.abs(i-s);o<e&&(e=o,a=s)}if(e===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const o=2**((i-a)/2),l=t(s.levels[a]),r=new Float32Array(l.values);return r[2]*=o,r[3]*=o,{sizes:t(l.sizes),values:r}}))}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){i(this._vvInfo)&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,s){switch(i(s)&&s.forEach((e=>this._updateEffects(e))),this._vvInfo=t,e.type){case\"dot-density\":this._updateDotDensityInfo(e)}}getVariation(){return{ddDotBlending:this.ddDotBlending,outsideLabelsVisible:this.outsideLabelsVisible,oesTextureFloat:v().supportsTextureFloat}}getVariationHash(){return(this.ddDotBlending?1:0)|(this.outsideLabelsVisible?1:0)<<1}_updateEffects(e){i(e)&&e.filter&&e.filter.enabled&&(this.outsideLabelsVisible=e.excludedLabelsVisible)}_updateVisualVariables(e,t){const i=this._vvMaterialParameters;if(i.vvOpacityEnabled=!1,i.vvSizeEnabled=!1,i.vvColorEnabled=!1,i.vvRotationEnabled=!1,!e)return;const s=e.size;if(s){if(i.vvSizeEnabled=!0,s.minMaxValue){const e=s.minMaxValue;let i,a;if(d(e.minSize)&&d(e.maxSize))if(u(e.minSize)&&u(e.maxSize))i=o(e.minSize),a=o(e.maxSize);else{const s=t.scale;i=o(c(s,e.minSize.stops)),a=o(c(s,e.maxSize.stops))}this.vvSizeMinMaxValue.set([e.minDataValue,e.maxDataValue,i,a])}if(s.scaleStops&&(this.vvSizeScaleStopsValue=o(c(t.scale,s.scaleStops.stops))),s.unitValue){const e=l(t.spatialReference)/r[s.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/t.resolution}s.fieldStops&&(this._vvSizeFieldStops=s.fieldStops)}const a=e.color;a&&(i.vvColorEnabled=!0,this.vvColorValues.set(a.values),this.vvColors.set(a.colors));const n=e.opacity;n&&(i.vvOpacityEnabled=!0,this.vvOpacityValues.set(n.values),this.vvOpacities.set(n.opacities));const v=e.rotation;v&&(i.vvRotationEnabled=!0,i.vvRotationType=v.type)}_updateDotDensityInfo(e){const t=e.attributes;this.ddDotValue=e.dotValue,this.ddDotScale=e.referenceScale,this.ddDotSize=e.dotSize,this.ddDotBlending=e.dotBlendingEnabled,this.ddSeed=e.seed;for(let i=0;i<n;i++){const e=i>=t.length?new a([0,0,0,0]):t[i].color;h(this.ddColors,e,4*i)}for(let i=0;i<8;i++)this.ddActiveDots[i]=i<e.attributes.length?1:0;h(this.ddBackgroundColor,e.backgroundColor)}}export{p as WGLRendererInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r}destroy(){this.removeAllChildren(),this.children.forEach((e=>e.destroy())),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return null;const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}createRenderParams(e){return{...super.createRenderParams(e),rendererInfo:this._rendererInfo,attributeView:this.attributeView}}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,n=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(n).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends t{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export default i;export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{s,m as t}from\"../../../../chunks/mat3.js\";import o from\"../../tiling/TileKey.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as e}from\"../DisplayObject.js\";class r extends e{constructor(s,t,e,r=e){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:i(),tileMat3:i()},this.triangleCount=0,this.key=new o(s),this.bounds=t,this.size=e,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(s){this._coords=[s[0],s[3]],this._bounds=s}setTransform(o,i){const e=i/(o.resolution*o.pixelRatio),r=this.transforms.tileMat3,[n,h]=o.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*e,d=this.size[1]/this.coordRange[1]*e;s(r,a,0,0,0,d,0,n,h,1),t(this.transforms.dvs,o.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{TILE_SIZE as s}from\"./definitions.js\";import{TiledDisplayObject as o}from\"./TiledDisplayObject.js\";class r extends o{constructor(o,r){super(o,r,[s,s])}}export{r as WGLTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,i,s,n){this.target=t,this.geometryType=e,this.materialKey=i,this.indexFrom=s,this.indexCount=n}get indexEnd(){return this.indexFrom+this.indexCount}extend(t){this.indexCount+=t}draw(t,e,i){this.target.draw(t,e,i,this.indexFrom,this.indexCount)}}class e{constructor(t){this._infos=new Array,this._target=t}static from(t,i){const s=new e(t);for(;i.next();)s.add(i);return s}get _last(){return this._infos[this._infos.length-1]}add(e){const{materialKey:i,indexFrom:s,indexCount:n}=e;if(this._infos.length&&e.materialKey===this._last.materialKey&&e.indexFrom===this._last.indexEnd)this._last.extend(n);else{const e=new t(this._target,this.geometryType,i,s,n);this._infos.push(e)}}forEach(t){for(const e of this._infos)t(e)}}export{e as FeatureDisplayList,t as FeatureDisplayListInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";class e{constructor(t){if(!Array.isArray(t))return void(this.data=t);this.data=t[0];let a=this;for(let n=1;n<t.length;n++)a.next=new e([t[n]]),a=a.next}find(t){var e;return t(this.data)?this:null==(e=this.next)?void 0:e.find(t)}max(t,e=this){const a=t(this.data)>t(e.data)?this:e;return this.next?this.next.max(t,a):a}remove(t,e=null){return this===t?e?(e.next=this.next,e):this.next:this.next.remove(t,this)}get last(){return this.next?this.next.last:this}}class a{constructor(a){this._head=null,t(a)||(this._head=new e(a))}get head(){return this._head}maxAvailableSpace(){if(t(this._head))return 0;const e=this._head.max((t=>t.end-t.start));return e.data.end-e.data.start}firstFit(e){if(t(this._head))return null;let a=null,n=this._head;for(;n;){const t=n.data.end-n.data.start;if(t===e)return a?a.next=n.next:this._head=n.next,n.data.start;if(t>e){const t=n.data.start;return n.data.start+=e,t}a=n,n=n.next}return null}free(a,n){const r=a+n;if(t(this._head)){const t=new e({start:a,end:r});return void(this._head=t)}if(r<=this._head.data.start){if(r===this._head.data.start)return void(this._head.data.start-=n);const t=new e({start:a,end:r});return t.next=this._head,void(this._head=t)}let s=this._head,i=s.next;for(;i;){if(i.data.start>=r){if(s.data.end===a)return void(s.data.end+=n);if(i.data.start===r)return void(i.data.start-=n);const t=new e({start:a,end:r});return t.next=s.next,void(s.next=t)}s=i,i=i.next}if(a===s.data.end)return void(s.data.end+=n);const d=new e({start:a,end:r});s.next=d}}export{a as FreeList,e as List};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{andThen as t,unwrapOrThrow as i,isNone as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/mathUtils.js\";import\"../../../../../chunks/builtins.js\";import r from\"../../../../webgl/BufferObject.js\";import\"../../../../webgl/FramebufferObject.js\";import{FreeList as e}from\"./FreeList.js\";const h=32767,n=h<<16|h;class d{constructor(t,i,s,r=1){const e=new Uint32Array(i*s*r);this.strideInt=s,this.bufferType=t,this.dirty={start:1/0,end:0},this.cpu=e,this.gpu=null,this.clear()}destroy(){t(this.gpu,(t=>t.dispose()))}clear(){this.dirty.start=1/0,this.dirty.end=0,this.freeList=new e({start:0,end:this.cpu.length/this.strideInt}),this.fillPointer=0}maxAvailableSpace(){return this.freeList.maxAvailableSpace()}insert(t,s,r,e){const h=r*this.strideInt,n=s*this.strideInt*Uint32Array.BYTES_PER_ELEMENT,d=new Uint32Array(t,n,h),a=i(this.freeList.firstFit(r),\"First fit region must be defined\"),f=a*this.strideInt,o=h*this.strideInt,c=a-s;if(0!==e)for(let i=0;i<d.length;i++)d[i]+=e;return this.cpu.set(d,f),this.dirty.start=Math.min(this.dirty.start,f),this.dirty.end=Math.max(this.dirty.end,f+o),this.fillPointer=Math.max(this.fillPointer,f+o),c}free(t,i,s){const r=t*this.strideInt,e=(t+i)*this.strideInt;if(!0===s)for(let h=t;h!==t+i;h++)this.cpu[h*this.strideInt]=n;this.dirty.start=Math.min(this.dirty.start,r),this.dirty.end=Math.max(this.dirty.end,e),this.freeList.free(t,i)}upload(t){if(this.dirty.end){if(s(this.gpu))return this.gpu=this._createBuffer(t),this.dirty.start=1/0,void(this.dirty.end=0);this.gpu.setSubData(this.cpu,this.dirty.start,this.dirty.start,this.dirty.end),this.dirty.start=1/0,this.dirty.end=0}}_createBuffer(t){const i=35048;return\"index\"===this.bufferType?r.createIndex(t,i,this.cpu):r.createVertex(t,i,this.cpu)}}export{d as Buffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{unwrapOr as e,andThen as r,isNone as t}from\"../../../../../core/maybe.js\";import\"../../../../../core/mathUtils.js\";import\"../../../../../chunks/builtins.js\";import s from\"../../../../webgl/VertexArrayObject.js\";import\"../../../../webgl/FramebufferObject.js\";import{FeatureDisplayList as o}from\"../FeatureDisplayList.js\";import{Buffer as i}from\"./Buffer.js\";import{BufferDataPool as n}from\"./BufferDataPool.js\";import{DisplayRecordReader as d}from\"./DisplayRecordReader.js\";import{getMeshHeuristic as u}from\"../mesh/heuristics.js\";const f=16e3;class a{constructor(e,r){this._vaoInvalidated=!0,this._vaoHash=null;const t=u(r),s=e/Uint32Array.BYTES_PER_ELEMENT,o=new i(\"index\",f,1,t.indicesPerRecord*t.multiplier),n={geometry:new i(\"vertex\",f,s,t.verticesPerRecord*t.multiplier)};this.stride=e,this.strideInt=s,this.geometryType=r,this._buffers={index:o,vertex:n}}static acquire(r,t){const s=()=>new a(r.stride,t),o=e(a.pool.acquire(r.stride,t),s);return o._buffers.index.clear(),o._buffers.vertex.geometry.clear(),o._records=null,o._displayList=null,o._vaoInvalidated=!0,o}release(){a.pool.release(this)}destroy(){this._buffers.index.destroy(),this._buffers.vertex.geometry.destroy(),r(this._vao,(e=>e.dispose(!1)))}get displayList(){return t(this._displayList)&&(this._displayList=o.from(this,this._records.getCursor())),this._displayList}draw(e,r,t,s,o){this.upload(e);const i=this._getVAO(e,r,t),n=Uint32Array.BYTES_PER_ELEMENT*s;e.bindVAO(i),e.drawElements(4,o,5125,n),e.bindVAO(null)}insert(e){if(e.done)return;const{vertexData:r,offset:t}=e,{records:s,indices:o,vertices:i}=r,n=this._getInsertionInfo(d.from(s,t)),{vertFrom:u,vertCount:f,indexFrom:a,indexCount:l,recordCount:c,done:h}=n;if(e.done=h,e.offset=c+t,0===c)return;const{index:_,vertex:m}=this._buffers,x=m.geometry.insert(i,u,f,0),v=_.insert(o,a,l,x);this._addRecords(d.from(s,t,c),v,x)}free(e){const r=d.from(e.records).getCursor();for(;r.next();)this._freeId(r.id)}freeIds(e){for(const r of e)this._freeId(r)}upload(e){const{index:r,vertex:t}=this._buffers;r.upload(e),t.geometry.upload(e)}has(e){if(!this._records)return!1;const r=this._records.getCursor();for(;r.next();)if(r.id===e)return!0;return!1}getViewOf(e){if(!this._records)return null;const r=this._records.getCursor();for(;r.next();)if(r.id===e)return r;return null}_getInsertionInfo(e){const r=e.getCursor(),{index:t,vertex:s}=this._buffers,o=t.maxAvailableSpace(),i=s.geometry.maxAvailableSpace();let n=0,d=null,u=0,f=null,a=0,l=!0;for(;r.next();){null===f&&(f=r.vertexFrom,d=r.indexFrom);const e=a+r.vertexCount,t=u+r.indexCount;if(e>=i||t>=o){l=!1;break}n+=1,u=t,a=e}return{done:l,vertFrom:f,vertCount:a,indexFrom:d,indexCount:u,recordCount:n}}_addRecords(e,r,t){const s=e.getCursor();for(;s.next();)s.indexFrom+=r,s.vertexFrom+=t;this._records?(this._records.link(e),this._displayList=null):this._records=e}_freeId(e){const r=this._records.getCursor(),t=this._buffers.index,s=this._buffers.vertex.geometry;if(!r.lookup(e))return;const o=r.indexFrom;let i=r.indexCount;const n=r.vertexFrom;let d=r.vertexCount;for(;r.next()&&r.id===e;)i+=r.indexCount,d+=r.vertexCount;t.free(o,i),s.free(n,d,!0),this._records.delete(e)}_getVAO(e,o,i){if(this._vaoInvalidated){const e=JSON.stringify(o)+JSON.stringify(i);e!==this._vaoHash&&(r(this._vao,(e=>e.dispose(!1))),this._vao=null,this._vaoHash=e),this._vaoInvalidated=!1}if(t(this._vao)){const{index:r,vertex:n}=this._buffers;if(t(n.geometry.gpu)||t(r.gpu))throw new Error(\"bad news\");this._vao=new s(e,i,o,{geometry:n.geometry.gpu},r.gpu)}return this._vao}}a.pool=new n;export{a as BufferData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../../core/maybe.js\";import r from\"../../../../../core/CircularArray.js\";class s{constructor(){this._pools=new Map}acquire(o,r){const s=o<<8|r,t=this._pools.get(s);return e(t)?null:t.dequeue()}release(s){const t=s.stride<<8|s.geometryType;let c=this._pools.get(t);e(c)&&(c=new r(128),this._pools.set(t,c));const l=c.enqueue(s);o(l)&&l.destroy()}destroy(){this._pools.forEach((e=>{o(e)&&e.clear((e=>e.destroy()))}))}}export{s as BufferDataPool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{DISPLAY_RECORD_INT_PER_ELEMENT as i}from\"../definitions.js\";const s=2147483647;class r{constructor(t){this._head=t,this._cursor=t}static from(t,e=0,i=t.byteLength/_.BYTES_PER_RECORD-e){const s=new _(new Int32Array(t,e*_.BYTES_PER_RECORD,i*_.ELEMENTS_PER_RECORD));return new r(s)}get id(){return this._cursor.id}set id(t){this._cursor.id=t}get materialKey(){return this._cursor.materialKey}set materialKey(t){this._cursor.materialKey=t}get insertAfter(){return this._cursor.insertAfter}get indexFrom(){return this._cursor.indexFrom}set indexFrom(t){this._cursor.indexFrom=t}get indexCount(){return this._cursor.indexCount}set indexCount(t){this._cursor.indexCount=t}get vertexFrom(){return this._cursor.vertexFrom}set vertexFrom(t){this._cursor.vertexFrom=t}get vertexCount(){return this._cursor.vertexCount}set vertexCount(t){this._cursor.vertexCount=t}get index(){return this._cursor._index}link(t){if(!this._head)return void(this._head=t._head);let e=this._head;for(;e._link;)e=e._link;e._link=t._head}getCursor(){return this.copy()}lookup(t){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(t);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor}copy(){var t;const e=new r(null==(t=this._head)?void 0:t.copy());if(!e._head)return e;let i=e._head,s=e._head._link;for(;s;)i._link=s.copy(),i=s,s=i._link;return e}next(){return!!this._cursor&&(!!this._cursor.next()||!!this._cursor._link&&(this._cursor=this._cursor._link,this.next()))}peekId(){var t;return null!=(t=this._cursor.peekId())?t:this._cursor._link.peekId()}delete(e){let i=this._head,s=null;for(;i;){if(i.delete(e))return i.isEmpty()&&t(s)&&(s._link=i._link),!0;s=i,i=i._link}return!1}}r.ELEMENTS_PER_RECORD=i,r.BYTES_PER_RECORD=r.ELEMENTS_PER_RECORD*Int32Array.BYTES_PER_ELEMENT;class _{constructor(t){this._link=null,this._index=-1,this._deletedCount=0,this._offsets={instance:null},this._packedRecords=t}static from(t,e=0,i=t.byteLength/this.BYTES_PER_RECORD-e){return new _(new Int32Array(t,e*this.BYTES_PER_RECORD,i*this.ELEMENTS_PER_RECORD))}delete(t){const e=this._index,i=this.lookup(t);if(i)for(this.id=s,++this._deletedCount;this.next()&&this.id===t;)this.id=s,++this._deletedCount;return this._index=e,i}isEmpty(){return this._deletedCount===this.size()}link(t){this._link?this._link.link(t):this._link=t}lookup(t){if(e(this._offsets.instance)){this._offsets.instance=new Map;const t=this.copy();t._index=-1;let e=0;for(;t.next();)t.id!==e&&(this._offsets.instance.set(t.id,t._index),e=t.id)}if(!this._offsets.instance.has(t))return!1;const i=this._index;return this._index=this._offsets.instance.get(t),this.id!==s||(this._index=i,!1)}get id(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD]}set id(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD]=t}get materialKey(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+1]}set materialKey(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+1]=t}get insertAfter(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+2]}get indexFrom(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+3]}set indexFrom(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+3]=t}get indexCount(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+4]}set indexCount(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+4]=t}get vertexFrom(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+5]}set vertexFrom(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+5]=t}get vertexCount(){return this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+6]}set vertexCount(t){this._packedRecords[this._index*_.ELEMENTS_PER_RECORD+6]=t}get index(){return this._index}size(){return this._packedRecords.length/_.ELEMENTS_PER_RECORD}next(){for(;++this._index<this.size()&&this.id===s;);return this._index<this.size()}peekId(){const t=(this._index+1)*_.ELEMENTS_PER_RECORD;return t>=this._packedRecords.length?0:this._packedRecords[t]}getCursor(){return this.copy()}copy(){const t=new _(this._packedRecords);return t._link=this._link,t._index=this._index,t._offsets=this._offsets,t._deletedCount=this._deletedCount,t}}_.ELEMENTS_PER_RECORD=i,_.BYTES_PER_RECORD=_.ELEMENTS_PER_RECORD*Int32Array.BYTES_PER_ELEMENT;export{r as DisplayRecordReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{DISPLAY_RECORD_INT_PER_ELEMENT as e}from\"../definitions.js\";import{WGLGeometryType as r}from\"../enums.js\";const i=new Map;function t(e){return i.get(e)}function c(r,t,c){const{indicesPerRecord:s,multiplier:o,verticesPerRecord:d}=i.get(r);return{recordBytes:c*e*Uint32Array.BYTES_PER_ELEMENT,indexBytes:o*s*c*Uint32Array.BYTES_PER_ELEMENT,vertexBytes:o*d*c*t}}i.set(r.MARKER,{multiplier:1,indicesPerRecord:6,verticesPerRecord:4}),i.set(r.LINE,{multiplier:1,indicesPerRecord:24,verticesPerRecord:8}),i.set(r.FILL,{multiplier:1,indicesPerRecord:10,verticesPerRecord:10}),i.set(r.TEXT,{multiplier:8,indicesPerRecord:6,verticesPerRecord:4}),i.set(r.LABEL,{multiplier:8,indicesPerRecord:6,verticesPerRecord:4});export{t as getMeshHeuristic,c as getMeshSizeHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nconst n=(n,l)=>n&&((...n)=>l.warn(\"DEBUG:\",...n))||(()=>null),l=!1;export{l as DEBUG_ATTR_UPDATES,n as createDebugLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as s}from\"../../../../../core/HandleOwner.js\";let i=class extends s{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"layerView\",void 0),e([t()],i.prototype,\"tileInfoView\",void 0),e([t()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);var o=i;export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as s}from\"../../../../../core/maybe.js\";const e=6,r=4294967296;class o{constructor(t){this._head=t,this._cursor=t}static from(t){const s=i.from(new Float32Array(t));return new o(s)}get id(){return this._cursor.id}get baseZoom(){return this._cursor.baseZoom}get anchorX(){return this._cursor.anchorX}get anchorY(){return this._cursor.anchorY}get directionX(){return this._cursor.directionX}get directionY(){return this._cursor.directionY}get size(){return this._cursor.size}get hasVV(){return this._cursor.hasVV}get boundsCount(){return this._cursor.boundsCount}computedMinZoom(){return this._cursor.computedMinZoom()}setComputedMinZoom(t){return this._cursor.setComputedMinZoom(t)}boundsComputedAnchorX(t){return this._cursor.boundsComputedAnchorX(t)}boundsComputedAnchorY(t){return this._cursor.boundsComputedAnchorY(t)}setBoundsComputedAnchorX(t,s){return this._cursor.setBoundsComputedAnchorX(t,s)}setBoundsComputedAnchorY(t,s){return this._cursor.setBoundsComputedAnchorY(t,s)}boundsCenterX(t){return this._cursor.boundsCenterX(t)}boundsCenterY(t){return this._cursor.boundsCenterY(t)}boundsWidth(t){return this._cursor.boundsWidth(t)}boundsHeight(t){return this._cursor.boundsHeight(t)}link(s){if(t(s._head))return this._cursor.link(s._head)}getCursor(){return this.copy()}copy(){var t;const s=new o(null==(t=this._head)?void 0:t.copy());if(!s._head)return s;let e=s._head,r=s._head._link;for(;r;)e._link=r.copy(),e=r,r=e._link;return s}peekId(){var t;return null!=(t=this._cursor.peekId())?t:this._cursor._link.peekId()}nextId(){const t=this.id;for(;t===this.id;)if(!this.next())return!1;return!0}save(){this._savedCursor=this._cursor,this._savedOffset=this._cursor._offset}restore(){this._cursor=this._savedCursor,this._cursor._offset=this._savedOffset}next(){if(!this._cursor)return!1;if(!this._cursor.next()){if(!this._cursor._link)return!1;this._cursor=this._cursor._link,this._cursor._offset=0}return!0}lookup(t){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(t);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor}delete(s){let e=this._head,r=null;for(;e;){if(e.delete(s))return e.isEmpty()&&t(r)&&(r._link=e._link),!0;r=e,e=e._link}return!1}}class i{constructor(t){this._offset=-1,this._link=null,this._count=0,this._deletedCount=0,this._offsets={instance:null},this._buffer=t}static from(t){return new i(new Float32Array(t))}isEmpty(){return this._deletedCount===this.count}get count(){return this._count||(this._count=this._computeCount()),this._count}get id(){return this._buffer[this._offset+0]}set id(t){this._buffer[this._offset+0]=t}get baseZoom(){return this._buffer[this._offset+1]}get anchorX(){return this._buffer[this._offset+2]}get anchorY(){return this._buffer[this._offset+3]}get directionX(){return this._buffer[this._offset+4]}get directionY(){return this._buffer[this._offset+5]}get size(){return this._buffer[this._offset+6]}get hasVV(){return this._buffer[this._offset+7]}computedMinZoom(){return this._buffer[this._offset+8]}setComputedMinZoom(t){this._buffer[this._offset+8]=t}get boundsCount(){return this._buffer[this._offset+9]}boundsComputedAnchorX(t){return this._buffer[this._offset+10+t*e+0]}boundsComputedAnchorY(t){return this._buffer[this._offset+10+t*e+1]}setBoundsComputedAnchorX(t,s){this._buffer[this._offset+10+t*e+0]=s}setBoundsComputedAnchorY(t,s){this._buffer[this._offset+10+t*e+1]=s}boundsCenterX(t){return this._buffer[this._offset+10+t*e+2]}boundsCenterY(t){return this._buffer[this._offset+10+t*e+3]}boundsWidth(t){return this._buffer[this._offset+10+t*e+4]}boundsHeight(t){return this._buffer[this._offset+10+t*e+5]}link(t){let s=this;for(;s._link;)s=s._link;s._link=t}getCursor(){return this.copy()}copy(){const t=new i(this._buffer);return t._link=this._link,t._offset=this._offset,t._deletedCount=this._deletedCount,t._offsets=this._offsets,t._count=this._count,t}peekId(){const t=this._offset+10+this.boundsCount*e+0;return t>=this._buffer.length?0:this._buffer[t]}next(){let t=0;for(;this._offset<this._buffer.length&&t++<100&&(-1===this._offset?this._offset=0:this._offset+=10+this.boundsCount*e,this.id===r););return this.id!==r&&this._offset<this._buffer.length}delete(t){const s=this._offset,e=this.lookup(t);if(e)for(this.id=4294967295,++this._deletedCount;this.next()&&this.id===t;)this.id=4294967295,++this._deletedCount;return this._offset=s,e}lookup(t){const e=this._offset;if(s(this._offsets.instance)){this._offsets.instance=new Map;const t=this.copy();t._offset=-1;let s=0;for(;t.next();)t.id!==s&&(this._offsets.instance.set(t.id,t._offset),s=t.id)}return!!this._offsets.instance.has(t)&&(this._offset=this._offsets.instance.get(t),this.id!==r||(this._offset=e,!1))}_computeCount(){const t=this._offset;let s=0;for(this._offset=-1;this.next();)s++;return this._offset=t,s}}export{o as MetricReader,i as MetricReaderNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{BufferData as e}from\"./BufferData.js\";class r{constructor(e){this._buffers=[],this.geometryType=e}destroy(){this._buffers.forEach((e=>e.release()))}insert(r,s){if(!s.records.byteLength)return;\"update\"===r&&this._buffers.forEach((e=>e.free(s)));const f={done:!1,offset:0,vertexData:s};for(this._buffers.forEach((e=>e.insert(f)));!f.done;){const r=e.acquire(s,this.geometryType);r.insert(f),this._buffers.push(r)}}remove(e){this._buffers.forEach((r=>r.freeIds(e)))}upload(e){this._buffers.forEach((r=>r.upload(e)))}forEachCommand(e){[...this._buffers].reverse().forEach((r=>r.displayList.forEach(e)))}}export{r as Geometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,unwrapOr as t,isNone as r}from\"../../../../core/maybe.js\";import{t as s}from\"../../../../chunks/vec2.js\";import i from\"../../../../core/CircularArray.js\";import{i as a,t as n,m as h}from\"../../../../chunks/mat2d.js\";import{c as o}from\"../../../../chunks/mat2df32.js\";import{c}from\"../../../../chunks/vec2f32.js\";import{WGLGeometryType as d}from\"./enums.js\";import{forEachGeometryType as m}from\"./Utils.js\";import{WGLTile as _}from\"./WGLTile.js\";import{MetricReader as p}from\"./collisions/MetricReader.js\";import{Geometry as l}from\"./cpuMapped/Geometry.js\";const u=50,f=4,S=8;let w=0;class g extends _{constructor(e,t,r){super(e,t),this.instanceId=w++,this.patchCount=0,this._renderState={current:{geometry:new Map,metrics:null},next:null,swap:!1,swapFrames:0,locked:!1},this._patches=new i(100),this._lastCommitTime=0,this._lastMessageWasClear=!1,this.transforms.labelMat2d=o(),this._store=r}destroy(){super.destroy(),this._renderState.current.geometry.forEach((e=>e.destroy()))}get labelMetrics(){return this._renderState.current.metrics}get hasData(){return!!this._renderState.current.geometry.size}getGeometry(e){return this._renderState.current.geometry.get(e)}setTransform(e,t){super.setTransform(e,t);const r=this.transforms.labelMat2d,i=e.getScreenTransform(r,t),o=c();s(o,this.coords,i),a(r),n(r,r,o),h(r,e.viewMat2d,r)}patch(e){this.patchCount++,e.clear&&this._lastMessageWasClear||(this._lastMessageWasClear=e.clear,e.clear&&this._patches.size>=u&&this._dropPatches(),this._patches.enqueue(e),this.requestRender())}commit(e){if(this._lastCommitTime!==e.time){this._lastCommitTime=e.time;for(let e=0;e<f;e++)this._updateMesh();this._renderState.swap&&(this._swapRenderStates(),this.requestRender())}}lock(){this._renderState.locked=!0}unlock(){this._renderState.locked=!1,this._flushUpdates(),this._swap()}_swapRenderStates(){if(this._renderState.next){if(this._renderState.locked)return this._renderState.swap=!0,void this.requestRender();if(this._renderState.swap=!0,0===this._renderState.swapFrames)return this._renderState.swapFrames=S,void this.requestRender();1==this._renderState.swapFrames--?this._swap():this.requestRender()}}_swap(){this._renderState.swap&&(this._renderState.swap=!1,e(this._renderState.next)&&(this._renderState.current.geometry.forEach((e=>e.destroy())),this._renderState.current=this._renderState.next,this._renderState.next=null))}_flushUpdates(){let e=this._patches.maxSize;for(;this._patches.size&&e--;)this._updateMesh(),this._swap()}_updateMesh(){const t=this._patches.peek();if(e(t)&&t.clear&&null!==this._renderState.next)return;const r=this._patches.dequeue();if(e(r)){if(!0===r.clear){if(!this.isReady)return;return this._renderState.next,void(this._renderState.next={geometry:new Map,metrics:null})}this.requestRender(),this._patch(r),r.end&&(this.ready(),this._swapRenderStates())}}_patch(e){m((t=>{this._remove(t,e.remove),this._insert(e.type,t,e.addOrUpdate,e.clear)}))}_insert(e,s,i,a){const n=t(this._renderState.next,this._renderState.current),h=null==i?void 0:i.data[s],o=n.geometry;r(h)||(o.has(s)||o.set(s,new l(s)),o.get(s).insert(e,h),s===d.LABEL&&this._insertLabelMetrics(e,h.metrics,a))}_insertLabelMetrics(e,s,i){const a=t(this._renderState.next,this._renderState.current);if(r(s))return;const n=p.from(s);if(r(a.metrics))a.metrics=n;else{if(\"update\"===e){const e=n.getCursor();for(;e.next();)a.metrics.delete(e.id)}a.metrics.link(n)}}_remove(e,r){const s=t(this._renderState.next,this._renderState.current).geometry.get(e);r&&r.length&&s&&(s.remove(r),this._removeLabelMetrics(r))}_removeLabelMetrics(e){const{metrics:s}=t(this._renderState.next,this._renderState.current);if(!r(s)&&e.length)for(const t of e)for(;s.delete(t););}_dropPatches(){const e=new Array;let t=!1;for(;this._patches.size;){const s=this._patches.dequeue();if(r(s))break;if(s.clear){if(t)break;t=!0}e.push(s)}this._patches.clear(),e.forEach((e=>this._patches.enqueue(e)))}}export{g as FeatureTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../../../../core/promiseUtils.js\";import{WGLDrawPhase as s}from\"../../../../engine/webgl/enums.js\";import{brushes as t}from\"../../../../engine/brushes.js\";import{FeatureContainer as i}from\"../../../../engine/FeatureContainer.js\";class a extends i{constructor(e,s,t){super(e),this._pointToCallbacks=new Map,this._layer=t,this._layerView=s}renderChildren(e){if(this.attributeView.update(),this.hasAnimation){e.painter.effects.integrate.draw(e,e.attributeView)}super.renderChildren(e)}hitTest(s,t){const i=[s,t],a=e();return this._pointToCallbacks.set(i,a),this.requestRender(),a.promise}onTileData(e,s){e.patch(s),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){this.contains(e)||this.addChild(e)}doRender(e){const{minScale:s,maxScale:t}=this._layer,i=e.state.scale;i<=(s||1/0)&&i>=t&&super.doRender(e)}get hasAnimation(){return this.hasLabels}get hasLabels(){const e=this._layer.featureReduction,s=e&&\"cluster\"===e.type&&e.labelsVisible&&e.labelingInfo&&e.labelingInfo.length;return this._layer.labelingInfo&&this._layer.labelingInfo.length&&this._layer.labelsVisible||!!s}get labelsVisible(){return this._layer.labelsVisible}prepareRenderPasses(e){const i=e.registerRenderPass({name:\"label\",brushes:[t.label],target:()=>this.hasLabels?this.children:null,drawPhase:s.LABEL|s.LABEL_ALPHA}),a=e.registerRenderPass({name:\"geometry\",brushes:[t.fill,t.line,t.marker,t.text],target:()=>this.children,enableDefaultDraw:()=>!this._layerView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.hasEffects,args:()=>this._layerView.effectLists.excluded},{apply:e.effects.insideEffect,enable:()=>this._layerView.hasEffects,args:()=>this._layerView.effectLists.included},{apply:e.effects.hittest,enable:()=>!!this._pointToCallbacks.size,args:()=>this._pointToCallbacks}]}),r=e.registerRenderPass({name:\"highlight\",brushes:[t.fill,t.line,t.marker,t.text],target:()=>this.children,drawPhase:s.HIGHLIGHT,enableDefaultDraw:()=>!1,effects:[{apply:e.effects.highlight,enable:()=>!!this._layerView.hasHighlight()}]});return[...super.prepareRenderPasses(e),a,r,i]}}export{a as WGLFeatureView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{create as r}from\"../../../../../geometry/support/aaBoundingRect.js\";import{convertVisualVariables as i}from\"./support/visualVariablesUtils.js\";import{simplifyVVRenderer as s}from\"../support/rendererUtils.js\";import{FeatureTile as a}from\"../../../engine/webgl/FeatureTile.js\";import o from\"./BaseTileRenderer.js\";import{WGLFeatureView as l}from\"./support/WGLFeatureView.js\";let u=class extends o{install(e){const t=new l(this.tileInfoView,this.layerView,this.layer);this.featuresView=t,e.addChild(t)}uninstall(e){e.removeChild(this.featuresView),this.featuresView.destroy()}hitTest(e,t){return this.featuresView.hitTest(e,t)}supportsRenderer(e){return null!=e&&-1!==[\"simple\",\"class-breaks\",\"unique-value\",\"dot-density\",\"dictionary\"].indexOf(e.type)}onConfigUpdate(e){let t=null;if(\"visualVariables\"in e){const r=(s(e).visualVariables||[]).map((e=>{const t=e.clone();return\"normalizationField\"in e&&(t.normalizationField=null),e.valueExpression&&\"$view.scale\"!==e.valueExpression&&(t.valueExpression=null,t.field=\"nop\"),t}));t=i(r)}this.featuresView.setRendererInfo(e,t,this.layerView.effects)}onTileData(e){const t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileData(t,e.data),this.layerView.view.labelManager.requestUpdate()}onTileError(e){const t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileError(t)}forceAttributeTextureUpload(){this.featuresView.attributeView.forceTextureUpload()}lockGPUUploads(){this.featuresView.attributeView.lockTextureUpload(),this.tiles.forEach((e=>e.lock()))}unlockGPUUploads(){this.featuresView.attributeView.unlockTextureUpload(),this.tiles.forEach((e=>e.unlock()))}async getMaterialItems(e){return this.featuresView.getMaterialItems(e)}invalidateLabels(){this.featuresView.hasLabels&&this.layerView.view.labelManager.requestUpdate()}createTile(e){const t=this.tileInfoView.getTileBounds(r(),e);return new a(e,t,this.featuresView.attributeView)}disposeTile(e){this.featuresView.removeChild(e),e.destroy(),this.layerView.view.labelManager.requestUpdate()}};u=e([t(\"esri.views.2d.layers.features.tileRenderers.SymbolTileRenderer\")],u);var n=u;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../../core/maybe.js\";import{toPt as t,pt2px as s}from\"../../../../../../core/screenUtils.js\";import{NAN_MAGIC_NUMBER as n}from\"../../../../engine/webgl/definitions.js\";import{WGLVVFlag as o}from\"../../../../engine/webgl/enums.js\";import{premultiplyAlpha as i}from\"../../../../engine/webgl/color.js\";import{getTypeOfSizeVisualVariable as l}from\"../../../../engine/webgl/visualVariablesUtils.js\";function r(e,t){if(!e||!t)return e;switch(t){case\"radius\":case\"distance\":return 2*e;case\"diameter\":case\"width\":return e;case\"area\":return Math.sqrt(e)}return e}function a(e){return{value:e.value,size:t(e.size)}}function u(e){return e.map((e=>a(e)))}function c(e){if(\"string\"==typeof e||\"number\"==typeof e)return t(e);const s=e;return{type:\"size\",expression:s.expression,stops:u(s.stops)}}function p(e){const t=e&&e.length>0?{}:null;return t&&e.forEach((e=>{const s=e.type;e.field&&(t[s]=e.field)})),t}const f=e=>{const t=[],o=[],i=u(e),l=i.length;for(let r=0;r<6;r++){const e=i[Math.min(r,l-1)];t.push(e.value),o.push(null==e.size?n:s(e.size))}return{values:new Float32Array(t),sizes:new Float32Array(o)}};function m(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),\"size\"===n.type){s.size||(s.size={});const e=n;switch(l(e)){case o.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:c(e.minSize),maxSize:c(e.maxSize)};break;case o.SIZE_SCALE_STOPS:s.size.scaleStops={stops:u(e.stops)};break;case o.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=f(e.levels[s]);s.size.fieldStops={type:\"level-dependent\",levels:t}}else s.size.fieldStops={type:\"static\",...f(e.stops)};break;case o.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation}}}else if(\"color\"===n.type)s.color=y(n);else if(\"opacity\"===n.type)s.opacity=v(n);else if(\"rotation\"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function v(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if(\"string\"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].opacity;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function g(e,t,s){e[4*t+0]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function y(t){if(e(t))return null;if(t.normalizationField)return null;const s={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if(\"string\"==typeof t.field){if(!t.stops)return null;{if(t.stops.length>8)return null;s.field=t.field;const e=t.stops;for(let t=0;t<8;++t){const n=e[Math.min(t,e.length-1)];s.values[t]=n.value,g(s.colors,t,n.color)}}}else{if(!(t.stops&&t.stops.length>=0))return null;{const e=t.stops&&t.stops.length>=0&&t.stops[0].color;for(let t=0;t<8;t++)s.values[t]=1/0,g(s.colors,t,e)}}for(let e=0;e<32;e+=4)i(s.colors,e,!0);return s}export{y as convertColorVariable,m as convertVisualVariables,r as getVisualVariableSizeValueRepresentationRatio,p as getVisualVariablesFields,c as normalizeSizeElement,u as normalizeSizeStops,a as stopToSizeStop};\n"],"sourceRoot":""}