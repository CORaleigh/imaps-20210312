{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/core/MapUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/BasemapView.js","webpack://imaps/./node_modules/@arcgis/core/views/LayerViewManager.js","webpack://imaps/./node_modules/@arcgis/core/views/Magnifier.js","webpack://imaps/./node_modules/@arcgis/core/views/RefreshManager.js","webpack://imaps/./node_modules/@arcgis/core/views/input/ViewEvents.js","webpack://imaps/./node_modules/@arcgis/core/views/interactive/ToolViewManagerManipulatorState.js","webpack://imaps/./node_modules/@arcgis/core/views/ToolViewManager.js","webpack://imaps/./node_modules/@arcgis/core/views/input/gamepad/GamepadSettings.js","webpack://imaps/./node_modules/@arcgis/core/views/input/Input.js","webpack://imaps/./node_modules/@arcgis/core/views/navigation/gamepad/GamepadSettings.js","webpack://imaps/./node_modules/@arcgis/core/views/navigation/Navigation.js","webpack://imaps/./node_modules/@arcgis/core/geometry/support/heightModelInfoUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/support/DefaultsFromMap.js","webpack://imaps/./node_modules/@arcgis/core/views/View.js","webpack://imaps/./node_modules/@arcgis/core/views/input/gamepad/GamepadInputDevice.js","webpack://imaps/./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"names":["n","r","o","t","p","e","super","this","view","baseLayerViews","referenceLayerViews","_loadingHandle","load","catch","_set","remove","suspended","map","basemap","loaded","constructOnly","prototype","readOnly","dependsOn","type","Boolean","g","L","i","layer","layerViewImporter","_controller","_deferred","_started","done","signal","reject","promise","abort","layerView","emit","_map","a","s","prefetchResources","createLayerView","hasLayerViewModule","importLayerView","default","h","destroy","parent","when","allLayers","includes","resolve","error","M","_layerLayerViewInfoMap","Map","_watchUpdatingTracking","supportsGround","_preloadLayerViewModules","_reschedule","_workPromise","handles","add","_doWork","clear","notifyChange","root","rootCollectionNames","_rootCollectionNames","getChildrenFunction","layers","_createLayerView","_refreshCollections","delete","filter","l","ground","baseLayers","referenceLayers","addOnCollectionChange","push","Array","from","_layersToLayerViews","keys","updating","destroyed","values","has","get","_populateLayerViewsOwners","removeAll","getItemAt","splice","layerViews","length","ready","start","then","name","title","id","set","factor","offsetX","offsetY","position","size","mask","maskEnabled","overlay","overlayEnabled","visible","_get","Number","range","min","arguments","_handles","_currentTick","allLayerViews","on","_getLayerViewHandles","watch","_restartTicking","_intervalID","clearInterval","_getCommonInterval","tickInterval","setInterval","Date","now","forEach","Math","round","refreshInterval","refreshTimestamp","refresh","isNaN","toArray","reduce","handlers","counter","handlerCounts","inputManager","disconnect","handler","priority","installHandlers","uninstallHandlers","isArray","split","some","console","c","createUniqueGroupName","u","removeHandler","registerIncoming","wrapClick","wrapDoubleClick","wrapImmediateClick","wrapImmediateDoubleClick","wrapHold","wrapDrag","wrapKeyDown","wrapKeyUp","wrapPointer","wrapPointerDrag","wrapMouseWheel","wrapGamepad","wrapFocus","wrapBlur","timestamp","native","data","cancelable","stopPropagation","async","preventDefault","pointerType","button","buttons","x","y","eventId","screenPoint","mapPoint","getMapPoint","pointerId","toMap","exclude","center","action","latestDragStart","pointer","m","origin","radius","angle","key","repeat","currentEvent","startEvent","deltaY","state","device","axes","shiftKey","d","manipulator","tool","j","_creatingTool","_manipulatorState","_pointerLocations","_hoveredManipulators","_grabbedManipulators","_draggedManipulators","_stopDrag","_revertToActiveTool","_cursor","_intersect","forEachTool","_findToolAndManipulatorByKey","interactive","grabbable","grabbableForEvent","grabbing","dragging","_ungrabManipulatorBeforeDragging","activeTool","setActiveTool","events","_handlePointerEnd","_findManipulatorByKey","width","height","selectionManagementDisabled","manipulators","selected","manipulatorSelectionChanged","selectable","_updateCursor","findById","manipulatorId","creatingTool","cursor","_cursorFromMap","hovering","intersect","_updateHoveredStateForPointerAtScreenPosition","tools","_forEachTool","items","_handleInputEvent","item","created","clearPointers","_refreshToolWatchers","_removeIncompleteTools","setEditableFlag","_rejectCreatingTool","whenReady","attach","completed","forEachManipulator","onViewChange","elevationProvider","onElevationChange","detach","handleInputEvent","handleInputEventAfter","handleHoverEvent","removed","updateHoveredStateFromKnownPointers","rejectCreation","nonNullable","value","devices","enabledFocusMode","gamepad","enabled","mode","tiltDirection","velocityFactor","browserTouchPanEnabled","momentumEnabled","mouseWheelZoomEnabled","url","spatialReference","vcsWkid","serverType","heightModelInfo","f","capabilities","supportsZ","heightModel","_","_waitTask","_extentProjectController","_spatialReferenceCandidates","_extentCandidates","logDebugInformation","isSpatialReferenceDone","isTileInfoDone","isHeightModelInfoSearching","extent","latestVcsWkid","mapCollectionPaths","DefaultMapCollectionPaths","slice","tileInfo","_running","reset","_cancelLoading","_updateLayerChange","bind","_updateTileInfo","lastIndexOf","_ownerNameFromCollectionName","join","isFulfilled","collectionName","owner","loading","_update","_debugLog","_processMapCollections","_processSpatialReferenceSource","S","defaultSpatialReference","findIndex","equals","_findExtent","_projectExtentCandidate","isHeightModelInfoRequired","_processHeightModelInfoSource","_preloadMapCollections","_forAllMapCollectionSources","_updateWhen","isResolved","_ensureLoadedOwnersFromCollectionName","isRejected","_forEachSource","_getSupportedSpatialReferences","fullExtents","fullExtent","find","concat","projectGeometry","portalItem","supportedSpatialReferences","isSpatialReferenceSupported","isTileInfoRequired","loadStatus","info","JSON","stringify","toJSON","q","z","H","_userSpatialReference","animation","basemapView","defaultsFromMap","fatalError","graphics","navigating","magnifier","padding","left","top","right","bottom","spatialReferenceWarningDelay","timeExtent","scale","initialExtentRequired","renderContext","input","navigation","layerViewManager","refreshManager","resizing","viewEvents","persistableViewModels","_isValid","_readyCycleForced","_currentSpatialReference","views","toolViewManager","_teardown","_startup","addResolvingPromise","validate","_resetInitialViewPropertiesFromContent","warn","invalidate","_emitter","getDefaultHeightModelInfo","initialExtent","initialized","forceReadyCycle","getDefaultSpatialReference","clone","whenLayerView","createTool","autoTracked","nativeIndex","_detectedDeviceType","mapping","test","index","navigator","getGamepads","deviceType","String","RegExp","standard","spacemouse","unknown","refreshDebounced","doRefresh"],"mappings":"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","file":"5287.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n,r){for(const[o,t]of n)if(r(t,o))return!0;return!1}function r(n,r){for(const[o,t]of n)if(r(t,o))return t;return null}export{r as findInMap,n as someMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import o from\"../core/Accessor.js\";import t from\"../core/Collection.js\";import{init as i}from\"../core/watchUtils.js\";let p=class extends o{constructor(e){super(e),this.view=null,this.baseLayerViews=new t,this.referenceLayerViews=new t,this._loadingHandle=i(this,\"view.map.basemap\",(e=>{e&&e.load().catch((()=>{}))}))}destroy(){this._set(\"view\",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){return(!this.view||!this.view.suspended)&&!(!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}};e([s({constructOnly:!0})],p.prototype,\"view\",void 0),e([s({readOnly:!0})],p.prototype,\"baseLayerViews\",void 0),e([s({readOnly:!0})],p.prototype,\"referenceLayerViews\",void 0),e([s({readOnly:!0,dependsOn:[\"view.suspended\"]})],p.prototype,\"suspended\",null),e([s({type:Boolean,readOnly:!0,dependsOn:[\"view.suspended\",\"view.map.basemap.loaded\"]})],p.prototype,\"updating\",null),p=e([r(\"esri.views.BasemapView\")],p);export{p as BasemapView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isNone as r,isSome as i,removeMaybe as t}from\"../core/maybe.js\";import a from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{createDeferred as n,reject as h,isAbortError as y,createAbortController as p,onAbort as w,throwIfAborted as c}from\"../core/promiseUtils.js\";import{schedule as d}from\"../core/scheduling.js\";import m from\"../core/CollectionFlattener.js\";import{on as u,init as f}from\"../core/watchUtils.js\";import{WatchUpdatingTracking as v}from\"./support/WatchUpdatingTracking.js\";import{HandleOwner as _}from\"../core/HandleOwner.js\";import{someMap as V}from\"../core/MapUtils.js\";const g=a.getLogger(\"esri.views.LayerViewManager\");class L{constructor(e,r,i){this.layer=e,this.view=r,this.layerViewImporter=i,this._controller=p(),this._deferred=n(),this._started=!1,this.done=!1,w(this._controller.signal,(()=>{const r=new l(\"cancelled:layerview-create\",\"layerview creation cancelled\",{layer:e});this._deferred.reject(r)}))}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:e}=this;if(!e)return;const{layer:r,view:i}=this;r.emit(\"layerview-destroy\",{view:i,layerView:e}),i.emit(\"layerview-destroy\",{layer:r,layerView:e}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:e},layer:r,view:i}=this;this._map=i.map;try{var a,s;let o,n;if(await r.load({signal:e}),\"prefetchResources\"in r&&await r.prefetchResources({signal:e}),r.createLayerView)o=await r.createLayerView(i,{signal:e});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new l(\"layer:view-not-supported\",\"No layerview implementation was found\");const t=await this.layerViewImporter.importLayerView(r);c(e),o=\"default\"in t?new t.default({layer:r,view:i}):new t({layer:r,view:i})}const h=()=>{n=t(n),o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};n=w(e,h),c(e);try{await o.when()}catch(e){throw h(),e}if(!(null==(a=this._map)||null==(s=a.allLayers)?void 0:s.includes(r)))return h(),void this._deferred.reject(new l(\"view:no-layerview-for-layer\",\"The layer has been removed from the map\",{layer:r}));this.layerView=o,r.emit(\"layerview-create\",{view:i,layerView:o}),i.emit(\"layerview-create\",{layer:r,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(e){r.emit(\"layerview-create-error\",{view:i,error:e}),i.emit(\"layerview-create-error\",{layer:r,error:e}),this.done=!0,this._deferred.reject(new l(\"layerview:create-error\",\"layerview creation failed\",{layer:r,error:e}))}}}let M=class extends _{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new v,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var e;const r=null==(e=this.view.map)?void 0:e.allLayers;if(r)for(const e of r)this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e)},this._reschedule=()=>(r(this._workPromise)&&(this._workPromise=n()),this.handles.remove(\"reschedule\"),this.handles.add(d(this._doWork),\"reschedule\"),this._workPromise.promise),this._doWork=()=>{var e,i,t;const a=this.view.map;if(this._map!==a&&(this.clear(),this._map=a),r(this._workPromise))return void this.notifyChange(\"updating\");this.handles.remove(\"reschedule\"),this.handles.remove(\"collection-change\");const s=new m({root:this,rootCollectionNames:this._rootCollectionNames,getChildrenFunction:e=>e.layers});if(!s)return this._workPromise.resolve(),void(this._workPromise=null);for(const e of s)this._createLayerView(e);this._refreshCollections();for(const[e,r]of this._layerLayerViewInfoMap)s.includes(e)||(this._layerLayerViewInfoMap.delete(r.layer),r.destroy());const o=s.filter((e=>\"group\"===e.type)).map((e=>e.layers)),l=[null==a||null==(e=a.ground)?void 0:e.layers,null==a||null==(i=a.basemap)?void 0:i.baseLayers,null==a||null==(t=a.basemap)?void 0:t.referenceLayers,null==a?void 0:a.layers,...o].filter((e=>!!e));this.handles.add(l.map((e=>this._watchUpdatingTracking.addOnCollectionChange(e,this._reschedule))),\"collection-change\"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([u(this,\"view.map.allLayers\",\"change\",this._preloadLayerViewModules,this._preloadLayerViewModules),f(this.view,[\"map.basemap\",\"map.ground\",\"map.layers\",\"ready\"],this._reschedule,!0)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const e=[[\"view.map.basemap.baseLayers\",\"view.basemapView.baseLayerViews\"],[\"view.map.layers\",\"view.layerViews\"],[\"view.map.basemap.referenceLayers\",\"view.basemapView.referenceLayerViews\"]];return this.supportsGround&&e.push([\"view.map.ground.layers\",\"view.groundView.layerViews\"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return!(!i(this._workPromise)&&!this._watchUpdatingTracking.updating)||V(this._layerLayerViewInfoMap,(e=>!e.done))}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){return await this._reschedule(),this._layerLayerViewInfoMap.has(e)?this._layerLayerViewInfoMap.get(e).promise:h(new l(\"view:no-layerview-for-layer\",\"No layerview has been found for the layer\",{layer:e}))}_refreshCollections(){for(const[e,r]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(r),this.view);this.notifyChange(\"updating\")}_populateLayerViewsOwners(e,r,i){if(!e||!r)return void(r&&r.removeAll());let t=0;for(const a of e){const e=this._layerLayerViewInfoMap.get(a);if(!e||!e.layerView)continue;const s=e.layerView;s.layer=a,s.parent=i,r.getItemAt(t)!==s&&r.splice(t,0,s),a.layers&&this._populateLayerViewsOwners(a.layers,s.layerViews,s),t+=1}t<r.length&&r.splice(t,r.length)}_createLayerView(e){if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),void this.notifyChange(\"updating\");e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const r=new L(e,this.view,this.layerViewImporter);r.promise.then((()=>this._refreshCollections()),(r=>{var i,t;r&&(y(r)||\"cancelled:layerview-create\"===r.name)||g.error(`Failed to create layerview for layer title:'${null!=(i=e.title)?i:\"no title\"}', id:'${null!=(t=e.id)?t:\"no id\"}' of type '${e.type}'.`,{layer:e,error:r});this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,r),this.view.ready&&r.start(),this.notifyChange(\"updating\")}};e([s()],M.prototype,\"_workPromise\",void 0),e([s({readOnly:!0})],M.prototype,\"_watchUpdatingTracking\",void 0),e([s({dependsOn:[\"supportsGround\"],readOnly:!0})],M.prototype,\"_layersToLayerViews\",null),e([s({dependsOn:[\"_layersToLayerViews\"],readOnly:!0})],M.prototype,\"_rootCollectionNames\",null),e([s()],M.prototype,\"layerViewImporter\",void 0),e([s()],M.prototype,\"supportsGround\",void 0),e([s({readOnly:!0,dependsOn:[\"_workPromise\",\"_watchUpdatingTracking.updating\"]})],M.prototype,\"updating\",null),e([s({constructOnly:!0})],M.prototype,\"view\",void 0),M=e([o(\"esri.views.LayerViewManager\")],M);var I=M;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import s from\"../core/Accessor.js\";let r=class extends s{constructor(o){super(o),this.factor=1.5,this.offsetX=0,this.offsetY=0,this.position=null,this.size=120,this.mask=null,this.maskEnabled=!0,this.overlay=null,this.overlayEnabled=!0,this.visible=!1}get version(){return this.factor,this.offsetX,this.offsetY,this.position,this.visible,this.size,this.mask,this.maskEnabled,this.overlay,this.overlayEnabled,(this._get(\"version\")||0)+1}};o([e({type:Number})],r.prototype,\"factor\",void 0),o([e({type:Number})],r.prototype,\"offsetX\",void 0),o([e({type:Number})],r.prototype,\"offsetY\",void 0),o([e()],r.prototype,\"position\",void 0),o([e({type:Number,range:{min:0}})],r.prototype,\"size\",void 0),o([e()],r.prototype,\"mask\",void 0),o([e()],r.prototype,\"maskEnabled\",void 0),o([e()],r.prototype,\"overlay\",void 0),o([e()],r.prototype,\"overlayEnabled\",void 0),o([e({readOnly:!0,dependsOn:[\"factor\",\"offsetX\",\"offsetY\",\"position\",\"visible\",\"mask\",\"overlay\",\"maskEnabled\",\"overlayEnabled\",\"size\"]})],r.prototype,\"version\",null),o([e({type:Boolean})],r.prototype,\"visible\",void 0),r=o([t(\"esri.views.Magnifier\")],r);var i=r;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import s from\"../core/Accessor.js\";import i from\"../core/Handles.js\";import{isRefreshableLayerView as a}from\"./layers/RefreshableLayerView.js\";let n=class extends s{constructor(){super(...arguments),this._handles=new i,this._currentTick=0}initialize(){this._handles.add([this.view.allLayerViews.on(\"after-changes\",(()=>{this.notifyChange(\"tickInterval\"),this._handles.remove(\"layerViewsUpdating\"),this._handles.add(this._getLayerViewHandles(),\"layerViewsUpdating\")})),this.watch(\"tickInterval\",(()=>this._restartTicking())),this.watch(\"view.ready\",(()=>this._restartTicking()))]),this._restartTicking()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)}get tickInterval(){const e=this.view.allLayerViews.filter((e=>a(e)));return this._getCommonInterval(e)}_restartTicking(){this._currentTick=0,this._intervalID&&clearInterval(this._intervalID),this.get(\"view.ready\")&&this.tickInterval&&(this._intervalID=setInterval((()=>{const e=Date.now();this._currentTick+=this.tickInterval,this.view.allLayerViews.forEach((r=>{if(a(r)){const t=Math.round(6e4*r.refreshInterval),s=this._currentTick%t==0,i=e-r.refreshTimestamp<5400;t&&s&&!i&&r.refresh(e)}}))}),this.tickInterval))}_getLayerViewHandles(){const e=[],r=()=>this.notifyChange(\"tickInterval\");return this.view.allLayerViews.forEach((t=>{a(t)&&t.layer&&e.push(t.watch(\"refreshInterval\",r),t.layer.on(\"refresh\",(()=>{t.refresh(Date.now())})))})),e}_getCommonInterval(e){const r=(e,t)=>isNaN(e)||isNaN(t)?0:t<=0?e:r(t,e%t);return e.toArray().reduce(((e,t)=>r(Math.round(6e4*t.refreshInterval),e)),0)}};e([r()],n.prototype,\"view\",void 0),e([r({readOnly:!0})],n.prototype,\"tickInterval\",null),n=e([t(\"esri.views.RefreshManager\")],n);var o=n;export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{rad2deg as t}from\"../../core/mathUtils.js\";import{createScreenPoint as e}from\"../../core/screenUtils.js\";import{InputHandler as a}from\"./InputHandler.js\";import{ViewEventPriorities as n}from\"./InputManager.js\";const r=[\"click\",\"double-click\",\"immediate-click\",\"immediate-double-click\",\"hold\",\"drag\",\"key-down\",\"key-up\",\"pointer-down\",\"pointer-move\",\"pointer-up\",\"pointer-drag\",\"mouse-wheel\",\"pointer-enter\",\"pointer-leave\",\"gamepad\",\"focus\",\"blur\"],i={};function o(t){return!!i[t]}r.forEach((t=>{i[t]=!0}));class s{constructor(t){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this.handlers.forEach((({handler:t,priority:e},a)=>this.inputManager.installHandlers(a,[t],e)))}disconnect(){this.inputManager&&this.handlers.forEach(((t,e)=>this.inputManager.uninstallHandlers(e))),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(t,e,a,r){const i=Array.isArray(t)?t:t.split(\",\");if(!function(t){for(const e of t)if(!o(e))return!1;return!0}(i))return i.some(o)&&console.error(\"Error: registering input events and other events on the view at the same time is not supported.\"),null;let s,c;Array.isArray(e)?c=e:(s=e,c=[]),\"function\"==typeof a?s=a:r=a,r=null!=r?r:n.DEFAULT;const l=this.createUniqueGroupName(),u=new p(this.view,i,c,s);this.handlers.set(l,{handler:u,priority:r});for(const t of i){const e=this.handlerCounts.get(t)||0;this.handlerCounts.set(t,e+1)}return this.inputManager&&this.inputManager.installHandlers(l,[u],r),{remove:()=>this.removeHandler(l,i)}}hasHandler(t){return!!this.handlerCounts.get(t)}removeHandler(t,e){if(this.handlers.has(t)){this.handlers.delete(t);for(const t of e){const e=this.handlerCounts.get(t);void 0===e?console.error(\"Trying to remove handler for event that has no handlers registered: \",t):1===e?this.handlerCounts.delete(t):this.handlerCounts.set(t,e-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class p extends a{constructor(t,e,a,n){super(!0),this.view=t;for(const t of e)switch(t){case\"click\":this.registerIncoming(\"click\",a,(t=>n(this.wrapClick(t))));break;case\"double-click\":this.registerIncoming(\"double-click\",a,(t=>n(this.wrapDoubleClick(t))));break;case\"immediate-click\":this.registerIncoming(\"immediate-click\",a,(t=>n(this.wrapImmediateClick(t))));break;case\"immediate-double-click\":this.registerIncoming(\"immediate-double-click\",a,(t=>n(this.wrapImmediateDoubleClick(t))));break;case\"hold\":this.registerIncoming(\"hold\",a,(t=>n(this.wrapHold(t))));break;case\"drag\":this.registerIncoming(\"drag\",a,(t=>{const e=this.wrapDrag(t);e&&n(e)}));break;case\"key-down\":this.registerIncoming(\"key-down\",a,(t=>n(this.wrapKeyDown(t))));break;case\"key-up\":this.registerIncoming(\"key-up\",a,(t=>n(this.wrapKeyUp(t))));break;case\"pointer-down\":this.registerIncoming(\"pointer-down\",a,(t=>n(this.wrapPointer(t,\"pointer-down\"))));break;case\"pointer-move\":this.registerIncoming(\"pointer-move\",a,(t=>n(this.wrapPointer(t,\"pointer-move\"))));break;case\"pointer-up\":this.registerIncoming(\"pointer-up\",a,(t=>n(this.wrapPointer(t,\"pointer-up\"))));break;case\"pointer-drag\":this.registerIncoming(\"pointer-drag\",a,(t=>n(this.wrapPointerDrag(t))));break;case\"mouse-wheel\":this.registerIncoming(\"mouse-wheel\",a,(t=>n(this.wrapMouseWheel(t))));break;case\"pointer-enter\":this.registerIncoming(\"pointer-enter\",a,(t=>n(this.wrapPointer(t,\"pointer-enter\"))));break;case\"pointer-leave\":this.registerIncoming(\"pointer-leave\",a,(t=>n(this.wrapPointer(t,\"pointer-leave\"))));break;case\"gamepad\":this.registerIncoming(\"gamepad\",a,(t=>{n(this.wrapGamepad(t))}));break;case\"focus\":this.registerIncoming(\"focus\",a,(t=>{n(this.wrapFocus(t))}));break;case\"blur\":this.registerIncoming(\"blur\",a,(t=>{n(this.wrapBlur(t))}))}}wrapFocus(t){return{type:\"focus\",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapBlur(t){return{type:\"blur\",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapClick(t){const{pointerType:a,button:n,buttons:r,x:i,y:o,native:s,eventId:p}=t.data,{cancelable:c,timestamp:l}=t;return{type:\"click\",pointerType:a,button:n,buttons:r,x:i,y:o,native:s,timestamp:l,screenPoint:e(i,o),mapPoint:this.getMapPoint(i,o),eventId:p,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapDoubleClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,{cancelable:p,timestamp:c}=t;return{type:\"double-click\",pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:c,mapPoint:this.getMapPoint(r,i),eventId:s,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapImmediateClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,p=o.pointerId,{cancelable:c,timestamp:l}=t;return{type:\"immediate-click\",pointerId:p,pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:l,mapPoint:this.getMapPoint(r,i),eventId:s,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapImmediateDoubleClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,p=o.pointerId,{cancelable:c,timestamp:l}=t;return{type:\"immediate-double-click\",pointerId:p,pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:l,mapPoint:this.getMapPoint(r,i),eventId:s,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapHold(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o}=t.data,{cancelable:s,timestamp:p}=t;return{type:\"hold\",pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:p,mapPoint:this.getMapPoint(r,i),cancelable:s,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}getMapPoint(t,a){return this.view.toMap(e(t,a),{exclude:[]})}wrapDrag(e){const a=e.data,{x:n,y:r}=a.center,{action:i,pointerType:o,button:s}=a;if(\"start\"===i&&(this.latestDragStart=a),!this.latestDragStart)return;const p=a.pointer.native,c=a.buttons,{cancelable:l,timestamp:u}=e,m={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return\"end\"===i&&(this.latestDragStart=void 0),{type:\"drag\",action:i,x:n,y:r,origin:m,pointerType:o,button:s,buttons:c,radius:a.radius,angle:t(a.angle),native:p,timestamp:u,cancelable:l,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}wrapKeyDown(t){const{key:e,repeat:a,native:n}=t.data,{cancelable:r,timestamp:i}=t;return{type:\"key-down\",key:e,repeat:a,native:n,timestamp:i,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapKeyUp(t){const{key:e,native:a}=t.data,{cancelable:n,timestamp:r}=t;return{type:\"key-up\",key:e,native:a,timestamp:r,cancelable:n,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapPointer(t,e){const{x:a,y:n,button:r,buttons:i,native:o,eventId:s}=t.data,p=o.pointerId,c=o.pointerType,{cancelable:l,timestamp:u}=t;return{type:e,x:a,y:n,pointerId:p,pointerType:c,button:r,buttons:i,native:o,timestamp:u,eventId:s,cancelable:l,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapPointerDrag(t){const{x:e,y:a,buttons:n,native:r,eventId:i}=t.data.currentEvent,{button:o}=t.data.startEvent,s=t.data.startEvent.native.pointerId,p=t.data.startEvent.native.pointerType,c=t.data.action,l={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:u,timestamp:m}=t;return{type:\"pointer-drag\",x:e,y:a,pointerId:s,pointerType:p,button:o,buttons:n,action:c,origin:l,native:r,timestamp:m,eventId:i,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapMouseWheel(t){const{cancelable:e,data:a,timestamp:n}=t,{x:r,y:i,deltaY:o,native:s}=a;return{type:\"mouse-wheel\",x:r,y:i,deltaY:o,native:s,timestamp:n,cancelable:e,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapGamepad(t){const{action:e,state:a,device:n}=t.data,{cancelable:r,timestamp:i}=t,{buttons:o,axes:s}=a;return{type:\"gamepad\",device:n,timestamp:i,action:e,buttons:o,axes:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}}export{s as ViewEvents,r as eventTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e,applySome as i,unwrap as o}from\"../../core/maybe.js\";import{clamp as r}from\"../../core/mathUtils.js\";import{createScreenPoint as n}from\"../../core/screenUtils.js\";import{someMap as a}from\"../../core/MapUtils.js\";import{areToolManipulatorsEditable as s}from\"./interactiveToolUtils.js\";import{createScreenPointFromEvent as l}from\"../support/screenUtils.js\";function p(t){return\"mouse\"===t}function c(t){return\"mouse\"!==t.pointerType||0===t.button}function u(t){return!!t.native.shiftKey}const d={manipulator:null,tool:null};export default class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToActiveTool=null,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(n,a){const s=()=>n.stopPropagation();switch(n.type){case\"pointer-move\":p(n.pointerType)&&this._pointerLocations.set(n.pointerId,{x:n.x,y:n.y,pointerType:n.pointerType});break;case\"drag\":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(s(),\"end\"===n.action&&(this._stopDrag=!1));break;case\"pointer-down\":{if(!c(n)||u(n))break;const o=l(n),r=this._intersect(o,n.pointerType,a.forEachTool);if(t(r))break;const p=this._findToolAndManipulatorByKey(r,a.forEachTool,d),h=i(p,(t=>t.manipulator)),g=i(p,(t=>t.tool));!(e(h)&&e(g)&&h.interactive)||h.grabbable&&h.grabbableForEvent(n)||!h.grabbing||h.dragging||this._ungrabManipulatorBeforeDragging(h,g,n),e(h)&&h.interactive&&h.grabbable&&h.grabbableForEvent(n)&&!h.grabbing&&(this._grabbedManipulators.set(n.pointerId,{key:r,start:o}),1===this._grabbedManipulators.size&&(this._revertToActiveTool=a.activeTool,a.setActiveTool(r.tool)),h.grabbing=!0,h.events.emit(\"grab-changed\",{action:\"start\",screenPoint:o}),s());break}case\"pointer-up\":this._handlePointerEnd(n,a);break;case\"pointer-drag\":{if(!c(n))break;const e=this._grabbedManipulators.get(n.pointerId),p=this._draggedManipulators.get(n.pointerId),u=i(e||p,(({key:t})=>t)),d=this._findManipulatorByKey(u,a.forEachTool);if(t(d))break;const h=l(n);h.x=r(h.x,0,a.view.width),h.y=r(h.y,0,a.view.height);const g=o(e||p).start;switch(n.action){case\"start\":case\"update\":\"update\"!==n.action&&1!==this._grabbedManipulators.size||(d.dragging=!0,p?d.events.emit(\"drag\",{action:\"update\",start:g,screenPoint:h}):d.events.emit(\"drag\",{action:\"start\",start:g,screenPoint:h,pointerType:n.pointerType}),this._draggedManipulators.set(n.pointerId,{key:o(u),start:g}));break;case\"end\":d.dragging=!1,p&&d.events.emit(\"drag\",{action:\"end\",start:g,screenPoint:h}),this._draggedManipulators.delete(n.pointerId),this._handlePointerEnd(n,a)}s();break}case\"immediate-click\":{const i=l(n),o=this._intersect(i,n.pointerType,a.forEachTool),r=this._findToolAndManipulatorByKey(o,a.forEachTool,d);if(u(n)||a.forEachTool((t=>{if((!e(r)||r.tool!==t||!t.selectionManagementDisabled)&&t.manipulators){let e=!1;t.manipulators.forEach((({manipulator:t})=>{t.selected&&(t.selected=!1,e=!0)})),e&&t.manipulatorSelectionChanged&&t.manipulatorSelectionChanged()}})),t(r))break;const{manipulator:p,tool:c}=r;if(!p.interactive)break;p.selectable&&!c.selectionManagementDisabled&&(p.selected=!p.selected,c.manipulatorSelectionChanged&&c.manipulatorSelectionChanged());const h=n.native.shiftKey;p.events.emit(\"immediate-click\",{screenPoint:i,button:n.button,pointerType:n.pointerType,shiftKey:h,stopPropagation:s});break}case\"click\":{const e=l(n),i=this._intersect(e,n.pointerType,a.forEachTool),o=this._findManipulatorByKey(i,a.forEachTool);if(t(o)||!o.interactive)break;const r=n.native.shiftKey;o.events.emit(n.type,{screenPoint:e,button:n.button,pointerType:n.pointerType,shiftKey:r}),s();break}case\"double-click\":{const e=l(n),i=this._intersect(e,n.pointerType,a.forEachTool),o=this._findManipulatorByKey(i,a.forEachTool);if(t(o)||!o.interactive)break;const r=n.native.shiftKey;o.events.emit(\"double-click\",{screenPoint:e,button:n.button,pointerType:n.pointerType,shiftKey:r,stopPropagation:s});break}case\"immediate-double-click\":{const e=l(n),i=this._intersect(e,n.pointerType,a.forEachTool),o=this._findManipulatorByKey(i,a.forEachTool);if(t(o)||!o.interactive)break;const r=n.native.shiftKey;o.events.emit(\"immediate-double-click\",{screenPoint:e,button:n.button,pointerType:n.pointerType,shiftKey:r,stopPropagation:s});break}}this._updateCursor(a.forEachTool)}_ungrabManipulatorBeforeDragging(t,e,i){t.grabbing=!1,t.events.emit(\"grab-changed\",{action:\"end\",screenPoint:l(i)}),this._grabbedManipulators.forEach((({key:i},o)=>{i.tool===e&&e.manipulators.findById(i.manipulatorId)===t&&this._grabbedManipulators.delete(o)}))}_handlePointerEnd(t,r){const n=i(this._grabbedManipulators.get(t.pointerId),(({key:t})=>t)),a=this._findManipulatorByKey(n,r.forEachTool);if(e(a)&&!a.dragging){const i=e(r.creatingTool)&&r.creatingTool===o(n).tool;1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||i||(r.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),a.grabbing&&(a.grabbing=!1,a.events.emit(\"grab-changed\",{action:\"end\",screenPoint:l(t)})),this._grabbedManipulators.delete(t.pointerId)}}_cursorFromMap(t,i){let o=null;return a(t,(({key:t})=>{const r=this._findManipulatorByKey(t,i);return!!(e(r)&&r.interactive&&\"cursor\"in r&&r.cursor)&&(o=r.cursor,!0)})),o}_updateCursor(t){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,t)||\"grabbing\":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,t)||\"pointer\":this._cursor=null}clearPointers(i,o,r=!0,n){const a=e=>e.tool===i&&(t(n)||e.manipulatorId===n);this._grabbedManipulators.forEach((({key:t},i)=>{if(a(t)){this._grabbedManipulators.delete(i);const r=this._findManipulatorByKey(t,o);e(r)&&(r.grabbing=!1,r.events.emit(\"grab-changed\",{action:\"end\",screenPoint:null}))}})),this._draggedManipulators.forEach((({key:t},i)=>{if(a(t)){this._draggedManipulators.delete(i);const r=this._findManipulatorByKey(t,o);e(r)&&(r.dragging=!1,r.events.emit(\"drag\",{action:\"cancel\"}))}})),r&&this._hoveredManipulators.forEach((({key:t},i)=>{if(a(t)){this._hoveredManipulators.delete(i);const r=this._findManipulatorByKey(t,o);e(r)&&(r.hovering=!1)}})),this._updateCursor(o)}_intersect(e,i,o){let r=null;return o((o=>{if(null==o.manipulators||!s(o))return!1;const n=o.manipulators.intersect(e,i);return!t(n)&&(r={manipulatorId:n,tool:o},!0)})),r}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach(((e,i)=>{this._updateHoveredStateForPointerAtScreenPosition(n(e.x,e.y),i,e.pointerType,t)}))}handleHoverEvent(t,e){\"pointer-up\"!==t.type&&\"immediate-click\"!==t.type&&\"pointer-move\"!==t.type||!p(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(l(t),t.pointerId,t.pointerType,e)}_updateHoveredStateForPointerAtScreenPosition(t,r,n,a){const s=this._intersect(t,n,a);let l=this._findManipulatorByKey(s,a);const p=i(this._hoveredManipulators.get(r),(({key:t})=>t)),c=this._findManipulatorByKey(p,a);e(l)&&!l.interactive&&(l=null),c!==l&&(e(c)&&(c.hovering=!1),e(l)?(l.hovering=!0,this._hoveredManipulators.set(r,{key:o(s)})):this._hoveredManipulators.delete(r),this._updateCursor(a))}_findManipulatorByKey(t,e){return this._findToolAndManipulatorByKey(t,e,d)?d.manipulator:null}_findToolAndManipulatorByKey(i,o,r){return t(i)?null:(r.tool=null,r.manipulator=null,o((t=>{if(t!==i.tool||null==t.manipulators||!s(t))return!1;const o=t.manipulators.findById(i.manipulatorId);return!!e(o)&&(r.manipulator=o,r.tool=t,!0)})),r.manipulator?r:null)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as o,isNone as e}from\"../core/maybe.js\";import i from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isAborted as a,createAbortError as l,onAbort as n}from\"../core/promiseUtils.js\";import h from\"../core/Accessor.js\";import c from\"../core/Collection.js\";import p from\"../core/Handles.js\";import{whenOnce as u,watch as d}from\"../core/watchUtils.js\";import{ViewEventPriorities as v}from\"./input/InputManager.js\";import{eventTypes as m}from\"./input/ViewEvents.js\";import{newToolCollection as _,swap as T,areToolManipulatorsEditable as f,evaluateToolConstructorArguments as E,setActive as w}from\"./interactive/interactiveToolUtils.js\";import g from\"./interactive/ToolViewManagerManipulatorState.js\";const y=i.getLogger(\"esri.views.ToolViewManager\");let j=class extends h{constructor(t){super(t),this._handles=new p,this._creatingTool=null,this._manipulatorState=new g,this.tools=_(),this.cursor=null,this._forEachTool=t=>{if(!o(this._creatingTool)||!t(this._creatingTool))for(const o of this.tools.items)if(t(o))return}}initialize(){this._handles.add([this.view.on(m,(t=>{this._handleInputEvent(t)}),v.TOOL),this.tools.on(\"before-add\",(t=>{const o=t.item;null==o||this.tools.includes(o)?t.preventDefault():null==o.created||o.created||(y.error(\"tools\",\"Tool can not be added to view before it has been created\"),t.preventDefault())})),this.tools.on(\"before-remove\",(({item:t})=>{this._manipulatorState.clearPointers(t,this._forEachTool)})),this.tools.on(\"change\",(()=>{this._refreshToolWatchers()}))])}destroy(){this._forEachTool((t=>t.destroy())),this._handles.destroy(),this._handles=null}set activeTool(t){!o(t)||this.view.ready?(T(this,t,(o=>{this._set(\"activeTool\",o),this._removeIncompleteTools(t),this._forEachTool((t=>{const o=e(this.activeTool)||t===this.activeTool;t.setEditableFlag&&t.setEditableFlag(1,o);const i=f(t);!e(this.activeTool)&&i||this._manipulatorState.clearPointers(t,this._forEachTool,!i)})),this._updateCursor()})),this._creatingTool!==t&&this._rejectCreatingTool()):y.error(\"#activeTool=\",\"cannot set active tool while view is not ready\")}async createTool(t,e,i){await this.view.whenReady();const r=\"Tool creation was interrupted by another tool being created\";if(a(i))throw l(r);const s=new t({...E(e),view:this.view}),c=n(i,(()=>this.activeTool=null));return this._rejectCreatingTool(r),this._creatingTool=s,s.attach(),this._refreshToolWatchers(),w(s,!0),await s.when(),o(c)&&c.remove(),this._creatingTool=null,this.tools.add(s),s instanceof h&&null!=s.completed&&u(s,\"completed\").then((()=>{w(s,!1)})),s}attach(){this._forEachTool((t=>t.attach())),\"3d\"===this.view.type?this._handles.add([this.view.state.watch(\"camera\",(()=>{this.forEachManipulator((t=>{null!=t.onViewChange&&t.onViewChange()}))})),this.view.elevationProvider.on(\"elevation-change\",(t=>{this.forEachManipulator((o=>{null!=o.onElevationChange&&o.onElevationChange(t)}))}))],\"manipulators\"):this._handles.add(this.view.watch(\"extent\",(()=>{this.forEachManipulator((t=>{null!=t.onViewChange&&t.onViewChange()}))})))}detach(){this.activeTool=null,this._forEachTool((t=>{t.detach(),t.destroy()})),this.tools.removeAll(),this._handles.remove(\"manipulators\")}forEachManipulator(t){this._forEachTool((o=>{o.manipulators&&o.manipulators.forEach((({manipulator:e})=>t(e,o)))}))}_handleInputEvent(t){let e=!1;const i={...t,stopPropagation:()=>{e=!0,t.stopPropagation()}};o(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool((t=>{!e&&!1!==t.visible&&t.handleInputEvent&&t.handleInputEvent(i)})),!e&&\"key-down\"===t.type&&\"Escape\"===t.key&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},creatingTool:this._creatingTool,view:this.view}),!e&&o(this.activeTool)&&this.activeTool.handleInputEventAfter&&this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this._handles.remove(\"tools\"),this._forEachTool((t=>{if(t instanceof h){const o=d(t,[\"cursor\",\"visible\",\"editable\"],(()=>{f(t)||this._manipulatorState.clearPointers(t,this._forEachTool),this._updateCursor()}));this._handles.add(o,\"tools\")}t.manipulators&&this._handles.add(t.manipulators.on(\"change\",(o=>{o.removed.forEach((({id:o})=>{this._manipulatorState.clearPointers(t,this._forEachTool,!0,o)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})),\"tools\")})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let t=null;this._forEachTool((o=>null!=o.cursor&&!1!==o.visible&&(t=o.cursor,!0))),t||(t=this._manipulatorState.cursor),this._get(\"cursor\")!==t&&this._set(\"cursor\",t)}_rejectCreatingTool(t){const o=this._creatingTool;e(o)||(this._manipulatorState.clearPointers(o,this._forEachTool),o.rejectCreation&&o.rejectCreation(l(t)),o.destroy(),this._creatingTool=null,this._refreshToolWatchers())}_removeIncompleteTools(t){this.tools.filter((o=>(e(t)||o!==t)&&null!=o.completed&&!o.completed)).forEach((t=>{this.tools.remove(t)}))}};t([r({constructOnly:!0,nonNullable:!0})],j.prototype,\"view\",void 0),t([r({value:null})],j.prototype,\"activeTool\",null),t([r({readOnly:!0,type:c})],j.prototype,\"tools\",void 0),t([r({readOnly:!0})],j.prototype,\"cursor\",void 0),j=t([s(\"esri.views.ToolViewManager\")],j);var C=j;export default C;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import p from\"./GamepadInputDevice.js\";let c=class extends s{constructor(...o){super(...o),this.devices=new t,this.enabledFocusMode=\"document\"}};o([e({type:t.ofType(p),readOnly:!0})],c.prototype,\"devices\",void 0),o([e({type:[\"document\",\"view\",\"none\"]})],c.prototype,\"enabledFocusMode\",void 0),c=o([r(\"esri.views.input.gamepad.GamepadSettings\")],c);var i=c;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import e from\"../../core/Accessor.js\";import t from\"./gamepad/GamepadSettings.js\";let p=class extends e{constructor(){super(...arguments),this.gamepad=new t}};r([o({readOnly:!0})],p.prototype,\"gamepad\",void 0),p=r([s(\"esri.views.input.Input\")],p);var c=p;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../core/Accessor.js\";import p from\"../../input/gamepad/GamepadInputDevice.js\";let s=class extends t{constructor(o){super(o),this.enabled=!0,this.device=null,this.mode=\"pan\",this.tiltDirection=\"forward-down\",this.velocityFactor=1}};o([e({type:Boolean,nonNullable:!0})],s.prototype,\"enabled\",void 0),o([e({type:p})],s.prototype,\"device\",void 0),o([e({type:[\"pan\",\"zoom\"],nonNullable:!0})],s.prototype,\"mode\",void 0),o([e({type:[\"forward-down\",\"forward-up\"],nonNullable:!0})],s.prototype,\"tiltDirection\",void 0),o([e({type:Number,nonNullable:!0})],s.prototype,\"velocityFactor\",void 0),s=o([r(\"esri.views.navigation.gamepad.GamepadSettings\")],s);var i=s;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import s from\"../../core/Accessor.js\";import t from\"./gamepad/GamepadSettings.js\";let p=class extends s{constructor(o){super(o),this.browserTouchPanEnabled=!0,this.gamepad=new t,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};o([e({type:Boolean})],p.prototype,\"browserTouchPanEnabled\",void 0),o([e({type:t,nonNullable:!0})],p.prototype,\"gamepad\",void 0),o([e({type:Boolean})],p.prototype,\"momentumEnabled\",void 0),o([e({type:Boolean})],p.prototype,\"mouseWheelZoomEnabled\",void 0),p=o([r(\"esri.views.navigation.Navigation\")],p);var a=p;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isSome as e}from\"../../core/maybe.js\";import t from\"../../core/Error.js\";import{parse as n}from\"../../layers/support/arcgisLayerUrl.js\";import i from\"../HeightModelInfo.js\";function a(e,n){if(!e)return null;if(!s(e))return new t(\"webscene:unsupported-height-model-info\",\"The vertical coordinate system of the scene is not supported\",{heightModelInfo:e});const a=e.heightUnit,r=i.deriveUnitFromSR(e,n).heightUnit;return a!==r?new t(\"webscene:incompatible-height-unit\",`The vertical units of the scene (${a}) must match the horizontal units of the scene (${r})`,{verticalUnit:a,horizontalUnit:r}):null}function r(e,n,a){const r=o(e),c=n,l=function(e,t,n){if(!s(e)||!s(t))return 4;if(null==e||null==t)return 0;if(!n&&e.heightUnit!==t.heightUnit)return 1;if(e.heightModel!==t.heightModel)return 2;switch(e.heightModel){case\"gravity-related-height\":return 0;case\"ellipsoidal\":return e.vertCRS===t.vertCRS?0:3;default:return 4}}(r,c,a);{let n=null;if(r){const s=i.deriveUnitFromSR(r,e.spatialReference).heightUnit;a||s===r.heightUnit||(n=new t(\"layerview:unmatched-height-unit\",`The vertical units of the layer must match the horizontal units (${s})`,{horizontalUnit:s}))}if(!function(e){return\"heightModelInfo\"in e&&null!=e.heightModelInfo||null!=e.spatialReference||!h(e)}(e)||4===l||n)return new t(\"layerview:unsupported-height-model-info\",\"The vertical coordinate system of the layer is not supported\",{heightModelInfo:r,error:n})}{let e=null;switch(l){case 1:{const n=r.heightUnit||\"unknown\",i=c.heightUnit||\"unknown\";e=new t(\"layerview:incompatible-height-unit\",`The vertical units of the layer (${n}) must match the vertical units of the scene (${i})`,{layerUnit:n,sceneUnit:i});break}case 2:{const n=r.heightModel||\"unknown\",i=c.heightModel||\"unknown\";e=new t(\"layerview:incompatible-height-model\",`The height model of the layer (${n}) must match the height model of the scene (${i})`,{layerHeightModel:n,sceneHeightModel:i});break}case 3:{const n=r.vertCRS||\"unknown\",i=c.vertCRS||\"unknown\";e=new t(\"layerview:incompatible-vertical-datum\",`The vertical datum of the layer (${n}) must match the vertical datum of the scene (${i})`,{layerDatum:n,sceneDatum:i});break}}if(e)return new t(\"layerview:incompatible-height-model-info\",\"The vertical coordinate system of the layer is incompatible with the scene\",{layerHeightModelInfo:r,sceneHeightModelInfo:c,error:e})}return null}function s(e){return null==e||null!=e.heightModel&&null!=e.heightUnit}function o(t){const a=t.url&&n(t.url);return!(null==(t.spatialReference&&t.spatialReference.vcsWkid)&&e(a)&&\"ImageServer\"===a.serverType)&&c(t)&&t.heightModelInfo?t.heightModelInfo:h(t)?i.deriveUnitFromSR(f,t.spatialReference):null}function c(e){return\"heightModelInfo\"in e}function l(e){if(\"unknown\"===e.type||!(\"capabilities\"in e))return!1;switch(e.type){case\"csv\":case\"feature\":case\"geojson\":case\"ogc-feature\":return!0;case\"imagery\":case\"map-image\":case\"map-notes\":case\"tile\":case\"vector-tile\":case\"scene\":case null:default:return!1}}function h(e){return l(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):m(e)}function u(e){return null!=e.layers||m(e)||l(e)||c(e)}function m(e){switch(e.type){case\"building-scene\":case\"elevation\":case\"integrated-mesh\":case\"point-cloud\":case\"scene\":return!0;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"csv\":case\"geojson\":case\"feature\":case\"geo-rss\":case\"graphics\":case\"group\":case\"imagery\":case\"imagery-tile\":case\"kml\":case\"map-image\":case\"map-notes\":case\"ogc-feature\":case\"open-street-map\":case\"route\":case\"stream\":case\"tile\":case\"unknown\":case\"unsupported\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":case null:return!1}return!1}const f=new i({heightModel:\"gravity-related-height\"});export{o as deriveHeightModelInfoFromLayer,u as mayHaveHeightModelInfo,r as rejectLayerError,a as validateWebSceneError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{intersect as o}from\"../../core/arrayUtils.js\";import{createAbortController as n}from\"../../core/promiseUtils.js\";import a from\"../../core/Accessor.js\";import{canProject as l,project as r}from\"../../geometry/support/webMercatorUtils.js\";import d from\"../../core/Handles.js\";import{on as h,when as c}from\"../../core/watchUtils.js\";import{mayHaveHeightModelInfo as p,deriveHeightModelInfoFromLayer as u}from\"../../geometry/support/heightModelInfoUtils.js\";var f;const g=t.getLogger(\"esri.views.support.DefaultsFromMap\");let _=f=class extends a{constructor(){super(...arguments),this._handles=new d,this._waitTask=null,this._extentProjectController=null,this._spatialReferenceCandidates=null,this._extentCandidates=null,this.logDebugInformation=!1,this.isSpatialReferenceDone=!1,this.isTileInfoDone=!1,this.isHeightModelInfoSearching=!1,this.spatialReference=null,this.extent=null,this.heightModelInfo=null,this.vcsWkid=null,this.latestVcsWkid=null,this.mapCollectionPaths=f.DefaultMapCollectionPaths.slice(),this.tileInfo=null}initialize(){this.watch(\"mapCollectionPaths\",(()=>{this._running&&(this.reset(),this.start())}))}destroy(){this._set(\"view\",null),this._handles&&(this._handles.destroy(),this._handles=null),this._cancelLoading()}get _running(){return!!(this._handles&&this._handles.size>0)}reset(){this._handles.removeAll(),this._set(\"isSpatialReferenceDone\",!1),this._set(\"isTileInfoDone\",!1),this._set(\"isHeightModelInfoSearching\",!1),this._set(\"spatialReference\",null),this._set(\"extent\",null),this._set(\"heightModelInfo\",null),this._set(\"vcsWkid\",null),this._set(\"latestVcsWkid\",null),this._set(\"tileInfo\",null),this._spatialReferenceCandidates=null,this._extentCandidates=null}start(){this._handles.removeAll();const e=this._updateLayerChange.bind(this);for(const t of this.mapCollectionPaths)this._handles.add(h(this.view,`map.${t}`,\"change\",e,e,e,!0));this._handles.add(c(this,\"isSpatialReferenceDone\",(()=>this._updateTileInfo()),!0))}_ownerNameFromCollectionName(e){const t=e.lastIndexOf(\".\");return-1===t?\"view\":\"view.\"+e.slice(0,t)}_ensureLoadedOwnersFromCollectionName(e){const t=this._ownerNameFromCollectionName(e).split(\".\");let i;for(let s=0;s<t.length&&(i=this.get(t.slice(0,s+1).join(\".\")),i);s++)if(i.load&&!i.isFulfilled())return{collectionName:e,owner:null,loading:i.load().catch((()=>{}))};return{collectionName:e,owner:i}}_cancelLoading(){this._waitTask=null,this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)}_updateWhen(e){let t=!0,i=!1;const s=e.catch((()=>{})).then((()=>{t?i=!0:s===this._waitTask&&this._update()}));return t=!1,i||(this._waitTask=s),i}_updateLayerChange(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set(\"isSpatialReferenceDone\",!1),this._update()}_update(){if(this._cancelLoading(),this.view){if(!this.isSpatialReferenceDone){this._debugLog(\"Starting search for spatial reference...\");const e=this._processMapCollections((e=>this._processSpatialReferenceSource(e)));if(this._debugLog(`Search ended with status '${S(e)}'`),0!==e){let e=null,t=this._spatialReferenceCandidates;if(!t||t.length<1?(e=this.defaultSpatialReference,this._debugLog(`No spatial reference found, locking to default (${m(e)})`)):(this.defaultSpatialReference&&t.length>1&&t.findIndex((e=>e.equals(this.defaultSpatialReference)))>-1&&(t=[this.defaultSpatialReference]),e=t[0],this._debugLog(`Locking to ${m(e)}`)),this._set(\"spatialReference\",e),e)if(this.extent)this._set(\"isSpatialReferenceDone\",!0);else{const t=this.logDebugInformation;this.logDebugInformation=!1,this._processMapCollections((t=>this._findExtent(t,e))),this.logDebugInformation=t,this._projectExtentCandidate().catch((()=>{})).then((()=>this._set(\"isSpatialReferenceDone\",!0)))}else this._set(\"isSpatialReferenceDone\",!0)}}if(null==this.heightModelInfo&&this.view.isHeightModelInfoRequired){this._debugLog(\"Starting search for height model info...\");const e=this._processMapCollections((e=>this._processHeightModelInfoSource(e)),(e=>p(e)));this._debugLog(`Search ended with status ${S(e)}`),this._set(\"isHeightModelInfoSearching\",0===e)}this._updateTileInfo()}}_processMapCollections(e,t){this._preloadMapCollections(t);let i=2;return this._forAllMapCollectionSources((e=>{if(2!==i)return!1;const{collectionName:t}=e;return this._debugLog(`Processing collection ${t}...`),!(e.loading&&!this._updateWhen(e.loading))||(this._debugLog(`Collection ${e.collectionName} owner is loading -> wait`),i=0,!1)}),(s=>{if(2!==i)return!1;return null!=t&&!t(s)?(this._debugLog(`Source ${s.id} is skipped due to predicate`),!1):!s.load||s.isFulfilled()||this._updateWhen(s.load())?!((!s.load||s.isResolved())&&e(s))||(i=1,!1):(this._debugLog(`Source ${s.id} is loading -> wait`),i=0,!1)})),i}_preloadMapCollections(e){let t=10;const i=this.logDebugInformation;this.logDebugInformation=!1,this._forAllMapCollectionSources((()=>!0),(s=>{if(0===t)return!1;return!(null!=e&&!e(s))&&(s.load&&!s.isFulfilled()&&(this.logDebugInformation=i,this._debugLog(`Pre-loading source ${s.id}`),this.logDebugInformation=!1,s.load().catch((()=>{})),t--),!0)})),this.logDebugInformation=i}_forAllMapCollectionSources(e,t){for(const i of this.mapCollectionPaths){const s=`map.${i}`,o=this._ensureLoadedOwnersFromCollectionName(s);if(!1===e(o))continue;const n=o.owner;if(!n||n.isRejected&&n.isRejected()){this._debugLog(`Collection ${s} owner is invalid or rejected -> skip`);continue}const a=this.view.get(s);a?this._forEachSource(a,t):this._debugLog(`Collection ${s} does not exist -> skip`)}}_forEachSource(e,t){for(const i of e.items)!1!==t(i)&&\"layers\"in i&&i.layers&&this._forEachSource(i.layers,t)}_processSpatialReferenceSource(e){let t=this._getSupportedSpatialReferences(e);return 0!==t.length&&(this._spatialReferenceCandidates?(t=o(t,this._spatialReferenceCandidates,((e,t)=>e.equals(t))),t.length>0?this._spatialReferenceCandidates=t:this._debugLog(`Layer ${e.id} is ignored because its supported spatial\\n          references are not compatible with the previous candidates`)):this._spatialReferenceCandidates=t,1===this._spatialReferenceCandidates.length)}_findExtent(e,t){const i=\"fullExtents\"in e&&e.fullExtents||(e.fullExtent?[e.fullExtent]:[]),s=i.find((e=>e.spatialReference.equals(t)));if(s)return this._set(\"extent\",s),!0;if(this._getSupportedSpatialReferences(e).length>0){const t=i.map((t=>({extent:t,layer:e}))),s=this._extentCandidates||[];this._extentCandidates=s.concat(t)}return!1}async _projectExtentCandidate(){if(!this._extentCandidates||!this._extentCandidates.length)return;const e=this.spatialReference,t=this._extentCandidates.find((t=>l(t.extent.spatialReference,e)));if(t)this._set(\"extent\",r(t.extent,e));else{const t=this._extentCandidates[0];this._extentProjectController=n();const i=await import(\"../../portal/support/geometryServiceUtils.js\");try{const s=await i.projectGeometry(t.extent,e,t.layer.portalItem,this._extentProjectController.signal);this._set(\"extent\",s)}catch{}this._extentProjectController=null}}_getSupportedSpatialReferences(e){const t=\"supportedSpatialReferences\"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return this._debugLog(`Layer ${e.id} is ignored because it does not have any spatial references`),[];const i=t.filter((t=>this.view.isSpatialReferenceSupported(t,e,(e=>this._debugLog(e)))));return 0===i.length?this._debugLog(`Layer ${e.id} has spatial references but none of them are supported (or layer doesn't require locking)`):this._debugLog(`Layer ${e.id} has spatial references. Resulting candidate set: ${i.map(m).join(\", \")}`),i}_processHeightModelInfoSource(e){const t=u(e);return!!t&&(this._set(\"heightModelInfo\",t),this._set(\"isHeightModelInfoSearching\",!1),e.spatialReference&&(this._set(\"vcsWkid\",e.spatialReference.vcsWkid),this._set(\"latestVcsWkid\",e.spatialReference.latestVcsWkid)),!0)}_updateTileInfo(){if(null!=this.tileInfo)return;if(!this.view.isTileInfoRequired())return void this._set(\"isTileInfoDone\",!0);if(!this.isSpatialReferenceDone)return;const e=this.get(\"view.map\");if(!e)return void this._debugLog(\"updateTileInfo: no map\");const t=e.basemap,i=e.get(\"layers.0\");let s=null;if(t&&\"failed\"!==t.loadStatus){if(!t.loaded)return this._updateWhen(t.load()),void this._debugLog(\"updateTileInfo: basemap still loading\");const e=t&&t.get(\"baseLayers.0\");if(e&&\"failed\"!==e.loadStatus){if(!e.loaded)return this._updateWhen(e.load()),void this._debugLog(\"updateTileInfo: first basemap layer still loading\");s=\"tileInfo\"in e&&e.tileInfo}else{if(!i||\"failed\"===i.loadStatus)return this._debugLog(\"updateTileInfo: no tileInfo\"),void this._set(\"isTileInfoDone\",!0);if(!i.loaded)return this._updateWhen(i.load()),void this._debugLog(\"updateTileInfo: first operational layer still loading\");s=\"tileInfo\"in i&&i.tileInfo}}else if(i&&\"failed\"!==i.loadStatus){if(!i.loaded)return this._updateWhen(i.load()),void this._debugLog(\"updateTileInfo: first operational layer still loading\");s=\"tileInfo\"in i&&i.tileInfo}s&&!s.spatialReference.equals(this.spatialReference)&&(s=null),this._debugLog(`updateTileInfo: setting ${s}`),this._set(\"tileInfo\",s),this._set(\"isTileInfoDone\",!0)}_debugLog(e){this.logDebugInformation&&g.info(e)}};function m(e){return e?JSON.stringify(e.toJSON()):\"undefined\"}function S(e){switch(e){case 0:return\"Waiting\";case 1:return\"Found\";case 2:return\"Exhausted\"}}_.DefaultMapCollectionPaths=[\"basemap.baseLayers\",\"layers\",\"ground.layers\",\"basemap.referenceLayers\"],e([i()],_.prototype,\"logDebugInformation\",void 0),e([i({readOnly:!0})],_.prototype,\"isSpatialReferenceDone\",void 0),e([i({readOnly:!0})],_.prototype,\"isTileInfoDone\",void 0),e([i({readOnly:!0})],_.prototype,\"isHeightModelInfoSearching\",void 0),e([i({constructOnly:!0})],_.prototype,\"view\",void 0),e([i({readOnly:!0})],_.prototype,\"spatialReference\",void 0),e([i({readOnly:!0})],_.prototype,\"extent\",void 0),e([i({readOnly:!0})],_.prototype,\"heightModelInfo\",void 0),e([i({readOnly:!0})],_.prototype,\"vcsWkid\",void 0),e([i({readOnly:!0})],_.prototype,\"latestVcsWkid\",void 0),e([i()],_.prototype,\"mapCollectionPaths\",void 0),e([i()],_.prototype,\"defaultSpatialReference\",void 0),e([i({readOnly:!0})],_.prototype,\"tileInfo\",void 0),_=f=e([s(\"esri.views.support.DefaultsFromMap\")],_);var y=_;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as t}from\"../core/maybe.js\";import i from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as a}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import s from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{after as n,resolve as l}from\"../core/promiseUtils.js\";import{schedule as p}from\"../core/scheduling.js\";import d from\"../core/Accessor.js\";import{equals as h}from\"../geometry/support/spatialReferenceUtils.js\";import u from\"../geometry/SpatialReference.js\";import y from\"../geometry/Extent.js\";import m from\"../core/Evented.js\";import c from\"../core/Collection.js\";import{EsriPromiseMixin as f}from\"../core/Promise.js\";import g from\"../core/Loadable.js\";import w from\"../core/CollectionFlattener.js\";import v from\"../Map.js\";import M from\"../TimeExtent.js\";import{whenOnce as V,init as R,whenFalseOnce as F,watch as _}from\"../core/watchUtils.js\";import j from\"../geometry/HeightModelInfo.js\";import{HandleOwnerMixin as O}from\"../core/HandleOwner.js\";import E,{graphicsCollectionProperty as S}from\"../support/GraphicsCollection.js\";import{BasemapView as x}from\"./BasemapView.js\";import C from\"./LayerViewManager.js\";import b from\"./Magnifier.js\";import L from\"./RefreshManager.js\";import{ViewEvents as I}from\"./input/ViewEvents.js\";import D from\"./ToolViewManager.js\";import T from\"./input/Input.js\";import k from\"./navigation/Navigation.js\";import W from\"./support/DefaultsFromMap.js\";var q;const z=i.getLogger(\"esri.views.View\");let H=q=class extends(O(m.EventedMixin(f(d)))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new w({root:this,rootCollectionNames:[\"basemapView.baseLayerViews\",\"groundView?.layerViews\",\"layerViews\",\"basemapView.referenceLayerViews\"],getChildrenFunction:e=>e.layerViews}),this.animation=null,this.basemapView=null,this.defaultsFromMap=new W({view:this}),this.fatalError=null,this.extent=null,this.graphics=new E,this.navigating=!1,this.layerViews=new c,this.magnifier=new b,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.renderContext=null,this.input=new T,this.navigation=new k,this.layerViewManager=null,this.refreshManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new I(this),this.persistableViewModels=new c,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch(\"preconditionsReady\",(e=>{e?(this._currentSpatialReference=this.spatialReference,q.views.add(this)):(this._currentSpatialReference=null,q.views.remove(this)),this.notifyChange(\"spatialReference\"),!e&&this.ready?(this.layerViewManager.clear(),this.toolViewManager.detach(),this._teardown()):e&&!this.ready&&(this._startup(),this.toolViewManager.attach())}),!0))}initialize(){let e;this.addResolvingPromise(this.validate().then((()=>(this._isValid=!0,V(this,\"ready\"))))),this.basemapView=new x({view:this}),this.layerViewManager=new C({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.refreshManager=new L({view:this}),this.toolViewManager=new D({view:this}),this._resetInitialViewPropertiesFromContent(),R(this.defaultsFromMap,\"isSpatialReferenceDone\",(t=>{const i=!!(this.map&&this.map.allLayers.length>0);if(t&&!this.spatialReference&&i||!e){if(t&&!this.spatialReference&&i&&!e){const t=e=n(this.spatialReferenceWarningDelay);e.then((()=>{t===e&&z.warn(\"#spatialReference\",\"no spatial reference could be derived from the currently added map layers\")})).catch((()=>{}))}}else e=null}),!0)}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set(\"navigation\",null)),this.graphics.destroy(),this.graphics=null,this.handles.remove(\"defaultsFromMap\"),this.defaultsFromMap.destroy(),this._set(\"defaultsFromMap\",null),this.toolViewManager.destroy(),this.toolViewManager=null,this.refreshManager.destroy(),this.refreshManager=null,this.layerViewManager.destroy(),this.layerViewManager=null,this.basemapView.destroy(),this.basemapView=null,this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,null==e||e.destroy()}_startup(){this._set(\"ready\",!0)}_teardown(){this._set(\"ready\",!1)}whenReady(){return l()}toMap(){return z.error(\"#toMap()\",\"Not implemented on this instance of View\"),null}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!g.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)}set map(e){var t;e!==this._get(\"map\")&&(null!=(t=e)&&t.destroyed&&(z.warn(\"#map\",\"The provided map is already destroyed\",{map:e}),e=null),g.isLoadable(e)&&e.load().catch((()=>{})),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set(\"map\",e))}get spatialReference(){let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){this._userSpatialReference=e,this._set(\"spatialReference\",e)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){return this.defaultsFromMap&&this.defaultsFromMap.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return t(e)?e:this._cursor||\"default\"}set cursor(e){this._cursor=e,this.notifyChange(\"cursor\")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){return this.get(\"defaultsFromMap.spatialReference\")}getDefaultHeightModelInfo(){return this.get(\"map.supportsHeightModelInfo\")&&this.get(\"map.heightModelInfo\")||this.get(\"defaultsFromMap.heightModelInfo\")||null}importLayerView(e){throw new s(\"importLayerView() not implemented\")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}isSpatialReferenceSupported(e,t,i){return!0}isTileInfoRequired(){return!1}when(e,t){return this.isResolved()&&!this.ready&&z.warn(\"#when()\",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, \"ready\").then(...) instead.'),super.when(e,t)}forceReadyCycle(){this.ready&&(this._readyCycleForced=!0,F(this,\"preconditionsReady\",(()=>this._readyCycleForced=!1)))}createTool(e,t,i){return this.toolViewManager.createTool(e,t,i)}tryFatalErrorRecovery(){this.fatalError=null}_resetInitialViewPropertiesFromContent(){if(!this.defaultsFromMap)return;const e=()=>this.defaultsFromMap&&this.defaultsFromMap.start();this.defaultsFromMap.reset(),this._currentSpatialReference=null,this.notifyChange(\"spatialReference\"),this.handles.remove(\"defaultsFromMap\"),this.handles.add([_(this,\"spatialReference\",((t,i)=>{h(t,i)||e()})),_(this,\"initialExtentRequired\",e),p(e)],\"defaultsFromMap\")}};H.views=new c,e([a(\"toolViewManager.activeTool\")],H.prototype,\"activeTool\",void 0),e([r({readOnly:!0})],H.prototype,\"allLayerViews\",void 0),e([r()],H.prototype,\"animation\",void 0),e([r()],H.prototype,\"basemapView\",void 0),e([r()],H.prototype,\"defaultsFromMap\",void 0),e([r()],H.prototype,\"fatalError\",void 0),e([r({type:y})],H.prototype,\"extent\",void 0),e([r(S())],H.prototype,\"graphics\",void 0),e([r({readOnly:!0,type:j,dependsOn:[\"map.heightModelInfo?\",\"defaultsFromMap.heightModelInfo\"],autoTracked:!1})],H.prototype,\"heightModelInfo\",null),e([r({readOnly:!0,dependsOn:[\"navigating\"]})],H.prototype,\"interacting\",null),e([r({readOnly:!0})],H.prototype,\"navigating\",void 0),e([r({readOnly:!0,dependsOn:[\"fatalError\",\"_isValid\",\"_readyCycleForced\",\"map\",\"map.loaded?\",\"width\",\"height\",\"spatialReference\",\"_currentSpatialReference\",\"initialExtentRequired\",\"initialExtent\",\"defaultsFromMap.isSpatialReferenceDone\",\"defaultsFromMap.isTileInfoDone\"],autoTracked:!1})],H.prototype,\"preconditionsReady\",null),e([r({type:c,readOnly:!0})],H.prototype,\"layerViews\",void 0),e([r({type:b})],H.prototype,\"magnifier\",void 0),e([r({value:null,type:v})],H.prototype,\"map\",null),e([r()],H.prototype,\"padding\",void 0),e([r({readOnly:!0})],H.prototype,\"ready\",void 0),e([r({type:u,dependsOn:[\"defaultsFromMap.spatialReference\",\"defaultsFromMap.vcsWkid\",\"defaultsFromMap.latestVcsWkid\"]})],H.prototype,\"spatialReference\",null),e([r()],H.prototype,\"spatialReferenceWarningDelay\",void 0),e([r({dependsOn:[\"animation\",\"navigating\",\"resizing\"]})],H.prototype,\"stationary\",null),e([r({readOnly:!0})],H.prototype,\"supportsGround\",void 0),e([r({type:M})],H.prototype,\"timeExtent\",void 0),e([a(\"toolViewManager.tools\")],H.prototype,\"tools\",void 0),e([r()],H.prototype,\"toolViewManager\",void 0),e([r({readOnly:!0})],H.prototype,\"type\",void 0),e([r({type:Number})],H.prototype,\"scale\",void 0),e([r({readOnly:!0})],H.prototype,\"updating\",void 0),e([r({readOnly:!0})],H.prototype,\"initialExtentRequired\",void 0),e([r({readOnly:!0,type:y,dependsOn:[\"defaultsFromMap.extent\"]})],H.prototype,\"initialExtent\",null),e([r({dependsOn:[\"toolViewManager.cursor\"]})],H.prototype,\"cursor\",null),e([r()],H.prototype,\"renderContext\",void 0),e([r({readOnly:!0})],H.prototype,\"input\",void 0),e([r({type:k,nonNullable:!0})],H.prototype,\"navigation\",void 0),e([r()],H.prototype,\"layerViewManager\",void 0),e([r()],H.prototype,\"width\",void 0),e([r()],H.prototype,\"height\",void 0),e([r({readOnly:!0})],H.prototype,\"resizing\",void 0),e([r({value:null,dependsOn:[\"width\",\"height\"],readOnly:!0})],H.prototype,\"size\",null),e([r({readOnly:!0})],H.prototype,\"suspended\",void 0),e([r({readOnly:!0})],H.prototype,\"viewEvents\",void 0),e([r({readOnly:!0})],H.prototype,\"persistableViewModels\",void 0),e([r()],H.prototype,\"_isValid\",void 0),e([r()],H.prototype,\"_readyCycleForced\",void 0),e([r()],H.prototype,\"_currentSpatialReference\",void 0),H=q=e([o(\"esri.views.View\")],H);var U=H;export default U;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import o from\"../../../core/Accessor.js\";let s=class extends o{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType=\"unknown\",\"standard\"===e.mapping?this._detectedDeviceType=\"standard\":p.test(e.id)?this._detectedDeviceType=\"spacemouse\":this._detectedDeviceType=\"unknown\",this.nativeIndex=e.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return i[this.deviceType]}};e([t({nonNullable:!0,readOnly:!0})],s.prototype,\"nativeIndex\",void 0),e([t({type:String,readOnly:!0})],s.prototype,\"deviceType\",null),e([t({type:Number,readOnly:!0})],s.prototype,\"axisThreshold\",null),s=e([r(\"esri.views.input.gamepad.GamepadInputDevice\")],s);const p=new RegExp(\"^(3dconnexion|space(mouse|navigator|pilot|explorer))\",\"i\"),i={standard:.15,spacemouse:.025,unknown:0};var n=s;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{aliasOf as s}from\"../../core/accessorSupport/decorators/aliasOf.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{debounce as t}from\"../../core/promiseUtils.js\";const i=i=>{let p=class extends i{constructor(){super(...arguments),this.refreshTimestamp=null,this.refreshDebounced=t((async(r,e)=>{let s;\"number\"==typeof r?s=r:(s=Date.now(),e=r),this._set(\"refreshTimestamp\",s),this.doRefresh&&await this.doRefresh(e)}),2e3)}refresh(r=Date.now()){this._set(\"refreshTimestamp\",r),this.doRefresh&&this.doRefresh()}};return r([e()],p.prototype,\"layer\",void 0),r([s(\"layer.refreshInterval\")],p.prototype,\"refreshInterval\",void 0),r([e({readOnly:!0})],p.prototype,\"refreshTimestamp\",void 0),p=r([o(\"esri.layers.mixins.RefreshableLayerView\")],p),p};function p(r){return\"refresh\"in r}export{i as RefreshableLayerView,p as isRefreshableLayerView};\n"],"sourceRoot":""}