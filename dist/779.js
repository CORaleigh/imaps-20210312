(self.webpackChunkimaps=self.webpackChunkimaps||[]).push([[779,5114,9833,3e3,9869,8860,4286,5314,6854,5883],{87565:(e,t,i)=>{"use strict";i.d(t,{lt:()=>c,WU:()=>s,ti:()=>a,Qc:()=>u});var n=i(88263),o=i(3766);const r={ar:[".",","],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function a(e){e||(e=(0,o.Kd)());let t=e in r;if(!t){const i=e.split("-");i.length>1&&i[0]in r&&(e=i[0],t=!0),t||(e="en")}const[i,n,a="#,##0.###"]=r[e];return{decimal:i,group:n,pattern:a}}function s(e,t){const i=a((t={...t}).locale);t.customs=i;const n=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,i){const n=(i=i||{}).customs.group,o=i.customs.decimal,r=t.split(";"),a=r[0];if(-1!==(t=r[e<0?1:0]||"-"+a).indexOf("%"))e*=100;else if(-1!==t.indexOf("‰"))e*=1e3;else{if(-1!==t.indexOf("¤"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}const s=l,c=a.match(s);if(!c)throw new Error("unable to find a number expression in pattern: "+t);return!1===i.fractional&&(i.places=0),t.replace(s,function(e,t,i){!0===(i=i||{}).places&&(i.places=0),i.places===1/0&&(i.places=6);const n=t.split("."),o="string"==typeof i.places&&i.places.indexOf(",");let r=i.places;o?r=i.places.substring(o+1):r>=0||(r=(n[1]||[]).length),i.round<0||(e=Number(e.toFixed(Number(r))));const a=String(Math.abs(e)).split("."),s=a[1]||"";if(n[1]||i.places){o&&(i.places=i.places.substring(0,o));const e=void 0!==i.places?i.places:n[1]&&n[1].lastIndexOf("0")+1;e>s.length&&(a[1]=s.padEnd(Number(e),"0")),r<s.length&&(a[1]=s.substr(0,Number(r)))}else a[1]&&a.pop();const l=n[0].replace(",","");let c=l.indexOf("0");-1!==c&&(c=l.length-c,c>a[0].length&&(a[0]=a[0].padStart(c,"0")),-1===l.indexOf("#")&&(a[0]=a[0].substr(a[0].length-c)));let u,d,p=n[0].lastIndexOf(",");if(-1!==p){u=n[0].length-p-1;const e=n[0].substr(0,p);p=e.lastIndexOf(","),-1!==p&&(d=e.length-p-1)}const h=[];for(let e=a[0];e;){const t=e.length-u;h.push(t>0?e.substr(t):e),e=t>0?e.slice(0,t):"",d&&(u=d,d=void 0)}return a[0]=h.reverse().join(i.group||","),a.join(i.decimal||".")}(e,c[0],{decimal:o,group:n,places:i.places,round:i.round}))}(e,n,t)}const l=/[#0,]*[#0](?:\.0*#*)?/;function c(e){const t=a((e=e||{}).locale),i=e.pattern||t.pattern,o=t.group,r=t.decimal;let s=1;if(-1!==i.indexOf("%"))s/=100;else if(-1!==i.indexOf("‰"))s/=1e3;else if(-1!==i.indexOf("¤"))throw new Error("currency notation not supported");const c=i.split(";");return 1===c.length&&c.push("-"+c[0]),{regexp:p(c,(function(t){return(t="(?:"+(0,n.Qs)(t,".")+")").replace(l,(function(t){const i={signed:!1,separator:e.strict?o:[o,""],fractional:e.fractional,decimal:r,exponent:!1},n=t.split(".");let a=e.places;1===n.length&&1!==s&&(n[1]="###"),1===n.length||0===a?i.fractional=!1:(void 0===a&&(a=e.pattern?n[1].lastIndexOf("0")+1:1/0),a&&null==e.fractional&&(i.fractional=!0),!e.places&&a<n[1].length&&(a+=","+n[1].length),i.places=a);const l=n[0].split(",");return l.length>1&&(i.groupSize=l.pop().length,l.length>1&&(i.groupSize2=l.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=d(e),i=p(e.fractional,(function(t){let i="";return t&&0!==e.places&&(i="\\"+e.decimal,e.places===1/0?i="(?:"+i+"\\d+)?":i+="\\d{"+e.places+"}"),i}),!0);let n=t+i;return i&&(n="(?:(?:"+n+")|(?:"+i+"))"),n+p(e.exponent,(function(t){return t?"([eE]"+d({signed:e.eSigned})+")":""}))}(i)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:o,decimal:r,factor:s}}function u(e,t){const i=c(t),n=new RegExp("^"+i.regexp+"$").exec(e);if(!n)return NaN;let o=n[1];if(!n[1]){if(!n[2])return NaN;o=n[2],i.factor*=-1}return o=o.replace(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."),Number(o)*i.factor}function d(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",p(e.signed,(function(e){return e?"[-+]":""}),!0)+p(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=(0,n.Qs)(t))?t="\\s":" "===t&&(t="\\s\\xa0");const i=e.groupSize,o=e.groupSize2;if(o){const e="(?:0|[1-9]\\d{0,"+(o-1)+"}(?:["+t+"]\\d{"+o+"})*["+t+"]\\d{"+i+"})";return i-o>0?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":e}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*)"}),!0)}const p=function(e,t,i){if(!(e instanceof Array))return t(e);const n=[];for(let i=0;i<e.length;i++)n.push(t(e[i]));return h(n.join("|"),i)},h=function(e,t){return"("+(t?"?:":"")+e+")"}},35883:(e,t,i)=>{"use strict";i.r(t),i.d(t,{hydratedAdapter:()=>l});var n=i(61106),o=i(52937),r=i(3470),a=i(53817),s=i(93833);const l={convertToGEGeometry:function(e,t){if(null==t)return null;let i="cache"in t?t.cache._geVersion:void 0;return null==i&&(i=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=i)),i},exportPoint:function(e,t,i){const o=e.hasZ(t),r=e.hasM(t),a=new n.Z({x:e.getPointX(t),y:e.getPointY(t),spatialReference:i});return o&&(a.z=e.getPointZ(t)),r&&(a.m=e.getPointM(t)),a.cache._geVersion=t,a},exportPolygon:function(e,t,i){const n=new a.Z({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return n.cache._geVersion=t,n},exportPolyline:function(e,t,i){const n=new s.Z({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:i});return n.cache._geVersion=t,n},exportMultipoint:function(e,t,i){const n=new r.Z({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:i});return n.cache._geVersion=t,n},exportExtent:function(e,t,i){const n=e.hasZ(t),r=e.hasM(t),a=new o.Z({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:i});if(n){const i=e.getZExtent(t);a.zmin=i.vmin,a.zmax=i.vmax}if(r){const i=e.getMExtent(t);a.mmin=i.vmin,a.mmax=i.vmax}return a.cache._geVersion=t,a}}},70642:(e,t,i)=>{"use strict";i.r(t),i.d(t,{buffer:()=>A,clip:()=>s,contains:()=>c,convexHull:()=>w,crosses:()=>u,cut:()=>l,densify:()=>N,difference:()=>k,disjoint:()=>v,distance:()=>d,equals:()=>p,extendedSpatialReferenceInfo:()=>a,flipHorizontal:()=>D,flipVertical:()=>R,generalize:()=>L,geodesicArea:()=>U,geodesicBuffer:()=>P,geodesicDensify:()=>B,geodesicLength:()=>G,intersect:()=>C,intersects:()=>h,isSimple:()=>g,nearestCoordinate:()=>M,nearestVertex:()=>j,nearestVertices:()=>E,offset:()=>O,overlaps:()=>y,planarArea:()=>F,planarLength:()=>V,relate:()=>b,rotate:()=>I,simplify:()=>_,symmetricDifference:()=>S,touches:()=>f,union:()=>x,within:()=>m});var n=i(65798),o=i(35883);function r(e){return Array.isArray(e)?e[0].spatialReference:e&&e.spatialReference}function a(e){return n.a.extendedSpatialReferenceInfo(e)}function s(e,t){return n.a.clip(o.hydratedAdapter,r(e),e,t)}function l(e,t){return n.a.cut(o.hydratedAdapter,r(e),e,t)}function c(e,t){return n.a.contains(o.hydratedAdapter,r(e),e,t)}function u(e,t){return n.a.crosses(o.hydratedAdapter,r(e),e,t)}function d(e,t,i){return n.a.distance(o.hydratedAdapter,r(e),e,t,i)}function p(e,t){return n.a.equals(o.hydratedAdapter,r(e),e,t)}function h(e,t){return n.a.intersects(o.hydratedAdapter,r(e),e,t)}function f(e,t){return n.a.touches(o.hydratedAdapter,r(e),e,t)}function m(e,t){return n.a.within(o.hydratedAdapter,r(e),e,t)}function v(e,t){return n.a.disjoint(o.hydratedAdapter,r(e),e,t)}function y(e,t){return n.a.overlaps(o.hydratedAdapter,r(e),e,t)}function b(e,t,i){return n.a.relate(o.hydratedAdapter,r(e),e,t,i)}function g(e){return n.a.isSimple(o.hydratedAdapter,r(e),e)}function _(e){return n.a.simplify(o.hydratedAdapter,r(e),e)}function w(e,t=!1){return n.a.convexHull(o.hydratedAdapter,r(e),e,t)}function k(e,t){return n.a.difference(o.hydratedAdapter,r(e),e,t)}function S(e,t){return n.a.symmetricDifference(o.hydratedAdapter,r(e),e,t)}function C(e,t){return n.a.intersect(o.hydratedAdapter,r(e),e,t)}function x(e,t=null){return n.a.union(o.hydratedAdapter,r(e),e,t)}function O(e,t,i,a,s,l){return n.a.offset(o.hydratedAdapter,r(e),e,t,i,a,s,l)}function A(e,t,i,a=!1){return n.a.buffer(o.hydratedAdapter,r(e),e,t,i,a)}function P(e,t,i,a,s,l){return n.a.geodesicBuffer(o.hydratedAdapter,r(e),e,t,i,a,s,l)}function M(e,t,i=!0){return n.a.nearestCoordinate(o.hydratedAdapter,r(e),e,t,i)}function j(e,t){return n.a.nearestVertex(o.hydratedAdapter,r(e),e,t)}function E(e,t,i,a){return n.a.nearestVertices(o.hydratedAdapter,r(e),e,t,i,a)}function T(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent.center:null}function I(e,t,i){var o;if(null==e)throw new Error("Illegal Argument Exception");const r=e.spatialReference;if(null==(i=null!=(o=i)?o:T(e)))throw new Error("Illegal Argument Exception");const a=e.constructor.fromJSON(n.a.rotate(e,t,i));return a.spatialReference=r,a}function D(e,t){var i;if(null==e)throw new Error("Illegal Argument Exception");const o=e.spatialReference;if(null==(t=null!=(i=t)?i:T(e)))throw new Error("Illegal Argument Exception");const r=e.constructor.fromJSON(n.a.flipHorizontal(e,t));return r.spatialReference=o,r}function R(e,t){var i;if(null==e)throw new Error("Illegal Argument Exception");const o=e.spatialReference;if(null==(t=null!=(i=t)?i:T(e)))throw new Error("Illegal Argument Exception");const r=e.constructor.fromJSON(n.a.flipVertical(e,t));return r.spatialReference=o,r}function L(e,t,i,a){return n.a.generalize(o.hydratedAdapter,r(e),e,t,i,a)}function N(e,t,i){return n.a.densify(o.hydratedAdapter,r(e),e,t,i)}function B(e,t,i,a=0){return n.a.geodesicDensify(o.hydratedAdapter,r(e),e,t,i,a)}function F(e,t){return n.a.planarArea(o.hydratedAdapter,r(e),e,t)}function V(e,t){return n.a.planarLength(o.hydratedAdapter,r(e),e,t)}function U(e,t,i){return n.a.geodesicArea(o.hydratedAdapter,r(e),e,t,i)}function G(e,t,i){return n.a.geodesicLength(o.hydratedAdapter,r(e),e,t,i)}},75138:(e,t,i)=>{"use strict";i.r(t),i.d(t,{create:()=>s,projectGeometry:()=>l});var n=i(34926),o=i(32656),r=i(32797),a=i(52411);async function s(e=null,t){if(n.default.geometryServiceUrl)return new(0,(await i.e(5393).then(i.bind(i,88201))).default)({url:n.default.geometryServiceUrl});if(!e)throw new o.Z("internal:geometry-service-url-not-configured");let a;if(a="portal"in e?e.portal||r.Z.getDefault():e,await a.load({signal:t}),a.helperServices&&a.helperServices.geometry&&a.helperServices.geometry.url)return new(0,(await i.e(5393).then(i.bind(i,88201))).default)({url:a.helperServices.geometry.url});throw new o.Z("internal:geometry-service-url-not-configured")}async function l(e,t,i=null,n){const r=await s(i,n),l=new a.Z;l.geometries=[e],l.outSpatialReference=t;const c=await r.project(l,{signal:n});if(c&&Array.isArray(c)&&1===c.length)return c[0];throw new o.Z("internal:geometry-service-projection-failed")}},1028:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Oe});var n=i(56140),o=(i(95830),i(36544),i(68055)),r=i(79881),a=i(56274),s=i(87566),l=i(32656),c=i(10923),u=(i(57002),i(86035),i(53817)),d=i(96071),p=i(23838),h=i(36654),f=i(5328),m=i(31518),v=i(95986),y=i(73032),b=i(52937),g=i(82677);let _=class extends g.default{constructor(){super(...arguments),this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}};(0,n._)([(0,r.Cb)({type:y.Z})],_.prototype,"outSpatialReference",void 0),(0,n._)([(0,r.Cb)({type:b.Z})],_.prototype,"processExtent",void 0),(0,n._)([(0,r.Cb)({type:y.Z})],_.prototype,"processSpatialReference",void 0),(0,n._)([(0,r.Cb)({nonNullable:!0})],_.prototype,"returnFeatureCollection",void 0),(0,n._)([(0,r.Cb)({nonNullable:!0})],_.prototype,"returnM",void 0),(0,n._)([(0,r.Cb)({nonNullable:!0})],_.prototype,"returnZ",void 0),_=(0,n._)([(0,s.j)("esri/rest/geoprocessor/GPOptions")],_),_.from=(0,o.se)(_);const w=_;var k=i(21544),S=i(91535),C=i(70834),x=i(76194),O=i(66849),A=i(58385);let P=class extends A.wq{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};(0,n._)([(0,r.Cb)({type:b.Z})],P.prototype,"extent",void 0),(0,n._)([(0,r.Cb)()],P.prototype,"height",void 0),(0,n._)([(0,r.Cb)()],P.prototype,"href",void 0),(0,n._)([(0,r.Cb)()],P.prototype,"opacity",void 0),(0,n._)([(0,r.Cb)()],P.prototype,"rotation",void 0),(0,n._)([(0,r.Cb)()],P.prototype,"scale",void 0),(0,n._)([(0,r.Cb)()],P.prototype,"visible",void 0),(0,n._)([(0,r.Cb)()],P.prototype,"width",void 0),P=(0,n._)([(0,s.j)("esri.layer.support.MapImage")],P);const M=P;let j=class extends A.wq{constructor(e){super(e),this.itemId=null,this.url=null}};(0,n._)([(0,r.Cb)({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],j.prototype,"itemId",void 0),(0,n._)([(0,r.Cb)({type:String,json:{write:!0}})],j.prototype,"url",void 0),j=(0,n._)([(0,s.j)("esri.tasks.support.DataFile")],j);const E=j,T=new a.Xn({esriMeters:"meters",esriFeet:"feet",esriKilometers:"kilometers",esriMiles:"miles",esriNauticalMiles:"nautical-miles",esriYards:"yards"},{ignoreUnknown:!1});let I=class extends A.wq{constructor(e){super(e),this.distance=0,this.units=null}};(0,n._)([(0,r.Cb)({json:{write:!0}})],I.prototype,"distance",void 0),(0,n._)([(0,r.Cb)({json:{read:T.read,write:T.write}})],I.prototype,"units",void 0),I=(0,n._)([(0,s.j)("esri/tasks/support/LinearUnit")],I);const D=I,R=new a.Xn({GPBoolean:"boolean",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",GPField:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string","GPMultiValue:GPBoolean":"multi-value","GPMultiValue:GPDataFile":"multi-value","GPMultiValue:GPDate":"multi-value","GPMultiValue:GPDouble":"multi-value","GPMultiValue:GPFeatureRecordSetLayer":"multi-value","GPMultiValue:GPField":"multi-value","GPMultiValue:GPLinearUnit":"multi-value","GPMultiValue:GPLong":"multi-value","GPMultiValue:GPRasterData":"multi-value","GPMultiValue:GPRasterDataLayer":"multi-value","GPMultiValue:GPRecordSet":"multi-value","GPMultiValue:GPString":"multi-value"});let L=class extends A.wq{constructor(e){super(e),this.dataType=null,this.value=null}};(0,n._)([(0,r.Cb)({json:{read:R.read,write:R.write}})],L.prototype,"dataType",void 0),(0,n._)([(0,r.Cb)()],L.prototype,"value",void 0),L=(0,n._)([(0,s.j)("esri.tasks.support.ParameterValue")],L);const N=L;let B=class extends A.wq{constructor(e){super(e),this.format=null,this.itemId=null,this.url=null}};(0,n._)([(0,r.Cb)()],B.prototype,"format",void 0),(0,n._)([(0,r.Cb)({json:{read:{source:"itemID"},write:{target:"itemID"}}})],B.prototype,"itemId",void 0),(0,n._)([(0,r.Cb)()],B.prototype,"url",void 0),B=(0,n._)([(0,s.j)("esri/tasks/support/RasterData")],B);const F=B;async function V(e,t,i,n,o){const r={},a={},s=[];return function(e,t,i){for(const n in e){const o=e[n];if(o&&"object"==typeof o&&o instanceof x.default){const{features:e}=o;i[n]=[t.length,t.length+e.length],e.forEach((e=>{t.push(e.geometry)}))}}}(n,s,r),(0,S.aX)(s).then((s=>{const{outSpatialReference:l,processExtent:c,processSpatialReference:u,returnFeatureCollection:d,returnM:p,returnZ:f}=i,{path:m}=(0,O.en)(e);for(const e in r){const t=r[e];a[e]=s.slice(t[0],t[1])}const v=l?l.wkid||l:null,y=u?u.wkid||u:null,b="execute"===t?{returnFeatureCollection:d||void 0,returnM:p||void 0,returnZ:f||void 0}:null,g=G({...c?{context:{extent:c,outSR:v,processSR:y}}:{"env:outSR":v,"env:processSR":y},...n,...b,f:"json"},null,a),_={...o,query:g};return(0,h.default)(`${m}/${t}`,_)}))}function U(e){const t=e.dataType,i=N.fromJSON(e);switch(t){case"GPBoolean":case"GPDouble":case"GPLong":case"GPString":return i;case"GPDate":i.value=new Date(i.value);break;case"GPDataFile":i.value=E.fromJSON(i.value);break;case"GPLinearUnit":i.value=D.fromJSON(i.value);break;case"GPFeatureRecordSetLayer":case"GPRecordSet":{const t=e.value.url;i.value=t?E.fromJSON(i.value):x.default.fromJSON(i.value);break}case"GPRasterData":case"GPRasterDataLayer":{const t=e.value.mapImage;i.value=t?M.fromJSON(t):F.fromJSON(i.value);break}case"GPField":i.value=C.Z.fromJSON(i.value);break;case"GPMultiValue:GPBoolean":case"GPMultiValue:GPDouble":case"GPMultiValue:GPLong":case"GPMultiValue:GPString":return i;case"GPMultiValue:GPDate":{const e=i.value;i.value=e.map((e=>new Date(e)));break}case"GPMultiValue:GPDataFile":i.value=i.value.map((e=>E.fromJSON(e)));break;case"GPMultiValue:GPLinearUnit":i.value=i.value.map((e=>D.fromJSON(e)));break;case"GPMultiValue:GPFeatureRecordSetLayer":case"GPMultiValue:GPRecordSet":i.value=i.value.map((e=>x.default.fromJSON(e)));break;case"GPMultiValue:GPRasterData":case"GPMultiValue:GPRasterDataLayer":i.value=i.value.map((e=>e?M.fromJSON(e):F.fromJSON(i.value)));break;case"GPMultiValue:GPField":i.value=i.value.map((e=>C.Z.fromJSON(e)))}return i}function G(e,t,i){for(const t in e){const i=e[t];Array.isArray(i)?e[t]=JSON.stringify(i.map((e=>G({item:e},!0).item))):i instanceof Date&&(e[t]=i.getTime())}return(0,O.cv)(e,t,i)}var Z,$=i(39105);const J=new a.Xn({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"});let W=Z=class extends A.wq{constructor(e){super(e),this.jobId=null,this.jobStatus=null,this.messages=null,this.requestOptions=null,this.sourceUrl=null,this._timer=null}cancelJob(e){const{jobId:t,sourceUrl:i}=this,{path:n}=(0,O.en)(i),o={...this.requestOptions,...e,query:{f:"json"}};return this._clearTimer(),(0,h.default)(`${n}/jobs/${t}/cancel`,o).then((e=>{const t=Z.fromJSON(e.data);return this.messages=t.messages,this.jobStatus=t.jobStatus,this}))}destroy(){clearInterval(this._timer)}checkJobStatus(e){const{path:t}=(0,O.en)(this.sourceUrl),i={...this.requestOptions,...e,query:{f:"json"}},n=`${t}/jobs/${this.jobId}`;return(0,h.default)(n,i).then((({data:e})=>{const t=Z.fromJSON(e);return this.messages=t.messages,this.jobStatus=t.jobStatus,this}))}fetchResultData(e,t,i){t=w.from(t);const{returnFeatureCollection:n,returnM:o,returnZ:r,outSpatialReference:a}=t,{path:s}=(0,O.en)(this.sourceUrl),l=G({returnFeatureCollection:n||void 0,returnM:o||void 0,returnZ:r||void 0,outSR:a,returnType:"data",f:"json"},null),c={...this.requestOptions,...i,query:l},u=`${s}/jobs/${this.jobId}/results/${e}`;return(0,h.default)(u,c).then((e=>U(e.data)))}fetchResultImage(e,t,i){const{path:n}=(0,O.en)(this.sourceUrl),o=G({...t.toJSON(),f:"json"}),r={...this.requestOptions,...i,query:o},a=`${n}/jobs/${this.jobId}/results/${e}`;return(0,h.default)(a,r).then((e=>U(e.data)))}async fetchResultMapImageLayer(){const{path:e}=(0,O.en)(this.sourceUrl),t=e.indexOf("/GPServer/"),n=`${e.substring(0,t)}/MapServer/jobs/${this.jobId}`;return new(0,(await Promise.all([i.e(2673),i.e(8834),i.e(3005),i.e(6369),i.e(142),i.e(9632),i.e(2551),i.e(2905),i.e(5666),i.e(2696),i.e(4288),i.e(6304),i.e(5089)]).then(i.bind(i,62933))).default)({url:n})}async waitForJobCompletion(e={}){const{interval:t=1e3,signal:i,statusCallback:n}=e;return new Promise(((e,o)=>{(0,$.onAbort)(i,(()=>{this._clearTimer(),o((0,$.createAbortError)())})),this._clearTimer();const r=setInterval((()=>{this._timer||o((0,$.createAbortError)()),this.checkJobStatus(this.requestOptions).then((t=>{const{jobStatus:i}=t;switch(this.jobStatus=i,i){case"job-succeeded":this._clearTimer(),e(this);break;case"job-submitted":case"job-executing":case"job-waiting":case"job-new":n&&n(this);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-timed-out":case"job-failed":this._clearTimer(),o(this)}}))}),t);this._timer=r}))}_clearTimer(){this._timer&&(clearInterval(this._timer),this._timer=null)}};(0,n._)([(0,r.Cb)()],W.prototype,"jobId",void 0),(0,n._)([(0,r.Cb)({json:{read:J.read}})],W.prototype,"jobStatus",void 0),(0,n._)([(0,r.Cb)({type:[k.Z]})],W.prototype,"messages",void 0),(0,n._)([(0,r.Cb)()],W.prototype,"requestOptions",void 0),(0,n._)([(0,r.Cb)({json:{write:!0}})],W.prototype,"sourceUrl",void 0),W=Z=(0,n._)([(0,s.j)("esri.tasks.support.JobInfo")],W);const q=W;let z=class extends v.Z{constructor(e){super(e),this._jobs=new Map,this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}destroy(){this._jobs.forEach((e=>e.destroy())),this._jobs.clear()}cancelJob(e,t){const i=this._jobs.get(e),n={...this.requestOptions,...t};return i.cancelJob(n)}checkJobStatus(e,t){const i=this._jobs.get(e),n={...this.requestOptions,...t};return i.checkJobStatus(n)}execute(e,t){const i=new w({outSpatialReference:this.outSpatialReference,processExtent:this.processExtent,processSpatialReference:this.processSpatialReference,returnFeatureCollection:this.returnFeatureCollection,returnM:this.returnM,returnZ:this.returnZ}),n={...this.requestOptions,...t};return async function(e,t,i,n){return V(e,"execute",i=w.from(i),t,n).then((e=>{const t=e.data.results||[],i=e.data.messages||[];return{results:t.map(U),messages:i.map((e=>k.Z.fromJSON(e)))}}))}(this.url,e,i,n)}getResultData(e,t,i){const n=this._jobs.get(e),{returnFeatureCollection:o,returnM:r,returnZ:a,outSpatialReference:s}=this,l=new w({returnFeatureCollection:o,returnM:r,returnZ:a,outSpatialReference:s,url:this.url}),c={...this.requestOptions,...i};return n.fetchResultData(t,l,c)}getResultImage(e,t,i,n){const o=this._jobs.get(e),r={...this.requestOptions,...n};return o.fetchResultImage(t,i,r)}async getResultMapImageLayer(e){return this._jobs.get(e).fetchResultMapImageLayer()}submitJob(e,t){const i=new w({outSpatialReference:this.outSpatialReference,processExtent:this.processExtent,processSpatialReference:this.processSpatialReference,returnFeatureCollection:this.returnFeatureCollection,returnM:this.returnM,returnZ:this.returnZ}),n={...this.requestOptions,...t};return async function(e,t,i,n){return i=w.from(i),V(e,"submitJob",i,t,n).then((t=>{const i=q.fromJSON(t.data);return i.sourceUrl=e,i}))}(this.url,e,i,n).then((e=>(e.sourceUrl=this.url,this._jobs.set(e.jobId,e),e)))}waitForJobCompletion(e,t={}){return this._jobs.get(e).waitForJobCompletion(t)}};(0,n._)([(0,r.Cb)({type:y.Z})],z.prototype,"outSpatialReference",void 0),(0,n._)([(0,r.Cb)({type:b.Z})],z.prototype,"processExtent",void 0),(0,n._)([(0,r.Cb)({type:y.Z})],z.prototype,"processSpatialReference",void 0),(0,n._)([(0,r.Cb)({nonNullable:!0})],z.prototype,"returnFeatureCollection",void 0),(0,n._)([(0,r.Cb)({nonNullable:!0})],z.prototype,"returnM",void 0),(0,n._)([(0,r.Cb)({nonNullable:!0})],z.prototype,"returnZ",void 0),z=(0,n._)([(0,s.j)("esri/tasks/Geoprocessor")],z);const H=z;var Y=i(33517),X=i(12783);const K="simple-marker",Q="simple-line";function ee(e,t){const{graphic:i,renderer:n,symbol:o}=t,r=o.type;if("text"===r||"shield-label-symbol"===r||!("visualVariables"in n)||!n.visualVariables)return;const a=n.getVisualVariablesForType("size"),s=n.getVisualVariablesForType("color"),l=n.getVisualVariablesForType("opacity"),c=n.getVisualVariablesForType("rotation"),u=a&&a[0],p=s&&s[0],h=l&&l[0],m=c&&c[0];if(u){const t=r===K?o.style:null,n=(0,f.getSize)(u,i,{shape:t});null!=n&&(r===K?e.size=(0,d.Wz)(n):"picture-marker"===r?(e.width=(0,d.Wz)(n),e.height=(0,d.Wz)(n)):r===Q?e.width=(0,d.Wz)(n):e.outline&&(e.outline.width=(0,d.Wz)(n)))}if(p){const t=(0,f.getColor)(p,i);(t&&r===K||r===Q||"simple-fill"===r)&&(e.color=t?t.toJSON():void 0)}if(h){const t=(0,f.getOpacity)(h,i);null!=t&&e.color&&(e.color[3]=Math.round(255*t))}m&&(e.angle=-(0,f.getRotationAngle)(n,i))}function te(e){return e&&"bing-maps"===e.type}function ie(e){return e&&"csv"===e.type}function ne(e){return e&&"feature"===e.type}function oe(e){return e&&"geojson"===e.type}function re(e){return e&&"graphics"===e.type}function ae(e){return e&&"group"===e.type}function se(e){return e&&"esri.views.2d.layers.GroupLayerView2D"===e.declaredClass}function le(e){return e&&"imagery"===e.type}function ce(e){return e&&"kml"===e.type}function ue(e){return e&&"map-image"===e.type}function de(e){return e&&"map-notes"===e.type}function pe(e){return e&&"open-street-map"===e.type}function he(e){return e&&"stream"===e.type}function fe(e){return e&&"tile"===e.type}function me(e){return e&&"vector-tile"===e.type}function ve(e){return e&&"web-tile"===e.type}function ye(e){return e&&"wms"===e.type}function be(e){return e&&"wmts"===e.type}var ge=i(70026);const _e={Feet:"ft",Kilometers:"km",Meters:"m",Miles:"mi"},we=new a.Xn({esriFeet:"Feet",esriKilometers:"Kilometers",esriMeters:"Meters",esriMiles:"Miles"}),ke=new a.Xn({esriExecutionTypeSynchronous:"sync",esriExecutionTypeAsynchronous:"async"}),Se=new m.Z({returnGeometry:!0});function Ce(e){return e&&(e.path||"image/svg+xml"===e.contentType||e.url&&e.url.endsWith(".svg"))}let xe=class extends v.Z{constructor(...e){super(...e),this._ssExtent=null,this._legendLayers=[],this._legendLayerNameMap={},this._gpServerUrl=null,this._cimVersion=null,this._is11xService=!1,this._gpMetadata=null,this.updateDelay=1e3}get _geoprocessor(){return new H({url:this.url})}get mode(){return this._gpMetadata&&this._gpMetadata.executionType?ke.fromJSON(this._gpMetadata.executionType):"sync"}execute(e,t){let i=this.url;const n=i.lastIndexOf("/GPServer/");return n>0&&(i=i.slice(0,n+9)),Promise.resolve().then((()=>this._gpServerUrl===i?{data:this._gpMetadata}:(this._gpServerUrl=i,(0,h.default)(i,{query:{f:"json"}})))).then((t=>(this._gpMetadata=t.data,this._cimVersion=this._gpMetadata.cimVersion,this._is11xService=!!this._cimVersion,this._getGpPrintParams(e)))).then((e=>{const i=e=>"sync"===this.mode?e.results&&e.results[0]&&e.results[0].value:this._geoprocessor.getResultData(e.jobId,"Output_File",t).then((e=>e.value));return"async"===this.mode?this._geoprocessor.submitJob(e,t).then((e=>this._geoprocessor.waitForJobCompletion(e.jobId,{interval:this.updateDelay}).then(i))):this._geoprocessor.execute(e,t).then(i)}))}async _createOperationalLayers(e,t){const i=[],n={layerView:null,printTemplate:t,view:e};let o=0;t.scalePreserved&&(o=t.outScale||e.scale);const r=function(e,t){const i=e.allLayerViews.items;if(t===e.scale)return i.filter((e=>!e.suspended));const n=new Array;for(const e of i)se(e.parent)&&!n.includes(e.parent)||!e.visible||t&&"isVisibleAtScale"in e&&!e.isVisibleAtScale(t)||n.push(e);return n}(e,o);for(const e of r){const t=e.layer;if(!t.loaded||ae(t))continue;let o;n.layerView=e,o=te(t)?this._createBingMapsLayerJSON(t):ie(t)?await this._createCSVLayerJSON(t,n):ne(t)?await this._createFeatureLayerJSON(t,n):oe(t)?await this._createGeoJSONLayer(t,n):re(t)?await this._createGraphicsLayerJSON(t,n):le(t)?this._createImageryLayerJSON(t):ce(t)?await this._createKMLLayerJSON(t,n):ue(t)?this._createMapImageLayerJSON(t,n):de(t)?await this._createMapNotesLayerJSON(n):pe(t)?this._createOpenStreetMapLayerJSON():he(t)?await this._createStreamLayerJSON(t,n):fe(t)?this._createTileLayerJSON(t):me(t)?await this._createVectorTileLayerJSON(t,n):ve(t)?this._createWebTileLayerJSON(t):ye(t)?this._createWMSLayerJSON(t):be(t)?this._createWMTSLayerJSON(t):await this._createScreenshotJSON(t,n),o&&(Array.isArray(o)?i.push(...o):(o.id=t.id,o.title=this._legendLayerNameMap[t.id]||t.title,o.opacity=t.opacity,o.minScale=t.minScale||0,o.maxScale=t.maxScale||0,i.push(o)))}if(o&&i.forEach((e=>{e.minScale=0,e.maxScale=0})),e.graphics&&e.graphics.length){const n=await this._createFeatureCollectionJSON(null,e.graphics,t);n&&i.push(n)}return i}_createBingMapsLayerJSON(e){return{culture:e.culture,key:e.key,type:"BingMaps"+("aerial"===e.style?"Aerial":"hybrid"===e.style?"Hybrid":"Road")}}async _createCSVLayerJSON(e,{layerView:t,printTemplate:i}){let n;if(this._legendLayers&&this._legendLayers.push({id:e.id}),!this._is11xService){const n=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,n,i)}return n={type:"CSV"},e.write(n,{origin:"web-map"}),delete n.popupInfo,delete n.layerType,n.showLabels=i.showLabels&&e.labelsVisible,n}async _createFeatureCollectionJSON(e,t,i){let n;const o={layerDefinition:{name:"polygonLayer",geometryType:"esriGeometryPolygon",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolygon",features:[]}},r={layerDefinition:{name:"polylineLayer",geometryType:"esriGeometryPolyline",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPolyline",features:[]}},a={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}},s={layerDefinition:{name:"multipointLayer",geometryType:"esriGeometryMultipoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryMultipoint",features:[]}},l={layerDefinition:{name:"pointLayer",geometryType:"esriGeometryPoint",drawingInfo:{renderer:null}},featureSet:{geometryType:"esriGeometryPoint",features:[]}};if(l.layerDefinition.name="textLayer",delete l.layerDefinition.drawingInfo,e){if("esri.layers.FeatureLayer"===e.declaredClass||"esri.layers.StreamLayer"===e.declaredClass?o.layerDefinition.name=r.layerDefinition.name=a.layerDefinition.name=s.layerDefinition.name=this._legendLayerNameMap[e.id]||e.get("arcgisProps.title")||e.title:"esri.layers.GraphicsLayer"===e.declaredClass&&(t=e.graphics.items),e.renderer){const t=e.renderer.toJSON();o.layerDefinition.drawingInfo.renderer=t,r.layerDefinition.drawingInfo.renderer=t,a.layerDefinition.drawingInfo.renderer=t,s.layerDefinition.drawingInfo.renderer=t}if(i.showLabels&&e.labelsVisible&&"function"==typeof e.write){var c,d;const t=null==(c=e.write({},{origin:"web-map"}).layerDefinition)||null==(d=c.drawingInfo)?void 0:d.labelingInfo;t&&(n=!0,o.layerDefinition.drawingInfo.labelingInfo=t,r.layerDefinition.drawingInfo.labelingInfo=t,a.layerDefinition.drawingInfo.labelingInfo=t,s.layerDefinition.drawingInfo.labelingInfo=t)}}let p;null!=e&&e.renderer||n||(delete o.layerDefinition.drawingInfo,delete r.layerDefinition.drawingInfo,delete a.layerDefinition.drawingInfo,delete s.layerDefinition.drawingInfo);const h=e&&e.fields,f=e&&e.renderer;if(h&&f&&"function"==typeof f.collectRequiredFields){const e=new Set;await f.collectRequiredFields(e,h),p=Array.from(e)}if(h){const e=h.map((e=>e.toJSON()));o.layerDefinition.fields=e,r.layerDefinition.fields=e,a.layerDefinition.fields=e,s.layerDefinition.fields=e}const m=t&&t.length;let v;for(let n=0;n<m;n++){const c=t[n]||t.getItemAt(n);if(!1===c.visible||!c.geometry)continue;if(v=c.toJSON(),v.hasOwnProperty("popupTemplate")&&delete v.popupTemplate,v.geometry&&v.geometry.z&&delete v.geometry.z,v.symbol&&v.symbol.outline&&"esriCLS"===v.symbol.outline.type&&!this._is11xService)continue;!this._is11xService&&v.symbol&&v.symbol.outline&&v.symbol.outline.color&&v.symbol.outline.color[3]&&(v.symbol.outline.color[3]=255);const d=e&&e.renderer&&("valueExpression"in e.renderer&&e.renderer.valueExpression||"hasVisualVariables"in e.renderer&&e.renderer.hasVisualVariables());if(!v.symbol&&e&&e.renderer&&d&&!this._is11xService){const t=e.renderer,i=await t.getSymbolAsync(c);if(!i)continue;v.symbol=i.toJSON(),"hasVisualVariables"in t&&t.hasVisualVariables()&&ee(v.symbol,{renderer:t,graphic:c,symbol:i})}if(v.symbol&&(v.symbol.angle||delete v.symbol.angle,Ce(v.symbol)?v.symbol=await this._convertSvgToPictureMarkerSymbolJson(v.symbol):v.symbol.text&&delete v.attributes),(!i||!i.forceFeatureAttributes)&&p&&p.length){const e={};p.forEach((t=>{v.attributes&&v.attributes.hasOwnProperty(t)&&(e[t]=v.attributes[t])})),v.attributes=e}"polygon"===c.geometry.type?o.featureSet.features.push(v):"polyline"===c.geometry.type?r.featureSet.features.push(v):"point"===c.geometry.type?v.symbol&&v.symbol.text?l.featureSet.features.push(v):a.featureSet.features.push(v):"multipoint"===c.geometry.type?s.featureSet.features.push(v):"extent"===c.geometry.type&&(v.geometry=u.Z.fromExtent(c.geometry).toJSON(),o.featureSet.features.push(v))}const y=[o,r,s,a,l].filter((e=>e.featureSet.features.length>0));for(const e of y){const t=e.featureSet.features.every((e=>e.symbol));!t||i&&i.forceFeatureAttributes||e.featureSet.features.forEach((e=>{delete e.attributes})),t&&delete e.layerDefinition.drawingInfo,e.layerDefinition.drawingInfo&&e.layerDefinition.drawingInfo.renderer&&await this._convertSvgRenderer(e.layerDefinition.drawingInfo.renderer)}return y.length?{featureCollection:{layers:y},showLabels:n}:null}async _createFeatureLayerJSON(e,t){var i,n;let o;this._legendLayers&&this._legendLayers.push({id:e.id});const r=e.renderer;if(e.featureReduction||r&&"dot-density"===r.type&&(!this._is11xService||parseFloat(this._cimVersion)<2.6))return this._createScreenshotJSON(e,t);const{layerView:a,printTemplate:s,view:l}=t,c=r&&("valueExpression"in r&&r.valueExpression||"hasVisualVariables"in r&&r.hasVisualVariables()),u="feature-layer"!==(null==(i=e.source)?void 0:i.type)&&"ogc-feature"!==(null==(n=e.source)?void 0:n.type);if(!this._is11xService&&c||e.featureReduction||u||!r||"field"in r&&null!=r.field&&("string"!=typeof r.field||!e.getField(r.field))){const t=await this._getGraphics(a);o=await this._createFeatureCollectionJSON(e,t,s)}else{var d,p;if(o={id:(h=e.write()).id,title:h.title,opacity:h.opacity,minScale:h.minScale,maxScale:h.maxScale,url:h.url,layerDefinition:h.layerDefinition},o.showLabels=s.showLabels&&e.labelsVisible,this._setURLandToken(o,e),null!=(d=o.layerDefinition)&&null!=(p=d.drawingInfo)&&p.renderer&&(delete o.layerDefinition.minScale,delete o.layerDefinition.maxScale,await this._convertSvgRenderer(o.layerDefinition.drawingInfo.renderer),"visualVariables"in r&&r.visualVariables&&r.visualVariables[0])){const e=r.visualVariables[0];if("size"===e.type&&e.maxSize&&"number"!=typeof e.maxSize&&e.minSize&&"number"!=typeof e.minSize){const t=(0,f.getSizeRangeAtScale)(e,l.scale);o.layerDefinition.drawingInfo.renderer.visualVariables[0].minSize=t.minSize,o.layerDefinition.drawingInfo.renderer.visualVariables[0].maxSize=t.maxSize}}}var h;return o}async _createGeoJSONLayer(e,{layerView:t,printTemplate:i}){this._legendLayers&&this._legendLayers.push({id:e.id});const n=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,n,i)}async _createGraphicsLayerJSON(e,{printTemplate:t}){return this._createFeatureCollectionJSON(e,null,t)}_createImageryLayerJSON(e){this._legendLayers&&this._legendLayers.push({id:e.id});const t={bandIds:e.bandIds,compressionQuality:e.compressionQuality,format:e.format,interpolation:e.interpolation};if((e.mosaicRule||e.definitionExpression)&&(t.mosaicRule=e.exportImageServiceParameters.mosaicRule.toJSON()),e.renderingRule||e.renderer)if(this._is11xService)e.renderingRule&&(t.renderingRule=e.renderingRule.toJSON()),e.renderer&&(t.layerDefinition=t.layerDefinition||{},t.layerDefinition.drawingInfo=t.layerDefinition.drawingInfo||{},t.layerDefinition.drawingInfo.renderer=e.renderer.toJSON());else{const i=e.exportImageServiceParameters.combineRendererWithRenderingRule();i&&(t.renderingRule=i.toJSON())}return this._setURLandToken(t,e),t}async _createKMLLayerJSON(e,t){const i=t.printTemplate;if(this._is11xService){const t={type:"kml"};return e.write(t,{origin:"web-map"}),delete t.layerType,t.url=(0,c.Fv)(e.url),t}{const n=[],o=t.layerView;o.allVisibleMapImages.forEach(((t,i)=>{const o={id:`${e.id}_image${i}`,type:"image",title:e.id,minScale:e.minScale||0,maxScale:e.maxScale||0,opacity:e.opacity,extent:t.extent};"data:image/png;base64,"===t.href.substr(0,22)?o.imageData=t.href.substr(22):o.url=t.href,n.push(o)}));const r=[...o.allVisiblePoints.items,...o.allVisiblePolylines.items,...o.allVisiblePolygons.items],a={id:e.id,...await this._createFeatureCollectionJSON(null,r,i)};return n.push(a),n}}_createMapImageLayerJSON(e,{view:t}){let i;const n={id:e.id,subLayerIds:[]};let o=[];const r=t.scale,a=e=>{const t=0===r,i=0===e.minScale||r<=e.minScale,s=0===e.maxScale||r>=e.maxScale;if(e.visible&&(t||i&&s))if(e.sublayers)e.sublayers.forEach(a);else{const t=e.toExportImageJSON(),i={id:e.id,name:e.title,layerDefinition:{drawingInfo:t.drawingInfo,definitionExpression:t.definitionExpression,source:t.source}};o.unshift(i),n.subLayerIds.push(e.id)}};return e.sublayers&&e.sublayers.forEach(a),o.length&&(o=o.map((({id:e,name:t,layerDefinition:i})=>({id:e,name:t,layerDefinition:i}))),i={layers:o,visibleLayers:e.capabilities.exportMap.supportsDynamicLayers?void 0:n.subLayerIds},this._setURLandToken(i,e),this._legendLayers.push(n)),i}async _createMapNotesLayerJSON({layerView:e,printTemplate:t}){const i=[];for(const n of e.graphicsViews()){const e=await this._createFeatureCollectionJSON(n,n.graphics,t);e&&i.push(...e.featureCollection.layers)}return{featureCollection:{layers:i}}}_createOpenStreetMapLayerJSON(){return{type:"OpenStreetMap"}}async _createScreenshotJSON(e,{printTemplate:t,view:i}){const n={type:"image"},o={format:"png",ignoreBackground:!0,layers:[e],rotation:0},r=this._ssExtent||i.extent.clone();let a=96,s=!0,l=!0;if(t.exportOptions){const e=t.exportOptions;e.dpi>0&&(a=e.dpi),e.width>0&&(s=e.width%2==i.width%2),e.height>0&&(l=e.height%2==i.height%2)}if("map-only"===t.layout&&t.scalePreserved&&(!t.outScale||t.outScale===i.scale)&&96===a&&(!s||!l)&&(o.area={x:0,y:0,width:i.width,height:i.height},s||(o.area.width-=1),l||(o.area.height-=1),!this._ssExtent)){const e=i.toMap((0,d.vW)(o.area.width,o.area.height));r.ymin=e.y,r.xmax=e.x,this._ssExtent=r}n.extent=r.clone()._normalize(!0).toJSON();const u=await i.takeScreenshot(o),p=(0,c.sJ)(u.dataUrl);return n.imageData=p.data,n}async _createStreamLayerJSON(e,{layerView:t,printTemplate:i}){this._legendLayers&&this._legendLayers.push({id:e.id});const n=await this._getGraphics(t);return this._createFeatureCollectionJSON(e,n,i)}_createTileLayerJSON(e){const t={customParameters:e.customParameters};return this._setURLandToken(t,e),t}async _createVectorTileLayerJSON(e,t){if(this._is11xService&&e.serviceUrl&&e.styleUrl){const t=p.id&&p.id.findCredential(e.styleUrl),i=p.id&&p.id.findCredential(e.serviceUrl);if(!t&&!i||"2.1.0"!==this._cimVersion){const n={type:"VectorTileLayer"};return n.styleUrl=(0,c.Fv)(e.styleUrl),t&&(n.token=t.token),i&&i.token!==n.token&&(n.additionalTokens=[{url:e.serviceUrl,token:i.token}]),n}}return this._createScreenshotJSON(e,t)}_createWebTileLayerJSON(e){const t={type:"WebTiledLayer",urlTemplate:e.urlTemplate.replace(/\${/g,"{"),credits:e.copyright};return e.subDomains&&e.subDomains.length>0&&(t.subDomains=e.subDomains),t}_createWMSLayerJSON(e){let t;const i=[],n=e=>{e.visible&&(e.sublayers?e.sublayers.forEach(n):e.name&&i.unshift(e.name))};return e.sublayers&&e.sublayers.forEach(n),i.length&&(t={type:"wms",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,transparentBackground:e.imageTransparency,visibleLayers:i,url:(0,c.Fv)(e.url),version:e.version}),t}_createWMTSLayerJSON(e){const t=e.activeLayer;return{type:"wmts",customLayerParameters:e.customLayerParameters,customParameters:e.customParameters,format:t.imageFormat,layer:t.id,style:t.styleId,tileMatrixSet:t.tileMatrixSetId,url:(0,c.Fv)(e.url)}}_setURLandToken(e,t){var i;if(!t.url)return;e.url=(0,c.Fv)(e.url||t.url);const n=null==(i=p.id)?void 0:i.findCredential(t.url);n&&(e.token=n.token)}async _convertSvgToPictureMarkerSymbolJson(e){this._canvas||(this._canvas=document.createElement("canvas"));const t=1024;this._canvas.width=t,this._canvas.height=t;const i=this._canvas.getContext("2d");let n,o;if(e.path){var r;const a=new Path2D(e.path);a.closePath(),i.fillStyle=Array.isArray(e.color)?`rgba(${e.color[0]},${e.color[1]},${e.color[2]},${e.color[3]/255})`:"rgb(0,0,0)",i.fill(a);const s=function(e,t=15){const i=e.canvas.width,n=e.canvas.height,o=e.getImageData(0,0,i,n).data;let r,a,s,l,c,u;e:for(a=n;a--;)for(r=i;r--;)if(o[4*(i*a+r)+3]>t){u=a;break e}if(!u)return null;e:for(r=i;r--;)for(a=u+1;a--;)if(o[4*(i*a+r)+3]>t){c=r;break e}e:for(r=0;r<=c;++r)for(a=u+1;a--;)if(o[4*(i*a+r)+3]>t){s=r;break e}e:for(a=0;a<=u;++a)for(r=s;r<=c;++r)if(o[4*(i*a+r)+3]>t){l=a;break e}return{x:s,y:l,width:c-s,height:u-l}}(i);if(!s)return null;i.clearRect(0,0,t,t);const l=(0,d.F2)(e.size)/Math.max(s.width,s.height);i.scale(l,l);const c=t/l,u=c/2-s.width/2-s.x,p=c/2-s.height/2-s.y;if(i.translate(u,p),Array.isArray(e.color)&&i.fill(a),null!=(r=e.outline)&&r.width&&Array.isArray(e.outline.color)){const t=e.outline;i.lineWidth=(0,d.F2)(t.width)/l,i.lineJoin="round",i.strokeStyle=`rgba(${t.color[0]},${t.color[1]},${t.color[2]},${t.color[3]/255})`,i.stroke(a),s.width+=i.lineWidth,s.height+=i.lineWidth}s.width*=l,s.height*=l;const h=i.getImageData(512-s.width/2,512-s.height/2,Math.ceil(s.width),Math.ceil(s.height));n=h.width,o=h.height,i.canvas.width=n,i.canvas.height=o,i.putImageData(h,0,0)}else{const t="image/svg+xml"===e.contentType?"data:image/svg+xml;base64,"+e.imageData:e.url,r=(await(0,h.default)(t,{responseType:"image"})).data;n=(0,d.F2)(e.width),o=(0,d.F2)(e.height),i.canvas.width=n,i.canvas.height=o,i.drawImage(r,0,0,i.canvas.width,i.canvas.height)}return{type:"esriPMS",imageData:i.canvas.toDataURL("image/png").substr(22),angle:e.angle,contentType:"image/png",height:(0,d.Wz)(o),width:(0,d.Wz)(n),xoffset:e.xoffset,yoffset:e.yoffset}}async _convertSvgRenderer(e){const t=e.type;if("simple"===t&&Ce(e.symbol))e.symbol=await this._convertSvgToPictureMarkerSymbolJson(e.symbol);else if("uniqueValue"===t||"classBreaks"===t){Ce(e.defaultSymbol)&&(e.defaultSymbol=await this._convertSvgToPictureMarkerSymbolJson(e.defaultSymbol));const i=e["uniqueValue"===t?"uniqueValueInfos":"classBreakInfos"];if(i)for(const e of i)Ce(e.symbol)&&(e.symbol=await this._convertSvgToPictureMarkerSymbolJson(e.symbol))}}_getGraphics(e){return e.queryFeatures(Se).then((e=>e.features))}async _getPrintDefinition(e,t){const i=e.view;let n=i.spatialReference;const o={operationalLayers:await this._createOperationalLayers(i,t)};let r=this._ssExtent||e.extent||i.extent;return n&&n.isWrappable&&(r=r.clone()._normalize(!0),n=r.spatialReference),o.mapOptions={extent:r&&r.toJSON(),spatialReference:n&&n.toJSON(),showAttribution:t.attributionVisible},this._ssExtent=null,i.background&&(o.background=i.background.toJSON()),i.rotation&&(o.mapOptions.rotation=-i.rotation),t.scalePreserved&&(o.mapOptions.scale=t.outScale||i.scale),o}async _getGpPrintParams(e){const t=e.template||new ge.Z;null==t.showLabels&&(t.showLabels=!0);const i=t.exportOptions;let n;const o=(0,X.a)(t.layout);if(i&&(n={dpi:i.dpi},"map_only"===o.toLowerCase()||""===o)){const e=i.width,t=i.height;n.outputSize=[e,t]}const r=t.layoutOptions;let a;if(r){let e,t;"Miles"===r.scalebarUnit||"Kilometers"===r.scalebarUnit?(e="Kilometers",t="Miles"):"Meters"!==r.scalebarUnit&&"Feet"!==r.scalebarUnit||(e="Meters",t="Feet"),a={titleText:r.titleText,authorText:r.authorText,copyrightText:r.copyrightText,customTextElements:r.customTextElements,scaleBarOptions:{metricUnit:we.toJSON(e),metricLabel:_e[e],nonMetricUnit:we.toJSON(t),nonMetricLabel:_e[t]}}}let s=null;r&&r.legendLayers&&(s=r.legendLayers.map((e=>{this._legendLayerNameMap[e.layerId]=e.title;const t={id:e.layerId};return e.subLayerIds&&(t.subLayerIds=e.subLayerIds),t})));const c=await this._getPrintDefinition(e,t);if(c.operationalLayers){const e=new RegExp("[\\u4E00-\\u9FFF\\u0E00-\\u0E7F\\u0900-\\u097F\\u3040-\\u309F\\u30A0-\\u30FF\\u31F0-\\u31FF]"),t=/[\u0600-\u06FF]/,i=i=>{const n=i.text,o=i.font,r=o&&o.family&&o.family.toLowerCase();n&&o&&("arial"===r||"arial unicode ms"===r)&&(o.family=e.test(n)?"Arial Unicode MS":"Arial","normal"!==o.style&&t.test(n)&&(o.family="Arial Unicode MS"))},n=()=>{throw new l.Z("print-task:cim-symbol-unsupported","CIMSymbol is not supported by a print service published from ArcMap")};c.operationalLayers.forEach((e=>{var t,o,r;null!=(t=e.featureCollection)&&t.layers?e.featureCollection.layers.forEach((e=>{var t,o,r,a;if(null!=(t=e.layerDefinition)&&null!=(o=t.drawingInfo)&&null!=(r=o.renderer)&&r.symbol){const t=e.layerDefinition.drawingInfo.renderer;"esriTS"===t.symbol.type?i(t.symbol):"CIMSymbolReference"!==t.symbol.type||this._is11xService||n()}null!=(a=e.featureSet)&&a.features&&e.featureSet.features.forEach((e=>{e.symbol&&("esriTS"===e.symbol.type?i(e.symbol):"CIMSymbolReference"!==e.symbol.type||this._is11xService||n())}))})):!this._is11xService&&null!=(o=e.layerDefinition)&&null!=(r=o.drawingInfo)&&r.renderer&&JSON.stringify(e.layerDefinition.drawingInfo.renderer).includes('"type":"CIMSymbolReference"')&&n()}))}e.outSpatialReference&&(c.mapOptions.spatialReference=e.outSpatialReference.toJSON()),Object.assign(c,{exportOptions:n,layoutOptions:a}),Object.assign(c.layoutOptions,{legendOptions:{operationalLayers:null!=s?s:this._legendLayers.slice()}}),this._legendLayers.length=0;const u={Web_Map_as_JSON:JSON.stringify(c),Format:(0,Y.a)(t.format),Layout_Template:o};return e.extraParameters&&Object.assign(u,e.extraParameters),u}};(0,n._)([(0,r.Cb)()],xe.prototype,"_geoprocessor",null),(0,n._)([(0,r.Cb)()],xe.prototype,"_gpMetadata",void 0),(0,n._)([(0,r.Cb)({readOnly:!0})],xe.prototype,"mode",null),(0,n._)([(0,r.Cb)()],xe.prototype,"updateDelay",void 0),xe=(0,n._)([(0,s.j)("esri.tasks.PrintTask")],xe);const Oe=xe},21544:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(56140),o=(i(95830),i(36544),i(68055),i(79881)),r=i(56274),a=i(87566),s=(i(10923),i(57002),i(86035),i(58385));const l=new r.Xn({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let c=class extends s.wq{constructor(e){super(e),this.description=null,this.type=null}};(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,n._)([(0,o.Cb)({type:String,json:{read:l.read,write:l.write}})],c.prototype,"type",void 0),c=(0,n._)([(0,a.j)("esri.tasks.support.GPMessage")],c);const u=c},70026:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(56140),o=(i(95830),i(36544),i(68055),i(79881)),r=i(87566),a=(i(10923),i(57002),i(86035),i(82677));let s=class extends a.default{constructor(e){super(e),this.attributionVisible=!0,this.exportOptions={width:800,height:1100,dpi:96},this.forceFeatureAttributes=!1,this.format="png32",this.label=null,this.layout="map-only",this.layoutOptions=null,this.outScale=0,this.scalePreserved=!0,this.showLabels=!0}};(0,n._)([(0,o.Cb)()],s.prototype,"attributionVisible",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"exportOptions",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"forceFeatureAttributes",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"format",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"label",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"layout",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"layoutOptions",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"outScale",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"scalePreserved",void 0),(0,n._)([(0,o.Cb)()],s.prototype,"showLabels",void 0),s=(0,n._)([(0,r.j)("esri.tasks.support.PrintTemplate")],s);const l=s},33517:(e,t,i)=>{"use strict";i.d(t,{i:()=>o,a:()=>r});const n=new(i(56274).Xn)({PDF:"pdf",PNG32:"png32",PNG8:"png8",JPG:"jpg",GIF:"gif",EPS:"eps",SVG:"svg",SVGZ:"svgz"}),o=n.fromJSON.bind(n),r=n.toJSON.bind(n)},12783:(e,t,i)=>{"use strict";i.d(t,{i:()=>o,a:()=>r});const n=new(i(56274).Xn)({MAP_ONLY:"map-only","A3 Landscape":"a3-landscape","A3 Portrait":"a3-portrait","A4 Landscape":"a4-landscape","A4 Portrait":"a4-portrait","Letter ANSI A Landscape":"letter-ansi-a-landscape","Letter ANSI A Portrait":"letter-ansi-a-portrait","Tabloid ANSI B Landscape":"tabloid-ansi-b-landscape","Tabloid ANSI B Portrait":"tabloid-ansi-b-portrait"}),o=n.fromJSON.bind(n),r=n.toJSON.bind(n)},62664:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Le});var n=i(56140),o=(i(95830),i(36544)),r=i(79881),a=i(51894),s=i(60263),l=i(87765),c=i(87566),u=(i(10923),i(57002),i(86035),i(10180)),d=i(59691),p=i(80621),h=i(58836),f=(i(40450),i(9200)),m=i(30818),v=i(19401),y=i(90806),b=i(51474),g=(i(68055),i(82677));let _=class extends g.default{constructor(e){super(e)}get editedBookmark(){var e;return(null==(e=this.bookmark)?void 0:e.clone())||null}get state(){return this._get("state")}set state(e){this.validationState=void 0,this.loading=void 0,this._set("state",e)}};(0,n._)([(0,r.Cb)()],_.prototype,"bookmark",void 0),(0,n._)([(0,r.Cb)({readOnly:!0})],_.prototype,"editedBookmark",null),(0,n._)([(0,r.Cb)()],_.prototype,"state",null),(0,n._)([(0,r.Cb)()],_.prototype,"validationState",void 0),(0,n._)([(0,r.Cb)()],_.prototype,"loading",void 0),_=(0,n._)([(0,c.j)("esri.widgets.Bookmarks.UserState")],_);const w=_;var k=i(32656),S=i(35470),C=i(28293),x=i(65984),O=i(65892),A=i(4338);const P="esri.widgets.Bookmarks.BookmarksViewModel",M=o.Z.getLogger(P),j=C.Z.ofType(O.Z),E={width:128,height:128,format:"png"},T={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0};let I=class extends((0,A._)(S.Z.EventedAccessor)){constructor(e){super(e),this.activeBookmark=null}destroy(){this.view=null,this._set("activeBookmark",null)}set bookmarks(e){void 0!==e?this._override("bookmarks",e):this._clearOverride("bookmarks")}get bookmarks(){return this.get("view.map.bookmarks")||new j}set defaultCreateOptions(e){this._set("defaultCreateOptions",{...T,...e})}get defaultCreateOptions(){return T}set defaultEditOptions(e){this._set("defaultEditOptions",{...T,...e})}get defaultEditOptions(){return T}get state(){const e=this.get("view");return e&&!e.ready?"loading":"ready"}get view(){return this._get("view")}set view(e){e&&"2d"!==e.type&&M.error(new k.Z("view:invalid-view","SceneView is not supported",{view:e})),this._set("view",e)}async createBookmark(e){const{view:t,defaultCreateOptions:i}=this;if(!t){const e=new k.Z("create-bookmark:invalid-view","Cannot create a bookmark without a view.");return M.error(e),Promise.reject(e)}const{takeScreenshot:n,screenshotSettings:o,captureExtent:r,captureViewpoint:a,captureRotation:s,captureScale:l}={...i,...e},c=n?await this._createThumbnail(o):void 0;return new O.Z({...c&&{thumbnail:c},...(a||r)&&{viewpoint:this._createViewpoint({view:t,captureScale:l,captureRotation:s})}})}async editBookmark(e,t){const{view:i,defaultEditOptions:n}=this;if(!i){const e=new k.Z("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");return M.error(e),Promise.reject(e)}const{takeScreenshot:o,screenshotSettings:r,captureExtent:a,captureViewpoint:s,captureRotation:l,captureScale:c}={...n,...t},u=o?await this._createThumbnail(r):void 0;return u&&(e.thumbnail=u),(s||a)&&(e.viewpoint=this._createViewpoint({view:i,captureScale:c,captureRotation:l})),this.emit("bookmark-edit",{bookmark:e}),e}goTo(e){const{view:t}=this;if(!t){const e=new k.Z("go-to:invalid-view","Cannot go to a bookmark without a view");return M.error(e),Promise.reject(e)}const i=null==e?void 0:e.viewpoint;if(!i){const t=new k.Z("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:e});return M.error(t),Promise.reject(t)}this._set("activeBookmark",e);const n={target:i},o=this.callGoTo(n);return this.emit("select-bookmark",{bookmark:e}),this.emit("bookmark-select",{bookmark:e}),o.catch((()=>{})).then((()=>this._set("activeBookmark",null))),o}async _createThumbnail(e){const t=await this.view.takeScreenshot({...E,...e});return new h.Z({url:t.dataUrl})}_createViewpoint({view:e,captureRotation:t,captureScale:i}){var n,o;const r=null==(n=e.viewpoint)?void 0:n.clone();return new x.Z({targetGeometry:null==(o=e.extent)?void 0:o.clone(),rotation:t&&(null==r?void 0:r.rotation)||0,scale:i&&(null==r?void 0:r.scale)||0})}};(0,n._)([(0,r.Cb)({readOnly:!0})],I.prototype,"activeBookmark",void 0),(0,n._)([(0,r.Cb)({type:j})],I.prototype,"bookmarks",null),(0,n._)([(0,r.Cb)()],I.prototype,"defaultCreateOptions",null),(0,n._)([(0,r.Cb)()],I.prototype,"defaultEditOptions",null),(0,n._)([(0,r.Cb)({readOnly:!0})],I.prototype,"state",null),(0,n._)([(0,r.Cb)({value:null})],I.prototype,"view",null),I=(0,n._)([(0,c.j)(P)],I);const D=I;var R=i(1073),L=i(25094);const N="data-bookmark-uid",B="esri-bookmarks esri-widget--panel",F="esri-bookmarks__loader-container",V="esri-bookmarks__loader",U="esri-bookmarks__list",G="esri-bookmarks__list--sortable",Z="esri-bookmarks__bookmark",$="esri-bookmarks__bookmark-button",J="esri-bookmarks__bookmark-image-container",W="esri-bookmarks__bookmark-edit-button",q="esri-bookmarks_bookmark-drag-handle",z="esri-bookmarks_bookmark-drag-handle-icon",H="esri-bookmarks__bookmark-icon",Y="esri-bookmarks__image",X="esri-bookmarks__bookmark-name",K="esri-bookmarks__bookmark--active",Q="esri-widget__content--empty",ee="esri-bookmarks__no-bookmarks-heading",te="esri-widget__no-bookmark-icon",ie="esri-bookmarks__no-bookmarks-description",ne="esri-bookmarks__adding-bookmark",oe="esri-bookmarks__add-bookmark",re="esri-bookmarks__add-bookmark-button",ae="esri-bookmarks__add-bookmark-icon",se="esri-bookmarks__authoring-card",le="esri-bookmarks__authoring-container",ce="esri-bookmarks__authoring-form",ue="esri-bookmarks__authoring-label",de="esri-bookmarks__authoring-actions",pe="esri-bookmarks__authoring-input--invalid",he="esri-bookmarks__authoring-delete-button",fe="esri-bookmarks__authoring-cancel-button",me="esri-widget",ve="esri-widget--disabled",ye="esri-button",be="esri-button--tertiary",ge="esri-input",_e="esri-icon-handle-vertical",we="esri-icon-plus",ke="esri-icon-edit",Se="esri-icon-handle-horizontal",Ce="esri-icon-refresh",xe="esri-icon-link",Oe="esri-icon-erase",Ae="esri-icon-bookmark",Pe="esri-widget__heading",Me="esri-icon-loading-indicator",je="esri-rotating",Ee={addBookmark:!0,thumbnail:!0},Te=/^https:\/\/.*/i,Ie="esri.widgets.Bookmarks",De=o.Z.getLogger(Ie);let Re=class extends y.default{constructor(e,t){super(e,t),this._handles=new d.Z,this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._addBookmarkButtonNode=null,this._focusAddBookmarkButton=!1,this._focusEditInputBox=!1,this._focusAddInputBox=!1,this._focusUrlEditInputBox=!1,this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this._selectedSortUid=null,this._sortableSavedItems=null,this._userState=null,this.defaultCreateOptions=null,this.defaultEditOptions=null,this.bookmarks=null,this.disabled=!1,this.editingEnabled=!1,this.goToOverride=null,this.iconClass=Ae,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.view=null,this.viewModel=new D,this.visibleElements={...Ee}}initialize(){this.own([(0,p.init)(this,"viewModel.bookmarks",(()=>this._bookmarksInitialized())),(0,p.init)(this,"editingEnabled",(()=>this._toggleSorting()))])}destroy(){this._destroySortable(),this._handles.destroy(),this._handles=null,this._editMenu.destroy()}get _editMenuItems(){var e,t;const{messages:i,_userState:n}=this,o=null==n||null==(e=n.editedBookmark)||null==(t=e.thumbnail)?void 0:t.url;return[new R.Z({label:null==i?void 0:i.menu.refreshThumbnail,iconClass:Ce,clickFunction:()=>this._refreshThumbnail()}),new R.Z({label:Te.test(o)?null==i?void 0:i.menu.editImageUrl:null==i?void 0:i.menu.useImageUrl,iconClass:xe,clickFunction:()=>this._startUseImageUrl()}),o?new R.Z({label:null==i?void 0:i.menu.removeThumbnail,iconClass:Oe,clickFunction:()=>this._removeThumbnail()}):null].filter(Boolean)}get _editMenu(){const{_editMenuItems:e,messages:t}=this,i=this._get("_editMenu");i&&i.destroy();const n=new L.Z({iconClass:Se,label:null==t?void 0:t.menu.label});return n.items=e,n}get bookmarkCreationOptions(){return(0,l.Mr)(De,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions}set bookmarkCreationOptions(e){void 0!==e.captureExtent&&(0,l.Mr)(De,"bookmarkCreationOptions.captureExtent",{replacement:"defaultCreateOptions.captureViewpoint",version:"4.17"}),(0,l.Mr)(De,"bookmarkCreationOptions",{replacement:"defaultCreateOptions",version:"4.18"}),this.viewModel.defaultCreateOptions=e}castVisibleElements(e){return{...Ee,...e}}endAddBookmark(){this._userState=null}goTo(e){return this.viewModel.goTo(e)}render(){const{state:e}=this.viewModel,t="loading"===e?this.renderLoading():this.renderBookmarks();return(0,v.j)("div",{class:this.classes(B,me,{[ve]:this.disabled})},t)}startAddBookmark(){this._userState=new w({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}renderLoading(){return(0,v.j)("div",{class:F,key:"loader"},(0,v.j)("div",{class:V}))}renderNoBookmarksContainer(){const{messages:e}=this;return(0,v.j)("div",{class:Q,key:"no-bookmarks"},(0,v.j)("span",{"aria-hidden":"true",class:this.classes(te,Ae)}),(0,v.j)("h1",{class:this.classes(Pe,ee)},null==e?void 0:e.noBookmarksHeading),(0,v.j)("p",{class:ie},null==e?void 0:e.noBookmarksDescription))}renderAddBookmarkLoading(){var e;return(0,v.j)("div",{key:"adding-bookmark",class:ne},(0,v.j)("span",{"aria-hidden":"true",class:this.classes(Me,je)}),null==(e=this.messages)?void 0:e.addingBookmark)}renderBookmarkItems(e){if(!e)return null;const{_userState:t,editingEnabled:i}=this;return e.map((e=>i&&e&&t&&("edit"===t.state||"edit-thumbnail"===t.state)&&t.bookmark===e?"edit-thumbnail"===t.state?this.renderEditingBookmarkUrl(t.editedBookmark):this.renderEditingBookmark(t.editedBookmark):this.renderBookmark(e))).toArray()}renderBookmarksContainer(e){var t;const{_userState:i,editingEnabled:n}=this,o="add"===(null==i?void 0:i.state),r=n&&!o?this.renderAddBookmarkButton():null,a=n?o&&i.loading?this.renderAddBookmarkLoading():"add"===(null==i?void 0:i.state)?this.renderAddingBookmark():null:null;return[(0,v.j)("ul",{key:"bookmark-list","aria-label":null==(t=this.messages)?void 0:t.widgetLabel,class:this.classes(U,{[G]:this.editingEnabled}),afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this},this.renderBookmarkItems(e)),r,a]}renderAddBookmarkButton(){var e;return this.visibleElements.addBookmark?(0,v.j)("div",{key:"add-bookmark-item",class:oe},(0,v.j)("button",{class:this.classes(ye,be,re),onclick:this.startAddBookmark,afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,"data-node-ref":"_addBookmarkButtonNode",bind:this,type:"button"},(0,v.j)("span",{"aria-hidden":"true",class:this.classes(ae,we)}),null==(e=this.messages)?void 0:e.addBookmark)):null}renderBookmarks(){const{bookmarks:e}=this.viewModel,t=e&&e.filter(Boolean),i=t&&t.length,n=i||this.editingEnabled?this.renderBookmarksContainer(t):null;return[i?null:this.renderNoBookmarksContainer(),n]}renderEditContainer(e){const{messagesCommon:t}=this;return(0,v.j)("div",{key:"edit-container"},(0,v.j)("button",{title:null==t?void 0:t.edit,"aria-label":null==t?void 0:t.edit,"data-bookmark":e,onclick:this._showEditBookmarkForm,bind:this,class:W,type:"button"},(0,v.j)("span",{"aria-hidden":"true",class:ke})))}renderDragHandle(e){const{messagesCommon:t}=this,i={[N]:e.uid};return(0,v.j)("div",Object.assign({role:"button",tabIndex:0,key:"drag-handle",bind:this,class:q,onkeydown:this._dragHandleKeydown,afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,onblur:this._dragHandleBlur,"aria-pressed":this._selectedSortUid===e.uid?"true":"false","aria-label":null==t?void 0:t.dragHandleLabel,title:null==t?void 0:t.dragHandleTitle},i),(0,v.j)("span",{"aria-hidden":"true",class:this.classes(z,_e)}))}renderBookmarkImageIcon(){return(0,v.j)("span",{"aria-hidden":"true",class:this.classes(H,Ae)})}renderBookmarkImage(e){const{visibleElements:t}=this,{thumbnail:i}=e,n=i&&i.url||"";return t.thumbnail&&n?(0,v.j)("img",{src:n,alt:"",class:Y}):null}renderBookmarkButton(e){const{messagesCommon:t}=this,{name:i}=e,n=i||(null==t?void 0:t.untitled),o=(0,v.j)("div",{class:J},this.renderBookmarkImage(e)||this.renderBookmarkImageIcon());return(0,v.j)("button",{key:"bookmark-button",class:$,bind:this,"data-bookmark":e,onclick:this._goToBookmark,type:"button"},o,(0,v.j)("span",{class:X},n))}renderBookmark(e){const{activeBookmark:t}=this.viewModel,i={[K]:t===e},n=this.editingEnabled?this.renderEditContainer(e):null,o={[N]:e.uid},r=this.editingEnabled?this.renderDragHandle(e):null;return(0,v.j)("li",Object.assign({key:e,class:this.classes(Z,i)},o),r,this.renderBookmarkButton(e),n)}renderEditingBookmarkName(e){const{messages:t,_userState:i}=this,n="name-required"===i.validationState;return(0,v.j)("label",{class:ue},null==t?void 0:t.title,n?(0,v.j)("strong",null,null==t?void 0:t.invalidTitle):null,(0,v.j)("input",{required:!0,bind:this,class:this.classes(ge,n?pe:null),type:"text",value:e.name,afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,"data-bookmark":e,"data-node-ref":"_editInputNode",placeholder:null==t?void 0:t.titlePlaceholder}))}renderEditingBookmarkUrlActions(){const{messagesCommon:e}=this;return(0,v.j)("div",{class:de},(0,v.j)("input",{type:"button",value:null==e?void 0:e.back,class:this.classes(ye,be),onclick:this._closeUrlEditBookmarkForm,bind:this}),(0,v.j)("input",{class:ye,type:"submit",value:null==e?void 0:e.add}))}renderEditingBookmarkActions(){const{messagesCommon:e}=this,{bookmark:t}=this._userState;return(0,v.j)("div",{class:de},(0,v.j)("input",{type:"button",value:null==e?void 0:e.delete,class:this.classes(ye,be,he),"data-bookmark":t,onclick:this._deleteBookmark,bind:this}),(0,v.j)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(ye,be),onclick:this._closeEditBookmarkForm,bind:this}),(0,v.j)("input",{class:ye,type:"submit",value:null==e?void 0:e.save}))}renderEditingBookmarkUrlInput(e){var t;const{messages:i,_userState:n}=this,o=null==(t=e.thumbnail)?void 0:t.url,r=Te.test(o)?o:null,a="absolute-url-required"===n.validationState;return(0,v.j)("label",{class:ue},a?(0,v.j)("strong",null,null==i?void 0:i.invalidImageUrl):null,(0,v.j)("input",{required:!0,bind:this,class:this.classes(ge,a?pe:null),type:"text",value:r,afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,"data-bookmark":e,"data-node-ref":"_urlEditInputNode",title:null==i?void 0:i.imageUrlTooltip,placeholder:null==i?void 0:i.imageUrlPlaceholder}))}renderEditingBookmarkUrl(e){const t={[N]:e.uid};return(0,v.j)("li",Object.assign({key:"edit-bookmark-url-form",class:se},t),(0,v.j)("form",{class:ce,onsubmit:this._editBookmarkUrlSubmit,bind:this},this.renderEditingBookmarkUrlInput(e),this.renderEditingBookmarkUrlActions()))}renderEditingBookmark(e){const t={[N]:e.uid};return(0,v.j)("li",Object.assign({key:"edit-bookmark-form",class:se},t),(0,v.j)("form",{class:ce,onsubmit:this._editBookmarkSubmit,bind:this},(0,v.j)("div",{class:le},(0,v.j)("div",{class:J},this.renderBookmarkImage(e),this._editMenu.render()),this.renderEditingBookmarkName(e)),this.renderEditingBookmarkActions()))}renderAddingBookmarkName(){const{_userState:e,messages:t}=this,i="name-required"===e.validationState;return(0,v.j)("label",{class:ue},null==t?void 0:t.title,i?(0,v.j)("strong",null,null==t?void 0:t.invalidTitle):null,(0,v.j)("input",{required:!0,bind:this,class:this.classes(ge,i?pe:null),type:"text",afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,"data-node-ref":"_addInputNode",value:"",placeholder:null==t?void 0:t.titlePlaceholder}))}renderAddingBookmarkActions(){const{messagesCommon:e}=this;return(0,v.j)("div",{class:this.classes(de)},(0,v.j)("input",{type:"button",value:null==e?void 0:e.cancel,class:this.classes(ye,be,fe),onclick:this._endAddBookmark.bind(this),bind:this}),(0,v.j)("input",{class:ye,type:"submit",value:null==e?void 0:e.add}))}renderAddingBookmark(){return(0,v.j)("div",{key:"add-bookmark-form",class:se},(0,v.j)("form",{class:ce,onsubmit:this._addBookmarkSubmit,bind:this},this.renderAddingBookmarkName(),this.renderAddingBookmarkActions()))}_dragHandleBlur(){this._selectedSortUid=null,this.scheduleRender()}_dragHandleKeydown(e){const{_sortableSavedItems:t}=this,i=(0,u.kK)(e);if(-1===["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].indexOf(i))return;const{_sortable:n,_selectedSortUid:o}=this,r=n.toArray(),a=e.target.getAttribute(N),s=r.indexOf(a);if(" "===i||"Enter"===i){const e=o&&o===a;return this._selectedSortUid=e?null:a,this._sortableSavedItems=e?null:this._sortable.toArray(),void this.scheduleRender()}if("Tab"===i)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===i&&t)return e.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(t,n,a),void this.scheduleRender();if(-1===s||!o)return;const l="ArrowUp"===i?s-1:s+1;l>=r.length||l<=-1||(function(e,t,i){e.splice(i,0,e.splice(t,1)[0])}(r,s,l),this._updateSortItems(r,n,a))}_updateSortItems(e,t,i){t.sort(e),this._sortBookmarks(t),this._focusSortUid=i,this._selectedSortUid=i}_focusDragHandle(e){const{_focusSortUid:t}=this;e&&t&&e.getAttribute(N)===t&&(e.focus(),this._focusSortUid=null)}_toggleSorting(){const{_sortable:e,_sortableNode:t,editingEnabled:i}=this;if(t)if(e)e.option("disabled",!i);else{const e=b.ZP.create(t,{dataIdAttr:N,handle:`.${q}`,group:"bookmarks",disabled:!i,onSort:()=>this._sortBookmarks(e)});this._sortable=e}}_sortNodeCreated(e){this._sortableNode=e,this._toggleSorting()}_sortBookmarks(e){const{bookmarks:t}=this.viewModel;if(!t)return;const i=e.toArray();t.sort(((e,t)=>{const n=i.indexOf(e.uid),o=i.indexOf(t.uid);return n>o?1:n<o?-1:0}))}_destroySortable(){const{_sortable:e}=this;e&&e.destroy(),this._sortable=null}_endAddBookmark(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}_bookmarksInitialized(){const e="bookmarks-init",{_handles:t}=this;t.remove(e),t.add((0,p.on)(this,"viewModel.bookmarks","change",(()=>this._bookmarksChanged())),e)}_bookmarksChanged(){const e="bookmarks-change",{bookmarks:t}=this.viewModel,{_handles:i}=this;i.remove(e);const n=t.map((e=>(0,p.watch)(e,["active","name","thumbnail.url"],(()=>this.scheduleRender()))));i.add(n,e),this.scheduleRender()}_showEditBookmarkForm(e){const t=e.currentTarget["data-bookmark"];this._focusEditInputBox=!0,this._userState=new w({bookmark:t,state:"edit"}),this.viewModel.goTo(t),this.scheduleRender()}_closeUrlEditBookmarkForm(){this._focusEditInputBox=!0,this._userState.state="edit"}_closeEditBookmarkForm(){this._userState=null}_addBookmarkSubmit(e){e.preventDefault();const{_addInputNode:t,_userState:i}=this,n=t&&t.value.trim();n?(i.loading=!0,this.viewModel.createBookmark().then((e=>{e.name=n,this.viewModel.bookmarks.add(e),this._endAddBookmark()}))):i.validationState="name-required"}async _editBookmarkAndClose(e,t){await this.viewModel.editBookmark(e,t),this._closeEditBookmarkForm()}_editBookmarkSubmit(e){e.preventDefault();const{_editInputNode:t,_userState:i}=this,n=t&&t.value.trim();n?(i.bookmark.name=n,i.bookmark.thumbnail=i.editedBookmark.thumbnail,this._editBookmarkAndClose(i.bookmark,{takeScreenshot:!1})):i.validationState="name-required"}_storeAddBookmarkButton(e){this._addBookmarkButtonNode=e,this._focusAddBookmark()}_storeEditInput(e){this._editInputNode=e,this._focusEditInput()}_storeAddInput(e){this._addInputNode=e,this._focusAddInput()}_storeUrlEditInput(e){this._urlEditInputNode=e,this._focusUrlEditInput()}_focusUrlEditInput(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}_focusAddInput(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}_focusAddBookmark(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}_focusEditInput(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}_deleteBookmark(e){const t=e.currentTarget["data-bookmark"];this.viewModel.bookmarks.remove(t)}_goToBookmark(e){const t=e.currentTarget["data-bookmark"];this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(t)}async _refreshThumbnail(){const{_userState:e,_editMenu:t,viewModel:i}=this;e.validationState=void 0,await i.editBookmark(this._userState.editedBookmark,{takeScreenshot:!0,captureExtent:!1,captureViewpoint:!1,captureRotation:!1,captureScale:!1}),t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_removeThumbnail(){const{_userState:e,_editMenu:t}=this;e.editedBookmark.thumbnail=null,e.validationState=void 0,t.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_startUseImageUrl(){this._userState.state="edit-thumbnail",this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}_editBookmarkUrlSubmit(e){e.preventDefault();const{_urlEditInputNode:t,_userState:i}=this,n=t.value;Te.test(n)?(n&&(i.editedBookmark.thumbnail=new h.Z({url:n})),this._closeUrlEditBookmarkForm()):i.validationState="absolute-url-required"}};(0,n._)([(0,r.Cb)({type:w})],Re.prototype,"_userState",void 0),(0,n._)([(0,r.Cb)({readOnly:!0})],Re.prototype,"_editMenuItems",null),(0,n._)([(0,r.Cb)({readOnly:!0})],Re.prototype,"_editMenu",null),(0,n._)([(0,r.Cb)()],Re.prototype,"bookmarkCreationOptions",null),(0,n._)([(0,a.B)("viewModel.defaultCreateOptions")],Re.prototype,"defaultCreateOptions",void 0),(0,n._)([(0,a.B)("viewModel.defaultEditOptions")],Re.prototype,"defaultEditOptions",void 0),(0,n._)([(0,a.B)("viewModel.bookmarks")],Re.prototype,"bookmarks",void 0),(0,n._)([(0,r.Cb)()],Re.prototype,"disabled",void 0),(0,n._)([(0,r.Cb)()],Re.prototype,"editingEnabled",void 0),(0,n._)([(0,a.B)("viewModel.goToOverride")],Re.prototype,"goToOverride",void 0),(0,n._)([(0,r.Cb)()],Re.prototype,"iconClass",void 0),(0,n._)([(0,r.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Re.prototype,"label",void 0),(0,n._)([(0,r.Cb)(),(0,f.H)("esri/widgets/Bookmarks/t9n/Bookmarks")],Re.prototype,"messages",void 0),(0,n._)([(0,r.Cb)(),(0,f.H)("esri/t9n/common")],Re.prototype,"messagesCommon",void 0),(0,n._)([(0,r.Cb)(),(0,f.H)("esri/core/t9n/Units")],Re.prototype,"messagesUnits",void 0),(0,n._)([(0,a.B)("viewModel.view")],Re.prototype,"view",void 0),(0,n._)([(0,r.Cb)({type:D}),(0,m.s)(["select-bookmark","bookmark-edit","bookmark-select"])],Re.prototype,"viewModel",void 0),(0,n._)([(0,r.Cb)()],Re.prototype,"visibleElements",void 0),(0,n._)([(0,s.p)("visibleElements")],Re.prototype,"castVisibleElements",null),(0,n._)([(0,r.Cb)()],Re.prototype,"endAddBookmark",null),(0,n._)([(0,r.Cb)()],Re.prototype,"startAddBookmark",null),Re=(0,n._)([(0,c.j)(Ie)],Re);const Le=Re},37629:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ut});var n=i(56140),o=i(7584),r=(i(95830),i(36544)),a=i(79881),s=i(51894),l=i(60263),c=i(87566),u=(i(10923),i(57002),i(86035),i(10180)),d=i(40450),p=i(24258),h=i(9200),f=i(19401),m=i(90806),v=(i(68055),i(82677));let y=class extends v.default{constructor(e){super(e),this.format=null,this.position={coordinate:null,location:null}}get displayCoordinate(){const e=this.get("format");return e&&e.getDisplayCoordinate(this.get("position.coordinate"))}};(0,n._)([(0,a.Cb)({readOnly:!0})],y.prototype,"displayCoordinate",null),(0,n._)([(0,a.Cb)()],y.prototype,"format",void 0),(0,n._)([(0,a.Cb)()],y.prototype,"position",void 0),y=(0,n._)([(0,c.j)("esri.widgets.CoordinateConversion.support.Conversion")],y);const b=y;var g=i(32656),_=i(39105),w=i(61106),k=i(35470),S=i(28293),C=i(3766),x=i(14071),O=i(12973),A=(i(89771),i(50764)),P=i(15988),M=i(59691),j=i(80621),E=i(17333),T=i(4338),I=i(75138),D=i(73032),R=i(41241),L=(i(36348),i(52411));const N={utm:{conversionMode:"utmDefault",addSpaces:!0},usng:{numOfDigits:5,rounding:!1,addSpaces:!1},mgrs:{rounding:!1}},B=new Array(3);function F(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function V(e){return"number"==typeof e&&isFinite(e)}function U(e){return e&&V(e.x)&&V(e.y)}function G(e,t){if(e.spatialReference.isGeographic&&t){const[i,n]=function(e,t){const i=F(t);return[e[0].toFixed(i),e[1].toFixed(i)]}([e.x,e.y],t);return`${i}, ${n}`}return`${e.x.toFixed(3)}, ${e.y.toFixed(3)}`}function Z(e){return"dd"===e||"dms"===e||"ddm"===e||"mgrs"===e||"usng"===e||"utm"===e}var $=i(87565),J=i(27780),W=i(3744);function q(e){let t=null;if(e||(e=D.Z.WGS84),e.wkid){if(t=W.e.geogcs(e.wkid),!t)throw new g.Z("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt)throw new g.Z("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(t=W.e.fromString(W.f.PE_TYPE_GEOGCS,e.wkt),!t)throw new g.Z("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}function z(e){let t=-1;switch(e){case"automatic":t=W.b.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":t=W.b.PE_MGRS_STYLE_NEW|W.b.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":t=W.b.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":t=W.b.PE_MGRS_STYLE_OLD|W.b.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":t=W.b.PE_MGRS_STYLE_OLD}return t}function H(e){let t=-1;switch(e){case"latitude-band-indicators":t=W.d.PE_UTM_OPTS_NONE;break;case"north-south-indicators":t=W.d.PE_UTM_OPTS_NS}return t}let Y=class extends v.default{constructor(e){super(e),this.conversionInfo=null,this.coordinateSegments=null,this.defaultPattern=null,this.name=null,this.viewModel=null}get currentPattern(){return this._get("currentPattern")||this._get("defaultPattern")}set currentPattern(e){this._set("currentPattern",e)}get hasDisplayProperties(){return!(!this.defaultPattern||!this.coordinateSegments)}get spatialReference(){const e=this.get("conversionInfo.spatialReference")||D.Z.WGS84;return"basemap"===this.name?this._viewSpatialReference:e}set spatialReference(e){void 0===e&&this._clearOverride("spatialReference"),this._override("spatialReference",e)}get _viewSpatialReference(){return this.get("viewModel.view.spatialReference")||D.Z.WGS84}get _additionalCharactersPattern(){const e=this.get("coordinateSegments");if(!e)return null;const t=e.map((e=>e.alias)),i=this.currentPattern.replace(new RegExp(`["nsew${t.join()}]`,"gi"),"").replace(/\ /g,"");return new RegExp(`[${i}]`,"g")}convert(e,t){if(!U(e))return Promise.reject(new g.Z("format:invalid-point","Could not convert invalid point.",{point:e}));const i=this.get("conversionInfo.convert");return i?Promise.resolve().then((()=>i(e))):this._project(e,this.spatialReference,t).then((e=>this._getCoordinate(e).then((t=>({location:e,coordinate:t})))))}getConversionStrategy(){const e=this._viewSpatialReference;return this.get("conversionInfo.convert")||this.get("viewModel.formatterAvailable")||"xy"===this.name&&(e.isWebMercator||e.isWGS84)||"basemap"===this.name?"client":"server"}getDisplayCoordinate(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;let t=this.currentPattern;const i=this._getSegmentMatches(e,!1);for(let e=this.coordinateSegments.length-1;e>=0;e--){const n=this.coordinateSegments[e];t=t.replace(n.alias,i[e])}return t}parseUserInput(e){let t=this.defaultPattern.replace(this._additionalCharactersPattern,"");e=e.replace(this._additionalCharactersPattern,"");const i=this._getSegmentMatches(e,!0);for(let e=this.coordinateSegments.length-1;e>=0;e--){const n=this.coordinateSegments[e];t=t.replace(n.alias,i[e])}return t}_getSegmentMatches(e,t){const i=[];for(let n=0;n<this.coordinateSegments.length;n++){const o=this.coordinateSegments[n],r=e.match(o.searchPattern);if(!r){i.push("");continue}let a=r[0];if(e=e.replace(a,"").trim(),o.substitution){const e=t?o.substitution.input(a):o.substitution.output(a);e&&(a=e)}i.push(a)}return i}reverseConvert(e){const t=this.parseUserInput(e),i=this.get("conversionInfo.reverseConvert"),n=Z(this.name);let o;if(i)o=i(t);else if("xy"===this.name||"basemap"===this.name)o=function(e,t){const i=e.indexOf(",")>=0?",":" ",[n,o,r]=e.split(i).map((e=>{const t=e.trim();return t?Number(t):null}));if(!V(n)||!V(o))return null;const a=new w.Z({x:n,y:o,spatialReference:t||D.Z.WGS84});return r&&(a.z=r,a.hasZ=!0),a}(t,this.spatialReference);else if(this.viewModel.formatterAvailable)switch(this.name){case"dd":case"ddm":case"dms":o=function(e,t){const i=[];e=e.replace(/\u2032/g,"'");const n=q(t);return W.P.dms_to_geog(n,1,[e],i)?new w.Z(i[0][0],i[0][1],t||D.Z.WGS84):null}(t,this.spatialReference);break;case"mgrs":{const e="automatic";o=function(e,t,i){const n=[],o=z(i);if(-1===o)return console.warn(`invalid conversionMode: ${i}`),null;const r=q(t);return W.b.mgrs_to_geog_extended(r,1,[e],o,n)?new w.Z(n[0][0],n[0][1],t||D.Z.WGS84):null}(t,this.spatialReference,e);break}case"utm":{const e="latitude-band-indicators";o=function(e,t,i){const n=[],o=H(i);if(-1===o)return console.warn(`invalid conversionMode: ${i}`),null;const r=q(t);return W.d.utm_to_geog(r,1,[e],o,n)?new w.Z(n[0][0],n[0][1],t||D.Z.WGS84):null}(t,this.spatialReference,e);break}case"usng":o=function(e,t){const i=[];!t&&/\(.+27/.test(e)&&(t=D.Z.GCS_NAD_1927);const n=q(t);return W.c.usng_to_geog(n,1,[e],i)?new w.Z(i[0][0],i[0][1],t||D.Z.WGS84):null}(t,this.spatialReference);break;default:o=null}else if(n)return function(e){const{geometryServicePromise:t,coordinate:i,spatialReference:n,formatName:o}=e;return t.then((e=>e.fromGeoCoordinateString({strings:[i],sr:n,conversionType:o}).then((e=>{const t=new w.Z({x:e[0][0],y:e[0][1],spatialReference:n});if(!U(t))throw e;return t})).catch((e=>{throw new g.Z("coordinate-conversion:from-geo-coordinate-string-failed","Failed to convert coordinate notation",{notationResult:e})}))))}({coordinate:t,spatialReference:this.spatialReference,formatName:this.name,geometryServicePromise:this.get("viewModel.geometryServicePromise")});return o?this._project(o,this._viewSpatialReference):Promise.reject(new g.Z("format:invalid-input","Could not parse input into point.",{userInput:e}))}_getCoordinate(e){const t=this.get("viewModel.view.scale");if(!U(e))return Promise.reject(new g.Z("format:invalid-point","Could not transform invalid point into coordinate.",{point:e}));if(this.get("viewModel.formatterAvailable")||"basemap"===this.name||"xy"===this.name)switch(this.name){case"dd":case"ddm":case"dms":{const i=F(t);return Promise.resolve(function(e,t,i=0){const n=[[e.x,e.y]],o=[],r=q(e.spatialReference);let a=0;switch(t){case"dd":a=W.P.geog_to_dd(r,1,n,i,o);break;case"ddm":a=W.P.geog_to_ddm(r,1,n,i,o);break;case"dms":a=W.P.geog_to_dms(r,1,n,i,o);break;default:return console.warn(`invalid format: ${t}`),null}return a?o[0]:null}(e,this.name,i))}case"mgrs":{const t=!1,i=5,n="automatic";return Promise.resolve(function(e,t,i=0,n=!1){const o=[[e.x,e.y]],r=[],a=q(e.spatialReference);let s=z(t);return-1===s?(console.warn(`invalid conversionMode: ${t}`),null):(n&&(s|=W.b.PE_MGRS_ADD_SPACES),W.b.geog_to_mgrs_extended(a,1,o,i,!1,s,r)?r[0]:null)}(e,n,i,t))}case"usng":{const t=!1,i=5;return Promise.resolve(function(e,t=0,i=!1){const n=[[e.x,e.y]],o=[],r=q(e.spatialReference);return W.c.geog_to_usng(r,1,n,t,!1,i,o)?o[0]:null}(e,i,t))}case"utm":{const t=!0,i="latitude-band-indicators";return Promise.resolve(function(e,t,i=!1){const n=[[e.x,e.y]],o=[],r=q(e.spatialReference);let a=H(t);return-1===a?(console.warn(`invalid conversionMode: ${t}`),null):(i&&(a|=W.d.PE_UTM_OPTS_ADD_SPACES),W.d.geog_to_utm(r,1,n,a,o)?o[0]:null)}(e,i,t))}default:return Promise.resolve(G(e,t))}return Z(this.name)?function(e){const{formatName:t,location:i,geometryServicePromise:n}=e,o=N[t]||{},r={coordinates:[[i.x,i.y]],sr:i.spatialReference,conversionType:t,...o};return n.then((e=>e.toGeoCoordinateString(r).then((e=>{const t=e[0];if(!t)throw e;return t})).catch((e=>{throw new g.Z("coordinate-conversion:to-geo-coordinate-string-failed","Failed to convert coordinate notation",{notationResult:e})}))))}({formatName:this.name,location:e,geometryServicePromise:this.get("viewModel.geometryServicePromise")}):Promise.resolve(G(e,t))}_project(e,t,i){return(0,J.fS)(e.spatialReference,t)||!t?Promise.resolve(e):this.get("viewModel.formatterAvailable")&&(0,E.kR)()?Promise.resolve((0,E.iV)(e,t)):this.get("viewModel.formatterAvailable")?null:(0,R.Q8)(e,t)?Promise.resolve((0,R.iV)(e,t)):function(e,t){const{spatialReference:i,geometryServicePromise:n,location:o,scale:r}=e;if(!i||o.spatialReference.wkid===i.wkid)return Promise.resolve({location:o,coordinate:G(o,r)});if((o.spatialReference.isWGS84||o.spatialReference.isWebMercator)&&(i.isWGS84||i.isWebMercator))return Promise.resolve({location:(0,R.iV)(o,i),coordinate:G(o,r)});if(B[0]===o&&B[1]===i.wkid)return B[2];B[0]=o,B[1]=i.wkid;const a=n.then((e=>e.project(new L.Z({geometries:[o],outSpatialReference:i}),{signal:t}).then((e=>{if(!U(e[0]))throw e[0];return{location:e[0],coordinate:G(e[0],r)}})).catch((e=>{throw new g.Z("coordinate-conversion:projection-failed","Failed to project point",{projectionResult:e})}))));return B[2]=a,a}({location:e,spatialReference:t,geometryServicePromise:this.get("viewModel.geometryServicePromise"),scale:this.get("viewModel.view.scale")},i).then((e=>e.location))}};(0,n._)([(0,a.Cb)()],Y.prototype,"conversionInfo",void 0),(0,n._)([(0,a.Cb)()],Y.prototype,"coordinateSegments",void 0),(0,n._)([(0,a.Cb)()],Y.prototype,"currentPattern",null),(0,n._)([(0,a.Cb)()],Y.prototype,"defaultPattern",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],Y.prototype,"hasDisplayProperties",null),(0,n._)([(0,a.Cb)()],Y.prototype,"name",void 0),(0,n._)([(0,a.Cb)({type:D.Z})],Y.prototype,"spatialReference",null),(0,n._)([(0,a.Cb)()],Y.prototype,"viewModel",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],Y.prototype,"_viewSpatialReference",null),(0,n._)([(0,a.Cb)({readOnly:!0})],Y.prototype,"_additionalCharactersPattern",null),Y=(0,n._)([(0,c.j)("esri.widgets.CoordinateConversion.support.Format")],Y);const X=Y,K=(0,$.ti)().decimal,Q={N:"north",S:"south",E:"east",W:"west"},ee=new RegExp(`-?\\d+[\\.|\\${K}]?\\d*`),te=/^[\\0]+(?=\d)/;function ie(e){const t=e.match(te),i=t?t[0]:"",n=e.indexOf(".")>=0?e.split(".")[1].length:0;return i+(0,$.WU)(Number(e),{pattern:"###0.###",places:n,round:-1})}function ne(e){return(0,$.Qc)(e)}const oe="default",re="crosshair",ae=new w.Z([0,0,500]),se=`${window.location.pathname}__coordinateConversionWidgetState`,le=r.Z.getLogger("esri.widgets.CoordinateConversion.CoordinateConversionViewModel"),ce="conversions",ue="formats",de="view",pe="view-change";let he=0,fe=[],me=class extends((0,T._)(k.Z.EventedAccessor)){constructor(e){super(e),this._conversionPromise=null,this._handles=new M.Z,this._locationGraphic=null,this._locale=(0,C.Kd)(),this._pointerCount=0,this.conversions=new S.Z,this.formats=new S.Z,this.formatterAvailable=!1,this.geometryServicePromise=null,this.messages=null,this.requestDelay=300,this.locationSymbol=new A.Z({url:(0,O.V)("esri/images/search/search-symbol-32.png"),width:24,height:24}),this.view=null,this._instanceNumber=he,he++,this._saveWidgetState=this._saveWidgetState.bind(this),this._handleFormatChange=this._handleFormatChange.bind(this),this._handleConversionChange=this._handleConversionChange.bind(this),this._handleViewChange=this._handleViewChange.bind(this),this._onClick=this._onClick.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerUp=this._onPointerUp.bind(this)}initialize(){(async()=>this.messages=await(0,x.ME)("esri/widgets/CoordinateConversion/t9n/CoordinateConversion"))().then((()=>{if(!this.destroyed&&(this.formats.addMany(function(e){const t=e.abbreviatedDirections.north,i=e.abbreviatedDirections.south,n=e.abbreviatedDirections.east,o=e.abbreviatedDirections.west,r={};r[t]="N",r[i]="S",r[n]="E",r[o]="W";const a=new RegExp(`N|S|${t}|${i}`,"i"),s=new RegExp(`E|W|${n}|${o}`,"i");return[new X({name:"basemap",coordinateSegments:[{alias:"X",description:"easting",searchPattern:ee,substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:"Y",description:"northing",searchPattern:ee,substitution:{input:e=>ne(e),output:e=>ie(e)}}],defaultPattern:"X, Y",viewModel:null}),new X({name:"dd",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${K}]?\\d*(?=\\D*?[N|S|${t}|${i}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:a,substitution:{input:e=>r[e],output:t=>e.abbreviatedDirections[Q[t]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp(`\\d{1,3}[\\.|\\${K}]?\\d*(?=\\D*?[E|W|${n}|${o}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:e=>r[e],output:t=>e.abbreviatedDirections[Q[t]]}}],defaultPattern:`Y°‎${e.abbreviatedDirections.north}, X°‎${e.abbreviatedDirections.east}`,viewModel:null}),new X({name:"ddm",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp(`\\d{1,2}(?=.*?\\s+.*?[N|S|${t}|${i}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp(`\\d{1,2}[\\.\\${K}]?\\d*(?=.*?[N|S|${t}||${i}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:a,substitution:{input:e=>r[e],output:t=>e.abbreviatedDirections[Q[t]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp(`\\d{1,3}(?=\\D*?\\s+.*?[E|W|${n}|${o}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:"B",description:"minutes longitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\|${K}]?\\d*(?=.*?[E|W|${n}|${o}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:e=>r[e],output:t=>e.abbreviatedDirections[Q[t]]}}],defaultPattern:`Y°‎ A'${e.abbreviatedDirections.north}, X°‎ B'${e.abbreviatedDirections.east}`,viewModel:null}),new X({name:"dms",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp(`\\d{1,2}(?=.*?\\s+.*?[N|S|${t}|${i}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp(`\\d{1,2}(?=.*?[N|S|${t}|${i}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:"B",description:"seconds latitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${K}]?\\d*(?=.*?[N|S|${t}|${i}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:e.abbreviatedDirections.north,description:"north/south indicator",searchPattern:a,substitution:{input:e=>r[e],output:t=>e.abbreviatedDirections[Q[t]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp(`\\d{1,3}(?=.*?\\s+.*?[E|W|${n}|${o}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:"C",description:"minutes longitude",searchPattern:new RegExp(`\\d{1,2}(?=.*?[E|W|${n}|${o}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:"D",description:"seconds longitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${K}]?\\d*(?=.*?[E|W|${n}|${o}])`,"i"),substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:e.abbreviatedDirections.east,description:"east/west indicator",searchPattern:s,substitution:{input:e=>r[e],output:t=>e.abbreviatedDirections[Q[t]]}}],defaultPattern:`Y°‎ A' B"${e.abbreviatedDirections.north}, X°‎ C' D"${e.abbreviatedDirections.east}`,viewModel:null}),new X({name:"xy",coordinateSegments:[{alias:"X",description:"longitude",searchPattern:ee,substitution:{input:e=>ne(e),output:e=>ie(e)}},{alias:"Y",description:"latitude",searchPattern:ee,substitution:{input:e=>ne(e),output:e=>ie(e)}}],defaultPattern:"X°‎, Y°‎",viewModel:null}),new X({name:"mgrs",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new X({name:"usng",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new X({name:"utm",coordinateSegments:[{alias:"Z",description:"zone number",searchPattern:/\d{1,2}|[abyz]/i},{alias:"B",description:"latitude band",searchPattern:/^\D/},{alias:"X",description:"easting",searchPattern:/\d{1,7}(?=\s*\d{7}$)/},{alias:"Y",description:"northing",searchPattern:/\d{1,7}/}],defaultPattern:"ZB X Y",viewModel:null})]}(this.messages)),this._loadWidgetState(),this.formats.forEach((e=>{e.viewModel=this,this._handles.add(e.watch("currentPattern",this._saveWidgetState),e.name)})),this._handles.add(this.conversions.on("change",this._handleConversionChange),ce),this._handles.add(this.formats.on("change",this._handleFormatChange),ue),this._handles.add((0,j.init)(this,"view.map",(()=>{this.geometryServicePromise=(0,I.create)(this.get("view.map.portalItem"))})),pe),(0,E.zD)().then((()=>{this.formatterAvailable=!0})).catch((e=>{le.error(new g.Z("coordinate-conversion:projection-load-failed","Failed to load the projection module.",{error:e})),this.formatterAvailable=!1})).then((()=>this._handles.add((0,j.init)(this,"view",this._handleViewChange),pe))),0===this.conversions.length)){const e=this.formats.find((e=>"xy"===e.name))||this.formats.getItemAt(0);this.conversions.add(new b({format:e}))}}))}destroy(){this._handles.removeAll(),this._cleanUpView(this.view),this.view=null}set currentLocation(e){this._set("currentLocation",e),this._updateConversions()}get currentLocation(){return this._get("currentLocation")||null}set mode(e){switch(e){case"capture":this.currentLocation=null,this._startCaptureMode(),this._set("mode",e);break;case"live":this._startLiveMode(),this._set("mode",e)}}get mode(){return this._get("mode")||"live"}get state(){const{messages:e,view:t}=this,i=null==t?void 0:t.ready;return e?i?"ready":t?"loading":"disabled":"disabled"}get waitingForConversions(){return null!=this._conversionPromise}get _debouncedConvert(){return(0,_.debounce)(((e,t,i)=>(0,_.eachAlways)(e.map((e=>e.convert(t,i))))),this.requestDelay)}setLocation(e){if(this.view.graphics.remove(this._locationGraphic),e){const t=e.clone();t.hasZ&&(t.z=void 0),this._locationGraphic=new P.default({geometry:t,symbol:this.get("locationSymbol")}),this.view.graphics.add(this._locationGraphic)}}convert(e,t){return U(t)?Promise.resolve().then((()=>e.convert(t))):Promise.reject(new g.Z("coordinate-conversion:invalid-point","Invalid point cannot be converted.",{point:t}))}goToLocation(e){if(this.get("view.clippingArea")||this.get("view.map.basemap.baseLayers.length")>0){const t=this.get("view.clippingArea")||this.view.map.basemap.baseLayers.getItemAt(0).fullExtent;return t?t.contains(e)?this.callGoTo({target:e}):Promise.reject(new g.Z("coordinate-conversion:go-to-failed","Point outside basemap extent.",{point:e})):this.callGoTo({target:e})}return this.callGoTo({target:e})}pause(){this.currentLocation=null,this._handles.remove(de),this.view&&(this.view.cursor=oe,this.view.graphics.remove(this._locationGraphic))}previewConversion(e,t=this.currentLocation||ae){return this._convertMany([e],t).then((()=>e.displayCoordinate))}resume(){"capture"===this.mode?this._startCaptureMode():this._startLiveMode()}reverseConvert(e,t){return t.reverseConvert(e)}async updateConversions(e,t){return t&&t.type&&"point"===t.type?this._convertMany(e,t).then((e=>e.client.concat(e.server))):(this._clearConversions(this.conversions),Promise.reject(new g.Z("coordinate-conversion:invalid-input-point","Point is invalid, conversions cannot be updated.",{point:t})))}_cleanUpView(e){e&&(e.graphics.remove(this._locationGraphic),this._handles.remove(de),e.cursor=oe)}_clearConversions(e){e.forEach((e=>{e.position={location:null,coordinate:null}}))}_convertMany(e,t){const{client:i,server:n}=e.reduce(((e,t)=>(e[t.format.getConversionStrategy()].push(t),e)),{client:[],server:[]}),o=Promise.all(i.map((e=>e.format.convert(t).then((t=>(e.position=t,e))).catch((()=>{e.position=null}))))),r=e=>e?(this._conversionPromise=null,this.notifyChange("waitingForConversions"),e.map(((e,t)=>{const i=n[t];return e.error?(i.position=null,i):(i.position=e.value,i)}))):[];return this._conversionPromise=n.length>0?this._debouncedConvert(n.map((e=>e.format)),t).then(r,r):Promise.resolve([]),this.notifyChange("waitingForConversions"),Promise.all([o,this._conversionPromise]).then((e=>({client:e[0],server:e[1]})))}_handleConversionChange(e){e.added.forEach((e=>{const t=e.format;t.viewModel=this,this.currentLocation&&(this._set("waitingForConversions",!0),this.convert(t,this.currentLocation).then((t=>{e.position=t,this._set("waitingForConversions",!1)})))})),this._saveWidgetState()}_handleFormatChange(e){e.added.forEach((e=>{this._handles.add(e.watch("currentPattern",this._saveWidgetState),e.name),e.viewModel=this})),e.removed.forEach((e=>{e.viewModel=null,this._handles.remove(e.name)}))}_loadWidgetState(){if(0===this._instanceNumber)try{const e=JSON.parse(localStorage.getItem(se));e&&(fe=e)}catch(e){le.error(new g.Z("coordinate-conversion:invalid-local-storage-json","Could not read from localStorge.",{error:e}))}this._setWidgetState()}_startCaptureMode(){this._handles.remove(de),this.view&&(this.view.cursor=re,this.currentLocation&&this.setLocation(this.currentLocation),this._handles.add(this.view.on("click",this._onClick),de))}_startLiveMode(){this._pointerCount=0,this._handles.remove(de),this.view&&(this.view.cursor=oe,this.view.graphics.remove(this._locationGraphic),this._handles.add([this.view.on("pointer-down",this._onPointerDown),this.view.on("pointer-up",this._onPointerUp),this.view.on("pointer-move",this._onPointerMove)],de))}_handleViewChange(e,t){t&&t!==e&&this._cleanUpView(t),e&&("capture"===this.mode&&this._startCaptureMode(),this._startLiveMode())}_onClick(e){if(0===e.button){const t=this.view.toMap(e),i=t&&t.normalize();this.setLocation(i),this.currentLocation=i}}_onPointerDown(e){const{pointerType:t}=e;if(this._pointerCount++,("touch"===t||"pen"===t)&&1===this._pointerCount){const t=this.view.toMap(e);this.currentLocation=t&&t.normalize()}}_onPointerMove(e){const{pointerType:t}=e;if("mouse"===t||1===this._pointerCount){const t=this.view.toMap(e);this.currentLocation=t&&t.normalize()}}_onPointerUp(){this._pointerCount--}_setWidgetState(){const e=fe[this._instanceNumber];if(e)try{e.formats.forEach((t=>{const i=this.formats.find((e=>e.name===t.name));i&&e.locale===this._locale&&t.currentPattern&&(i.currentPattern=t.currentPattern),i&&t.index>=0&&this.conversions.add(new b({format:i}))}))}catch(e){le.warn(new g.Z("coordinate-conversion:local-storage-read-error","Could not get widget state from stored JSON.",{error:e})),fe[this._instanceNumber]={formats:[],locale:this._locale}}else fe[this._instanceNumber]={formats:[],locale:this._locale}}_saveWidgetState(){const e=this._toJSON();fe[this._instanceNumber]={formats:e,locale:this._locale};try{localStorage.setItem(se,JSON.stringify(fe))}catch(e){le.error(new g.Z("coordinate-conversion:local-storage-write-error","Could not write to localStorage.",{error:e}))}}async _updateConversions(){try{await this.updateConversions(this.conversions.toArray(),this.currentLocation)}catch{}}_toJSON(){return this.formats.filter((e=>{const t=e.name;return"xy"===t||"basemap"===t||Z(t)})).map((e=>({name:e.name,currentPattern:e.currentPattern,defaultPattern:e.defaultPattern,index:this.conversions.findIndex((t=>t.format===e))}))).sort(((e,t)=>e.index-t.index)).toArray()}};(0,n._)([(0,a.Cb)()],me.prototype,"conversions",void 0),(0,n._)([(0,a.Cb)({type:w.Z})],me.prototype,"currentLocation",null),(0,n._)([(0,a.Cb)()],me.prototype,"formats",void 0),(0,n._)([(0,a.Cb)()],me.prototype,"messages",void 0),(0,n._)([(0,a.Cb)()],me.prototype,"mode",null),(0,n._)([(0,a.Cb)()],me.prototype,"requestDelay",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],me.prototype,"state",null),(0,n._)([(0,a.Cb)()],me.prototype,"locationSymbol",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],me.prototype,"waitingForConversions",null),(0,n._)([(0,a.Cb)()],me.prototype,"view",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],me.prototype,"_debouncedConvert",null),me=(0,n._)([(0,c.j)("esri.widgets.CoordinateConversion.CoordinateConversionViewModel")],me);const ve=me,ye="esri-coordinate-conversion esri-widget",be="esri-coordinate-conversion--capture-mode",ge="esri-coordinate-conversion--no-basemap",_e="esri-coordinate-conversion__popup",we="esri-coordinate-conversion__conversion-list",ke="esri-coordinate-conversion__row",Se="esri-coordinate-conversion__display",Ce="esri-coordinate-conversion__conversions-view--expanded",xe="esri-coordinate-conversion__conversions-view--expand-down",Oe="esri-coordinate-conversion__conversions-view--expand-up",Ae="esri-coordinate-conversion__conversions-view",Pe="esri-coordinate-conversion__select-primary",Me="esri-coordinate-conversion__select-row",je="esri-coordinate-conversion__tools",Ee="esri-coordinate-conversion__mode-toggle",Te="esri-coordinate-conversion__row-button",Ie="esri-coordinate-conversion__back-button",De="esri-coordinate-conversion__button",Re="esri-coordinate-conversion__input-coordinate",Le="esri-coordinate-conversion__input-form",Ne="esri-coordinate-conversion__input-group",Be="esri-coordinate-conversion__input-coordinate--rejected",Fe="esri-coordinate-conversion__heading",Ve="esri-coordinate-conversion__pattern-input",Ue="esri-coordinate__settings",Ge="esri-coordinate-conversion__settings-group",Ze="esri-coordinate-conversion__settings-group-horizontal",$e="esri-coordinate-conversion__preview-coordinate",Je="esri-disabled",We="esri-input",qe="esri-button",ze="esri-widget__heading",He="esri-widget--button",Ye="esri-icon-left-arrow",Xe="esri-icon-right-arrow",Ke="esri-icon-map-pin",Qe="esri-icon-up",et="esri-icon-duplicate",tt="esri-icon-edit",it="esri-select",nt="esri-icon-down",ot="esri-icon-refresh",rt="esri-icon-close",at="esri-icon-settings2",st={settingsButton:!0,inputButton:!0,captureButton:!0,expandButton:!0},lt=r.Z.getLogger("esri.widgets.CoordinateConversion");let ct=class extends m.default{constructor(e,t){super(e,t),this._popupMessage=null,this._popupId=null,this._coordinateInput=null,this._badInput=!1,this._goToEnabled=!1,this._conversionFormat=null,this._settingsFormat=null,this._previewConversion=null,this._expanded=!1,this._popupVisible=!1,this._settingsVisible=!1,this._inputVisible=!1,this.conversions=null,this.currentLocation=null,this.formats=null,this.goToOverride=null,this.label=void 0,this.messages=null,this.messagesCommon=null,this.mode=null,this.orientation="auto",this.requestDelay=null,this.view=null,this.viewModel=new ve,this.visibleElements={...st}}set multipleConversions(e){!1===e&&(this._expanded=!1,this.conversions.splice(1,this.conversions.length-1)),this._set("multipleConversions",e)}get multipleConversions(){const e=this._get("multipleConversions");return"boolean"!=typeof e||e}castVisibleElements(e){return{...st,...e}}reverseConvert(e,t){return this.viewModel.reverseConvert(e,t)}render(){const e=this.get("viewModel.state"),t="disabled"===e?(0,f.j)("div",{key:"esri-coordinate__no-basemap"},this.messages.noBasemap):null,i=!t&&this._inputVisible?this._renderInputForm():null,n=!t&&this._settingsVisible?this._renderSettings():null,o=t||i||n?null:this._renderConversionsView(),r=this._popupVisible?this._renderPopup():null,a={[be]:"capture"===this.mode,[Je]:"loading"===e,[ge]:"disabled"===e};return(0,f.j)("div",{class:this.classes(ye,a)},r,t,o,n,i)}_addConversion(e){const t=e.target,i=t.options[t.options.selectedIndex]["data-format"],n=t["data-index"],o=new b({format:i});t.options.selectedIndex=0,n>=0&&this.conversions.removeAt(n),this.conversions.add(o,n)}_findSettingsFormat(){return this._settingsFormat||this.conversions.reduceRight(((e,t)=>{const i=t.format;return i.get("hasDisplayProperties")?i:e}),null)||this.formats.find((e=>e.hasDisplayProperties))}_hidePopup(){this._popupId&&(clearTimeout(this._popupId),this._popupId=null),this._popupVisible=!1,this._popupMessage=null,this.scheduleRender()}_onConvertComplete(){this._inputVisible=!1,this._coordinateInput.value=""}_onCopy(e){const t=e.currentTarget["data-conversion"].displayCoordinate;"clipboardData"in o.Z?o.Z.clipboardData.setData("text",t):e.clipboardData.setData("text/plain",t),this._showPopup(this.messages.copySuccessMessage),e.preventDefault()}_processUserInput(e){const t=(0,u.kK)(e),i=this.viewModel;if("Enter"!==t&&t)this._badInput&&(this._badInput=!1);else{const e=this._coordinateInput["data-format"],t=this._coordinateInput.value;this._reverseConvert(t,e).then((e=>{"capture"===this.mode?i.resume():this.mode="capture",this.currentLocation=e,i.setLocation(e),this._onConvertComplete()})).catch((e=>{lt.error(e),this._showPopup(this.messages.invalidCoordinate),this._badInput=!0}))}}_reverseConvert(e,t){const i=this.viewModel;return t.reverseConvert(e).then((e=>(this._goToEnabled&&i.goToLocation(e).catch((e=>{lt.warn(e),this._showPopup(this.messages.locationOffBasemap)})),e)))}_setInputFormat(e){const t=e.target,i=t[t.options.selectedIndex]["data-format"];this._conversionFormat=i}_setPreviewConversion(){const e=this._findSettingsFormat(),t=this.viewModel;if(e){const i=this.conversions.find((t=>t.format===e));this._previewConversion=new b({format:e,position:{location:this.currentLocation,coordinate:i&&i.position.coordinate}}),this._previewConversion.position.coordinate||t.previewConversion(this._previewConversion)}}_setSettingsFormat(e){const t=e.target,i=t[t.options.selectedIndex]["data-format"];this._settingsFormat=i,this._setPreviewConversion()}_showPopup(e,t=2500){this._popupMessage=e,this._popupVisible?clearTimeout(this._popupId):this._popupVisible=!0,this.scheduleRender(),this._popupId=setTimeout((()=>{this._popupId=null,this._hidePopup()}),t)}_toggleGoTo(){this._goToEnabled=!this._goToEnabled}_updateCurrentPattern(e){e.stopPropagation();const t=e.target,i=this._findSettingsFormat();i&&(i.currentPattern=t.value)}_renderConversion(e,t){const{messages:i}=this,n=`${this.id}__list-item-${t}`,o=`${e.format.name} ${i.conversionOutputSuffix}`,r=0===t,a=r||this._expanded,s=r?this._renderFirstConversion(e):this._renderTools(t,e,n),l=r&&!e.displayCoordinate?i.noLocation:e.displayCoordinate,c=(0,f.j)("div",{"aria-label":l,class:Se,"data-conversion":e,role:"listitem",tabindex:"0",title:l},l),u=this._renderOptions(this.formats.filter((t=>t!==e.format)));return a?(0,f.j)("li",{"aria-label":o,class:ke,id:n,key:e,role:"group",title:o,tabindex:"0"},(0,f.j)("select",{"aria-controls":n,"aria-label":i.selectFormat,class:this.classes(it,Me),bind:this,"data-index":t,onchange:this._addConversion,title:i.selectFormat},(0,f.j)("option",{"aria-label":e.format.name,selected:!0,title:e.format.name},e.format.name.toUpperCase()),u),c,s):null}_renderCopyButton(e){return(0,f.j)("li",{"aria-label":this.messagesCommon.copy,bind:this,class:this.classes(He,Te),"data-conversion":e,onclick:this._copyCoordinateOutput,onkeydown:this._copyCoordinateOutput,oncopy:this._onCopy,role:"button",tabindex:"0",title:this.messagesCommon.copy},(0,f.j)("span",{"aria-hidden":"true",class:et}))}_renderFirstConversion(e){const t=this.id,i={[nt]:!this._expanded,[Qe]:this._expanded},{messages:n,messagesCommon:o,multipleConversions:r,visibleElements:a}=this,s="live"===this.mode?n.captureMode:n.liveMode,l=this._expanded?o.collapse:o.expand,c=e.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(e):null,u=r&&a.expandButton&&(0,f.j)("li",{"aria-controls":`${t}__${we}`,"aria-label":l,bind:this,class:He,key:"esri-coordinate-conversion__expand-button",onclick:this._toggleExpand,onkeydown:this._toggleExpand,role:"button",tabindex:"0",title:l},(0,f.j)("span",{"aria-hidden":"true",class:this.classes(i)})),d=!r&&a.captureButton&&(0,f.j)("li",{"aria-label":s,bind:this,class:this.classes(He,Ee),key:"esri-coordinate-conversion__mode-toggle",onclick:this._toggleMode,onkeydown:this._toggleMode,role:"button",tabindex:"0",title:s},(0,f.j)("span",{"aria-hidden":"true",class:Ke}));return(0,f.j)("ul",{class:je},c,u,d)}_renderInputForm(){const e=this._conversionFormat||this.conversions.getItemAt(0).format,t=this.formats.findIndex((t=>t.name===e.name)),i=this.id,n=`${i}__${Re}`,o=`${i}__${Re}__header`,r=this._renderOptions(this.formats,!0,t),a={[Be]:this._badInput},{messages:s,messagesCommon:l}=this;return(0,f.j)("div",{"aria-labelledby":o,class:Le,key:"esri-coordinate-conversion__input-form",role:"search"},(0,f.j)("div",{class:Fe},(0,f.j)("div",{"aria-label":l.back,bind:this,class:this.classes(He,Ie),onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:"button",tabindex:"0",title:l.back},this._renderBackIcon()),(0,f.j)("h4",{class:ze,id:o},s.inputCoordTitle)),(0,f.j)("div",{class:Ne},(0,f.j)("select",{"aria-controls":n,"aria-label":s.selectFormat,bind:this,class:this.classes(it,Me),onchange:this._setInputFormat,title:s.selectFormat},r),(0,f.j)("input",{afterCreate:d.Se,"aria-labelledby":o,"aria-required":"true",bind:this,class:this.classes(Re,We,a),"data-format":e,"data-node-ref":"_coordinateInput",id:n,onkeydown:this._processUserInput,placeholder:s.inputCoordTitle,role:"textbox",spellcheck:!1,title:s.inputCoordTitle,type:"text"})),(0,f.j)("div",{class:Ne},(0,f.j)("label",{"aria-label":s.goTo},(0,f.j)("input",{bind:this,checked:this._goToEnabled,onclick:this._toggleGoTo,title:s.goTo,type:"checkbox"}),s.goTo),(0,f.j)("button",{"aria-label":s.convert,bind:this,class:this.classes(De,qe),onclick:this._processUserInput,title:s.convert,type:"button"},s.convert)))}_renderConversionsView(){const e=`${this.id}__${we}`,t=this._renderPrimaryTools(),i=this._renderOptions(this.formats),n=this.conversions.map(((e,t)=>this._renderConversion(e,t))).toArray(),{messages:o}=this,r=this._expanded?(0,f.j)("div",{class:ke},(0,f.j)("select",{"aria-controls":e,"aria-label":o.addConversion,bind:this,class:this.classes(it,Pe),onchange:this._addConversion,title:o.addConversion},(0,f.j)("option",{disabled:!0,selected:!0,value:""},o.addConversion),i),t):null,a={[Ce]:this._expanded,[Oe]:"expand-up"===this.orientation,[xe]:"expand-down"===this.orientation};return(0,f.j)("div",{class:this.classes(Ae,a),key:"esri-coordinate-conversion__main-view"},(0,f.j)("ul",{"aria-expanded":this._expanded?"true":"false",class:we,id:e},n),r)}_renderOptions(e,t,i){const n=this.conversions.getItemAt(0);return e.map(((e,o)=>{const r=!(t||!n)&&(n.format.name===e.name||this.conversions.map((e=>e.format.name)).includes(e.name));return(0,f.j)("option",{"aria-label":e.name,"data-format":e,disabled:r,key:e.name,selected:o===i,value:e.name},e.name.toUpperCase())})).toArray()}_renderPopup(){return(0,f.j)("div",{class:_e,role:"alert"},this._popupMessage)}_renderPrimaryTools(){const{messages:e,visibleElements:t}=this,i="live"===this.mode?e.captureMode:e.liveMode,n=t.inputButton&&(0,f.j)("li",{bind:this,class:He,onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:"button",tabindex:"0",title:e.inputCoordTitle},(0,f.j)("span",{"aria-hidden":"true",class:tt})),o=t.captureButton&&(0,f.j)("li",{bind:this,class:this.classes(He,Ee),onclick:this._toggleMode,onkeydown:this._toggleMode,role:"button",tabindex:"0",title:i},(0,f.j)("span",{"aria-hidden":"true",class:Ke})),r=t.settingsButton&&(0,f.j)("li",{bind:this,class:He,onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:"button",tabindex:"0",title:e.settingsTitle},(0,f.j)("span",{"aria-hidden":"true",class:at}));return(0,f.j)("ul",{class:je},n,o,r)}_renderSettings(){const e=this.id,t=`${e}__${Ve}`,i=`${e}__${Ve}__header`,n=`${e}__${$e}`,o=this.formats.filter((e=>e.hasDisplayProperties)),r=this._findSettingsFormat(),a=o.indexOf(r),s=this._renderOptions(o,!0,a),l=r.get("currentPattern"),{messages:c,messagesCommon:u}=this;return(0,f.j)("div",{"aria-labelledby":i,class:Ue,key:"esri-coordinate-conversion__settings"},(0,f.j)("div",{class:Fe},(0,f.j)("div",{bind:this,class:this.classes(He,Ie),onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:"button",tabindex:"0",title:u.back},this._renderBackIcon()),(0,f.j)("h4",{class:ze,id:i},c.settingsTitle)),(0,f.j)("div",{class:Ge},(0,f.j)("label",{for:t},c.changeCoordinateDisplay),(0,f.j)("select",{"aria-label":c.selectFormat,class:it,bind:this,onchange:this._setSettingsFormat,title:c.selectFormat},s),(0,f.j)("div",{class:Ze},(0,f.j)("input",{"aria-controls":n,bind:this,class:this.classes(Ve,We),id:t,oninput:this._updateCurrentPattern,spellcheck:!1,title:c.changeCoordinateDisplay,type:"text",value:l}),(0,f.j)("div",{"aria-controls":t,bind:this,class:He,onclick:this._setDefaultPattern,onkeydown:this._setDefaultPattern,role:"button",tabindex:"0",title:c.defaultPattern},(0,f.j)("span",{"aria-hidden":"true",class:ot})))),(0,f.j)("div",{class:Ge},(0,f.j)("label",null,u.preview,(0,f.j)("div",{class:$e,id:n,tabindex:"0"},this._previewConversion.displayCoordinate))))}_renderBackIcon(){return(0,f.j)("span",{"aria-hidden":"true",class:(0,d.dZ)()?Xe:Ye})}_renderTools(e,t,i){const n=t.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(t):null,{messages:o}=this;return(0,f.j)("ul",{class:je,role:"listitem"},n,(0,f.j)("li",{"aria-controls":i,"aria-label":o.removeConversion,bind:this,class:this.classes(He,Te),"data-index":e,key:`${i}__${He}`,onclick:this._removeConversion,onkeydown:this._removeConversion,tabindex:"0",role:"button",title:o.removeConversion},(0,f.j)("span",{"aria-hidden":"true",class:rt})))}_copyCoordinateOutput(e){const t=e.target;if(!("createTextRange"in document.body)){const e=window.getSelection(),i=document.createRange();i.selectNodeContents(t),e.removeAllRanges(),e.addRange(i)}document.execCommand("copy")}_removeConversion(e){const t=e.currentTarget["data-index"];this.conversions.removeAt(t)}_setDefaultPattern(e){e.stopPropagation();const t=this._findSettingsFormat();t&&(t.currentPattern=t.get("defaultPattern"))}_toggleExpand(){this._expanded=!this._expanded}_toggleInputVisibility(){this._inputVisible=!this._inputVisible,this._popupVisible&&this._hidePopup(),this._inputVisible?this.viewModel.pause():this.viewModel.resume()}_toggleMode(){this.mode="live"===this.mode?"capture":"live"}_toggleSettingsVisibility(){this._settingsVisible=!this._settingsVisible,this._popupVisible&&this._hidePopup(),this._settingsVisible?(this._setPreviewConversion(),this.viewModel.pause()):this.viewModel.resume()}};(0,n._)([(0,s.B)("viewModel.conversions")],ct.prototype,"conversions",void 0),(0,n._)([(0,s.B)("viewModel.currentLocation")],ct.prototype,"currentLocation",void 0),(0,n._)([(0,s.B)("viewModel.formats")],ct.prototype,"formats",void 0),(0,n._)([(0,s.B)("viewModel.goToOverride")],ct.prototype,"goToOverride",void 0),(0,n._)([(0,a.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ct.prototype,"label",void 0),(0,n._)([(0,a.Cb)(),(0,h.H)("esri/widgets/CoordinateConversion/t9n/CoordinateConversion")],ct.prototype,"messages",void 0),(0,n._)([(0,a.Cb)(),(0,h.H)("esri/t9n/common")],ct.prototype,"messagesCommon",void 0),(0,n._)([(0,s.B)("viewModel.mode")],ct.prototype,"mode",void 0),(0,n._)([(0,a.Cb)()],ct.prototype,"orientation",void 0),(0,n._)([(0,s.B)("viewModel.requestDelay")],ct.prototype,"requestDelay",void 0),(0,n._)([(0,a.Cb)()],ct.prototype,"multipleConversions",null),(0,n._)([(0,s.B)("viewModel.locationSymbol")],ct.prototype,"locationSymbol",void 0),(0,n._)([(0,s.B)("viewModel.view")],ct.prototype,"view",void 0),(0,n._)([(0,a.Cb)({type:ve})],ct.prototype,"viewModel",void 0),(0,n._)([(0,a.Cb)()],ct.prototype,"visibleElements",void 0),(0,n._)([(0,l.p)("visibleElements")],ct.prototype,"castVisibleElements",null),(0,n._)([(0,p.h)()],ct.prototype,"_copyCoordinateOutput",null),(0,n._)([(0,p.h)()],ct.prototype,"_removeConversion",null),(0,n._)([(0,p.h)()],ct.prototype,"_setDefaultPattern",null),(0,n._)([(0,p.h)()],ct.prototype,"_toggleExpand",null),(0,n._)([(0,p.h)()],ct.prototype,"_toggleInputVisibility",null),(0,n._)([(0,p.h)()],ct.prototype,"_toggleMode",null),(0,n._)([(0,p.h)()],ct.prototype,"_toggleSettingsVisibility",null),ct=(0,n._)([(0,c.j)("esri.widgets.CoordinateConversion")],ct);const ut=ct},89288:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var n=i(56140),o=(i(95830),i(36544),i(68055),i(79881)),r=i(51894),a=i(87566),s=(i(10923),i(57002),i(86035),i(24258)),l=i(9200),c=i(19401),u=i(88266),d=i(90806),p=i(82677),h=i(59691),f=i(80621);let m=class extends p.default{constructor(e){super(e),this._viewpointHandle=null,this._handles=new h.Z,this.group=null}initialize(){this._handles.add((0,f.on)(this,"view.ui","expand",(e=>{const{target:t}=e;t&&t!==this&&t.expanded&&t.group&&t.group===this.group&&this._collapse()})))}destroy(){this._viewpointHandle=null,this.view=null,this._handles.destroy(),this._handles=null}set autoCollapse(e){this._set("autoCollapse",e),this._watchViewpoint()}set expanded(e){const t=!!e;this._set("expanded",t);const i=this.get("view.ui");i&&i.emit("expand",{target:this}),this._viewpointHandleChange(t)}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){this._get("view")!==e&&(this._set("view",e),e&&(0,f.whenTrueOnce)(e,"ready",(()=>{this.view===e&&this._watchViewpoint()})))}_viewpointHandleChange(e){this._viewpointHandle&&(e?(0,f.whenTrueOnce)(this.view,"stationary",(()=>this._viewpointHandle.resume())):this._viewpointHandle.pause())}_watchViewpoint(){const e="viewpoint";this._handles.remove(e),this._viewpointHandle=null;const{autoCollapse:t,view:i}=this;if(i&&t){const t="3d"===i.type?"camera":"viewpoint",n=(0,f.pausable)(i,t,(()=>this._collapse()));this._handles.add(n,e),this._viewpointHandle=n}}_collapse(){this.expanded=!1}};(0,n._)([(0,o.Cb)({value:!1})],m.prototype,"autoCollapse",null),(0,n._)([(0,o.Cb)({value:!1})],m.prototype,"expanded",null),(0,n._)([(0,o.Cb)()],m.prototype,"group",void 0),(0,n._)([(0,o.Cb)({readOnly:!0})],m.prototype,"state",null),(0,n._)([(0,o.Cb)({value:null})],m.prototype,"view",null),m=(0,n._)([(0,a.j)("esri.widgets.Expand.ExpandViewModel")],m);const v=m,y="esri-expand esri-widget",b="esri-expand--auto",g="esri-expand--drawer",_="esri-expand--floating",w="esri-expand__container",k="esri-expand__container--expanded",S="esri-expand__panel",C="esri-widget--button",x="esri-icon-font-fallback-text",O="esri-collapse__icon",A="esri-expand__icon--expanded",P="esri-expand__icon-number",M="esri-expand__icon-number--expanded",j="esri-icon-expand",E="esri-icon-collapse",T="esri-expand__content",I="esri-expand__content--expanded",D="esri-expand__mask",R="esri-expand__mask--expanded";let L=class extends d.default{constructor(e,t){super(e,t),this.autoCollapse=null,this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expanded=null,this.expandTooltip="",this.group=null,this.iconNumber=0,this.label=void 0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.view=null,this.viewModel=new v,this._handleKeyDown=e=>{const{closeOnEsc:t,_toggleButtonEl:i,expanded:n}=this;n&&t&&e.target!==i&&"Escape"===e.key&&("function"==typeof t?t(e):t)&&(this.expanded=!1,null==i||i.focus())}}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const{expanded:e,messagesCommon:t,collapseTooltip:i,expandTooltip:n}=this;return e?i||t.collapse:n||t.expand}get collapseIconClass(){return E}set collapseIconClass(e){e?this._override("collapseIconClass",e):this._clearOverride("collapseIconClass")}get expandIconClass(){return(0,u.isWidget)(this.content)?this.content.iconClass:j}set expandIconClass(e){e?this._override("expandIconClass",e):this._clearOverride("expandIconClass")}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const{mode:e}=this,t={[b]:"auto"===e,[g]:"drawer"===e,[_]:"floating"===e};return(0,c.j)("div",{class:this.classes(y,t),onkeydown:this._handleKeyDown},this.renderMask(),this.renderContainer())}renderContainer(){const{expanded:e}=this,t={[k]:e};return(0,c.j)("div",{class:this.classes(w,t)},this.renderPanel(),this.renderContent())}renderMask(){const{expanded:e}=this,t={[R]:e};return(0,c.j)("div",{bind:this,onclick:this._toggle,class:this.classes(D,t)})}renderBadgeNumber(){const{expanded:e,iconNumber:t}=this;return t&&!e?(0,c.j)("span",{key:"expand__icon-number",class:P},t):null}renderPanelNumber(){const{iconNumber:e,expanded:t}=this;return e&&t?(0,c.j)("span",{key:"expand__expand-icon-number",class:this.classes(P,M)},e):null}renderIcon(){const{collapseIconClass:e,expandIconClass:t,expanded:i}=this,n={[A]:i,[e]:i,[t]:!i};return e===t&&(n[e]=!0),(0,c.j)("span",{"aria-hidden":"true",class:this.classes(O,n)})}renderTitle(){return(0,c.j)("span",{class:x},this.expandTitle)}renderExpandButton(){const{expanded:e,expandTitle:t,contentId:i}=this;return(0,c.j)("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":i,"aria-expanded":e?"true":"false",bind:this,class:C,onclick:this._toggle,onkeydown:this._toggle,role:"button",tabindex:"0",title:t},this.renderBadgeNumber(),this.renderIcon(),this.renderTitle())}renderPanel(){return(0,c.j)("div",{class:S},this.renderExpandButton(),this.renderPanelNumber())}renderContent(){const{expanded:e,contentId:t}=this,i={[I]:e};return(0,c.j)("div",{id:t,role:"region",class:this.classes(T,i)},this.renderContentContainer())}renderContentContainer(){const e=this.content;return"string"==typeof e?(0,c.j)("div",{innerHTML:e}):(0,u.isWidget)(e)?e.render():e instanceof HTMLElement?(0,c.j)("div",{bind:e,afterCreate:this._attachToNode}):(0,u.hasDomNode)(e)?(0,c.j)("div",{bind:e.domNode,afterCreate:this._attachToNode}):null}_toggle(){this.toggle()}_attachToNode(e){e.appendChild(this)}_storeToggleButtonEl(e){this._toggleButtonEl=e}};(0,n._)([(0,o.Cb)({readOnly:!0})],L.prototype,"contentId",null),(0,n._)([(0,o.Cb)({readOnly:!0})],L.prototype,"expandTitle",null),(0,n._)([(0,r.B)("viewModel.autoCollapse")],L.prototype,"autoCollapse",void 0),(0,n._)([(0,o.Cb)()],L.prototype,"closeOnEsc",void 0),(0,n._)([(0,o.Cb)()],L.prototype,"collapseIconClass",null),(0,n._)([(0,o.Cb)()],L.prototype,"collapseTooltip",void 0),(0,n._)([(0,o.Cb)()],L.prototype,"content",void 0),(0,n._)([(0,r.B)("viewModel.expanded")],L.prototype,"expanded",void 0),(0,n._)([(0,o.Cb)()],L.prototype,"expandIconClass",null),(0,n._)([(0,o.Cb)()],L.prototype,"expandTooltip",void 0),(0,n._)([(0,r.B)("viewModel.group")],L.prototype,"group",void 0),(0,n._)([(0,o.Cb)()],L.prototype,"iconNumber",void 0),(0,n._)([(0,o.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],L.prototype,"label",void 0),(0,n._)([(0,o.Cb)(),(0,l.H)("esri/widgets/Expand/t9n/Expand")],L.prototype,"messages",void 0),(0,n._)([(0,o.Cb)(),(0,l.H)("esri/t9n/common")],L.prototype,"messagesCommon",void 0),(0,n._)([(0,o.Cb)()],L.prototype,"mode",void 0),(0,n._)([(0,r.B)("viewModel.view")],L.prototype,"view",void 0),(0,n._)([(0,o.Cb)({type:v})],L.prototype,"viewModel",void 0),(0,n._)([(0,s.h)()],L.prototype,"_toggle",null),L=(0,n._)([(0,a.j)("esri.widgets.Expand")],L);const N=L},72320:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(56140),o=(i(95830),i(36544)),r=(i(68055),i(79881)),a=i(51894),s=i(87566),l=(i(10923),i(57002),i(86035),i(40450),i(24258)),c=i(9200),u=i(19401),d=i(90806),p=i(82677);const h="esri.widgets.Fullscreen.FullscreenViewModel",f=o.Z.getLogger(h);let m=class extends p.default{constructor(e){super(e),this._vendorInfo=null,this._fullscreenStyle="width: 100%; height: 100%;",this.view=null,this._errorHandler=this._errorHandler.bind(this),this._stateHandler=this._stateHandler.bind(this)}destroy(){this._removeFullscreenListeners(),this.view=null}get element(){return this.get("view.container")}set element(e){void 0!==e?this._override("element",e):this._clearOverride("element")}get state(){return this.element?this._isSupported()?this._isActive()?"active":"ready":"feature-unsupported":"disabled"}enter(){this._enterFullscreen()}exit(){this._exitFullscreen()}toggle(){this._isActive()?this._exitFullscreen():this._enterFullscreen()}_isSupported(){this._removeFullscreenListeners();const e=this._getVendorInfo(this.element);return this._addFullscreenListeners(e),this._vendorInfo=e,!!e}_isActive(){return!!this._vendorInfo&&!!document[this._vendorInfo.propertyName]}_stateHandler(){this.notifyChange("state"),"active"===this.state?this._addStyle():this._removeStyle()}_errorHandler(e){f.error("fullscreen request failed",e)}_getVendorInfo(e){if(e)return e.requestFullscreen?{enterName:"requestFullscreen",exitName:"exitFullscreen",errorEventName:"fullscreenerror",changeEventName:"fullscreenchange",propertyName:"fullscreen"}:e.webkitRequestFullScreen?{enterName:"webkitRequestFullscreen",exitName:"webkitCancelFullScreen",errorEventName:"webkitfullscreenerror",changeEventName:"webkitfullscreenchange",propertyName:"webkitIsFullScreen"}:e.mozRequestFullScreen?{enterName:"mozRequestFullScreen",exitName:"mozCancelFullScreen",errorEventName:"mozfullscreenerror",changeEventName:"mozfullscreenchange",propertyName:"mozFullScreen"}:e.msRequestFullscreen?{enterName:"msRequestFullscreen",exitName:"msExitFullscreen",errorEventName:"MSFullscreenError",changeEventName:"MSFullscreenChange",propertyName:"msFullscreenElement"}:void 0}_enterFullscreen(){if("feature-unsupported"===this.state)return void f.warn("The fullscreen API is not supported in this browser.");const{element:e}=this;e&&(e[this._vendorInfo.enterName].call(e),this.notifyChange("state"))}_addStyle(){const{element:e}=this;e&&e.setAttribute("style",this._fullscreenStyle)}_removeStyle(){const{element:e}=this;e&&e.removeAttribute("style")}_exitFullscreen(){if("feature-unsupported"===this.state)return;const{element:e}=this;e&&(document[this._vendorInfo.exitName].call(document),this.notifyChange("state"))}_addFullscreenListeners(e){e&&(document.addEventListener(e.changeEventName,this._stateHandler),document.addEventListener(e.errorEventName,this._errorHandler))}_removeFullscreenListeners(){const{_vendorInfo:e}=this;this._vendorInfo&&(document.removeEventListener(e.changeEventName,this._stateHandler),document.removeEventListener(e.errorEventName,this._errorHandler))}};(0,n._)([(0,r.Cb)()],m.prototype,"element",null),(0,n._)([(0,r.Cb)({readOnly:!0})],m.prototype,"state",null),(0,n._)([(0,r.Cb)()],m.prototype,"view",void 0),(0,n._)([(0,r.Cb)()],m.prototype,"enter",null),(0,n._)([(0,r.Cb)()],m.prototype,"exit",null),(0,n._)([(0,r.Cb)()],m.prototype,"toggle",null),m=(0,n._)([(0,s.j)(h)],m);const v=m,y="esri-fullscreen esri-widget--button esri-widget",b="esri-icon-font-fallback-text",g="esri-icon",_="esri-icon-zoom-out-fixed",w="esri-icon-zoom-in-fixed",k="esri-disabled";let S=class extends d.default{constructor(e,t){super(e,t),this.element=null,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new v}get fullscreenTitle(){var e;const t=null==(e=this.viewModel)?void 0:e.state;return"active"===t?this.messages.exit:"ready"===t?this.messages.enter:""}render(){var e;const t=null==(e=this.viewModel)?void 0:e.state,{fullscreenTitle:i}=this,n={[k]:"disabled"===t||"feature-unsupported"===t};return(0,u.j)("div",{bind:this,class:this.classes(y,n),role:"button",tabIndex:0,onclick:this._toggle,onkeydown:this._toggle,"aria-label":i,title:i},this.renderIcon(),this.renderTitle())}renderIcon(){var e;const t=null==(e=this.viewModel)?void 0:e.state,i={[_]:"ready"===t||"disabled"===t||"feature-unsupported"===t,[w]:"active"===t};return(0,u.j)("span",{class:this.classes(g,i),"aria-hidden":"true"})}renderTitle(){return(0,u.j)("span",{class:b},this.fullscreenTitle)}_toggle(){this.viewModel.toggle()}};(0,n._)([(0,a.B)("viewModel.element")],S.prototype,"element",void 0),(0,n._)([(0,r.Cb)({readOnly:!0})],S.prototype,"fullscreenTitle",null),(0,n._)([(0,r.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],S.prototype,"label",void 0),(0,n._)([(0,r.Cb)(),(0,c.H)("esri/widgets/Fullscreen/t9n/Fullscreen")],S.prototype,"messages",void 0),(0,n._)([(0,a.B)("viewModel.view")],S.prototype,"view",void 0),(0,n._)([(0,r.Cb)({type:v})],S.prototype,"viewModel",void 0),(0,n._)([(0,l.h)()],S.prototype,"_toggle",null),S=(0,n._)([(0,s.j)("esri.widgets.Fullscreen")],S);const C=S},94576:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D});var n=i(56140),o=(i(95830),i(36544),i(68055),i(79881)),r=i(51894),a=i(87566),s=(i(10923),i(57002),i(86035),i(40450),i(24258)),l=i(9200),c=i(30818),u=i(19401),d=i(90806),p=i(32656),h=i(39105),f=i(3766),m=i(58484),v=i(14071),y=(i(89771),i(59691)),b=i(80621),g=i(69642),_=i(49322),w=i(55934);let k=class extends w.Z{constructor(e){super(e),this._locateController=null,this._handles=new y.Z,this.popupEnabled=!0,this.locate=this.locate.bind(this)}initialize(){this._handles.add([(0,b.on)(this,"view.popup","trigger-action",(e=>(0,g.aG)({event:e,view:this.view}))),(0,f.qe)((()=>{var e;const{graphic:t,view:i}=this;(null==i||null==(e=i.graphics)?void 0:e.includes(t))&&this._updatePopupTemplate(t)}))])}destroy(){this.cancelLocate(),this._handles.destroy(),this._handles=null}get state(){return this._geolocationUsable?this.get("view.ready")?this._locateController?"locating":"ready":"disabled":"feature-unsupported"}async locate(){if(this.cancelLocate(),"disabled"===this.state)throw new p.Z("locate:disabled-state","Cannot locate when disabled.");if("feature-unsupported"===this.state)throw new p.Z("locate:feature-unsupported-state","Cannot locate in unsecure domain.");const e=(0,h.createAbortController)();this._locateController=e;try{let t=await(0,_.nu)(this.geolocationOptions);return t=await this._setPosition(t,{signal:e.signal}),this._locateController!==e?null:(this.graphic&&(this.graphic=this.graphic.clone(),await this._updatePopupTemplate(this.graphic),this.view.graphics.push(this.graphic)),this.emit("locate",{position:t}),this._locateController=null,t)}catch(e){throw this._locateController=null,this.emit("locate-error",{error:e}),e}}cancelLocate(){this._clear(),this._locateController&&this._locateController.abort(),this._locateController=null}async _updatePopupTemplate(e){if(!this.popupEnabled)return;const t=await async function(){const e=await(0,v.ME)("esri/widgets/Locate/t9n/Locate");return new m.default({title:e.currentLocation,fieldInfos:[{fieldName:"timestamp",label:e.timestamp,format:{dateFormat:"short-date-short-time"}},{fieldName:"latitude",label:e.latitude,format:{places:4,digitSeparator:!0}},{fieldName:"longitude",label:e.longitude,format:{places:4,digitSeparator:!0}},{fieldName:"accuracy",label:e.accuracy,format:{places:0,digitSeparator:!0}},{fieldName:"altitude",label:e.altitude,format:{places:0,digitSeparator:!0}},{fieldName:"altitudeAccuracy",label:e.altitudeAccuracy,format:{places:0,digitSeparator:!0}},{fieldName:"heading",label:e.heading,format:{places:0,digitSeparator:!0}},{fieldName:"speed",label:e.speed,format:{places:0,digitSeparator:!0}}],actions:[g.tP.clone()],content:[{type:"fields"}]})}(),i=e!==this.graphic;this.destroyed||i||(e.popupTemplate=t)}};(0,n._)([(0,o.Cb)()],k.prototype,"_locateController",void 0),(0,n._)([(0,o.Cb)()],k.prototype,"popupEnabled",void 0),(0,n._)([(0,o.Cb)({readOnly:!0})],k.prototype,"state",null),(0,n._)([(0,o.Cb)()],k.prototype,"locate",null),(0,n._)([(0,o.Cb)()],k.prototype,"cancelLocate",null),k=(0,n._)([(0,a.j)("esri.widgets.Locate.LocateViewModel")],k);const S=k,C="esri-locate esri-widget--button esri-widget",x="esri-icon-font-fallback-text",O="esri-icon",A="esri-icon-locate",P="esri-icon-loading-indicator",M="esri-rotating",j="esri-icon-north-navigation",E="esri-disabled",T="esri-hidden";let I=class extends d.default{constructor(e,t){super(e,t),this.geolocationOptions=null,this.goToLocationEnabled=null,this.goToOverride=null,this.graphic=null,this.iconClass=j,this.label=void 0,this.messages=null,this.messagesCommon=null,this.popupEnabled=null,this.scale=null,this.useHeadingEnabled=null,this.view=null,this.viewModel=new S}cancelLocate(){}locate(){}render(){const e=this.get("viewModel.state"),t="locating"===e,i={[E]:"disabled"===e,[T]:"feature-unsupported"===e},n={[P]:t,[M]:t,[A]:!t},o="locating"===e?this.messagesCommon.cancel:this.messages.title;return(0,u.j)("div",{bind:this,class:this.classes(C,i),hidden:"feature-unsupported"===e,onclick:this._locate,onkeydown:this._locate,role:"button",tabIndex:0,"aria-label":o,title:o},(0,u.j)("span",{"aria-hidden":"true",class:this.classes(O,n)}),(0,u.j)("span",{class:x},this.messages.title))}_locate(){const{viewModel:e}=this;"locating"===e.state?e.cancelLocate():e.locate()}};(0,n._)([(0,r.B)("viewModel.geolocationOptions")],I.prototype,"geolocationOptions",void 0),(0,n._)([(0,r.B)("viewModel.goToLocationEnabled")],I.prototype,"goToLocationEnabled",void 0),(0,n._)([(0,r.B)("viewModel.goToOverride")],I.prototype,"goToOverride",void 0),(0,n._)([(0,r.B)("viewModel.graphic")],I.prototype,"graphic",void 0),(0,n._)([(0,o.Cb)()],I.prototype,"iconClass",void 0),(0,n._)([(0,o.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],I.prototype,"label",void 0),(0,n._)([(0,o.Cb)(),(0,l.H)("esri/widgets/Locate/t9n/Locate")],I.prototype,"messages",void 0),(0,n._)([(0,o.Cb)(),(0,l.H)("esri/t9n/common")],I.prototype,"messagesCommon",void 0),(0,n._)([(0,r.B)("viewModel.popupEnabled")],I.prototype,"popupEnabled",void 0),(0,n._)([(0,r.B)("viewModel.scale")],I.prototype,"scale",void 0),(0,n._)([(0,r.B)("viewModel.useHeadingEnabled")],I.prototype,"useHeadingEnabled",void 0),(0,n._)([(0,r.B)("viewModel.view")],I.prototype,"view",void 0),(0,n._)([(0,o.Cb)({type:S}),(0,c.s)(["locate","locate-error"])],I.prototype,"viewModel",void 0),(0,n._)([(0,r.B)("viewModel.cancelLocate")],I.prototype,"cancelLocate",null),(0,n._)([(0,r.B)("viewModel.locate")],I.prototype,"locate",null),(0,n._)([(0,s.h)()],I.prototype,"_locate",null),I=(0,n._)([(0,a.j)("esri.widgets.Locate")],I);const D=I},67565:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(56140),o=(i(95830),i(36544),i(68055),i(79881)),r=i(51894),a=i(87566),s=(i(10923),i(57002),i(86035),i(39105)),l=(i(40450),i(9200)),c=i(19401),u=i(90806),d=i(82677),p=i(93533),h=i(65867);let f=class extends d.default{constructor(e){super(e),this.activeTool=null,this.activeViewModel=null,this.view=null}get areaUnit(){return this.defaultUnit}set areaUnit(e){void 0!==e?this._override("areaUnit",e):this._clearOverride("areaUnit")}get linearUnit(){return this.defaultUnit}set linearUnit(e){void 0!==e?this._override("linearUnit",e):this._clearOverride("linearUnit")}get state(){const{activeViewModel:e}=this;return e?e.state:"disabled"}};(0,n._)([(0,o.Cb)({type:["area","distance","direct-line"]})],f.prototype,"activeTool",void 0),(0,n._)([(0,o.Cb)()],f.prototype,"activeViewModel",void 0),(0,n._)([(0,o.Cb)({type:p.fN})],f.prototype,"areaUnit",null),(0,n._)([(0,o.Cb)(h.Y)],f.prototype,"defaultUnit",void 0),(0,n._)([(0,o.Cb)({type:p.oD})],f.prototype,"linearUnit",null),(0,n._)([(0,o.Cb)({readOnly:!0})],f.prototype,"state",null),(0,n._)([(0,o.Cb)()],f.prototype,"view",void 0),f=(0,n._)([(0,a.j)("esri.widgets.Measurement.MeasurementViewModel")],f);const m=f,v="esri-measurement",y="esri-icon-measure";let b=class extends u.default{constructor(e,t){super(e,t),this._widgets=new Map,this.activeTool=null,this.activeWidget=null,this.areaUnit=null,this.iconClass=y,this.label=void 0,this.linearUnit=null,this.messages=null,this.view=null,this.viewModel=new m}initialize(){this.activeWidget&&this.viewModel.set("activeViewModel",this.activeWidget.viewModel),this.view&&this.activeTool&&this._getActiveWidget().then((e=>{this._set("activeWidget",e)})),this.own([this.watch(["view","activeTool"],(()=>{this._getActiveWidget().then((e=>{this._set("activeWidget",e)}))})),this.watch("activeWidget",((e,t)=>{this.viewModel.set("activeViewModel",e?e.viewModel:null),t&&(t.visible=!1)})),this.watch(["areaUnit","linearUnit"],(()=>this._updateWidgetUnits()))])}destroy(){this._destroyWidgets()}render(){const{activeWidget:e}=this,t=e&&!e.destroyed?e.render():null;return(0,c.j)("div",{class:v},t)}clear(){this.activeTool=null,this._destroyWidgets()}startMeasurement(){const{activeViewModel:e}=this.viewModel;e&&(0,s.ignoreAbortErrors)(e.start())}async _createWidget(e){const{areaUnit:t,linearUnit:n,view:o}=this;switch(e){case"area":{const{type:e}=o;switch(e){case"2d":return new(0,(await Promise.all([i.e(2673),i.e(8834),i.e(3005),i.e(1518),i.e(6369),i.e(142),i.e(9632),i.e(8157),i.e(7333),i.e(1063),i.e(2551),i.e(9090),i.e(2905),i.e(3284),i.e(5798),i.e(5666),i.e(1335),i.e(5313),i.e(5834),i.e(5550)]).then(i.bind(i,95550))).default)({view:o,unit:t});case"3d":return new(0,(await Promise.all([i.e(2673),i.e(8834),i.e(3005),i.e(1518),i.e(356),i.e(6369),i.e(142),i.e(9632),i.e(6563),i.e(8157),i.e(7333),i.e(2551),i.e(9090),i.e(2905),i.e(5798),i.e(5666),i.e(5313),i.e(530),i.e(6562),i.e(5991),i.e(2457),i.e(6617),i.e(2429)]).then(i.bind(i,62216))).default)({view:o,unit:t});default:return null}}case"distance":return new(0,(await Promise.all([i.e(2673),i.e(8834),i.e(3005),i.e(1518),i.e(6369),i.e(142),i.e(9632),i.e(8157),i.e(7333),i.e(1063),i.e(2551),i.e(9090),i.e(2905),i.e(3284),i.e(5798),i.e(5666),i.e(1335),i.e(5313),i.e(5834),i.e(1067)]).then(i.bind(i,51067))).default)({view:o,unit:n});case"direct-line":return new(0,(await Promise.all([i.e(2673),i.e(8834),i.e(3005),i.e(1518),i.e(356),i.e(6369),i.e(142),i.e(9632),i.e(6563),i.e(8157),i.e(7333),i.e(2551),i.e(9090),i.e(2905),i.e(5666),i.e(5313),i.e(530),i.e(6562),i.e(5991),i.e(6617),i.e(2592)]).then(i.bind(i,42592))).default)({view:o,unit:n});default:return null}}_destroyWidgets(){this._widgets.forEach((e=>e.destroy())),this._widgets.clear()}async _getActiveWidget(){const{activeTool:e,view:t}=this;if(!t||!e)return null;let i=null;if(this._widgets.has(e))i=this._widgets.get(e),i.visible=!0;else{if(i=await this._createWidget(e),!i)return null;await i.viewModel.start(),this._widgets.set(e,i)}return i}_updateWidgetUnits(){this._widgets.forEach((e=>{const{areaUnit:t,linearUnit:i}=this;e.unit=function(e){return e&&("esri.widgets.AreaMeasurement2D"===e.declaredClass||"esri.widgets.AreaMeasurement3D"===e.declaredClass)}(e)?t:i}))}};(0,n._)([(0,r.B)("viewModel.activeTool")],b.prototype,"activeTool",void 0),(0,n._)([(0,o.Cb)({readOnly:!0})],b.prototype,"activeWidget",void 0),(0,n._)([(0,r.B)("viewModel.areaUnit")],b.prototype,"areaUnit",void 0),(0,n._)([(0,o.Cb)()],b.prototype,"iconClass",void 0),(0,n._)([(0,o.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0),(0,n._)([(0,r.B)("viewModel.linearUnit")],b.prototype,"linearUnit",void 0),(0,n._)([(0,o.Cb)(),(0,l.H)("esri/widgets/Measurement/t9n/Measurement")],b.prototype,"messages",void 0),(0,n._)([(0,r.B)("viewModel.view")],b.prototype,"view",void 0),(0,n._)([(0,o.Cb)({type:m})],b.prototype,"viewModel",void 0),b=(0,n._)([(0,a.j)("esri.widgets.Measurement")],b);const g=b},22204:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>lt});var n=i(56140),o=(i(95830),i(36544)),r=(i(68055),i(79881)),a=i(51894),s=i(87566),l=i(10923),c=(i(57002),i(86035),i(10180)),u=i(28293),d=i(80621),p=i(40450),h=i(9200),f=i(19401),m=i(90806),v=i(70026),y=i(93484),b=i(82677),g=i(59691);let _=class extends b.default{constructor(e){super(e),this._handles=new g.Z,this.state="pending",this.url=""}initialize(){this._handles.add([(0,d.init)(this,["extension","name"],(()=>this._setFormattedFileName()))])}destroy(){this._handles.destroy()}_setFormattedFileName(){if(!this.name||!this.extension)return;let e=this.name+"."+this.extension;this.count&&(e=this.name+"("+this.count+")."+this.extension),this.formattedName=e}};(0,n._)([(0,r.Cb)()],_.prototype,"count",void 0),(0,n._)([(0,r.Cb)()],_.prototype,"error",void 0),(0,n._)([(0,r.Cb)()],_.prototype,"extension",void 0),(0,n._)([(0,r.Cb)()],_.prototype,"formattedName",void 0),(0,n._)([(0,r.Cb)()],_.prototype,"name",void 0),(0,n._)([(0,r.Cb)()],_.prototype,"state",void 0),(0,n._)([(0,r.Cb)()],_.prototype,"url",void 0),_=(0,n._)([(0,s.j)("esri.widgets.print.FileLink")],_);const w=_;var k=i(32656),S=i(52937),C=i(21979),x=i(36654),O=(i(89771),i(809)),A=i(32797),P=i(65984),M=i(33517),j=i(12783),E=i(1028),T=i(15187);let I=class extends b.default{constructor(e){super(e),this.extent=null,this.extraParameters=null,this.outSpatialReference=null,this.template=null,this.view=null}};(0,n._)([(0,r.Cb)()],I.prototype,"extent",void 0),(0,n._)([(0,r.Cb)()],I.prototype,"extraParameters",void 0),(0,n._)([(0,r.Cb)()],I.prototype,"outSpatialReference",void 0),(0,n._)([(0,r.Cb)()],I.prototype,"template",void 0),(0,n._)([(0,r.Cb)()],I.prototype,"view",void 0),I=(0,n._)([(0,s.j)("esri.tasks.support.PrintParameters")],I);const D=I;var R=i(58385);let L=class extends R.wq{constructor(e){super(e),this.description=null,this.format=null,this.label=null,this.layout=null,this.layoutOptions=null}};(0,n._)([(0,r.Cb)()],L.prototype,"description",void 0),(0,n._)([(0,r.Cb)({json:{read:M.i}})],L.prototype,"format",void 0),(0,n._)([(0,r.Cb)()],L.prototype,"label",void 0),(0,n._)([(0,r.Cb)({json:{read:j.i}})],L.prototype,"layout",void 0),(0,n._)([(0,r.Cb)()],L.prototype,"layoutOptions",void 0),L=(0,n._)([(0,s.j)("esri.widgets.Print.CustomTemplate")],L);const N=L,B=u.Z.ofType(N);let F=class extends O.Z{constructor(e){super(e),this._handles=new g.Z,this._viewpoint=null,this.allowedFormats="all",this.allowedLayouts="all",this.defaultTemplates=new B,this.includeDefaultTemplates=!0,this.effectivePrintServiceUrl=null,this.error=null,this.portal=A.Z.getDefault(),this.printServiceUrl=null,this.scaleEnabled=!1,this.templatesInfo=null,this.updateDelay=1e3,this.view=null,this.print=this.print.bind(this)}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get printTask(){return new E.default(this.effectivePrintServiceUrl,{updateDelay:this.updateDelay})}get state(){return"loading"===this.loadStatus?"initializing":this.error||"failed"===this.loadStatus?"error":this.get("view.ready")&&"loaded"===this.loadStatus?"ready":"disabled"}async load(e){return this.addResolvingPromise(this._loadResources(e).catch((e=>this.error=e))),this}print(e){let t;if(!this.view)return Promise.reject(new k.Z("print:view-required","view is not set"));this.scaleEnabled?(this._viewpoint||(this._viewpoint=this.view.viewpoint.clone()),t=this._getExtent(this._viewpoint,e.outScale)):(this._viewpoint=null,t=this._getExtent(this.view.viewpoint)),function(e){if(e.layoutOptions||(e.layoutOptions={}),e.layoutOptions.customTextElements||(e.layoutOptions.customTextElements=[]),!e.layoutOptions.customTextElements.find((e=>"date"in e))){const{customTextElements:t}=e.layoutOptions;t.push({date:(0,C.p6)(Date.now(),(0,C.Ze)("short-date"))})}}(e);const i=new D({view:this.view,template:e,extent:t});return this.printTask.execute(i).catch((e=>{const t="print-task:cim-symbol-unsupported"===e.name?e.message:"An error occurred while exporting the web map.";return Promise.reject(new k.Z("print:export-error",t,{error:e}))}))}async _loadResources(e){let t=[];const{printServiceUrl:i}=this;if(!i){var n;if(this.destroyed)return;const{portal:i}=this;try{await i.load(e)}catch(e){throw new k.Z("print:could-not-load-portal","Cannot load print resource information from portal",{url:this.effectivePrintServiceUrl})}const r=null==(n=i.helperServices)?void 0:n.printTask;var o;r&&(this._set("effectivePrintServiceUrl",r.url),t=(null!=(o=null==r?void 0:r.templates)?o:[]).map((e=>N.fromJSON(e))))}t.length>0&&this.defaultTemplates.addMany(t),await this._loadServiceDescription(e)}async _loadServiceDescription(e){const t=await this._getPrintTemplatesFromService(e);this._set("templatesInfo",t)}_getPrintTemplatesFromService(e){if(-1===this.effectivePrintServiceUrl.toLowerCase().split("/").indexOf("gpserver"))throw new k.Z("print:invalid-print-service-url","Can't fetch print templates information from provided URL",{url:this.effectivePrintServiceUrl});return(0,x.default)(this.effectivePrintServiceUrl,{...e,query:{f:"json"},timeout:6e4}).then((e=>{const t=e&&e.data,i=t&&t.parameters;let n=null,o=null;return i.forEach((e=>{let t,i=e.choiceList&&e.choiceList.slice();i&&i.length&&e.defaultValue&&(t=i.indexOf(e.defaultValue)),t>-1&&(i.splice(t,1),i.unshift(e.defaultValue));const r=(e,t)=>{const i="all"===t?e:e.filter((e=>t.indexOf(e)>-1));return 0===i.length?e:i};if("Format"===e.name){const t=r(i.map(M.i),this.allowedFormats),o=(0,M.i)(e.defaultValue);n={defaultValue:t.includes(o)?o:t[0],choiceList:t}}else if("Layout_Template"===e.name){let t,n;i=i.filter((e=>"map_only"!==e.toLowerCase())),i.some(((e,i)=>{const n=e.toLowerCase();return n.indexOf("letter")>-1&&n.indexOf("landscape")>-1?(t=i,!0):n.indexOf("a4")>-1&&n.indexOf("landscape")>-1&&(t=i,!1)})),t&&(n=i[t],i.splice(t,1),i.unshift(n));const a=r(i.map(j.i),this.allowedLayouts),s=(0,j.i)(e.defaultValue);o={defaultValue:a.includes(s)?s:a[0],choiceList:a}}})),this.error=null,{format:n,layout:o}})).catch((e=>{throw new k.Z("print:unavailable-service-info","Can't fetch templates info from service",{error:e})}))}_getExtent(e,t){const i=t||this.view.scale,n=this.get("view.size"),o=e?e.targetGeometry:null;return(0,T.bk)(new S.Z,new P.Z({scale:i,targetGeometry:o}),n)}};(0,n._)([(0,r.Cb)()],F.prototype,"allowedFormats",void 0),(0,n._)([(0,r.Cb)()],F.prototype,"allowedLayouts",void 0),(0,n._)([(0,r.Cb)({type:B})],F.prototype,"defaultTemplates",void 0),(0,n._)([(0,r.Cb)()],F.prototype,"includeDefaultTemplates",void 0),(0,n._)([(0,r.Cb)({aliasOf:{source:"printServiceUrl",overridable:!0},readOnly:!0})],F.prototype,"effectivePrintServiceUrl",void 0),(0,n._)([(0,r.Cb)()],F.prototype,"error",void 0),(0,n._)([(0,r.Cb)({type:A.Z})],F.prototype,"portal",void 0),(0,n._)([(0,r.Cb)()],F.prototype,"printServiceUrl",void 0),(0,n._)([(0,r.Cb)({type:E.default})],F.prototype,"printTask",null),(0,n._)([(0,r.Cb)({readOnly:!0})],F.prototype,"state",null),(0,n._)([(0,r.Cb)()],F.prototype,"scaleEnabled",void 0),(0,n._)([(0,r.Cb)({readOnly:!0})],F.prototype,"templatesInfo",void 0),(0,n._)([(0,r.Cb)()],F.prototype,"updateDelay",void 0),(0,n._)([(0,r.Cb)()],F.prototype,"view",void 0),F=(0,n._)([(0,s.j)("esri.widgets.Print.PrintViewModel")],F);const V=F;let U=class extends b.default{constructor(e){super(e),this.attributionEnabled=!0,this.author=null,this.copyright=null,this.dpi=96,this.fileName=null,this.forceFeatureAttributes=!1,this.format=null,this.layout=null,this.legendEnabled=!0,this.height=null,this.scale=null,this.scaleEnabled=!1,this.title=null,this.width=null}};(0,n._)([(0,r.Cb)()],U.prototype,"attributionEnabled",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"author",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"copyright",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"dpi",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"fileName",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"forceFeatureAttributes",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"format",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"layout",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"legendEnabled",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"height",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"scale",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"scaleEnabled",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"title",void 0),(0,n._)([(0,r.Cb)()],U.prototype,"width",void 0),U=(0,n._)([(0,s.j)("esri.widgets.Print.TemplateOptions")],U);const G=U,Z=u.Z.ofType(w),$="esri-print",J="esri-print__header-title",W="esri-print__input-text",q="esri-print__layout-tab-list",z="esri-print__layout-tab",H="esri-print__layout-section",Y="esri-print__map-only-section",X="esri-print__scale-input",K="esri-print__template-list",Q="esri-print__template-list-scroller",ee="esri-print__template-list-footer",te="esri-print__loader",ie="esri-print__advanced-options-button",ne="esri-print__advanced-options-button-container",oe="esri-print__advanced-options-button-title",re="esri-print__advanced-options-button-icon--opened",ae="esri-print__advanced-options-button-icon--closed",se="esri-print__advanced-options-button-icon--closed-rtl",le="esri-print__refresh-button",ce="esri-print__swap-button",ue="esri-print__export-button",de="esri-print__template-button",pe="esri-print__form-section-container",he="esri-print__advanced-options-section",fe="esri-print__advanced-options-container",me="esri-print__author-info-container",ve="esri-print__copyright-info-container",ye="esri-print__export-panel-container",be="esri-print__export-title",ge="esri-print__exported-file",_e="esri-widget__anchor esri-print__exported-file-link",we="esri-print__exported-file-link-title",ke="esri-print__height-container",Se="esri-print__legend-info-container",Ce="esri-print__container",xe="esri-print__panel-container",Oe="esri-print__scale-info-container",Ae="esri-print__scale-input-container",Pe="esri-print__size-container",Me="esri-print__width-container",je="esri-widget",Ee="esri-widget--panel",Te="esri-widget--button",Ie="esri-button",De="esri-button--secondary",Re="esri-button--tertiary",Le="esri-select",Ne="esri-widget__heading",Be="esri-input",Fe="esri-widget__anchor--disabled",Ve="esri-button--disabled",Ue="esri-print__panel--error",Ge="esri-print__exported-file--error",Ze="esri-rotating",$e="esri-menu__list",Je="esri-menu__list-item",We="esri-menu__list-item--focus",qe="esri-menu__header",ze="esri-icon-download",He="esri-icon-launch-link-external",Ye="esri-icon-error",Xe="esri-icon-right-triangle-arrow",Ke="esri-icon-left-triangle-arrow",Qe="esri-icon-down-arrow",et="esri-icon-refresh",tt="esri-icon-loading-indicator",it="esri-icon-swap",nt="esri-icon-printer",ot=o.Z.getLogger("esri.widgets.Print"),rt="User sets an invalid layout, resetting it to the default valid one...",at="User sets an invalid format, resetting it to the default valid one...";let st=class extends m.default{constructor(e,t){super(e,t),this._activeTabFocusRequested=!1,this._advancedOptionsVisibleForLayout=!1,this._advancedOptionsVisibleForMapOnly=!1,this._awaitingServerResponse=!1,this._exportedFileNameMap={},this._focusedTemplateIndex=0,this._layoutTabSelected=!0,this._pendingExportScroll=!1,this._rootNode=null,this._selectTemplateNode=null,this._templateListPopover=new y.Z({owner:this,placement:"top",offset:[0,-100],anchorElement:()=>this._selectTemplateNode,renderContentFunction:this.renderTemplateList}),this.allowedFormats=null,this.allowedLayouts=null,this.exportedLinks=new Z,this.iconClass=nt,this.includeDefaultTemplates=null,this.label=void 0,this.portal=null,this.printServiceUrl=null,this.templateOptions=new G,this.view=null,this.viewModel=new V,this.handleTemplateListCreation=e=>e.focus(),this.handleTemplateChildBlur=e=>{var t;(null==(t=e.relatedTarget)?void 0:t.closest(`.${K}`))||this.handleCloseTemplateSelection()},this.handleCloseTemplateSelection=()=>{this._focusedTemplateIndex=0,this._templateListPopover.open=!1,this._selectTemplateNode.focus()},this.handleSelectTemplateClick=()=>{this._focusedTemplateIndex=0,this._templateListPopover.open=!0},this.handleTemplateListClick=e=>{const t=e.target;this.applyTemplate(t["data-template"])},this.handleTemplateListKeyDown=e=>{if("Enter"===e.key||" "===e.key)return this.applyTemplate(this.viewModel.defaultTemplates.getItemAt(this._focusedTemplateIndex)),void e.preventDefault();if("ArrowDown"===e.key||"ArrowUp"===e.key){const{defaultTemplates:t}=this.viewModel,i="ArrowDown"===e.key?1:-1,n=(this._focusedTemplateIndex+i)%t.length;this._focusedTemplateIndex=n<0?t.length-1:n;const o=e.currentTarget;(0,p._q)(o.querySelectorAll(`.${Je}`)[this._focusedTemplateIndex],o.parentElement),e.preventDefault()}"Escape"===e.key&&this.handleCloseTemplateSelection()},this._removeLink=e=>{const t=e.currentTarget["data-item"];t&&"error"===t.state&&this.exportedLinks.remove(t)},this._focusOnTabChange=this._focusOnTabChange.bind(this)}initialize(){this.own([(0,d.init)(this,"viewModel.templatesInfo",(e=>{const{format:t,layout:i}=this.templateOptions;if(e){const n=i===e.layout.defaultValue||i&&"MAP_ONLY"===i.toUpperCase()||e.layout.choiceList&&e.layout.choiceList.indexOf(i)>-1,o=t===e.format.defaultValue||e.format.choiceList&&e.format.choiceList.indexOf(t)>-1;n||(i&&ot.warn(rt),this.templateOptions.layout=e.layout.defaultValue),o||(t&&ot.warn(at),this.templateOptions.format=e.format.defaultValue),i&&"MAP_ONLY"===i.toUpperCase()&&(this._layoutTabSelected=!1)}})),(0,d.init)(this,"templateOptions.format",(e=>{const{viewModel:{templatesInfo:t}}=this;if(t&&e){let i=!1;t.format.choiceList&&t.format.choiceList.forEach((t=>{t.toUpperCase()===e.toUpperCase()&&(this.templateOptions.format=t,i=!0)})),i||(this.templateOptions.format=t.format.defaultValue,ot.warn(at)),this.scheduleRender()}})),(0,d.init)(this,"templateOptions.layout",(e=>{const{viewModel:{templatesInfo:t}}=this;if(t&&e){this._layoutTabSelected="MAP_ONLY"!==e.toUpperCase();let i=!this._layoutTabSelected;i||t.layout.choiceList&&t.layout.choiceList.forEach((t=>{t.toUpperCase()===e.toUpperCase()&&(this.templateOptions.layout=t,i=!0)})),i||(this.templateOptions.layout=t.layout.defaultValue,ot.warn(rt)),this.scheduleRender()}})),(0,d.init)(this,"templateOptions.dpi",(e=>{e<=0?this.templateOptions.dpi=1:this.scheduleRender()})),(0,d.init)(this,"viewModel.view.scale",(e=>{const{scale:t,scaleEnabled:i}=this.templateOptions;i&&t||(this.templateOptions.scale=e)}))]);const{height:e,width:t}=this.templateOptions;this.templateOptions.width=t||800,this.templateOptions.height=e||1100;const i=setTimeout((()=>{this._awaitingServerResponse=!0,this.scheduleRender()}),500);this.viewModel.load().then((()=>clearTimeout(i)))}render(){const{attributionEnabled:e,author:t,copyright:i,dpi:n,format:o,height:r,layout:a,legendEnabled:s,scaleEnabled:l,scale:c,width:u}=this.templateOptions,d="ready"!==this.get("viewModel.state"),p=this.renderTitleOrFileNameSection(),{includeDefaultTemplates:h,messages:m,viewModel:v}=this,y=this.get("viewModel.templatesInfo.format.choiceList")||[],b=y.length>0?y.map((e=>(0,f.j)("option",{key:e,selected:e===o,value:e},e.toUpperCase()))):(0,f.j)("option",{key:"format-default-option"},m.formatDefaultOption),g=(0,f.j)("div",{class:pe},(0,f.j)("label",null,m.fileFormatTitle,(0,f.j)("select",{class:Le,onchange:this._updateFromOption,"data-target-property":"format",bind:this},b))),_=this.get("viewModel.templatesInfo.layout.choiceList")||[],w=_.length>0?_.map((e=>{const t=e===a,i=m[e]||e;return(0,f.j)("option",{key:e,selected:t,value:e},i)})):(0,f.j)("option",{key:"layout-default-option"},m.layoutDefaultOption),k=(0,f.j)("div",{class:pe},(0,f.j)("label",null,m.layoutTitle,(0,f.j)("select",{class:Le,onchange:this._updateFromOption,"data-target-property":"layout",bind:this},w))),S=(0,f.j)("div",{class:pe},(0,f.j)("label",null,m.dpi,(0,f.j)("input",{type:"number",class:this.classes(W,Be),"data-input-name":"dpi",onchange:this._handleDPIChange,value:`${n}`,min:"1",tabIndex:0,bind:this}))),C=(0,f.j)("div",{class:this.classes(Oe,pe)},(0,f.j)("label",null,(0,f.j)("input",{"data-option-name":"scaleEnabled",checked:l,type:"checkbox",tabIndex:0,onchange:this._toggleInputValue,bind:this}),m.scale),(0,f.j)("div",{class:Ae},(0,f.j)("input",{"aria-label":m.scaleLabel,"aria-valuenow":`${c}`,role:"spinbutton",type:"number",class:this.classes(W,Be,X),tabIndex:0,"data-input-name":"scale",onchange:this._updateInputValue,disabled:!l,value:`${c}`,bind:this}),(0,f.j)("button",{type:"button","aria-label":m.reset,class:this.classes(Te,le,et),tabIndex:0,onclick:this._resetToCurrentScale,bind:this}))),x=this._advancedOptionsVisibleForLayout?(0,f.j)("div",{"aria-labelledby":`${this.id}__advancedOptionsForLayout`,class:fe},C,(0,f.j)("div",{class:this.classes(me,pe)},(0,f.j)("label",null,m.author,(0,f.j)("input",{type:"text",value:t,class:this.classes(W,Be),tabIndex:0,"data-input-name":"author",onchange:this._updateInputValue,bind:this}))),(0,f.j)("div",{class:this.classes(ve,pe)},(0,f.j)("label",null,m.copyright,(0,f.j)("input",{type:"text",class:this.classes(W,Be),tabIndex:0,value:i,"data-input-name":"copyright",onchange:this._updateInputValue,bind:this}))),S,(0,f.j)("div",{class:this.classes(Se,pe)},(0,f.j)("label",null,(0,f.j)("input",{type:"checkbox","data-option-name":"legendEnabled",tabIndex:0,checked:s,onchange:this._toggleInputValue,bind:this}),m.legend))):null,O=this._advancedOptionsVisibleForMapOnly?(0,f.j)("div",{"aria-labelledby":`${this.id}__advancedOptionsForMapOnly`,class:fe},C,S,(0,f.j)("div",{class:pe},(0,f.j)("label",null,(0,f.j)("input",{"data-option-name":"attributionEnabled",type:"checkbox",onchange:this._toggleInputValue,tabIndex:0,checked:e,bind:this}),m.attribution))):null,A=this._layoutTabSelected?(0,f.j)("section",{key:"esri-print__layoutContent",id:`${this.id}__layoutContent`,"aria-labelledby":`${this.id}__layoutTab`,class:H,role:"tabpanel","aria-selected":this._layoutTabSelected.toString()},(0,f.j)("div",{class:xe},p,k,this._layoutTabSelected?g:null),(0,f.j)("div",{class:this.classes(xe,he)},(0,f.j)("button",{"aria-label":m.advancedOptions,"aria-expanded":this._advancedOptionsVisibleForLayout?"true":"false",class:ie,onclick:this._showAdvancedOptions,bind:this,type:"button"},(0,f.j)("div",{class:ne},(0,f.j)("span",{"aria-hidden":"true",class:this.classes(Xe,ae)}),(0,f.j)("span",{"aria-hidden":"true",class:this.classes(Ke,se)}),(0,f.j)("span",{"aria-hidden":"true",class:this.classes(Qe,re)}),(0,f.j)("span",{class:oe},m.advancedOptions))),x)):(0,f.j)("section",{key:"esri-print__mapOnlyContent",id:`${this.id}__mapOnlyContent`,"aria-selected":(!this._layoutTabSelected).toString(),"aria-labelledby":`${this.id}__mapOnlyTab`,class:Y,role:"tabpanel"},(0,f.j)("div",{class:xe},p,this._layoutTabSelected?null:g,(0,f.j)("div",{class:this.classes(Pe,pe)},(0,f.j)("div",{class:Me},(0,f.j)("label",null,m.width,(0,f.j)("input",{type:"number",class:this.classes(W,Be),"data-input-name":"width",onchange:this._updateInputValue,value:`${u}`,tabIndex:0,bind:this}))),(0,f.j)("div",{class:ke},(0,f.j)("label",null,m.height,(0,f.j)("input",{type:"number",class:this.classes(W,Be),"data-input-name":"height",onchange:this._updateInputValue,value:`${r}`,tabIndex:0,bind:this}))),(0,f.j)("button",{type:"button","aria-label":m.swap,class:this.classes(Te,ce,it),onclick:this._switchInput,tabIndex:0,bind:this})),(0,f.j)("div",{class:this.classes(xe,he)},(0,f.j)("button",{"aria-label":m.advancedOptions,"aria-expanded":this._advancedOptionsVisibleForMapOnly?"true":"false",type:"button",class:ie,onclick:this._showAdvancedOptions,bind:this},(0,f.j)("div",{class:ne},(0,f.j)("span",{"aria-hidden":"true",class:this.classes(Xe,ae)}),(0,f.j)("span",{"aria-hidden":"true",class:this.classes(Ke,se)}),(0,f.j)("span",{"aria-hidden":"true",class:this.classes(Qe,re)}),(0,f.j)("span",{class:oe},m.advancedOptions))),O))),P=this.exportedLinks.toArray(),M=this._renderExportedLink(P),j={[Ve]:d||!a&&!o},E=null!=this.get("view")&&"2d"!==this.get("view.type"),T=(0,f.j)("div",{class:Ue},E?m.sceneViewError:m.serviceError),I=(0,f.j)("div",null,(0,f.j)("ul",{class:q,role:"tablist",onclick:this._toggleLayoutPanel,onkeydown:this._handleLayoutPanelKeyDown,bind:this},(0,f.j)("li",{afterCreate:this._focusOnTabChange,afterUpdate:this._focusOnTabChange,id:`${this.id}__layoutTab`,"data-tab-id":"layoutTab",class:z,role:"tab",tabIndex:0,"aria-selected":`${this._layoutTabSelected}`},m.layoutTab),(0,f.j)("li",{afterCreate:this._focusOnTabChange,afterUpdate:this._focusOnTabChange,id:`${this.id}__mapOnlyTab`,"data-tab-id":"mapOnlyTab",class:z,role:"tab",tabIndex:0,"aria-selected":`${!this._layoutTabSelected}`},m.mapOnlyTab)),A,(0,f.j)("button",{"aria-label":m.exportDescription,type:"button",class:this.classes(ue,Ie,j),disabled:d,tabIndex:0,onclick:this._handlePrintMap,bind:this},m.export),h&&v.defaultTemplates.length>0?this.renderTemplateSectionTrigger():null,(0,f.j)("div",{class:ye,afterUpdate:this._scrollExportIntoView,bind:this},(0,f.j)("h3",{class:this.classes(be,Ne)},m.exportText),P.length>0?null:(0,f.j)("div",null,(0,f.j)("div",null,m.exportHint)),M)),D=(0,f.j)("div",{class:Ce},(0,f.j)("header",{class:J},m.export),this.error||E||!this.view?T:I),R="initializing"===this.get("viewModel.state")?this._renderLoader():D;return(0,f.j)("div",{afterCreate:this._handleRootAfterCreate,bind:this,class:this.classes($,je,Ee)},R)}renderTemplateSectionTrigger(){const{messages:e,_templateListPopover:t}=this,i=t.open;return(0,f.j)("button",{afterCreate:e=>this._selectTemplateNode=e,"aria-controls":i?`${this.id}__template-selection`:"","aria-label":e.selectTemplateDescription,"aria-pressed":i.toString(),class:this.classes(Ie,Re,de),onclick:this.handleSelectTemplateClick,title:e.selectTemplateDescription},e.selectTemplate)}renderTemplateList(){const{messages:e,messagesCommon:t,viewModel:i}=this,{defaultTemplates:n}=i,o=e.selectTemplateDescription,r=`${this.id}__template-selection`;return(0,f.j)("div",{class:this.classes(K,je,Ee),id:r},(0,f.j)("h3",{class:this.classes(qe,Ne)},e.selectTemplate),(0,f.j)("div",{class:Q},(0,f.j)("ul",{afterCreate:this.handleTemplateListCreation,"aria-activedescendant":`${this.id}__template-item--${this._focusedTemplateIndex}`,"aria-label":o,class:$e,key:"templates",onblur:this.handleTemplateChildBlur,onclick:this.handleTemplateListClick,onkeydown:this.handleTemplateListKeyDown,role:"listbox",tabIndex:0,title:o},n.toArray().map(((e,t)=>{const{description:i}=e,n=t===this._focusedTemplateIndex;return(0,f.j)("li",{"aria-label":i,class:this.classes(Je,{[We]:n}),"data-template":e,id:`${this.id}__template-item--${t}`,key:e.label,title:i},e.label)})))),(0,f.j)("div",{class:ee},(0,f.j)("button",{type:"button",class:this.classes(Ie,De),onblur:this.handleTemplateChildBlur,onclick:this.handleCloseTemplateSelection},t.done)))}applyTemplate(e){var t;const{format:i,layout:n,layoutOptions:o}=e,{templateOptions:r}=this;this._templateListPopover.open=!1,this._toggleTab("map-only"===n?"mapOnlyTab":"layoutTab",!1),i&&(r.format=i),n&&(r.layout=n),this._focusedTemplateIndex=null,r.legendEnabled=null!=(t=null==o?void 0:o.legend)?t:r.legendEnabled,this.handleCloseTemplateSelection()}renderTitleOrFileNameSection(){const{templateOptions:e,messages:t}=this;let i,n,o,r;return this._layoutTabSelected?(i=t.title,n=t.titlePlaceHolder,o=e.title,r="title"):(i=t.fileName,n=t.fileNamePlaceHolder,o=e.fileName,r="fileName"),(0,f.j)("div",{class:pe,key:r},(0,f.j)("label",null,i,(0,f.j)("input",{type:"text",tabIndex:0,placeholder:n,class:this.classes(W,Be),value:o,"data-input-name":r,onchange:this._updateInputValue,bind:this})))}_handleRootAfterCreate(e){this._rootNode=e,this.own((0,c.on)(e,"scroll",(()=>{this._templateListPopover.open&&this.handleCloseTemplateSelection()})))}_focusOnTabChange(e){if(!this._activeTabFocusRequested)return;const t=e.getAttribute("data-tab-id");("layoutTab"===t&&this._layoutTabSelected||"mapOnlyTab"===t&&!this._layoutTabSelected)&&(e.focus(),this._activeTabFocusRequested=!1)}_renderLoader(){const e={[te]:this._awaitingServerResponse};return(0,f.j)("div",{class:this.classes(e),key:"loader"})}_createFileLink(e,t){const i=t||this.messages.untitled,n=e.format.toLowerCase(),o=n.indexOf("png")>-1?"png":n,r=i+o;return void 0!==this._exportedFileNameMap[r]?this._exportedFileNameMap[r]++:this._exportedFileNameMap[r]=0,new w({name:i,extension:o,count:this._exportedFileNameMap[r]})}_toPrintTemplate(e){const{attributionEnabled:t,author:i,copyright:n,dpi:o,forceFeatureAttributes:r,format:a,height:s,layout:l,legendEnabled:c,title:u,scale:d,width:p}=e,h=new v.Z({attributionVisible:t,layoutOptions:{authorText:i||"",copyrightText:n||"",titleText:u||""},forceFeatureAttributes:r,format:a,layout:l,outScale:d});return p&&(h.exportOptions.width=p),s&&(h.exportOptions.height=s),o&&(h.exportOptions.dpi=o),c||(h.layoutOptions.legendLayers=[]),h}_resetToCurrentScale(){this.templateOptions.scale=this.viewModel.view.scale}_updateInputValue(e){const t=e.target,i=t.getAttribute("data-input-name");let n;if("number"===t.type){if(!function(e){return!isNaN(e)&&e>0}(t.valueAsNumber)){const e=this.templateOptions[i];return void(t.value=`${e}`)}n=t.valueAsNumber}else n=t.value;this.templateOptions[i]=n}_handleDPIChange(e){this._updateInputValue(e);const t=e.currentTarget.valueAsNumber,{height:i,width:n}=function(e){return{width:Math.round(8.3333*e),height:Math.round(11.4583*e)}}(t),{templateOptions:o}=this;o.height=i,o.width=n}_handlePrintMap(){this._pendingExportScroll=!0;const{templateOptions:e}=this,t=this._toPrintTemplate(e),i=this._layoutTabSelected?t.layoutOptions.titleText:e.fileName,n=this._createFileLink(t,i);this.exportedLinks.add(n),this.emit("submit",{link:n}),this.viewModel.print(t).then((e=>{n.set({url:e&&e.url,state:"ready"})})).catch((e=>{n.set({error:e,state:"error"})})).then((()=>{this.emit("complete",{link:n}),this.scheduleRender()}))}_updateFromOption(e){const t=e.target,i=t.selectedOptions?t.selectedOptions.item(0).value:t.options[t.selectedIndex].value,n=t.getAttribute("data-target-property");this.templateOptions[n]=i}_switchInput(){[this.templateOptions.width,this.templateOptions.height]=[this.templateOptions.height,this.templateOptions.width]}_showAdvancedOptions(){this._layoutTabSelected?this._advancedOptionsVisibleForLayout=!this._advancedOptionsVisibleForLayout:this._advancedOptionsVisibleForMapOnly=!this._advancedOptionsVisibleForMapOnly}_scrollExportIntoView(){if(this._pendingExportScroll){this._pendingExportScroll=!1;const{_rootNode:e,_rootNode:{clientHeight:t,scrollHeight:i}}=this,n=i-t;n>0&&(e.scrollTop=n)}}_toggleInputValue(e){const t=e.target,i=t.getAttribute("data-option-name");this.templateOptions[i]=t.checked,"scaleEnabled"===i&&(this.viewModel.scaleEnabled=this.templateOptions.scaleEnabled,this.templateOptions[i]||this._resetToCurrentScale())}_renderExportedLink(e){const t=this.messages;return e.map((e=>{const{error:i,url:n,formattedName:o,state:r}=e,a="error"===r,s="pending"===r,c="ready"===r,u={[Fe]:s||a};let d=n||null;d&&(d=(0,l.qg)(d));const p=(0,l.D6)(n,location.href),h={[tt]:s,[Ze]:s,[ze]:p&&c,[He]:!p&&c,[Ye]:a,[Ge]:a},m={[Ge]:a};let v;v=s?t.pending:c?t.ready:t.errorMessage;const y=a?i.message:"";return(0,f.j)("div",{"aria-label":v,class:ge,"data-item":e,key:o,onclick:this._removeLink,title:y},(0,f.j)("a",{"aria-label":`${o}. ${t.linkReady}`,download:o,href:d,rel:"noreferrer",tabIndex:0,target:"_blank",class:this.classes(_e,u)},(0,f.j)("span",{class:this.classes(h)}),(0,f.j)("span",{class:this.classes(we,m)},o)))}))}_toggleLayoutPanel(e){const t=e.target;this._toggleTab(t.getAttribute("data-tab-id"))}_toggleTab(e,t=!0){if(this._layoutTabSelected="layoutTab"===e,this._layoutTabSelected){const e=this.get("viewModel.templatesInfo.layout.choiceList");this.templateOptions.layout=e&&e[0]}else this.templateOptions.layout="MAP_ONLY";t&&(this._activeTabFocusRequested=!0)}_handleLayoutPanelKeyDown(e){const t=(0,c.kK)(e),i=e.target.getAttribute("data-tab-id");if("Enter"===t||" "===t)return this._toggleTab(i),e.preventDefault(),void e.stopPropagation();"ArrowLeft"!==t&&"ArrowRight"!==t||(this._toggleTab("layoutTab"===i?"mapOnlyTab":"layoutTab"),e.preventDefault(),e.stopPropagation())}};(0,n._)([(0,a.B)("viewModel.allowedFormats")],st.prototype,"allowedFormats",void 0),(0,n._)([(0,a.B)("viewModel.allowedLayouts")],st.prototype,"allowedLayouts",void 0),(0,n._)([(0,a.B)("viewModel.error")],st.prototype,"error",void 0),(0,n._)([(0,r.Cb)({type:Z})],st.prototype,"exportedLinks",void 0),(0,n._)([(0,r.Cb)()],st.prototype,"iconClass",void 0),(0,n._)([(0,a.B)("viewModel.includeDefaultTemplates")],st.prototype,"includeDefaultTemplates",void 0),(0,n._)([(0,r.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],st.prototype,"label",void 0),(0,n._)([(0,r.Cb)(),(0,h.H)("esri/widgets/Print/t9n/Print")],st.prototype,"messages",void 0),(0,n._)([(0,r.Cb)(),(0,h.H)("esri/t9n/common")],st.prototype,"messagesCommon",void 0),(0,n._)([(0,a.B)("viewModel.portal")],st.prototype,"portal",void 0),(0,n._)([(0,a.B)("viewModel.printServiceUrl")],st.prototype,"printServiceUrl",void 0),(0,n._)([(0,r.Cb)({type:G})],st.prototype,"templateOptions",void 0),(0,n._)([(0,a.B)("viewModel.view")],st.prototype,"view",void 0),(0,n._)([(0,r.Cb)({type:V})],st.prototype,"viewModel",void 0),st=(0,n._)([(0,s.j)("esri.widgets.Print")],st);const lt=st},80683:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>O});var n=i(56140),o=(i(95830),i(36544),i(68055),i(79881)),r=i(51894),a=i(87566),s=(i(10923),i(57002),i(86035),i(40450),i(24258)),l=i(9200),c=i(30818),u=i(19401),d=i(90806),p=i(55934);let h=class extends p.Z{constructor(e){super(e),this._watchId=null,this._trackStartingTimeoutId=null,this._settingPosition=null}destroy(){this._stopTracking()}get state(){return this._geolocationUsable?this.view&&!this.view.ready?"disabled":this._settingPosition||null!==this._trackStartingTimeoutId?"waiting":this.tracking?"tracking":"ready":"feature-unsupported"}get tracking(){return null!==this._watchId}start(){"disabled"!==this.state&&"feature-unsupported"!==this.state&&this._startTracking()}stop(){"disabled"!==this.state&&"feature-unsupported"!==this.state&&this._stopTracking()}_stopWatchingPosition(){null!==this._watchId&&(navigator.geolocation.clearWatch(this._watchId),this._watchId=null)}_stopTracking(){this._clearWaitingTimer(),this._stopWatchingPosition(),this._clear()}_startTracking(){this._stopTracking();const e=navigator.geolocation.watchPosition((t=>{this._watchId=e,this._settingPosition=this._setPosition(t).then((e=>{this._clearWaitingTimer();const{view:t,graphic:i}=this;if(t&&t.graphics.remove(i),i){const e=i.clone();this.graphic=e,t&&t.graphics.push(e)}this.emit("track",{position:e})})).catch((e=>{throw this._emitError(e),this._clearWaitingTimer(),e}))}),this._handleWatchPositionError.bind(this),this.geolocationOptions);this._trackStartingTimeoutId=setTimeout((()=>{this._trackStartingTimeoutId=null}),15e3)}_handleWatchPositionError(e){this._emitError(e),this._stopTracking()}_clearWaitingTimer(){clearTimeout(this._trackStartingTimeoutId),this._trackStartingTimeoutId=null,this._settingPosition=null}_emitError(e){this.emit("track-error",{error:e})}};(0,n._)([(0,o.Cb)()],h.prototype,"_watchId",void 0),(0,n._)([(0,o.Cb)()],h.prototype,"_trackStartingTimeoutId",void 0),(0,n._)([(0,o.Cb)()],h.prototype,"_settingPosition",void 0),(0,n._)([(0,o.Cb)({readOnly:!0})],h.prototype,"state",null),(0,n._)([(0,o.Cb)({readOnly:!0})],h.prototype,"tracking",null),(0,n._)([(0,o.Cb)()],h.prototype,"start",null),(0,n._)([(0,o.Cb)()],h.prototype,"stop",null),h=(0,n._)([(0,a.j)("esri.widgets.Track.TrackViewModel")],h);const f=h,m="esri-track esri-widget--button esri-widget",v="esri-icon-font-fallback-text",y="esri-icon",b="esri-icon-loading-indicator",g="esri-rotating",_="esri-icon-tracking",w="esri-icon-pause",k="esri-icon-tracking",S="esri-disabled",C="esri-hidden";let x=class extends d.default{constructor(e,t){super(e,t),this.geolocationOptions=null,this.goToLocationEnabled=null,this.goToOverride=null,this.graphic=null,this.iconClass=k,this.label=void 0,this.messages=null,this.scale=null,this.tracking=null,this.useHeadingEnabled=null,this.view=null,this.viewModel=new f}start(){}stop(){}render(){const e=this.get("viewModel.state"),t={[S]:"disabled"===e,[C]:"feature-unsupported"===e},i="tracking"===e,n={[_]:!i&&"waiting"!==e,[w]:i,[g]:"waiting"===e,[b]:"waiting"===e},{messages:o}=this,r=i?o.stopTracking:o.startTracking;return(0,u.j)("div",{bind:this,class:this.classes(m,t),hidden:"feature-unsupported"===e,onclick:this._toggleTracking,onkeydown:this._toggleTracking,role:"button",tabIndex:0,"aria-label":r,title:r},(0,u.j)("span",{"aria-hidden":"true",class:this.classes(y,n)}),(0,u.j)("span",{class:v},r))}_toggleTracking(){const e=this.viewModel;e&&"feature-unsupported"!==e.state&&"disabled"!==e.state&&("tracking"!==e.state&&"waiting"!==e.state?this.viewModel.start():this.viewModel.stop())}};(0,n._)([(0,r.B)("viewModel.geolocationOptions")],x.prototype,"geolocationOptions",void 0),(0,n._)([(0,r.B)("viewModel.goToLocationEnabled")],x.prototype,"goToLocationEnabled",void 0),(0,n._)([(0,r.B)("viewModel.goToOverride")],x.prototype,"goToOverride",void 0),(0,n._)([(0,r.B)("viewModel.graphic")],x.prototype,"graphic",void 0),(0,n._)([(0,o.Cb)()],x.prototype,"iconClass",void 0),(0,n._)([(0,o.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],x.prototype,"label",void 0),(0,n._)([(0,o.Cb)(),(0,l.H)("esri/widgets/Track/t9n/Track")],x.prototype,"messages",void 0),(0,n._)([(0,r.B)("viewModel.scale")],x.prototype,"scale",void 0),(0,n._)([(0,r.B)("viewModel.tracking")],x.prototype,"tracking",void 0),(0,n._)([(0,r.B)("viewModel.useHeadingEnabled")],x.prototype,"useHeadingEnabled",void 0),(0,n._)([(0,r.B)("viewModel.view")],x.prototype,"view",void 0),(0,n._)([(0,o.Cb)({type:f}),(0,c.s)(["track","track-error"])],x.prototype,"viewModel",void 0),(0,n._)([(0,r.B)("viewModel.start")],x.prototype,"start",null),(0,n._)([(0,r.B)("viewModel.stop")],x.prototype,"stop",null),(0,n._)([(0,s.h)()],x.prototype,"_toggleTracking",null),x=(0,n._)([(0,a.j)("esri.widgets.Track")],x);const O=x},55934:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(56140),o=(i(95830),i(36544),i(68055),i(79881)),r=i(87566),a=i(32656),s=(i(10923),i(57002),i(86035),i(82677)),l=i(35470),c=i(12973),u=i(50764),d=i(15988),p=i(4338),h=i(49322);let f=class extends((0,p._)(l.Z.EventedMixin(s.default))){constructor(){super(...arguments),this._geolocationUsable=!0,this._iconPath=(0,c.V)("esri/images/support/sdk_gps_location.png"),this.geolocationOptions=null,this.goToLocationEnabled=!0,this.graphic=new d.default({symbol:new u.Z({url:this._iconPath,width:21,height:21})}),this.scale=null,this.useHeadingEnabled=!0,this.view=null}initialize(){(0,h.Zh)()||(this._geolocationUsable=!1)}destroy(){this._clear(),this.view=null}_clear(){this.view&&this.view.graphics.remove(this.graphic)}_getScaleWithinConstraints(e,t){if(!t)return e;if("2d"===t.type){const{effectiveMaxScale:i,effectiveMinScale:n}=t.constraints;return Math.min(n,Math.max(i,e))}return e}_getScale(e){const{scale:t}=this,i="number"==typeof t?t:2500;return this._getScaleWithinConstraints(i,e)}_getHeading(e,t){const i=t&&t.spatialReference,n=i&&(i.isWebMercator||i.isGeographic),o=e.coords&&e.coords.heading;if(!(!n||"number"!=typeof o||isNaN(o)||o<0||o>360))return o}_addHeading(e){const{heading:t,target:i,view:n}=e;n&&"number"==typeof t&&!isNaN(t)&&("3d"!==n.type?"2d"===n.type&&(i.rotation=360-t):i.heading=t)}_animatePoint(e,t,i,n){const{view:o}=this;if(!this.goToLocationEnabled||!o)return Promise.resolve(t);const r=this.useHeadingEnabled?this._getHeading(t,o):void 0,a={target:e,scale:i};return this._addHeading({heading:r,target:a,view:o}),this.callGoTo({target:a,options:n}).then((()=>t))}async _setPosition(e,t){try{const i=await(0,h.C2)({position:e,view:this.view},t),{graphic:n}=this,{timestamp:o}=e,{coords:r}=e,{accuracy:a,altitude:s,altitudeAccuracy:l,heading:c,latitude:u,longitude:d,speed:p}=r,f={timestamp:o,accuracy:a,altitude:s,altitudeAccuracy:l,heading:c,latitude:u,longitude:d,speed:p};n&&(n.geometry=i,n.attributes=f);const m=this._getScale(this.view);return this._animatePoint(i,e,m,t)}catch(e){throw new a.Z("positioning:invalid-point","Cannot position invalid point",{error:e})}}};(0,n._)([(0,o.Cb)()],f.prototype,"_geolocationUsable",void 0),(0,n._)([(0,o.Cb)()],f.prototype,"geolocationOptions",void 0),(0,n._)([(0,o.Cb)()],f.prototype,"goToLocationEnabled",void 0),(0,n._)([(0,o.Cb)()],f.prototype,"graphic",void 0),(0,n._)([(0,o.Cb)()],f.prototype,"scale",void 0),(0,n._)([(0,o.Cb)()],f.prototype,"useHeadingEnabled",void 0),(0,n._)([(0,o.Cb)()],f.prototype,"view",void 0),f=(0,n._)([(0,r.j)("esri.widgets.support.GeolocationPositioning")],f);const m=f},65867:(e,t,i)=>{"use strict";i.d(t,{Y:()=>o});var n=i(93533);const o={readOnly:!0,get(){const e="metric",{view:t}=this;if(!t)return e;const i=t.get("map.portalItem.portal");if(i)switch(i.get("user.units")||i.units){case e:return e;case"english":return"imperial"}return(0,n.yT)(t.spatialReference)||e}}},90024:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var o=n(i(76910));t.map=new o.default,t.map=new o.default({portalItem:{id:"95092428774c4b1fb6a3b6f5fed9fbc4"}})},99364:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createTemplate=void 0;var l=s(i(58484)),c=s(i(97948)),u=s(i(14443)),d=r(i(98675)),p=s(i(14334)),h=i(29820),f=[{name:"mailing-address",title:"mailing-address",expression:"When(IsEmpty($feature.ADDR3),$feature.ADDR1 + TextFormatting.NewLine + $feature.ADDR2,$feature.ADDR1 + TextFormatting.NewLine + $feature.ADDR2 + TextFormatting.NewLine + $feature.ADDR3)"},{name:"property-values",title:"property-values",expression:'"Building Value"+TextFormatting.NewLine+"$"+$feature.BLDG_VAL+TextFormatting.NewLine+"Land Value"+TextFormatting.NewLine+"$"+$feature.LAND_VAL+TextFormatting.NewLine+"Total Value"+TextFormatting.NewLine+"$"+$feature.TOTAL_VALUE_ASSD'},{name:"pin",title:"PIN",expression:"var num = $feature.PIN_NUM;var ext = $feature.PIN_EXT;return When(ext == '000',num,num+' '+ext);"},{name:"build_val",title:"Building Value",expression:"var value = $feature.BLDG_VAL;When(IsEmpty(value),'--', '$'+Text(value, '#,###'));"},{name:"land_val",title:"Land Value",expression:"var value = $feature.LAND_VAL;When(IsEmpty(value),'--', '$'+Text(value, '#,###'));"},{name:"total_val",title:"Total Value",expression:"var value = $feature.TOTAL_VALUE_ASSD;When(IsEmpty(value),'--', '$'+Text(value, '#,###'));"},{name:"sale_price",title:"Sale Price",expression:"var value = $feature.TOTSALPRICE;When(IsEmpty(value),'--', '$'+Text(value, '#,###'));"},{name:"city",title:"City",expression:"var city = $feature.CITY_DECODE;When(IsEmpty(city),'Unincorporated', Proper(city));"},{name:"township",title:"Township",expression:"var ts = $feature.TOWNSHIP_DECODE;When(IsEmpty(ts),'None', Proper(ts));"},{name:"jurisdiction",title:"Jurisdiction",expression:"var juris = $feature.PLANNING_JURISDICTION;When(juris == 'RA', 'Raleigh',juris == 'CA', 'Cary',juris == 'AP', 'Apex',juris == 'AN', 'Angier',juris == 'CL', 'Clayton',juris == 'DU', 'Durham',juris == 'FV', 'Fuquay-Varina',juris == 'GA', 'Garner',juris == 'HS', 'Holly Springs',juris == 'KN', 'Knightdale',juris == 'MO', 'Morrisville',juris == 'RO', 'Rolesville',juris == 'WF', 'Wake Forest',juris == 'WE', 'Wendell',juris == 'ZB', 'Zebulon',juris == 'WC', 'Wake County', 'Wake County');"},{name:"general",title:"general",expression:'"PIN"+TextFormatting.NewLine+$feature.PIN_NUM+" "+$feature.PIN_EXT+TextFormatting.NewLine+"REID"+TextFormatting.NewLine+$feature.REID+TextFormatting.NewLine+"City"+TextFormatting.NewLine+Proper($feature.CITY_DECODE)+TextFormatting.NewLine+"Jurisdiction"+TextFormatting.NewLine+$feature.PLANNING_JURISDICTION+TextFormatting.NewLine+"Township"+TextFormatting.NewLine+Proper($feature.TOWNSHIP_DECODE)'}],m=[{group:{title:"Electoral",layers:["Precincts","Congressional Districts","NC House of Representatives Districts","NC Senate Districts","School Board Districts","Board of Commissioners Districts","Superior Court Districts","Raleigh City Council","Morrisville Town Council Districts"]}},{group:{title:"Environmental",layers:["Special Flood Hazard Areas - FloodPlain - Floodplain","Soils","Critical Watersheds","Water Supply Watersheds"]}}],v=function(e){var t=e.detail.requestedAccordionItem.getBoundingClientRect(),i=document.querySelector("#featureDiv");requestAnimationFrame((function(){null==i||i.scrollTo({top:t.top+i.scrollTop-155,behavior:"smooth"})}))},y=function(e){var t;return e.graphic.layer.queryRelatedFeatures({relationshipId:null===(t=e.graphic.layer.relationships.find((function(e){return"CONDO_BOOKS"===e.name})))||void 0===t?void 0:t.id,objectIds:[e.graphic.getObjectId()],outFields:["BOM_DOC_NUM","DEED_DOC_NUM"]}).then((function(t){var i=t[e.graphic.getObjectId()].features[0].getAttribute("DEED_DOC_NUM"),n=t[e.graphic.getObjectId()].features[0].getAttribute("BOM_DOC_NUM"),o=document.createElement("div");if(o.setAttribute("style","display: flex;flex-direction: row;"),i){var r=document.createElement("calcite-button");r.setAttribute("scale","s"),r.setAttribute("target","_blank"),r.setAttribute("round",""),r.setAttribute("icon-start","file-text"),r.setAttribute("href","http://services.wakegov.com/booksweb/pdfview.aspx?docid="+i+"&RecordDate="),r.textContent="Deed",o.append(r)}if(n){var a=document.createElement("calcite-button");a.setAttribute("scale","s"),a.setAttribute("target","_blank"),a.setAttribute("round",""),a.setAttribute("icon-start","map"),a.setAttribute("href","http://services.wakegov.com/booksweb/pdfview.aspx?docid="+n+"&RecordDate="),a.textContent="Book of Maps",o.append(a)}return o}))},b=function(e){return h.view.map.allLayers.find((function(e){return e.title.includes("Wells")})).queryFeatures({where:"PIN_NUM = '".concat(e.graphic.attributes.PIN_NUM,"'"),returnGeometry:!1}).then((function(t){var i=document.createElement("div");if(t.features.length){var n=t.features[0].getAttribute("PIN_NUM"),o=document.createElement("calcite-button");o.setAttribute("scale","s"),o.setAttribute("target","_blank"),o.setAttribute("round",""),o.setAttribute("icon-start","link"),o.setAttribute("href","https://maps.wakegov.com/water-analysis/index.html#/?pin="+n),o.textContent="Wells",i.append(o)}return h.view.map.allLayers.find((function(e){return e.title.includes("Septic")})).queryFeatures({where:"PIN_NUM = '".concat(e.graphic.attributes.PIN_NUM,"'"),returnGeometry:!1}).then((function(e){if(e.features.length){var t=e.features[0].getAttribute("PIN_NUM"),n=document.createElement("calcite-button");n.setAttribute("scale","s"),n.setAttribute("target","_blank"),n.setAttribute("round",""),n.setAttribute("href","https://maps.wakegov.com/septic/index.html#/?pin="+t),n.setAttribute("icon-start","link"),n.textContent="Septic",i.append(n)}})),i}))};t.createTemplate=function(e){return new l.default({expressionInfos:f,content:[{type:"text",text:"<h1>{SITE_ADDRESS}</h1>"},new c.default({outFields:["*"],creator:function(e){return new u.default({url:"https://maps.raleighnc.gov/arcgis/rest/services/Locators/Locator/GeocodeServer",outSpatialReference:{wkid:4326}}).addressToLocations({address:{singleLine:e.graphic.getAttribute("SITE_ADDRESS")},outFields:["*"]}).then((function(t){var i;if(t.length){var n=t[0];if(n){var o=d.geodesicDistance(n.location,{x:e.graphic.geometry.centroid.longitude,y:e.graphic.geometry.centroid.latitude,spatialReference:{wkid:4326}}),r=e.graphic.geometry.centroid.latitude+","+e.graphic.geometry.centroid.longitude,a=document.createElement("div");a.setAttribute("style","display: flex;flex-direction: row;");var s=document.createElement("calcite-button");s.setAttribute("scale","s"),s.setAttribute("target","_blank"),s.setAttribute("round",""),s.setAttribute("icon-start","person"),s.setAttribute("href","https://maps.google.com?layer=c&cbll="+r+"&cbp=0,"+(null===(i=o.azimuth)||void 0===i?void 0:i.toString())+",0,0,0"),s.textContent="Street View",a.append(s);var l=document.createElement("calcite-button");return l.setAttribute("scale","s"),l.setAttribute("target","_blank"),l.setAttribute("href","http://services.wakegov.com/realestate/Account.asp?id="+e.graphic.getAttribute("REID")),l.setAttribute("round",""),l.setAttribute("icon-start","locator"),l.textContent="Tax Page",a.append(l),a}}}))}}),new c.default({outFields:["PIN_NUM"],creator:b}),{type:"text",text:"<h2>General</h1>"},{type:"fields",fieldInfos:[{fieldName:"expression/pin",label:"PIN"},{fieldName:"REID",label:"REID"},{fieldName:"expression/city",label:"City"},{fieldName:"expression/jurisdiction",label:"Jurisdiction"},{fieldName:"expression/township",label:"Township"}]},{type:"text",text:"<h2>Owner</h1>"},{type:"text",text:"{OWNER}<br/>{expression/mailing-address}"},{type:"text",text:"<h2>Valuation</h1>"},{type:"fields",fieldInfos:[{fieldName:"expression/build_val"},{fieldName:"expression/land_val"},{fieldName:"expression/total_val"},{fieldName:"BILLING_CLASS_DECODE",label:"Billing Class"}]},{type:"text",text:"<h2>Last Sale</h1>"},{type:"fields",fieldInfos:[{fieldName:"SALE_DATE",format:{dateFormat:"short-date"},label:"Date Sold"},{fieldName:"expression/sale_price"}]},{type:"text",text:"<h2>Deeds</h1>"},{type:"fields",fieldInfos:[{fieldName:"DEED_BOOK",label:"Book"},{fieldName:"DEED_PAGE",label:"Page"},{fieldName:"DEED_DATE",format:{dateFormat:"short-date"},label:"Deed Date"},{fieldName:"DEED_ACRES",format:{places:2},label:"Deed Acres"},{fieldName:"PROPDESC",label:"Legal Description"}]},new c.default({outFields:["OBJECTID","REID"],creator:y}),{type:"text",text:"<h2>Building</h1>"},{type:"fields",fieldInfos:[{fieldName:"HEATEDAREA",format:{digitSeparator:!0},label:"Heated Area"},{fieldName:"YEAR_BUILT",format:{digitSeparator:!1},label:"Year Built"},{fieldName:"DESIGN_STYLE_DECODE",label:"Design/Style"},{fieldName:"TOTSTRUCTS",label:"Total Structures"},{fieldName:"TOTUNITS",label:"Total Units"}]},{type:"media",mediaInfos:[]},{type:"text",text:"<h2>Services</h1>"},new c.default({outFields:["*"],creator:function(t){var i=document.createElement("calcite-accordion");i.setAttribute("selection-mode","single"),m.forEach((function(e){var t=document.createElement("calcite-accordion-item");t.setAttribute("item-title",e.group.title),i.append(t)}));var n=t.graphic;return i.addEventListener("calciteAccordionChange",(function(t){!function(e,t,i){if(!i.detail.requestedAccordionItem.hasAttribute("active")&&0===i.detail.requestedAccordionItem.childElementCount){var n=document.createElement("calcite-loader");n.setAttribute("inline","");var o=i.detail.requestedAccordionItem.shadowRoot.querySelector(".accordion-item-header");o.insertBefore(n,o.childNodes[1]);var r=m.find((function(e){return e.group.title===i.detail.requestedAccordionItem.getAttribute("item-title")})),a=[];return r&&t.map.allLayers.filter((function(e){return r.group.layers.includes(e.title)})).forEach((function(t){a.push(t.queryFeatures({geometry:e.geometry,outFields:["*"],returnGeometry:!0}))})),a.length?Promise.all(a).then((function(e){e.forEach((function(e){e.features.length&&e.features.forEach((function(e){var t=document.createElement("div");i.detail.requestedAccordionItem.append(t),new p.default({container:t,graphic:e})}))})),v(i),o.removeChild(n)})):(o.removeChild(n),"No services found.")}v(i)}(n,e,t)}),{passive:!0}),i}})]})},a(i(90024),t)},29820:function(e,t,i){"use strict";var n,o,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.view=void 0;var a=i(90024),s=r(i(72849)),l=r(i(34926)),c=i(32380),u=r(i(76910));l.default.assetsPath="./assets";var d=document.createElement("link");d.href="./assets/esri/themes/light/main.css",d.setAttribute("rel","preload"),d.setAttribute("type","text/css"),d.setAttribute("as","style"),null===(n=document.querySelector("head"))||void 0===n||n.append(d);var p=document.createElement("link");p.href="./assets/esri/themes/light/main.css",p.setAttribute("rel","stylesheet"),p.setAttribute("type","text/css"),null===(o=document.querySelector("head"))||void 0===o||o.append(p),c.loadLayout().then((function(){t.view=new s.default({container:"viewDiv",map:a.map}),t.view.when(c.initWidgets),null===t.view||void 0===t.view||t.view.when((function(){!function(e){if(window.localStorage.getItem("imaps")){var t=u.default.fromJSON(JSON.parse(window.localStorage.getItem("imaps")));t.load().then((function(){e.map.allLayers.forEach((function(e){var i=t.allLayers.find((function(t){return e.id===t.id}));e.visible=null==i?void 0:i.visible,e.opacity=null==i?void 0:i.opacity})),e.map.basemap=t.basemap,e.extent=t.initialViewProperties.viewpoint.targetGeometry.extent}))}}(t.view),t.view.on("hold",(function(e){c.propertySearch.geometry=e.mapPoint}));var e=a.map.allLayers.find((function(e){return"Property"===e.title&&"feature"===e.type}));t.view.whenLayerView(e).then((function(){var t;null===(t=document.querySelector("#mapLoader"))||void 0===t||t.toggleAttribute("active"),c.propertySearch.propertyLayer=e,c.select.viewModel.watch("geometry",(function(e){c.propertySearch.geometry=e}))})).catch((function(e){console.log(e)}))}))})),window.addEventListener("pagehide",(function(){t.view.map.removeMany(t.view.map.allLayers.filter((function(e){return"group"===e.type&&!e.layers.length})).toArray());var e=t.view.map.toJSON();e.initialState.viewpoint.targetGeometry=t.view.extent,window.localStorage.setItem("imaps",JSON.stringify(e))}))},89994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;t.Action=function e(t,i,n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.icon=n,this.widget=i,this.container=o,this.tool=r,this.tips=a}},4355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tip=void 0;t.Tip=function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.description=i}},32380:function(e,t,i){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var r=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadLayout=t.initWidgets=t.locationSearch=t.menu=t.basemaps=t.layers=t.legend=t.bookmarks=t.printWidget=t.drawWidget=t.measurement=t.select=t.propertySearch=t.toolbar=t.actionBar=void 0;var c=l(i(78665)),u=l(i(10275)),d=l(i(46659)),p=i(99364),h=l(i(59443)),f=l(i(52646)),m=l(i(97900)),v=l(i(1660)),y=l(i(99218)),b=l(i(59750)),g=l(i(71538)),_=l(i(37629)),w=l(i(89288)),k=l(i(72320)),S=l(i(88355)),C=l(i(80683)),x=l(i(94576)),O=l(i(22204)),A=l(i(62664)),P=i(89994),M=s(i(39105)),j=l(i(91397)),E=l(i(61059)),T=i(4355),I=l(i(22010));t.initWidgets=function(e){p.createTemplate(e),function(e){var t=new _.default({view:e}),i=new w.default({content:t,mode:"floating",expandIconClass:"esri-icon-pan2"});e.ui.add(i,"bottom-left"),e.ui.add(new S.default({view:e}),"top-left");var n=new x.default({view:e});n.on("locate-error",(function(e){console.log(e)})),e.ui.add(n,"top-left");var o=new C.default({view:e});o.on("track-error",(function(e){console.log(e)})),e.ui.add(o,"top-left"),e.ui.add(new k.default({view:e}),"top-left"),e.ui.add(new E.default({view:e}),"top-left");var r=new j.default({view:e}),a=new w.default({content:r,mode:"floating",expandIconClass:"esri-icon-overview-arrow-top-left"});a.watch("expanded",(function(t){t&&r.viewModel.overviewMapView.goTo({center:e.center,scale:2*e.scale*Math.max(e.width/r.viewModel.overviewMapView.width,e.height/r.viewModel.overviewMapView.height)})})),e.ui.add(a,"bottom-right")}(e),t.legend=new c.default({view:e}),t.layers=new f.default({view:e}),t.basemaps=new m.default({view:e});var i=e.map.allLayers.find((function(e){return e.title.includes("Property")&&"feature"===e.type})),n=e.map.allTables.find((function(e){return e.title.includes("Condos")&&"feature"===e.type})),o=e.map.allTables.find((function(e){return e.title.includes("Addresses")&&"feature"===e.type}));return t.propertySearch=new d.default({view:e}),function(e){t.toolbar.view=e,t.actionBar.view=e,t.toolbar.actions.concat(t.actionBar.actions).forEach((function(e){"Select"===e.title&&(e.widget=t.select),"Measure"===e.title&&(e.widget=t.measurement),"Draw"===e.title&&(e.widget=t.drawWidget),"Bookmarks"===e.title&&(e.widget=t.bookmarks),"Print"===e.title&&(e.widget=t.printWidget),"Property Search"===e.title&&(e.widget=t.propertySearch),"Location Search"===e.title&&(e.widget=t.locationSearch),"Layers"===e.title&&(e.widget=t.layers),"Basemaps"===e.title&&(e.widget=t.basemaps),"Legend"===e.title&&(e.widget=t.legend)})),t.actionBar.viewModel.widgetsDefined=!0}(e),n.load().then((function(){n.popupTemplate=p.createTemplate(e),o.load().then((function(){t.propertySearch.propertyLayer=i,t.propertySearch.condosTable=n,t.propertySearch.addressTable=o}))})),t.select=new v.default({view:e,layer:i}),t.measurement=new y.default({view:e}),t.measurement.postInitialize=function(){t.drawWidget&&(t.drawWidget.measurement=t.measurement.viewModel.measurement),t.select&&(t.select.measurement=t.measurement.viewModel.measurement)},t.drawWidget=new b.default({view:e}),t.measurement&&(t.drawWidget.measurement=t.measurement.viewModel.measurement),t.printWidget=new O.default({view:e,printServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task"}),t.bookmarks=new A.default({view:e,editingEnabled:!0}),t.locationSearch=new h.default({view:e}),e},t.loadLayout=function(){return M.create((function(e){var i=new I.default({container:"tipManager",tips:[],title:""});t.menu=new g.default({container:"menu"}),t.toolbar=new u.default({container:"leftbar",side:"left",tipManager:i}),t.actionBar=new u.default({container:"rightbar",side:"right",tipManager:i}),t.toolbar.actions=[new P.Action("Select",null,"selection","selectDiv",!0,[]),new P.Action("Measure",null,"measure","measureDiv",!0,[]),new P.Action("Draw",null,"pencil-mark","drawDiv",!0,[]),new P.Action("Bookmarks",null,"bookmark","bookmarkDiv",!0,[]),new P.Action("Print",null,"print","printDiv",!0,[])],t.actionBar.actions=[new P.Action("Property Search",null,"search","propertySearchDiv",!1,[new T.Tip("Wildcard Search","To search by a portion of an owner name or address, hit enter without selecting form the list of suggestions."),new T.Tip("Wildcard Search","To search by a portion of an owner name or address, hit enter without selecting form the list of suggestions.")]),new P.Action("Location Search",null,"pin","locationSearchDiv",!1,[new T.Tip("Location Search","To search by a portion of an owner name or address, hit enter without selecting form the list of suggestions.")]),new P.Action("Layers",null,"layers","layerDiv",!1,[]),new P.Action("Basemaps",null,"basemap","basemapDiv",!1,[]),new P.Action("Legend",null,"legend","legendDiv",!1,[])];var o=n(t.toolbar.actions);t.actionBar.actions=[].concat(n(t.actionBar.actions),n(o)),e()}))}},10275:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),p=i(88266),h=u(i(90806)),f=u(i(55848));i(95990);var m="esri-widget actionbar-base",v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,i,a,s=r(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).side="",t.actions=[],t.title="",t.tipManager=null,t.widgetsDefined=!1,t.viewModel=new f.default,t.panelCreated=function(){var e=new MutationObserver((function(t){t.forEach((function(e){var t;null===(t=e.addedNodes[0].querySelector(".content-container"))||void 0===t||t.setAttribute("part","container")})),e.disconnect()}));document.querySelectorAll("calcite-panel").forEach((function(t){var i;e.observe(null==t?void 0:t.shadowRoot,{childList:!0}),console.log(null===(i=null==t?void 0:t.shadowRoot)||void 0===i?void 0:i.innerHTML)})),document.querySelectorAll("calcite-panel .heading").forEach((function(e){e.setAttribute("style","margin: 0")}))},t.maximizeCreated=function(e){e.addEventListener("click",(function(){var i,n,o,r,a=document.querySelector("#".concat(t.side,"bar"));(null==a?void 0:a.classList.contains("maximized"))?(null===(i=e.querySelector("calcite-icon"))||void 0===i||i.setAttribute("icon","right-edge"),null==a||a.classList.remove("maximized")):(null===(n=e.querySelector("calcite-icon"))||void 0===n||n.setAttribute("icon","left-edge"),null==a||a.classList.add("maximized")),null===(o=document.querySelector("calcite-tab:not([active])"))||void 0===o||o.classList.add("esri-hidden"),null===(r=document.querySelector("calcite-tab-title:not([active])"))||void 0===r||r.dispatchEvent(new MouseEvent("click")),requestAnimationFrame((function(){var e,t;null===(e=document.querySelector("calcite-tab-title:not([active])"))||void 0===e||e.dispatchEvent(new MouseEvent("click")),null===(t=document.querySelector("calcite-tab.esri-hidden"))||void 0===t||t.classList.remove("esri-hidden")}))}),{passive:!0})},t}return t=l,(i=[{key:"render",value:function(){var e,t,i=this;return window.onresize=function(){window.innerWidth>=1e3?document.querySelectorAll("#rightPanel .tool-container").forEach((function(e){var t,i;null===(t=document.querySelector("#leftPanel"))||void 0===t||t.append(e),null===(i=document.querySelector("#rightPanel"))||void 0===i||i.setAttribute("dismissed","")})):document.querySelectorAll("#leftPanel .tool-container").forEach((function(e){var t;null===(t=document.querySelector("#leftPanel"))||void 0===t||t.append(e)}))},p.tsx("div",{class:m+" "+this.side},p.tsx("calcite-panel",{class:"panel",id:this.side+"Panel",dir:"ltr","height-scale":"m","intl-close":"Close",theme:"light",dismissible:!0,dismissed:"left"===this.side,afterCreate:this.panelCreated},p.tsx("h3",{class:"heading",slot:"header-content",id:this.side+"PanelHeading"}),p.tsx("calcite-action",{class:"maximize",text:"Action",label:"Action",slot:"header-actions-end",icon:"left-edge",afterCreate:this.maximizeCreated}),p.tsx("calcite-action",{id:"".concat(this.side,"Tip"),class:"tip-button",text:"Action",label:"Action",slot:"header-actions-end",icon:"lightbulb",afterCreate:this.viewModel.tipButtonCreated}),null===(e=this.actions)||void 0===e?void 0:e.map((function(e){if("right"===i.side&&!e.tool||"left"===i.side&&e.tool)return p.tsx("div",{id:e.container,key:e.container,class:e.tool?"panel-container tool-container esri-hidden":"panel-container esri-hidden"})}))),p.tsx("calcite-action-bar",{expand:"",dir:"ltr","intl-expand":"Expand","intl-collapse":"Collapse",position:"start",theme:"light","calcite-hydrated":"",afterCreate:this.viewModel.actionBarCreated,id:"".concat(this.side,"ActionBar")},p.tsx("calcite-action-group",{"calcite-hydrated":""},null===(t=this.actions)||void 0===t?void 0:t.map((function(e){return p.tsx("calcite-action",{key:null==e?void 0:e.title,text:null==e?void 0:e.title,label:"Add Item",icon:null==e?void 0:e.icon,appearance:"solid",scale:"m","calcite-hydrated":"",name:null==e?void 0:e.title,afterCreate:i.viewModel.actionsLoaded,class:e.tool?"tool":"action"})})))))}}])&&n(t.prototype,i),a&&n(t,a),l}(h.default);c([d.aliasOf("viewModel.view")],v.prototype,"view",void 0),c([d.aliasOf("viewModel.side")],v.prototype,"side",void 0),c([d.aliasOf("viewModel.actions")],v.prototype,"actions",void 0),c([d.aliasOf("viewModel.title")],v.prototype,"title",void 0),c([d.aliasOf("viewModel.tipManager")],v.prototype,"tipManager",void 0),c([d.aliasOf("viewModel.widgetsDefined")],v.prototype,"widgetsDefined",void 0),c([d.property({type:f.default}),p.renderable()],v.prototype,"viewModel",void 0),v=c([d.subclass("app.widgets.Template")],v),t.default=v},55848:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=d(i(82677)),h=i(83781),f=i(80621),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,i,a,l=r(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).side="",t.actions=[],t.widgetsDefined=!1,t.changePanel=function(e){var i,n,o,r,a,s,l,c;(null===(i=document.querySelector("calcite-tip-manager"))||void 0===i?void 0:i.getAttribute("closed"))||null===(n=document.querySelector("calcite-tip-manager"))||void 0===n||n.setAttribute("closed","");var u=t.actions.find((function(t){return t.title===e}));if(u){document.getElementById(t.side+"PanelHeading").innerText=null==u?void 0:u.title,"Property Search"===u.title&&"right"===t.side?null===(o=document.querySelector("#rightPanel.maximize"))||void 0===o||o.classList.remove("esri-hidden"):null===(r=document.querySelector("#rightPanel.maximize"))||void 0===r||r.classList.add("esri-hidden");var d=document.querySelector("calcite-tip-manager");d.innerHTML="",u.tips.forEach((function(e){var t=document.createElement("calcite-tip");t.setAttribute("heading",e.title),t.innerHTML=e.description,null==d||d.appendChild(t)})),(null==u?void 0:u.tips.length)>0?null===(a=document.querySelector("#".concat(t.side,"Tip")))||void 0===a||a.classList.remove("esri-hidden"):null===(s=document.querySelector("#".concat(t.side,"Tip")))||void 0===s||s.classList.add("esri-hidden"),(null==u?void 0:u.widget)&&(null===(l=document.getElementById(t.side+"Panel"))||void 0===l||l.removeAttribute("dismissed"),t.actions.forEach((function(e){var t;null===(t=document.getElementById(null==e?void 0:e.container))||void 0===t||t.classList.add("esri-hidden")})),u.widget.container=null==u?void 0:u.container,null===(c=document.getElementById(null==u?void 0:u.container))||void 0===c||c.classList.remove("esri-hidden"))}},t.tipButtonCreated=function(e){null==e||e.addEventListener("click",(function(){var e;null===(e=document.querySelector("calcite-tip-manager"))||void 0===e||e.removeAttribute("closed")}),{passive:!0})},t.actionBarCreated=function(){},t.actionsLoaded=function(e){e.addEventListener("click",(function(e){var i=e.target.getAttribute("name");t.changePanel(i),window.innerWidth>=1e3?document.querySelectorAll("#rightPanel .tool-container").forEach((function(e){var t;null===(t=document.querySelector("#leftPanel"))||void 0===t||t.append(e)})):document.querySelectorAll("#leftPanel .tool-container").forEach((function(e){var t;null===(t=document.querySelector("#rightPanel"))||void 0===t||t.append(e)}))}),{passive:!0})},f.whenDefinedOnce(s(t),"view",t.init.bind(s(t))),f.whenTrueOnce(s(t),"widgetsDefined",t.initActions.bind(s(t))),t}return t=c,(i=[{key:"initActions",value:function(){var e=this;setTimeout((function(){e.changePanel("Property Search")}))}},{key:"init",value:function(e){console.log(e.scale)}}])&&n(t.prototype,i),a&&n(t,a),c}(p.default);u([h.property()],m.prototype,"view",void 0),u([h.property()],m.prototype,"side",void 0),u([h.property()],m.prototype,"actions",void 0),u([h.property()],m.prototype,"widgetsDefined",void 0),m=u([h.subclass("app.widgets.ActionBar.ActionBarViewModel")],m),t.default=m},61059:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),p=i(88266),h=u(i(90806)),f=u(i(37310));i(11847);var m="esri-widget--button esri-widget",v="esri-icon esri-icon-trash",y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,i,a,s=r(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).viewModel=new f.default,t.clearTitle="Clear",t.renderIcon=function(){return p.tsx("span",{"aria-hidden":"true",class:t.classes(v)})},t._clear=function(){t.view.map.allLayers.filter((function(e){return"graphics"===e.type})).forEach((function(e){e.removeAll()}))},t}return t=l,(i=[{key:"render",value:function(){return p.tsx("div",{bind:this,class:this.classes(m),role:"button",onclick:this._clear,onkeydown:this._clear,"aria-label":this.clearTitle,title:this.clearTitle},this.renderIcon())}}])&&n(t.prototype,i),a&&n(t,a),l}(h.default);c([d.aliasOf("viewModel.view")],y.prototype,"view",void 0),c([d.property({type:f.default}),p.renderable()],y.prototype,"viewModel",void 0),y=c([d.subclass("app.widgets.Clear")],y),t.default=y},37310:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=d(i(82677)),h=i(83781),f=i(80621),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,i,a,l=r(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=l.call(this,e),f.whenDefinedOnce(s(t),"view",t.init.bind(s(t))),t}return t=c,(i=[{key:"init",value:function(e){console.log(e.scale)}}])&&n(t.prototype,i),a&&n(t,a),c}(p.default);u([h.property()],m.prototype,"view",void 0),m=u([h.subclass("app.widgets.Clear.ClearViewModel")],m),t.default=m},59750:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),p=i(88266),h=u(i(90806)),f=u(i(78745)),m=u(i(58432));i(21910);var v="esri-widget draw-base",y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,i,a,s=r(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).viewModel=new m.default,t._drawUpdated=function(){t.viewModel.sketch||t.viewModel.initDraw()},t}return t=l,(i=[{key:"render",value:function(){var e=this,t=document.querySelector("#fill");null==t||t.setAttribute("value","#ff0000"),null==t||t.addEventListener("calciteColorChange",(function(t){var i=t.target.value;e.viewModel.sketch.viewModel.pointSymbol.color=f.default.fromHex(i),e.viewModel.sketch.viewModel.polygonSymbol.color=f.default.fromHex(i)}),{passive:!0});var i=document.querySelector("#line");null==i||i.setAttribute("value","#ff0000"),null==i||i.addEventListener("calciteColorChange",(function(t){var i=t.target.value;e.viewModel.sketch.viewModel.polylineSymbol.color=f.default.fromHex(i),e.viewModel.sketch.viewModel.pointSymbol.outline.color=f.default.fromHex(i),e.viewModel.sketch.viewModel.polygonSymbol.outline.color=f.default.fromHex(i)}),{passive:!0});var n=document.querySelector("#opacity");null==n||n.addEventListener("calciteSliderUpdate",(function(t){e.viewModel.sketch.viewModel.polygonSymbol.color.a=t.target.value}),{passive:!0});var o=document.querySelector("#width");null==o||o.addEventListener("calciteSliderUpdate",(function(t){e.viewModel.sketch.viewModel.polylineSymbol.width=parseFloat(t.target.value),e.viewModel.sketch.viewModel.pointSymbol.outline.width=parseFloat(t.target.value),e.viewModel.sketch.viewModel.polygonSymbol.outline.width=parseFloat(t.target.value)}),{passive:!0});var r=document.querySelector("#label");null==r||r.addEventListener("calciteInputBlur",(function(t){e.set("label",t.target.value)}),{passive:!0});var a=document.querySelector("#textColor");return null==a||a.setAttribute("value","#ff0000"),null==a||a.addEventListener("calciteColorChange",(function(t){e.set("textColor",f.default.fromHex(t.target.value))}),{passive:!0}),p.tsx("div",{class:v},p.tsx("div",{afterUpdate:this._drawUpdated,id:"sketchDiv"}),p.tsx("calcite-block",{heading:"Settings",open:!0,collapsible:!0},p.tsx("calcite-block-section",{text:"Color"},p.tsx("calcite-label",{scale:"s"},"Fill Color"," ",p.tsx("calcite-color",{id:"fill",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"})),p.tsx("calcite-label",{scale:"s"},"Line Color"," ",p.tsx("calcite-color",{id:"line",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"}))),p.tsx("calcite-block-section",{text:"Fill Opacity"},p.tsx("calcite-label",{scale:"s"},"Opacity",p.tsx("calcite-slider",{scale:"s",id:"opacity",max:"1",min:"0",value:"0.5",step:"0.1"}))),p.tsx("calcite-block-section",{text:"Outline"},p.tsx("calcite-label",{scale:"s"},"Width ",p.tsx("calcite-slider",{id:"width",max:"10",min:"0",value:"1",step:"0.5"}))),p.tsx("calcite-block-section",{text:"Labeling"},p.tsx("calcite-label",{scale:"s"},"Label ",p.tsx("calcite-input",{scale:"s",id:"label",type:"textarea"})),p.tsx("calcite-label",{scale:"s"},"Text Color",p.tsx("calcite-color",{id:"textColor",hideChannels:!0,hideSaved:!0,appearance:"minimal",scale:"s"})))))}}])&&n(t.prototype,i),a&&n(t,a),l}(h.default);c([d.aliasOf("viewModel.view")],y.prototype,"view",void 0),c([d.aliasOf("viewModel.label")],y.prototype,"label",void 0),c([d.aliasOf("viewModel.textColor")],y.prototype,"textColor",void 0),c([d.aliasOf("viewModel.measurement")],y.prototype,"measurement",void 0),c([d.property({type:m.default}),p.renderable()],y.prototype,"viewModel",void 0),y=c([d.subclass("app.widgets.Draw")],y),t.default=y},58432:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=d(i(82677)),h=i(83781),f=d(i(52892)),m=d(i(94394)),v=i(80621),y=d(i(15988)),b=d(i(44190)),g=d(i(78745)),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,i,a,l=r(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=l.call(this,e),v.whenDefinedOnce(s(t),"view",t.init.bind(s(t))),t}return t=c,(i=[{key:"initDraw",value:function(){var e=this;this.graphics=new m.default({listMode:"hide"}),this.view.map.add(this.graphics),this.sketch=new f.default({view:this.view,container:"sketchDiv",layer:this.graphics,creationMode:"single",defaultCreateOptions:{mode:"hybrid"}}),this.sketch.viewModel.pointSymbol.color=g.default.fromHex("#FF0000"),this.sketch.viewModel.pointSymbol.outline.color=g.default.fromHex("#FF0000"),this.sketch.viewModel.polygonSymbol.color=new g.default([[255,0,0,.5]]),this.sketch.viewModel.polygonSymbol.outline.color=g.default.fromHex("#FF0000"),this.sketch.viewModel.polylineSymbol.color=g.default.fromHex("#FF0000"),this.sketch.watch("activeTool",(function(t){var i;null!=t&&(null===(i=e.measurement)||void 0===i||i.clear())})),this.sketch.on("create",(function(t){var i,n;if("start"===t.state&&(null===(i=e.measurement)||void 0===i||i.clear()),"complete"===t.state&&(null===(n=e.label)||void 0===n?void 0:n.length)){var o=t.graphic.geometry;"polygon"===t.graphic.geometry.type&&(o=t.graphic.geometry.centroid);var r=new y.default({geometry:o,symbol:new b.default({text:e.label,color:e.textColor,haloColor:"white",haloSize:1,xoffset:"5px",yoffset:"5px",verticalAlignment:"bottom",horizontalAlignment:"right"})});e.graphics.add(r)}}))}},{key:"init",value:function(e){console.log(e.scale)}}])&&n(t.prototype,i),a&&n(t,a),c}(p.default);u([h.property()],_.prototype,"view",void 0),u([h.property()],_.prototype,"container",void 0),_=u([h.subclass("app.widgets.Draw.DrawViewModel")],_),t.default=_},59443:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),p=i(88266),h=u(i(90806)),f=u(i(66941));i(44207);var m="esri-widget locationsearch-base",v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,i,a,s=r(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).viewModel=new f.default,t._searchCreate=function(){t.search&&(t.search.container="locationSearch")},t}return t=l,(i=[{key:"render",value:function(){return p.tsx("div",{class:m},p.tsx("div",{afterCreate:this._searchCreate,id:"locationSearch"}))}}])&&n(t.prototype,i),a&&n(t,a),l}(h.default);c([d.aliasOf("viewModel.view")],v.prototype,"view",void 0),c([d.aliasOf("viewModel.search")],v.prototype,"search",void 0),c([d.property({type:f.default}),p.renderable()],v.prototype,"viewModel",void 0),v=c([d.subclass("app.widgets.LocationSearch")],v),t.default=v},66941:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=d(i(82677)),h=i(83781),f=i(80621),m=d(i(79734)),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,i,a,l=r(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=l.call(this,e),f.whenDefinedOnce(s(t),"view",t.init.bind(s(t))),t}return t=c,(i=[{key:"init",value:function(e){var t=this;this.search=new m.default({view:e,maxSuggestions:30,searchAllEnabled:!0}),console.log(this.search.allSources),this.search.allSources.on("after-add",(function(e){e.item.layer&&(e.item.name=e.item.layer.title,e.item.placeholder=e.item.layer.title),e.item.locator&&t.search.allSources.remove(e.item)}))}}])&&n(t.prototype,i),a&&n(t,a),c}(p.default);u([h.property()],v.prototype,"view",void 0),v=u([h.subclass("app.widgets.LocationSearch.LocationSearchViewModel")],v),t.default=v},99218:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),p=i(88266),h=u(i(90806)),f=u(i(92896));i(20332);var m="esri-widget measure-base",v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,i,a,s=r(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).viewModel=new f.default,t._measureCreated=function(){t.measurement&&(t.measurement.container="measureWidget")},t}return t=l,(i=[{key:"render",value:function(){var e=this;return document.querySelectorAll("#measureDiv calcite-radio-group-item").forEach((function(t){null==t||t.addEventListener("calciteRadioGroupItemChange",(function(t){var i,n;t.target.hasAttribute("checked")||("clear"===(null===(i=t.target)||void 0===i?void 0:i.title)?e.measurement.clear():e.measurement.activeTool=null===(n=t.target)||void 0===n?void 0:n.title)}),{passive:!0})})),p.tsx("div",{class:m},p.tsx("calcite-radio-group",{width:"full"},p.tsx("calcite-radio-group-item",{title:"distance",value:"distance",id:"distanceItem",icon:"measure"},"Distance"),p.tsx("calcite-radio-group-item",{title:"area",value:"area",id:"areaItem",icon:"measure-area"},"Area"),p.tsx("calcite-radio-group-item",{title:"clear",value:"clear",id:"clearItem",icon:"trash"},"Clear")),p.tsx("div",{afterCreate:this._measureCreated,id:"measureWidget"}))}}])&&n(t.prototype,i),a&&n(t,a),l}(h.default);c([d.aliasOf("viewModel.view")],v.prototype,"view",void 0),c([d.aliasOf("viewModel.measurement")],v.prototype,"measurement",void 0),c([d.property({type:f.default}),p.renderable()],v.prototype,"viewModel",void 0),v=c([d.subclass("app.widgets.Measure")],v),t.default=v},92896:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=d(i(82677)),h=i(83781),f=i(80621),m=d(i(67565)),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,i,a,l=r(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=l.call(this,e),f.whenDefinedOnce(s(t),"view",t.init.bind(s(t))),t}return t=c,(i=[{key:"init",value:function(e){this.measurement=new m.default({view:e,areaUnit:"square-feet",linearUnit:"feet"}),this.measurement.watch("activeTool",(function(e){e||document.querySelectorAll(".measure-base calcite-radio-group-item").forEach((function(e){"clear"===e.value?e.setAttribute("checked",""):e.removeAttribute("checked")}))}))}}])&&n(t.prototype,i),a&&n(t,a),c}(p.default);u([h.property()],v.prototype,"view",void 0),v=u([h.subclass("app.widgets.Measure.MeasureViewModel")],v),t.default=v},71538:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),p=i(88266),h=u(i(90806)),f=u(i(61236));i(73097);var m="esri-widget menu-base",v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,i,a,s=r(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).theme="light",t.viewModel=new f.default,t.setTheme=function(e){var i,n;t.theme=e,window.localStorage.setItem("theme",e),document.body.classList.remove("light"==e?"dark":"light"),document.body.classList.add(e);var o=Array.prototype.slice.call(document.querySelectorAll("link")).filter((function(e){return e.href.includes("light")||e.href.includes("dark")}));if(o){o.forEach((function(e){e.remove()}));var r=document.createElement("link");r.href="./assets/esri/themes/".concat(t.theme,"/main.css"),r.setAttribute("rel","preload"),r.setAttribute("type","text/css"),r.setAttribute("as","style"),null===(i=document.querySelector("head"))||void 0===i||i.append(r);var a=document.createElement("link");a.href="./assets/esri/themes/".concat(t.theme,"/main.css"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),null===(n=document.querySelector("head"))||void 0===n||n.append(a),document.querySelectorAll("calcite-panel").forEach((function(e){e.setAttribute("theme",t.theme)})),document.querySelectorAll("calcite-color").forEach((function(e){e.setAttribute("theme",t.theme)})),document.querySelectorAll("calcite-tip-manager").forEach((function(e){e.setAttribute("theme",t.theme)})),document.querySelectorAll("calcite-dropdown").forEach((function(e){e.setAttribute("theme",t.theme)})),document.querySelectorAll("calcite-alert").forEach((function(e){e.setAttribute("theme",t.theme)})),document.querySelectorAll("calcite-modal").forEach((function(e){e.setAttribute("theme",t.theme)})),document.querySelectorAll("calcite-block").forEach((function(e){e.setAttribute("theme",t.theme)})),document.querySelectorAll("calcite-pick-list").forEach((function(e){e.setAttribute("theme",t.theme)})),setTimeout((function(){document.querySelectorAll("calcite-action-bar").forEach((function(e){e.setAttribute("theme",t.theme)}))}))}},t.menuCreated=function(){var e;if(window.localStorage.getItem("theme")){var i=window.localStorage.getItem("theme");requestAnimationFrame((function(){t.setTheme(i)}))}null===(e=document.querySelector("calcite-dropdown"))||void 0===e||e.addEventListener("calciteDropdownSelect",(function(e){var i,n=null===(i=e.currentTarget.selectedItems[0])||void 0===i?void 0:i.innerHTML.toLowerCase();t.setTheme(n)}),{passive:!0})},t}return t=l,(i=[{key:"render",value:function(){return p.tsx("div",{class:m},p.tsx("header",{class:"header"},p.tsx("h2",{class:"heading"},"iMAPS"),p.tsx("div",{id:"menu"}),p.tsx("calcite-dropdown",{alignment:"end",afterCreate:this.menuCreated},p.tsx("calcite-button",{slot:"dropdown-trigger"},p.tsx("calcite-icon",{icon:"hamburger"})),p.tsx("calcite-dropdown-group",{"group-title":"Help","selection-mode":"none"},p.tsx("calcite-dropdown-item",null,"Help Document"),p.tsx("calcite-dropdown-item",{rel:"noreferrer",href:"https://arcg.is/1GurDS",target:"_blank"},"Feedback")),p.tsx("calcite-dropdown-group",{"group-title":"Data Download","selection-mode":"none"},p.tsx("calcite-dropdown-item",{rel:"noreferrer",href:"https://data-wake.opendata.arcgis.com/",target:"_blank"},"Wake County Open Data"),p.tsx("calcite-dropdown-item",{rel:"noreferrer",href:"https://data.raleighnc.gov/",target:"_blank"},"Raleigh Open Data")),p.tsx("calcite-dropdown-group",{"group-title":"Links","selection-mode":"none"},p.tsx("calcite-dropdown-item",{rel:"noreferrer",href:"https://data.raleighnc.gov/",target:"_blank"},"RaleighNC.gov"),p.tsx("calcite-dropdown-item",{rel:"noreferrer",href:"https://wakegov.com/",target:"_blank"},"WakeGOV.com")),p.tsx("calcite-dropdown-group",{"group-title":"Theme","selection-mode":"single"},p.tsx("calcite-dropdown-item",{active:"dark"===this.theme,value:"dark"},"Dark"),p.tsx("calcite-dropdown-item",{active:"light"===this.theme,value:"light"},"Light")))))}}])&&n(t.prototype,i),a&&n(t,a),l}(h.default);c([d.aliasOf("viewModel.view")],v.prototype,"view",void 0),c([d.property({type:f.default}),p.renderable()],v.prototype,"viewModel",void 0),v=c([d.subclass("app.widgets.Menu")],v),t.default=v},61236:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=d(i(82677)),h=i(83781),f=i(80621),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,i,a,l=r(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=l.call(this,e),f.whenDefinedOnce(s(t),"view",t.init.bind(s(t))),t}return t=c,(i=[{key:"init",value:function(e){console.log(e.scale)}}])&&n(t.prototype,i),a&&n(t,a),c}(p.default);u([h.property()],m.prototype,"view",void 0),m=u([h.subclass("app.widgets.Menu.MenuViewModel")],m),t.default=m},1660:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),p=i(88266),h=u(i(90806)),f=u(i(47694));i(17593);var m="esri-widget select-base",v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,i,a,s=r(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).viewModel=new f.default,t._sketchCreated=function(){t.viewModel.sketch||setTimeout((function(){t.viewModel.initSketch()}),1e3)},t}return t=l,(i=[{key:"handleChange",value:function(e){this.set("bufferDistance",parseInt(e.target.value))}},{key:"render",value:function(){var e,t=this;return null===(e=document.querySelector("#selectDiv calcite-input"))||void 0===e||e.addEventListener("calciteInputBlur",(function(e){t.handleChange(e)}),{passive:!0}),p.tsx("div",{class:m},p.tsx("div",{afterCreate:this._sketchCreated,id:"selectWidget"}),p.tsx("calcite-label",{scale:"s"},"Buffer Distance (feet)",p.tsx("calcite-input",{scale:"s",type:"number",min:"0",max:"2000",step:"50",value:this.viewModel.bufferDistance})))}}])&&n(t.prototype,i),a&&n(t,a),l}(h.default);c([d.aliasOf("viewModel.view")],v.prototype,"view",void 0),c([d.aliasOf("viewModel.layer")],v.prototype,"layer",void 0),c([d.aliasOf("viewModel.sketch")],v.prototype,"sketch",void 0),c([d.aliasOf("viewModel.bufferDistance")],v.prototype,"bufferDistance",void 0),c([d.aliasOf("viewModel.measurement")],v.prototype,"measurement",void 0),c([d.property({type:f.default}),p.renderable()],v.prototype,"viewModel",void 0),v=c([d.subclass("app.widgets.Select")],v),t.default=v},47694:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&u(t,e,i);return d(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var m=f(i(82677)),v=f(i(52892)),y=f(i(94394)),b=i(83781),g=i(80621),_=h(i(70642)),w=f(i(78745)),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,i,a,l=r(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=l.call(this,e),g.whenDefinedOnce(s(t),"view",t.init.bind(s(t))),g.whenDefinedOnce(s(t),"sketch",t.initSketch.bind(s(t))),t}return t=c,(i=[{key:"initSketch",value:function(){var e=this;this.graphics=new y.default({listMode:"hide"}),this.view.map.add(this.graphics),this.sketch=new v.default({view:this.view,container:"selectWidget",layer:this.graphics,creationMode:"single",defaultCreateOptions:{mode:"hybrid"}}),this.sketch.viewModel.updateOnGraphicClick=!1,this.sketch.on("create",(function(t){var i;if("complete"===t.state)if(e.graphics.removeAll(),e.bufferDistance>0){var n=_.geodesicBuffer(t.graphic.geometry,e.bufferDistance,"feet");t.graphic.geometry=n,e.graphics.add(t.graphic),t.graphic.symbol={type:"simple-fill",style:"none",outline:{style:"short-dash",width:2.5,color:[221,221,221,1]},color:new w.default([255,243,13,.25])},e.geometry=t.graphic.geometry,e.view.goTo(t.graphic)}else e.geometry=t.graphic.geometry;"start"===t.state&&(null===(i=e.measurement)||void 0===i||i.clear())})),this.sketch.watch("activeTool",(function(t){var i;null!=t&&(null===(i=e.measurement)||void 0===i||i.clear())}))}},{key:"init",value:function(){this.set("bufferDistance",0)}}])&&n(t.prototype,i),a&&n(t,a),c}(m.default);p([b.property()],k.prototype,"view",void 0),p([b.property()],k.prototype,"layer",void 0),p([b.property()],k.prototype,"geometry",void 0),k=p([b.subclass("app.widgets.Select.SelectViewModel")],k),t.default=k},22010:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=s(e);if(t){var o=s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(83781),p=i(88266),h=u(i(90806)),f=u(i(98963));i(35801);var m="esri-widget tipmanager-base",v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,e);var t,i,a,s=r(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).viewModel=new f.default,t}return t=l,(i=[{key:"render",value:function(){return p.tsx("div",{class:m},p.tsx("calcite-tip-manager",{dir:"ltr","intl-close":"Close","intl-default-title":this.title,"intl-pagination-label":"Tip","intl-next":"Next","intl-previous":"Previous",theme:"light",closed:!0}))}}])&&n(t.prototype,i),a&&n(t,a),l}(h.default);c([d.aliasOf("viewModel.title"),p.renderable()],v.prototype,"title",void 0),c([d.aliasOf("viewModel.tips")],v.prototype,"tips",void 0),c([d.property({type:f.default}),p.renderable()],v.prototype,"viewModel",void 0),v=c([d.subclass("app.widgets.TipManager")],v),t.default=v},98963:function(e,t,i){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=a(e);if(t){var o=a(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return r(this,i)}}function r(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=c(i(82677)),d=i(83781),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(i,e);var t=o(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t.call(this,e)}return i}(u.default);l([d.property()],p.prototype,"title",void 0),l([d.property()],p.prototype,"tips",void 0),p=l([d.subclass("app.widgets.TipManager.TipManagerViewModel")],p),t.default=p},74795:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".actionbar-base{display:flex}.left{flex-direction:row-reverse}.right{flex-direction:row}calcite-action-bar{min-width:48px}calcite-panel[dismissed]{width:0}calcite-panel:focus{outline:none}calcite-panel{min-width:0px;max-width:calc(100% - 48px);height:100%;width:350px;max-height:100%}#leftbar .maximize{display:none}#rightbar.maximized{right:48px;min-width:calc(100% - 96px);position:absolute;bottom:0;top:52.84px}#rightbar.maximized calcite-panel{min-width:100%}#rightActionBar .tool{display:none}calcite-tip-manager{max-width:100%;width:500px;height:300px;position:absolute;z-index:1000;top:25%;left:25%}@media only screen and (max-width: 1000px){#leftActionBar{display:none}#leftPanel{display:none}#rightActionBar .tool{display:block}}","",{version:3,sources:["webpack://./src/widgets/ActionBar/styles/ActionBar.scss"],names:[],mappings:"AAAA,gBACE,YAAA,CAGF,MACE,0BAAA,CAGF,OACE,kBAAA,CAIF,mBACE,cAAA,CAGF,yBACE,OAAA,CAGF,oBACE,YAAA,CAGF,cACE,aAAA,CACA,2BAAA,CACA,WAAA,CACA,WAAA,CACA,eAAA,CAGF,mBACE,YAAA,CAIF,oBACE,UAAA,CACA,2BAAA,CACA,iBAAA,CACA,QAAA,CACA,WAAA,CAEF,kCACE,cAAA,CAIF,sBACE,YAAA,CAGF,oBACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,iBAAA,CACA,YAAA,CACA,OAAA,CACA,QAAA,CAGF,2CACE,eACE,YAAA,CAEF,WACE,YAAA,CAEF,sBACE,aAAA,CAAA",sourcesContent:[".actionbar-base {\n  display: flex;\n}\n\n.left {\n  flex-direction: row-reverse;\n}\n\n.right {\n  flex-direction: row;\n\n}\n\ncalcite-action-bar {\n  min-width: 48px;\n}\n\ncalcite-panel[dismissed] {\n  width: 0;\n}\n\ncalcite-panel:focus {\n  outline: none;\n}\n\ncalcite-panel {\n  min-width: 0px;\n  max-width: calc(100% - 48px);\n  height: 100%;\n  width: 350px;\n  max-height: 100%;\n}\n\n#leftbar .maximize {\n  display: none;\n}\n\n\n#rightbar.maximized {\n  right: 48px;\n  min-width: calc(100% - 96px);\n  position: absolute;\n  bottom: 0;\n  top: 52.84px;\n}\n#rightbar.maximized calcite-panel{\n  min-width: 100%;\n}\n\n\n#rightActionBar .tool {\n  display: none;\n}\n\ncalcite-tip-manager {\n  max-width: 100%;\n  width: 500px;\n  height: 300px;\n  position: absolute;\n  z-index: 1000;\n  top: 25%;\n  left: 25%;\n}\n\n@media only screen and (max-width: 1000px) {\n  #leftActionBar {\n    display: none;\n  }\n  #leftPanel {\n    display: none;\n  }\n  #rightActionBar .tool {\n    display: block;\n  }  \n}"],sourceRoot:""}]);const s=a},89743:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".clear-base{padding:0}","",{version:3,sources:["webpack://./src/widgets/Clear/styles/Clear.scss"],names:[],mappings:"AAAA,YACE,SAAA",sourcesContent:[".clear-base {\n  padding: 0;\n}"],sourceRoot:""}]);const s=a},1820:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".draw-base{padding:0}#drawDiv{overflow-y:auto;overflow-x:hidden}","",{version:3,sources:["webpack://./src/widgets/Draw/styles/Draw.scss"],names:[],mappings:"AAAA,WACE,SAAA,CAGF,SACE,eAAA,CACA,iBAAA",sourcesContent:[".draw-base {\n  padding: 0;\n}\n\n#drawDiv {\n  overflow-y: auto;\n  overflow-x: hidden;\n}"],sourceRoot:""}]);const s=a},75575:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".locationsearch-base{padding:0}.esri-search{width:100% !important;border-bottom-color:#eaeaea !important;border-bottom-style:solid !important;border-bottom-width:1px !important}","",{version:3,sources:["webpack://./src/widgets/LocationSearch/styles/LocationSearch.scss"],names:[],mappings:"AAAA,qBACE,SAAA,CAGF,aACE,qBAAA,CACA,sCAAA,CACA,oCAAA,CACA,kCAAA",sourcesContent:[".locationsearch-base {\n  padding: 0;\n}\n\n.esri-search {\n  width: 100% !important;\n  border-bottom-color: rgb(234, 234, 234) !important;;\n  border-bottom-style: solid !important;;\n  border-bottom-width: 1px !important;;  \n} "],sourceRoot:""}]);const s=a},98090:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".measure-base{padding:0}","",{version:3,sources:["webpack://./src/widgets/Measure/styles/Measure.scss"],names:[],mappings:"AAAA,cACE,SAAA",sourcesContent:[".measure-base {\n  padding: 0;\n}"],sourceRoot:""}]);const s=a},99765:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".menu-base{padding:0}header{display:flex}header h2{width:100%}","",{version:3,sources:["webpack://./src/widgets/Menu/styles/Menu.scss"],names:[],mappings:"AAAA,WACE,SAAA,CAEF,OACE,YAAA,CAEF,UACE,UAAA",sourcesContent:[".menu-base {\n  padding: 0;\n}\nheader  {\n  display: flex;\n}\nheader h2 {\n  width: 100%;\n}\n\n"],sourceRoot:""}]);const s=a},55325:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".select-base{padding:0}.select-base .esri-sketch__section.esri-sketch__tool-section:nth-child(1){display:none !important}.select-base .esri-sketch__section.esri-sketch__tool-section:nth-child(3){display:none !important}#selectWidget{min-height:44px}","",{version:3,sources:["webpack://./src/widgets/Select/styles/Select.scss"],names:[],mappings:"AAAA,aACE,SAAA,CAGF,0EACE,uBAAA,CAEF,0EACE,uBAAA,CAGF,cACE,eAAA",sourcesContent:[".select-base {\n  padding: 0;\n}\n\n.select-base .esri-sketch__section.esri-sketch__tool-section:nth-child(1) {\n  display: none !important;\n}\n.select-base .esri-sketch__section.esri-sketch__tool-section:nth-child(3) {\n  display: none !important;\n}\n\n#selectWidget {\n  min-height: 44px;\n}"],sourceRoot:""}]);const s=a},32820:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(94015),o=i.n(n),r=i(23645),a=i.n(r)()(o());a.push([e.id,".tipmanager-base{padding:0}calcite-tip-manager{border:solid 1px}","",{version:3,sources:["webpack://./src/widgets/TipManager/styles/TipManager.scss"],names:[],mappings:"AAAA,iBACE,SAAA,CAGF,oBACE,gBAAA",sourcesContent:[".tipmanager-base {\n  padding: 0;\n}\n\ncalcite-tip-manager {\n  border: solid 1px;\n}"],sourceRoot:""}]);const s=a},95990:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(93379),o=i.n(n),r=i(74795),a={insert:"head",singleton:!1};o()(r.Z,a);const s=r.Z.locals||{}},11847:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(93379),o=i.n(n),r=i(89743),a={insert:"head",singleton:!1};o()(r.Z,a);const s=r.Z.locals||{}},21910:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(93379),o=i.n(n),r=i(1820),a={insert:"head",singleton:!1};o()(r.Z,a);const s=r.Z.locals||{}},44207:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(93379),o=i.n(n),r=i(75575),a={insert:"head",singleton:!1};o()(r.Z,a);const s=r.Z.locals||{}},20332:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(93379),o=i.n(n),r=i(98090),a={insert:"head",singleton:!1};o()(r.Z,a);const s=r.Z.locals||{}},73097:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(93379),o=i.n(n),r=i(99765),a={insert:"head",singleton:!1};o()(r.Z,a);const s=r.Z.locals||{}},17593:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(93379),o=i.n(n),r=i(55325),a={insert:"head",singleton:!1};o()(r.Z,a);const s=r.Z.locals||{}},35801:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(93379),o=i.n(n),r=i(32820),a={insert:"head",singleton:!1};o()(r.Z,a);const s=r.Z.locals||{}}}]);
//# sourceMappingURL=779.js.map