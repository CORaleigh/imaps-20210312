{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/views/3d/support/WorkerHandle.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/LercDecoder.js","webpack://imaps/./node_modules/@arcgis/core/layers/ElevationLayer.js","webpack://imaps/./node_modules/@arcgis/core/layers/TileLayer.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/SpriteSource.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/VectorTileSource.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/vectorTileLayerLoader.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SchemaHelper.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/tileInfoUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/VectorTileLayer.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/imageUtils.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/ArcGISMapService.js","webpack://imaps/./node_modules/@arcgis/core/layers/mixins/SublayersOwner.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/serviceTileInfoProperty.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/sublayerUtils.js","webpack://imaps/./node_modules/@arcgis/core/portal/support/jsonContext.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RenderBucket.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTile.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/config.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/core.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","webpack://imaps/./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js","webpack://imaps/./node_modules/@arcgis/core/views/webgl/rasterUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/terrain/TilingScheme.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/AsyncWorkerQueue.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/StreamDataLoader.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/support/StreamDataLoaderTask.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/terrain/TerrainConst.js","webpack://imaps/./node_modules/@arcgis/core/chunks/terrainUtilsPlanar.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/terrain/terrainUtils.js","webpack://imaps/./node_modules/@arcgis/core/chunks/terrainUtilsSpherical.js","webpack://imaps/./node_modules/@arcgis/core/widgets/BasemapGallery/support/basemapCompatibilityUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/support/spatialReferenceSupport.js","webpack://imaps/./node_modules/@arcgis/core/layers/support/layerUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/BasemapGallery/support/BasemapGalleryItem.js","webpack://imaps/./node_modules/@arcgis/core/widgets/BasemapGallery/support/LocalBasemapsSource.js","webpack://imaps/./node_modules/@arcgis/core/widgets/BasemapGallery/support/PortalBasemapsSource.js","webpack://imaps/./node_modules/@arcgis/core/widgets/BasemapGallery/BasemapGalleryViewModel.js","webpack://imaps/./node_modules/@arcgis/core/widgets/BasemapGallery.js","webpack://imaps/./src/widgets/BaseMaps.tsx","webpack://imaps/./src/widgets/BaseMaps/BaseMapsViewModel.ts","webpack://imaps/./src/widgets/BaseMaps/styles/BaseMaps.scss","webpack://imaps/./src/widgets/BaseMaps/styles/BaseMaps.scss?4975"],"names":["o","t","r","e","s","this","_methodName","_promise","scheduler","then","_thread","hasInitialize","broadcast","close","catch","error","getTransferList","invoke","transferList","signal","super","strategy","n","byteLength","buffer","options","Map","x","T","copyright","heightModelInfo","path","opacity","operationalLayerType","sourceJSON","type","url","version","_lercDecoder","get","instance","ref","set","destroy","delete","constructed","warn","declaredClass","currentVersion","addResolvingPromise","loadFromPortal","supportedTypes","supportsData","validateItem","typeKeywords","length","toLowerCase","expectedType","_fetchImageService","i","a","responseType","l","noDataValue","returnFileInfo","load","_fetchTileAvailability","getTileUrl","decode","data","values","pixelData","width","height","maxZError","fileInfo","minValue","maxValue","tilemapCache","supportsBlankTile","parsedUrl","query","blankTile","ElevationQuery","createSampler","fetchAvailability","f","ssl","replace","read","origin","json","source","prototype","readOnly","String","origins","write","service","value","M","N","listMode","isReference","resampling","spatialReference","sublayers","_fetchService","_getDefaultAttribution","_getMapName","tileInfo","loaded","slice","reverse","flatten","toArray","writeSublayerStructure","forEach","push","some","Object","keys","layers","_getDefaultTileServers","Array","isArray","map","timestamp","_ts","customParameters","tileServers","bandCount","pixelSizeX","serverType","_fetchServerVersion","match","indexOf","search","dependsOn","Boolean","enabled","overridePolicy","baseURL","devicePixelRatio","maxTextureSize","_spriteImageFormat","_isRetina","_spritesData","image","loadStatus","sort","_loadSprites","d","g","m","h","Math","max","document","createElement","getContext","drawImage","getImageData","Uint8Array","p","S","U","split","trim","async","w","y","jsonUrl","styleUrl","styleBase","style","spriteFormat","sources","esri","sourceUrl","v","u","hasOwnProperty","xmin","ymin","xmax","ymax","wkid","parseFloat","minzoom","maxzoom","level","scale","resolution","tiles","capabilities","initialExtent","fullExtent","minScale","maxScale","rows","cols","dpi","format","lods","c","tileMapURL","tileIndex","name","tileMap","exportTilesAllowed","maxExportTilesCount","operations","supportsExportTiles","supportsTileMap","exportTiles","ignoreMinMaxLOD","layer","dataKey","toString","equals","round","min","primarySourceName","sourceNameToSource","isCompatibleWith","union","clone","sourceBase","validatedSource","defaultStyles","lockedSchemaPixelSize","isGCS","size","isGeographic","compressionQuality","abs","toJSON","_spriteSourceMap","currentStyleInfo","clear","loadSpriteSource","portalItem","id","itemUrl","_loadStyle","serviceUrl","_getPrimarySource","has","styleRepository","sprite","_loadingPromise","_abortController","abort","_getSourceAndStyle","getStyleLayerId","getStyleLayerIndex","getPaintProperties","isPainterDataDriven","setPaintProperties","emit","layerName","paint","isDataDriven","getStyleLayer","setStyleLayer","index","deleteStyleLayer","getLayoutProperties","setLayoutProperties","layout","setStyleLayerVisibility","visibility","getStyleLayerVisibility","messages","title","Error","layerDefinition","spriteUrl","glyphsUrl","glyphs","A","lossy","lossless","alpha","animation","Promise","Q","Image","onload","onerror","src","_set","loadStyle","autoTracked","ignoreOrigin","isRequired","arguments","minLOD","maxLOD","legendEnabled","supportsQuery","supportsExportMap","exportMap","supportsDynamicLayers","supportsSublayersChanges","supportsSublayerVisibility","supportsSublayerDefinitionExpression","fetchAllLayersAndTables","_allLayersAndTablesMap","_allLayersAndTablesPromise","result","target","b","allSublayers","root","rootCollectionNames","getChildrenFunction","sublayersSourceJSON","2","3","4","5","watch","_handleSublayersChange","context","visibleLayers","createSublayersForOrigin","setDefaultOrigin","find","filter","parentLayerId","unshift","Set","add","defaultVisibility","items","readSublayers","parent","handles","remove","on","item","preventDefault","allowNull","reader","originIdOf","mapLayerId","gdbVersion","portal","readResourcePaths","_fadeOutResolver","_fadeInResolver","_clips","computedVisible","computedOpacity","fadeTransitionEnabled","inFadeTransition","_isReady","_opacity","_stage","_visible","requestRender","untrashDisplayObject","onAttach","trashDisplayObject","promise","updateTransitionProperties","deltaTime","state","stage","doRender","onDetach","visible","layerUIDs","isDestroyed","memoryUsed","Uint32Array","bufferDataOffset","doDestroy","doPrepareForRendering","lineIndexStart","lineIndexCount","isLineDataDriven","lineVertexArrayObject","dispose","lineVertexBuffer","lineIndexBuffer","Int32Array","getProgramAttributes","lineVertexAttributesDD","lineVertexAttributes","geometry","count","offset","stride","normalized","divisor","fillIndexStart","fillIndexCount","outlineIndexStart","outlineIndexCount","isFillDataDriven","isOutlineDataDriven","fillVertexArrayObject","fillVertexBuffer","fillIndexBuffer","outlineVertexArrayObject","outlineVertexBuffer","outlineIndexBuffer","fillVertexAttributesDD","fillVertexAttributes","outlineVertexAttributesDD","outlineVertexAttributes","iconPerPageElementsMap","glyphPerPageElementsMap","symbolInstances","isIconSDF","opacityChanged","lastOpacityUpdate","symbols","Float32Array","isIconDataDriven","isTextDataDriven","iconOpacity","textOpacity","iconVertexArrayObject","iconVertexBuffer","iconOpacityBuffer","iconIndexBuffer","textVertexArrayObject","textVertexBuffer","textOpacityBuffer","textIndexBuffer","setSubData","vertexAttributesDD","vertexAttributes","circleIndexStart","circleIndexCount","circleVertexArrayObject","circleVertexBuffer","circleIndexBuffer","circleVertexAttributes","_referenced","_hasSymbolBuckets","_memoryUsedByLayerData","layerData","layerCount","status","allSymbolsFadingOut","isCoverage","neededForCoverage","decluttered","invalidating","parentTile","childrenTiles","_processed","transforms","tileUnitsToPixels","performance","now","changeDataImpl","ready","_destroyRenderBuckets","_createRenderBuckets","processDetach","setTransform","pixelRatio","coordRange","toScreen","coords","PI","rotation","_deserializeBucket","xTile","yTile","hash","priority","colliders","textVertexRanges","iconVertexRanges","tile","tileSymbols","parts","startTime","startOpacity","targetOpacity","show","_rows","ceil","_columns","_cellSize","cells","floor","columns","dxPixels","dyPixels","hard","partIndex","minLod","maxLod","unique","selectedForRendering","triangleCountReportedInDebug","dvs","tileMat3","triangleCount","key","bounds","texture","_coords","_bounds","toScreenNoRotation","displayViewMat3","metrics","left","top","advance","z","B","C","D","E","F","G","H","J","K","O","P","R","V","X","pixelType","pixels","getAsRGBAFloat","getAsRGBA","textureFloat","textureFloatLinear","pixelFormat","internalFormat","samplingMode","dataType","wrapMode","flipped","coefficients","u_flipY","u_isFloatTexture","u_applyTransform","u_opacity","u_transformSpacing","spacing","u_transformGridSize","u_targetImageSize","u_srcImageSize","u_colormapOffset","u_colormapMaxIndex","u_scale","u_offset","u_bandCount","u_minOutput","outMin","u_maxOutput","outMax","u_minCutOff","minCutOff","u_maxCutOff","maxCutOff","u_factor","factor","u_useGamma","useGamma","u_gamma","gamma","u_gammaCorrection","gammaCorrection","u_hillshadeType","hillshadeType","u_sinZcosAs","sinZcosAs","u_sinZsinAs","sinZsinAs","u_cosZs","cosZs","u_weights","weights","u_minValue","u_maxValue","gl","glName","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","location","getUniformLocation","info","setUniform1fv","setUniform1f","setUniform2fv","setUniform3fv","setUniform4fv","setUniformMatrix3fv","setUniformMatrix4fv","setUniform1iv","setUniform1i","setUniform2iv","setUniform3iv","setUniform4iv","bindTexture","checkUnsupported","_isWebMercator","isWebMercator","_isGCS","pixelSize","reduce","minIndex","pow","levels","tileSize","toTileInfo","getExtent","zmin","zmax","log","LOG2E","computeRowColExtent","sqrt","isPowerOfTwo","hasGapInLevels","tileSizeSupported","ensureMaxLod","WebMercatorAuxiliarySphereTileInfo","WebMercatorAuxiliarySphere","makeWebMercatorAuxiliarySphere","typeWorkerQuota","tasks","numWorkers","statistics","requests","duration","speed","_workerFunc","_callbackFunc","_maxTotalNumWorkers","_totalNumWorkers","_clients","client","_taskCallback","quota","workers","queueSize","requestStats","_taskFinished","_cancelled","_next","_processQueue","shift","onLoadQueue","doneQueue","updating","loadQueue","startLoading","doneLoadingCallback","taskHandle","registerTask","update","abortController","hasQuota","__signal","createOrUpdateTask","cancelRequest","docType","request","resolvers","updateTask","reject","cancel","uid","taskKey","createTask","task","err","doneLoading","done","callback","madeProgress","HTMLImageElement","resolve","timeout","ArrayBuffer","Blob","window","URL","createObjectURL","revokeObjectURL","j","release","atan","planar","freeze","__proto__","isInsideExtent","extent","tiltOnEdge","tiltToExtentEdge","elevationBounds","checkIfTileInfoSupportedForViewSR","toLocaleString","level0Scale","suggestedLevel0Scale","requiredNumRootTiles","allowedNumRootTiles","spherical","compatibleWith","isWGS84","basemap","view","baseLayers","concat","referenceLayers","getItemAt","message","details","viewingMode","compatibleTileInfo256","every","_handles","compatibilityFunction","refresh","_cancelCompatibilityCheck","_get","cancelLoad","loadError","AbortController","_lastCompatibilityCheckController","basemaps","filterFunction","updateBasemapsCallback","_lastPortalBasemapFetchController","notifyChange","fetchBasemaps","_toQueryString","_updateBasemaps","join","removeAll","addMany","activeBasemap","_recreateItems","_updateItems","aliasOf","disabled","iconClass","label","viewModel","own","added","moved","scheduleRender","_renderBasemapGalleryItem","class","role","noBasemaps","classes","currentTarget","basemapEquals","bind","onkeydown","_handleClick","onclick","tabIndex","alt","overridable","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__importDefault","mod","__esModule","exports","decorators_1","require","widget_1","Widget_1","BaseMapsViewModel_1","CSS","BaseMaps","properties","_createMaps","container","_createImages","images","handleSwitchChange","getAttribute","includes","findLayerById","handleSliderChange","_a","_sliderCreated","querySelector","addEventListener","passive","_blendCreated","_b","removeAttribute","querySelectorAll","checked","toggleContent","tsx","position","slot","active","dir","hastext","tabindex","afterCreate","step","property","renderable","subclass","default","Accessor_1","Color_1","BasemapGallery_1","watchUtils_1","BaseMapsViewModel","params","changePropertyLines","propertyLayer","allLayers","newRenderer","renderer","startsWith","symbol","outline","color","_c","_d","_e","_f","_g","_h","_j","_k","_l","classList","setAttribute","whenDefinedOnce","init","when","contains","hasAttribute","initialState","viewpoint","targetGeometry","localStorage","setItem","JSON","stringify","___CSS_LOADER_EXPORT___","module"],"mappings":"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","file":"6114.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{throwIfAborted as r,reject as e,all as s}from\"../../../core/promiseUtils.js\";import{open as i}from\"../../../core/workers/workers.js\";const o=t.getLogger(\"esri.views.3d.support.WorkerHandle\");class h{constructor(t,r,e,s={}){this._methodName=r,this._promise=i(t,{...s,scheduler:e}).then((t=>{void 0===this._thread?(this._thread=t,this._promise=null,s.hasInitialize&&this.broadcast({},\"initialize\")):t.close()})),this._promise.catch((r=>o.error(`Failed to initialize ${t} worker: ${r}`)))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(t,s){if(this._thread){const r=this.getTransferList(t);return this._thread.invoke(this._methodName,t,{transferList:r,signal:s})}return this._promise?this._promise.then((()=>(r(s),this.invoke(t,s)))):e(null)}broadcast(t,r){return this._thread?s(this._thread.broadcast(r,t)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(t,r))):e()}get promise(){return this._promise}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{resolve as e}from\"../../core/promiseUtils.js\";import{WorkerHandle as r}from\"../../views/3d/support/WorkerHandle.js\";class t extends r{constructor(e){super(\"LercWorker\",\"_decode\",e,{strategy:\"dedicated\"}),this.scheduler=e}decode(r,t,n){return r&&0!==r.byteLength?this.invoke({buffer:r,options:t},n):e(null)}getTransferList(e){return[e.buffer]}}const n=new Map;function s(e){let r=n.get(e);return r||(r={instance:new t(e),ref:0},n.set(e,r)),++r.ref,r.instance}function o(e){if(null==e)return;const r=e.scheduler,t=n.get(r);t&&--t.ref<=0&&(t.instance.destroy(),n.delete(r))}export{s as acquireDecoder,o as releaseDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import t from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../core/Error.js\";import{objectToQuery as l}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as n,createAbortController as p,throwIfAborted as c}from\"../core/promiseUtils.js\";import m from\"../request.js\";import u from\"./Layer.js\";import{MultiOriginJSONMixin as d}from\"../core/MultiOriginJSONSupport.js\";import h from\"../geometry/HeightModelInfo.js\";import{url as y}from\"./support/commonProperties.js\";import{OperationalLayer as v}from\"./mixins/OperationalLayer.js\";import{ArcGISService as g}from\"./mixins/ArcGISService.js\";import{PortalLayer as f}from\"./mixins/PortalLayer.js\";import{ArcGISCachedService as S}from\"./mixins/ArcGISCachedService.js\";import{acquireDecoder as j,releaseDecoder as w}from\"./support/LercDecoder.js\";const x=t.getLogger(\"esri.layers.ElevationLayer\");let T=class extends(S(g(v(f(d(u)))))){constructor(...e){super(...e),this.copyright=null,this.heightModelInfo=null,this.path=null,this.opacity=1,this.operationalLayerType=\"ArcGISTiledElevationServiceLayer\",this.sourceJSON=null,this.type=\"elevation\",this.url=null,this.version=null,this._lercDecoder=j()}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}destroy(){w(this._lercDecoder),this._lercDecoder=null}set minScale(e){this.constructed&&x.warn(`${this.declaredClass}.minScale support has been removed (since 4.5)`)}get minScale(){}set maxScale(e){this.constructed&&x.warn(`${this.declaredClass}.maxScale support has been removed (since 4.5)`)}get maxScale(){}readVersion(e,r){let t=r.currentVersion;return t||(t=9.3),t}load(e){const t=r(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"],supportsData:!1,validateItem:e=>{for(let r=0;r<e.typeKeywords.length;r++)if(\"elevation 3d layer\"===e.typeKeywords[r].toLowerCase())return!0;throw new a(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}' \",{type:\"Image Service\",expectedType:\"Image Service Elevation 3D Layer\"})}},e).then((()=>this._fetchImageService(t)),(()=>this._fetchImageService(t)))),n(this)}fetchTile(e,t,o,i){const s=r((i=i||{signal:null}).signal)?i.signal:i.signal=p().signal,a={responseType:\"array-buffer\",signal:s},l={noDataValue:i.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,o,i))).then((()=>m(this.getTileUrl(e,t,o),a))).then((e=>this._lercDecoder.decode(e.data,l,s))).then((e=>({values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue})))}getTileUrl(e,r,t){const o=!this.tilemapCache&&this.supportsBlankTile,i=l({...this.parsedUrl.query,blankTile:!o&&null});return`${this.parsedUrl.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}async queryElevation(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");c(r);return(new t).query(this,e,r)}async createElevationSampler(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");c(r);return(new t).createSampler(this,e,r)}_fetchTileAvailability(e,r,t,o){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,r,t,o):n(\"unknown\")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const r={query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e},t=await m(this.parsedUrl.path,r);t.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=t.data,this.read(t.data,{origin:\"service\",url:this.parsedUrl})}};e([o({json:{read:{source:\"copyrightText\"}}})],T.prototype,\"copyright\",void 0),e([o({readOnly:!0,type:h})],T.prototype,\"heightModelInfo\",void 0),e([o({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],T.prototype,\"path\",void 0),e([o({type:[\"show\",\"hide\"]})],T.prototype,\"listMode\",void 0),e([o({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"minScale\",null),e([o({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"maxScale\",null),e([o({json:{read:!1,write:!1,origins:{\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"opacity\",void 0),e([o({type:[\"ArcGISTiledElevationServiceLayer\"]})],T.prototype,\"operationalLayerType\",void 0),e([o()],T.prototype,\"sourceJSON\",void 0),e([o({json:{read:!1},value:\"elevation\",readOnly:!0})],T.prototype,\"type\",void 0),e([o(y)],T.prototype,\"url\",void 0),e([o()],T.prototype,\"version\",void 0),e([i(\"version\",[\"currentVersion\"])],T.prototype,\"readVersion\",null),T=e([s(\"esri.layers.ElevationLayer\")],T);var I=T;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import\"../core/Logger.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../core/accessorSupport/decorators/cast.js\";import{reader as o}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import l from\"../core/Error.js\";import{urlToObject as n,objectToQuery as p,makeAbsolute as c}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as u,create as m,reject as d}from\"../core/promiseUtils.js\";import h from\"../geometry/SpatialReference.js\";import\"../geometry.js\";import y from\"../request.js\";import f from\"./Layer.js\";import{MultiOriginJSONMixin as v}from\"../core/MultiOriginJSONSupport.js\";import{parse as g,isHostedAgolService as S,isArcGISUrl as _}from\"./support/arcgisLayerUrl.js\";import{url as j}from\"./support/commonProperties.js\";import{OperationalLayer as b}from\"./mixins/OperationalLayer.js\";import{ArcGISService as O}from\"./mixins/ArcGISService.js\";import{BlendLayer as w}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as T}from\"./mixins/CustomParametersMixin.js\";import{PortalLayer as L}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as R}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as U}from\"./mixins/ScaleRangeLayer.js\";import{HandleOwnerMixin as x}from\"../core/HandleOwner.js\";import{ArcGISCachedService as W}from\"./mixins/ArcGISCachedService.js\";import{ArcGISMapService as A}from\"./mixins/ArcGISMapService.js\";import C from\"./support/Sublayer.js\";import{SublayersOwner as I}from\"./mixins/SublayersOwner.js\";const M=[\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Elevation/World_Hillshade\",\"Elevation/World_Hillshade_Dark\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Ocean_Basemap\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Boundaries_and_Places_Alternate\",\"Reference/World_Transportation\",\"World_Imagery\",\"World_Street_Map\",\"World_Topo_Map\"];let N=class extends(w(I(U(R(b(L(W(A(O(v(x(T(f))))))))))))){constructor(...e){super(...e),this.listMode=\"show\",this.isReference=null,this.operationalLayerType=\"ArcGISTiledMapServiceLayer\",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type=\"tile\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const t=r(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).then((()=>this._fetchService(t)),(()=>this._fetchService(t)))),u(this)}get attributionDataUrl(){var e;const r=null==(e=this.parsedUrl)?void 0:e.path.toLowerCase();return r&&this._getDefaultAttribution(this._getMapName(r))}readSpatialReference(e,r){return(e=e||r.tileInfo&&r.tileInfo.spatialReference)&&h.fromJSON(e)}writeSublayers(e,r,t,s){if(!this.loaded||!e)return;const o=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),i=[],a={writeSublayerStructure:!1,...s};o.forEach((e=>{const r=e.write({},a);i.push(r)}));i.some((e=>Object.keys(e).length>1))&&(r.layers=i)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>n(e).path)):null}fetchTile(e,r,t,s={}){const{signal:o,timestamp:i}=s,a=this.getTileUrl(e,r,t),l={responseType:\"image\",signal:o};return null!=i&&(l.query={_ts:s.timestamp}),y(a,l).then((e=>e.data))}getTileUrl(e,r,t){const s=!this.tilemapCache&&this.supportsBlankTile,o=p({...this.parsedUrl.query,blankTile:!s&&null,...this.customParameters}),i=this.tileServers;return`${i&&i.length?i[r%i.length]:this.parsedUrl.path}/tile/${e}/${r}/${t}${o?\"?\"+o:\"\"}`}_fetchService(e){return m(((t,s)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new l(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");return void t({data:this.sourceJSON})}if(!this.parsedUrl)throw new l(\"tile-layer:undefined-url\",\"layer's url is not defined\");const o=g(this.parsedUrl.path);if(r(o)&&\"ImageServer\"===o.serverType)throw new l(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");y(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters},responseType:\"json\",signal:e}).then(t,s)})).then((r=>{if(r.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=r.data,this.read(r.data,{origin:\"service\",url:this.parsedUrl}),10.1===this.version&&!S(this.url))return this._fetchServerVersion(this.url,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,r){if(!_(e))return d();const t=e.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";return y(t,{query:{f:\"json\",...this.customParameters},responseType:\"json\",signal:r}).then((e=>{if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new l(\"tile-layer:version-not-available\")}))}_getMapName(e){const r=e.match(/^(?:https?:)?\\/\\/(server\\.arcgisonline\\.com|services\\.arcgisonline\\.com|ibasemaps-api\\.arcgis\\.com)\\/arcgis\\/rest\\/services\\/([^\\/]+(\\/[^\\/]+)*)\\/mapserver/i);return r&&r[2]}_getDefaultAttribution(e){if(!e)return;let r;e=e.toLowerCase();for(let t=0,s=M.length;t<s;t++)if(r=M[t],r.toLowerCase().indexOf(e)>-1)return c(\"//static.arcgis.com/attribution/\"+r)}_getDefaultTileServers(e){const r=-1!==e.search(/^(?:https?:)?\\/\\/server\\.arcgisonline\\.com/i),t=-1!==e.search(/^(?:https?:)?\\/\\/services\\.arcgisonline\\.com/i);return r||t?[e,e.replace(r?/server\\.arcgisonline/i:/services\\.arcgisonline/i,r?\"services.arcgisonline\":\"server.arcgisonline\")]:[]}};e([t({readOnly:!0,dependsOn:[\"parsedUrl\"]})],N.prototype,\"attributionDataUrl\",null),e([t({type:[\"show\",\"hide\",\"hide-children\"]})],N.prototype,\"listMode\",void 0),e([t({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],N.prototype,\"isReference\",void 0),e([t({readOnly:!0,type:[\"ArcGISTiledMapServiceLayer\"]})],N.prototype,\"operationalLayerType\",void 0),e([t({type:Boolean})],N.prototype,\"resampling\",void 0),e([t()],N.prototype,\"sourceJSON\",void 0),e([t({type:h})],N.prototype,\"spatialReference\",void 0),e([o(\"spatialReference\",[\"spatialReference\",\"tileInfo\"])],N.prototype,\"readSpatialReference\",null),e([t({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],N.prototype,\"path\",void 0),e([t({readOnly:!0})],N.prototype,\"sublayers\",void 0),e([a(\"sublayers\",{layers:{type:[C]}})],N.prototype,\"writeSublayers\",null),e([t({json:{read:!1,write:!1}})],N.prototype,\"popupEnabled\",void 0),e([t({dependsOn:[\"parsedUrl\"]})],N.prototype,\"tileServers\",null),e([s(\"tileServers\")],N.prototype,\"castTileServers\",null),e([t({readOnly:!0,json:{read:!1}})],N.prototype,\"type\",void 0),e([t(j)],N.prototype,\"url\",void 0),N=e([i(\"esri.layers.TileLayer\")],N);var P=N;export default P;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Logger.js\";import e from\"../../core/Error.js\";import{urlToObject as i,objectToQuery as s}from\"../../core/urlUtils.js\";import{all as a,resolve as r}from\"../../core/promiseUtils.js\";import h from\"../../request.js\";const o=t.getLogger(\"esri.layers.support.SpriteSource\");export default class{constructor(t,e,i,s){this.baseURL=t,this.devicePixelRatio=e,this.maxTextureSize=i,this._spriteImageFormat=s,this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus=\"not-loaded\"}get spriteNames(){const t=[];for(const e in this._spritesData)t.push(e);return t.sort(),t}getSpriteInfo(t){return this._spritesData[t]}async load(t){if(this.baseURL){this.loadStatus=\"loading\";try{await this._loadSprites(t),this.loadStatus=\"loaded\"}catch{this.loadStatus=\"failed\"}}else this.loadStatus=\"failed\"}_loadSprites(t){this._isRetina=this.devicePixelRatio>1.15;const l=i(this.baseURL),n=l.query?\"?\"+s(l.query):\"\",d=this._isRetina?\"@2x\":\"\",g=`${l.path}${d}.${this._spriteImageFormat}${n}`,m=`${l.path}${d}.json${n}`;return a([h(m,t),h(g,{responseType:\"image\",...t})]).then((([t,i])=>{const s=Object.keys(t.data);if(!s||0===s.length||1===s.length&&\"_ssl\"===s[0]||!i||!i.data)return this._spritesData=this.image=null,this.width=this.height=0,r(null);this._spritesData=t.data;const a=i.data,h=Math.max(this.maxTextureSize,4096);if(a.width>h||a.height>h){const t=`Sprite resource for style ${l.path} is bigger than the maximum allowed of ${h} pixels}`;throw o.error(t),new e(\"SpriteSource\",t)}this.width=a.width,this.height=a.height;const n=document.createElement(\"canvas\"),d=n.getContext(\"2d\");n.width=a.width,n.height=a.height,d.drawImage(a,0,0,a.width,a.height);const g=d.getImageData(0,0,a.width,a.height),m=new Uint8Array(g.data);let p;for(let t=0;t<m.length;t+=4)p=m[t+3]/255,m[t]=m[t]*p,m[t+1]=m[t+1]*p,m[t+2]=m[t+2]*p;this.image=m}))}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{urlToObject as t,objectToQuery as i,isAbsolute as l,join as r}from\"../../../../../core/urlUtils.js\";import{resolve as s}from\"../../../../../core/promiseUtils.js\";import o from\"../../../../../geometry/Extent.js\";import{readServiceTileInfo as a}from\"../../../../../layers/support/serviceTileInfoProperty.js\";import{TilemapCache as n}from\"../../../../../layers/support/TilemapCache.js\";import p from\"../TileIndex.js\";export default class{constructor(s,h,u){this.tileMapURL=\"\",this.tilemapCache=null,this.parsedUrl=null,this.tileInfo=null,this.capabilities=null,this.tileIndex=null,this.fullExtent=null,this.name=s,this.sourceUrl=h,h&&(this.parsedUrl=t(this.sourceUrl));const c=this.parsedUrl.path,m=this.parsedUrl.query?\"?\"+i(this.parsedUrl.query):\"\",f=e(u),d=f.tiles;h&&d.forEach(((e,t)=>{l(e)||(d[t]=r(c,e)+m)})),this.tileServers=d,u.tileMap&&(this.tileMapURL=r(h,u.tileMap));const x=u.capabilities&&u.capabilities.split(\",\").map((e=>e.toLowerCase().trim())),g=!!u.exportTilesAllowed,y=!!x&&-1!==x.indexOf(\"tilemap\"),M=g&&u.hasOwnProperty(\"maxExportTilesCount\")?u.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:g,supportsTileMap:y},exportTiles:g?{maxExportTilesCount:+M}:null},this.tileInfo=a(f.tileInfo,f,null,{ignoreMinMaxLOD:!0}),y&&(this.type=\"vector-tile\",this.tilemapCache=new n({layer:this}),this.tilemapCache&&(this.tileIndex=new p(this.tilemapCache))),this.fullExtent=o.fromJSON(u.fullExtent)}getRefKey(e,t){return this.tileIndex?this.tileIndex.dataKey(e,t):s(e)}getSourceTileUrl(e,t,i){let l=this.tileServers[t%this.tileServers.length];return l=l.replace(/\\{z\\}/gi,e.toString()).replace(/\\{y\\}/gi,t.toString()).replace(/\\{x\\}/gi,i.toString()),l}isCompatibleWith(e){const t=this.tileInfo,i=e.tileInfo;if(!t.spatialReference.equals(i.spatialReference))return!1;if(!t.origin.equals(i.origin))return!1;if(Math.round(t.dpi)!==Math.round(i.dpi))return!1;const l=t.lods,r=i.lods,s=Math.min(l.length,r.length);for(let e=0;e<s;e++){const t=l[e],i=r[e];if(t.level!==i.level||Math.round(t.scale)!==Math.round(i.scale))return!1}return!0}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import{urlToObject as r,removeTrailingSlash as t,getOrigin as s,isProtocolRelative as o,isAbsolute as l,join as n,normalize as i,removeFile as u,appBaseUrl as a}from\"../../core/urlUtils.js\";import{throwIfAborted as c,reject as f,all as p,resolve as y}from\"../../core/promiseUtils.js\";import m from\"../../request.js\";import d from\"../../views/2d/engine/vectorTiles/style/VectorTileSource.js\";const S=e.defaults&&e.defaults.io.corsEnabledServers;async function h(e,t){const s={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:\"\",spriteFormat:\"png\"},[o,l]=\"string\"==typeof e?[e,null]:[null,e.jsonUrl],n=o?r(o):null;await w(s,\"esri\",e,l,t);const i={layerDefinition:s.validatedSource,url:o,parsedUrl:n,serviceUrl:s.sourceUrl,style:s.style,styleUrl:s.styleUrl,spriteUrl:s.style.sprite&&x(s.styleBase,s.style.sprite),spriteFormat:s.spriteFormat,glyphsUrl:s.style.glyphs&&x(s.styleBase,s.style.glyphs),sourceNameToSource:s.sourceNameToSource,primarySourceName:s.primarySourceName};return U(i.spriteUrl),U(i.glyphsUrl),i}function U(e){if(!e)return;const r=s(e);S&&-1===S.indexOf(r)&&S.push(r)}function x(...e){let r;for(let t=0;t<e.length;++t)if(o(e[t])){if(r){const s=r.split(\"://\")[0];r=s+\":\"+e[t].trim()}}else r=l(e[t])?e[t]:n(r,e[t]);return t(r)}async function w(e,t,s,o,l){let n,y,d;if(c(l),\"string\"==typeof s){const e=i(s);U(e);const t=r(e);d=await m(t.path,{query:{f:\"json\"},responseType:\"json\",...l}),n=e,y=e}else d={data:s},n=s.jsonUrl||null,y=o;const S=d.data;return d.ssl&&(n&&(n=n.replace(/^http:/i,\"https:\")),y&&(y=y.replace(/^http:/i,\"https:\"))),g(S)?(e.styleUrl=n||null,async function(e,r,t,s){const o=t?u(t):a;e.styleBase=o,e.style=r,e.styleUrl&&U(e.styleUrl);r[\"sprite-format\"]&&\"webp\"===r[\"sprite-format\"].toLowerCase()&&(e.spriteFormat=\"webp\");const l=[];if(r.sources&&r.sources.esri){const t=r.sources.esri;t.url?await w(e,\"esri\",x(o,t.url),void 0,s):l.push(w(e,\"esri\",t,o,s))}for(const t of Object.keys(r.sources))\"esri\"!==t&&\"vector\"===r.sources[t].type&&(r.sources[t].url?l.push(w(e,t,x(o,r.sources[t].url),void 0,s)):l.push(w(e,t,r.sources[t],o,s)));await p(l)}(e,S,y,l)):g(S)?f(\"You must specify the URL or the JSON for a service or for a style.\"):e.sourceUrl?v(e,S,y,!1,t,l):(e.sourceUrl=n||null,v(e,S,y,!0,t,l))}function g(e){return!!e.sources}async function v(e,r,s,o,l,n){const i=s?t(s)+\"/\":a,u=function(e,r){if(e.hasOwnProperty(\"tileInfo\"))return e;const t={xmin:-20037507.067161843,ymin:-20037507.067161843,xmax:20037507.067161843,ymax:20037507.067161843,spatialReference:{wkid:102100}},s=512;let o=78271.51696400007,l=295828763.7957775;const n=[],i=e.hasOwnProperty(\"minzoom\")?parseFloat(e.minzoom):0,u=e.hasOwnProperty(\"maxzoom\")?parseFloat(e.maxzoom):22;for(let e=0;e<=u;e++)e>=i&&n.push({level:e,scale:l,resolution:o}),o/=2,l/=2;for(const t of e.tiles)U(x(r,t));return{capabilities:\"TilesOnly\",initialExtent:t,fullExtent:t,minScale:0,maxScale:0,tiles:e.tiles,tileInfo:{rows:s,cols:s,dpi:96,format:\"pbf\",origin:{x:-20037508.342787,y:20037508.342787},lods:n,spatialReference:{wkid:102100}}}}(r,i),c=new d(l,i,u);if(!o&&e.primarySourceName in e.sourceNameToSource){const r=e.sourceNameToSource[e.primarySourceName];if(!r.isCompatibleWith(c))return y();null!=c.fullExtent&&(null!=r.fullExtent?r.fullExtent.union(c.fullExtent):r.fullExtent=c.fullExtent.clone()),r.tileInfo.lods.length<c.tileInfo.lods.length&&(r.tileInfo=c.tileInfo)}if(o?(e.sourceBase=i,e.source=r,e.validatedSource=u,e.primarySourceName=l,e.sourceUrl&&U(e.sourceUrl)):U(i),e.sourceNameToSource[l]=c,!e.style)return null==r.defaultStyles?f():\"string\"==typeof r.defaultStyles?w(e,\"\",x(i,r.defaultStyles,\"root.json\"),void 0,n):w(e,\"\",r.defaultStyles,x(i,\"root.json\"),n)}export{h as loadMetadata};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../layers/support/LOD.js\";import i from\"../../../../layers/support/TileInfo.js\";export default class{constructor(e,i){this.lockedSchemaPixelSize=e,this.isGCS=i}getLevelRowColumn(e){return this.isGCS?[e[0],e[1]>>1,e[2]>>1]:256===this.lockedSchemaPixelSize&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e}adjustLevel(e){return this.isGCS?e:256===this.lockedSchemaPixelSize?e>0?e-1:0:e}getShift(e,i){let t=0,s=0;return(256===this.lockedSchemaPixelSize||this.isGCS)&&(e[2]%2&&(t=i),e[1]%2&&(s=i)),[t,s]}getScale(e){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===e)return 1;return 2}static create256x256CompatibleTileInfo(t){if(!t)return null;if(256===t.size[0]&&256===t.size[1])return t;const s=t.spatialReference.isGeographic,l=[],r=t.lods.length;for(let i=0;i<r;i++){const r=t.lods[i],o=s?r.resolution:2*r.resolution;l.push(new e({level:r.level,scale:r.scale,resolution:o}))}return new i({size:[256,256],dpi:t.dpi,format:t.format,compressionQuality:t.compressionQuality,origin:t.origin,spatialReference:t.spatialReference,lods:l})}static create512x512CompatibleTileInfo(t){if(!t)return null;if(256===t.size[0]||256===t.size[1])return null;const s=[],l=t.lods.length;for(let i=0;i<l;i++){const l=t.lods[i],r=.5*l.resolution;s.push(new e({level:l.level,scale:l.scale,resolution:r}))}return new i({size:[512,512],dpi:t.dpi,format:t.format,compressionQuality:t.compressionQuality,origin:t.origin,spatialReference:t.spatialReference,lods:s})}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../layers/support/TileInfo.js\";function l(e,l){if(e===l)return!0;if(!e&&null!=l)return!1;if(null!=e&&!l)return!1;if(!e.spatialReference.equals(l.spatialReference)||e.dpi!==l.dpi)return!1;const s=e.origin,o=l.origin;if(Math.abs(s.x-o.x)>=1e-6||Math.abs(s.y-o.y)>=1e-6)return!1;let r,n;e.lods[0].scale>l.lods[0].scale?(r=e,n=l):(n=e,r=l);for(let e=r.lods[0].scale;e>=n.lods[n.lods.length-1].scale-1e-6;e/=2)if(Math.abs(e-n.lods[0].scale)<1e-6)return!0;return!1}function s(l,s){if(l===s)return l;if(!l&&null!=s)return s;if(null!=l&&!s)return l;const o=l.size[0],r=l.format,n=l.dpi,t={x:l.origin.x,y:l.origin.y},i=l.spatialReference.toJSON(),a=l.lods[0].scale>s.lods[0].scale?l.lods[0]:s.lods[0],d=l.lods[l.lods.length-1].scale<=s.lods[s.lods.length-1].scale?l.lods[l.lods.length-1]:s.lods[s.lods.length-1],f=a.scale,u=a.resolution,c=d.scale,p=[];let g=f,h=u,x=0;for(;g>c;)p.push({level:x,resolution:h,scale:g}),x++,g/=2,h/=2;return new e({size:[o,o],dpi:n,format:r||\"pbf\",origin:t,lods:p,spatialReference:i})}export{l as areSchemasOverlapping,s as unionTileInfos};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/global.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as l}from\"../core/accessorSupport/decorators/writer.js\";import a from\"../core/Error.js\";import{urlToObject as n,isProtocolRelative as p,normalize as y}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as c,isAborted as u,createAbortController as m,create as d,onAbort as h}from\"../core/promiseUtils.js\";import S from\"../geometry/SpatialReference.js\";import f from\"../geometry/Extent.js\";import g from\"../request.js\";import v from\"./Layer.js\";import{MultiOriginJSONMixin as _}from\"../core/MultiOriginJSONSupport.js\";import{OperationalLayer as j}from\"./mixins/OperationalLayer.js\";import{ArcGISService as I}from\"./mixins/ArcGISService.js\";import{BlendLayer as O}from\"./mixins/BlendLayer.js\";import{PortalLayer as T}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as b}from\"./mixins/ScaleRangeLayer.js\";import L from\"./support/TileInfo.js\";import{TilemapCache as w}from\"./support/TilemapCache.js\";import{ArcGISCachedService as P}from\"./mixins/ArcGISCachedService.js\";import{checkWebPSupport as x}from\"./support/imageUtils.js\";import N from\"./support/SpriteSource.js\";import{loadMetadata as U}from\"./support/vectorTileLayerLoader.js\";import{createForItem as R}from\"../portal/support/jsonContext.js\";import C from\"../views/2d/engine/vectorTiles/SchemaHelper.js\";import{areSchemasOverlapping as M,unionTileInfos as V}from\"../views/2d/engine/vectorTiles/tileInfoUtils.js\";import D from\"../views/2d/engine/vectorTiles/style/StyleRepository.js\";import E from\"../views/webgl/capabilities.js\";let A=class extends(O(b(P(I(j(T(_(v)))))))){constructor(...e){super(...e),this._spriteSourceMap=new Map,this.currentStyleInfo=null,this.style=null,this.isReference=null,this.operationalLayerType=\"VectorTileLayer\",this.type=\"vector-tile\",this.url=null}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}destroy(){this._spriteSourceMap.clear()}async prefetchResources(e){await this.loadSpriteSource(t.devicePixelRatio||1,e)}load(e){const t=this.loadFromPortal({supportedTypes:[\"Vector Tile Service\"],supportsData:!1},e).then((async()=>{if(!this.portalItem||!this.portalItem.id)return;const t=`${this.portalItem.itemUrl}/resources/styles/root.json`;(await g(t,{...e,query:{f:\"json\"}})).data&&this.read({url:t},R(this.portalItem))})).then((()=>this._loadStyle(e)),(()=>this._loadStyle(e)));return this.addResolvingPromise(t),c(this)}get attributionDataUrl(){const e=this.currentStyleInfo,t=e&&e.serviceUrl&&n(e.serviceUrl);return t?this._getDefaultAttribution(t.path):null}get capabilities(){const e=this._getPrimarySource();return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}get fullExtent(){const e=this._getPrimarySource();return e?e.fullExtent:null}get parsedUrl(){return this.serviceUrl?n(this.serviceUrl):null}get serviceUrl(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}get spatialReference(){return this.tileInfo&&this.tileInfo.spatialReference||null}get styleUrl(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}writeStyleUrl(e,t){e&&p(e)&&(e=`https:${e}`),t.styleUrl=e}get tileIndexType(){const e=this._getPrimarySource();return e?e.type:\"\"}get tileIndexUrl(){const e=this._getPrimarySource();return e?e.tileMapURL:\"\"}get tileInfo(){var e;const t=[];for(const e in this.sourceNameToSource)t.push(this.sourceNameToSource[e]);let r=(null==(e=this._getPrimarySource())?void 0:e.tileInfo)||new L;if(t.length>1)for(let e=0;e<t.length;e++)M(r,t[e].tileInfo)&&(r=V(r,t[e].tileInfo));return r}get tilemapCache(){const e=this._getPrimarySource();return e&&e.capabilities.operations.supportsTileMap?e.tilemapCache:null}get tileServers(){const e=this._getPrimarySource();return e?e.tileServers:[]}readVersion(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)}get compatibleTileInfo256(){return C.create256x256CompatibleTileInfo(this.tileInfo)}get compatibleTileInfo512(){return C.create512x512CompatibleTileInfo(this.tileInfo)}async loadSpriteSource(e=1,t){if(!this._spriteSourceMap.has(e)){const r=E(),o=new N(this.styleRepository.sprite,e,r.maxTextureSize,this.currentStyleInfo.spriteFormat);await o.load(t),this._spriteSourceMap.set(e,o)}return c(this._spriteSourceMap.get(e))}async loadStyle(e,t){const r=e||this.style||this.url;if(this._loadingPromise&&\"string\"==typeof r&&this.url===r&&!u(this._abortController))return this._loadingPromise;const o=this._abortController;o&&o.abort();const i=m();return this._loadingPromise=d(((e,o)=>{const s={signal:i.signal};this._spriteSourceMap.clear(),this._getSourceAndStyle(r,s).then(e,o),h(t,(()=>{i.abort()}))})),this._abortController=i,this._loadingPromise}getStyleLayerId(e){return this.styleRepository.getStyleLayerId(e)}getStyleLayerIndex(e){return this.styleRepository.getStyleLayerIndex(e)}getPaintProperties(e){return r(this.styleRepository.getPaintProperties(e))}setPaintProperties(e,t){const r=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,t);const o=this.styleRepository.isPainterDataDriven(e);this.emit(\"paint-change\",{layerName:e,paint:t,isDataDriven:r||o})}getStyleLayer(e){return r(this.styleRepository.getStyleLayer(e))}setStyleLayer(e,t){this.styleRepository.setStyleLayer(e,t),this.emit(\"style-layer-change\",{layer:e,index:t})}deleteStyleLayer(e){this.styleRepository.deleteStyleLayer(e),this.emit(\"delete-style-layer\",{layerName:e})}getLayoutProperties(e){return r(this.styleRepository.getLayoutProperties(e))}setLayoutProperties(e,t){this.styleRepository.setLayoutProperties(e,t),this.emit(\"layout-change\",{layer:e,layout:t})}setStyleLayerVisibility(e,t){this.styleRepository.setStyleLayerVisibility(e,t),this.emit(\"style-layer-visibility-change\",{layer:e,visibility:t})}getStyleLayerVisibility(e){return this.styleRepository.getStyleLayerVisibility(e)}getTileUrl(e,t,r){let o=this.tileServers[t%this.tileServers.length];return o=o.replace(/\\{z\\}/gi,e.toString()).replace(/\\{y\\}/gi,t.toString()).replace(/\\{x\\}/gi,r.toString()),o}write(e,t){return t&&t.origin&&!this.styleUrl?(t.messages&&t.messages.push(new a(\"vectortilelayer:unsupported\",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):super.write(e,t)}async _getSourceAndStyle(e,t){if(!e)throw new Error(\"invalid style!\");const r=await U(e,t);if(\"webp\"===r.spriteFormat){await x(\"lossy\")||(r.spriteFormat=\"png\")}this._set(\"currentStyleInfo\",{...r}),\"string\"==typeof e?(this.url=e,this.style=null):(this.url=null,this.style=e),this._set(\"sourceNameToSource\",r.sourceNameToSource),this._set(\"primarySourceName\",r.primarySourceName),this._set(\"styleRepository\",new D(r.style,r)),this.read(r.layerDefinition,{origin:\"service\"}),this.emit(\"load-style\",{})}_getDefaultAttribution(e){const t=e.match(/^https?:\\/\\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\\.arcgis\\.com(\\/[^\\/]+)?\\/arcgis\\/rest\\/services\\/([^\\/]+(\\/[^\\/]+)*)\\/vectortileserver/i),r=[\"OpenStreetMap_v2\",\"OpenStreetMap_Daylight_v2\",\"OpenStreetMap_Export_v2\",\"OpenStreetMap_FTS_v2\",\"OpenStreetMap_GCS_v2\",\"World_Basemap\",\"World_Basemap_v2\",\"World_Basemap_Export_v2\",\"World_Basemap_GCS_v2\",\"World_Basemap_WGS84\",\"World_Contours_v2\"];if(!t)return;const o=t[2]&&t[2].toLowerCase();if(!o)return;const i=t[1]||\"\";for(const e of r)if(e.toLowerCase().indexOf(o)>-1)return y(`//static.arcgis.com/attribution/Vector${i}/${e}`)}_getPrimarySource(){return this.sourceNameToSource&&this.primarySourceName in this.sourceNameToSource?this.sourceNameToSource[this.primarySourceName]:null}async _loadStyle(e){return this._loadingPromise?this._loadingPromise:this.loadStyle(null,e)}};e([o({readOnly:!0,dependsOn:[\"currentStyleInfo\"]})],A.prototype,\"attributionDataUrl\",null),e([o({type:[\"show\",\"hide\"]})],A.prototype,\"listMode\",void 0),e([o({readOnly:!0,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"],autoTracked:!1,json:{read:!1}})],A.prototype,\"capabilities\",null),e([o({readOnly:!0})],A.prototype,\"currentStyleInfo\",void 0),e([o({json:{read:!1},readOnly:!0,type:f,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"fullExtent\",null),e([o()],A.prototype,\"style\",void 0),e([o({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],A.prototype,\"isReference\",void 0),e([o({type:[\"VectorTileLayer\"]})],A.prototype,\"operationalLayerType\",void 0),e([o({readOnly:!0,dependsOn:[\"serviceUrl\"]})],A.prototype,\"parsedUrl\",null),e([o({readOnly:!0,dependsOn:[\"currentStyleInfo\"]})],A.prototype,\"serviceUrl\",null),e([o({type:S,dependsOn:[\"tileInfo\"],readOnly:!0})],A.prototype,\"spatialReference\",null),e([o({readOnly:!0})],A.prototype,\"styleRepository\",void 0),e([o({readOnly:!0})],A.prototype,\"sourceNameToSource\",void 0),e([o({readOnly:!0})],A.prototype,\"primarySourceName\",void 0),e([o({type:String,readOnly:!0,dependsOn:[\"currentStyleInfo\"],json:{write:{ignoreOrigin:!0},origins:{\"web-document\":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],A.prototype,\"styleUrl\",null),e([l([\"portal-item\",\"web-document\"],\"styleUrl\")],A.prototype,\"writeStyleUrl\",null),e([o({json:{read:!1},readOnly:!0,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tileIndexType\",null),e([o({json:{read:!1},readOnly:!0,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tileIndexUrl\",null),e([o({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:L,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tileInfo\",null),e([o({json:{read:!1},readOnly:!0,type:w,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tilemapCache\",null),e([o({json:{read:!1},readOnly:!0,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tileServers\",null),e([o({json:{read:!1},readOnly:!0,value:\"vector-tile\"})],A.prototype,\"type\",void 0),e([o({json:{origins:{\"web-document\":{read:{source:\"styleUrl\"}},\"portal-item\":{read:{source:\"url\"}}},write:!1,read:!1}})],A.prototype,\"url\",void 0),e([o({readOnly:!0})],A.prototype,\"version\",void 0),e([i(\"version\",[\"version\",\"currentVersion\"])],A.prototype,\"readVersion\",null),e([o({readOnly:!0,dependsOn:[\"tileInfo\"]})],A.prototype,\"compatibleTileInfo256\",null),e([o({readOnly:!0,dependsOn:[\"tileInfo\"]})],A.prototype,\"compatibleTileInfo512\",null),A=e([s(\"esri.layers.VectorTileLayer\")],A);var B=A;export default B;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction A(A){const o={lossy:\"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA\",lossless:\"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==\",alpha:\"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==\",animation:\"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA\"};return new Promise((l=>{const Q=new Image;Q.onload=()=>{Q.onload=Q.onerror=null,l(Q.width>0&&Q.height>0)},Q.onerror=()=>{Q.onload=Q.onerror=null,l(!1)},Q.src=\"data:image/webp;base64,\"+o[A]}))}export{A as checkWebPSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../geometry/SpatialReference.js\";import\"../../geometry.js\";import{serviceTileInfoProperty as p}from\"../support/serviceTileInfoProperty.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";const a=a=>{let l=class extends a{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(e,r){return null!=r.minLOD&&null!=r.maxLOD?e:0}readMaxScale(e,r){return null!=r.minLOD&&null!=r.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,r){return r.capabilities&&r.capabilities.indexOf(\"Tilemap\")>-1?new s({layer:this}):null}};return e([r({json:{read:{source:\"copyrightText\"}}})],l.prototype,\"copyright\",void 0),e([r()],l.prototype,\"minScale\",void 0),e([o(\"service\",\"minScale\")],l.prototype,\"readMinScale\",null),e([r()],l.prototype,\"maxScale\",void 0),e([o(\"service\",\"maxScale\")],l.prototype,\"readMaxScale\",null),e([r({type:i})],l.prototype,\"spatialReference\",void 0),e([r({readOnly:!0,dependsOn:[\"version\"]})],l.prototype,\"supportsBlankTile\",null),e([r(p)],l.prototype,\"tileInfo\",void 0),e([r()],l.prototype,\"tilemapCache\",void 0),e([o(\"service\",\"tilemapCache\",[\"capabilities\"])],l.prototype,\"readTilemapCache\",null),e([r()],l.prototype,\"version\",void 0),l=e([t(\"esri.layers.mixins.ArcGISCachedService\")],l),l};export{a as ArcGISCachedService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{urlToObject as o}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import p from\"../../geometry/SpatialReference.js\";import a from\"../../geometry/Extent.js\";import l from\"../../request.js\";import{popupEnabled as n}from\"../support/commonProperties.js\";const u=u=>{let c=class extends u{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=null}readCapabilities(e,r){const s=r.capabilities&&r.capabilities.split(\",\").map((e=>e.toLowerCase().trim()));if(!s)return{operations:{supportsQuery:!1,supportsExportMap:!1,supportsExportTiles:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const t=this.type,o=-1!==s.indexOf(\"query\"),i=-1!==s.indexOf(\"map\"),p=!!r.exportTilesAllowed,a=-1!==s.indexOf(\"tilemap\"),l=\"tile\"!==t&&!!r.supportsDynamicLayers,n=\"tile\"!==t&&(!r.tileInfo||l),u=\"tile\"!==t&&(!r.tileInfo||l);return{operations:{supportsQuery:o,supportsExportMap:i,supportsExportTiles:p,supportsTileMap:a},exportMap:i?{supportsSublayersChanges:\"tile\"!==t,supportsDynamicLayers:l,supportsSublayerVisibility:n,supportsSublayerDefinitionExpression:u}:null,exportTiles:p?{maxExportTilesCount:+r.maxExportTilesCount}:null}}readVersion(e,r){let s=r.currentVersion;return s||(s=r.hasOwnProperty(\"capabilities\")||r.hasOwnProperty(\"tables\")?10:r.hasOwnProperty(\"supportedImageFormatTypes\")?9.31:9.3),s}async fetchSublayerInfo(e,r){return await this.fetchAllLayersAndTables(r),this._allLayersAndTablesMap.get(e)}async fetchAllLayersAndTables(e){await this.load(e),this._allLayersAndTablesPromise||(this._allLayersAndTablesPromise=l(o(this.url).path+\"/layers\",{responseType:\"json\",query:{f:\"json\",...this.customParameters}}).then((e=>{this._allLayersAndTablesMap=new Map;for(const r of e.data.layers)this._allLayersAndTablesMap.set(r.id,r);return{result:e.data}}),(e=>({error:e}))));const r=await this._allLayersAndTablesPromise;if(i(e),\"result\"in r)return r.result;throw r.error}};return e([r({readOnly:!0})],c.prototype,\"capabilities\",void 0),e([s(\"service\",\"capabilities\",[\"capabilities\",\"exportTilesAllowed\",\"maxExportTilesCount\",\"supportsDynamicLayers\",\"tileInfo\"])],c.prototype,\"readCapabilities\",null),e([r({json:{read:{source:\"copyrightText\"}}})],c.prototype,\"copyright\",void 0),e([r({type:a})],c.prototype,\"fullExtent\",void 0),e([r({json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}})],c.prototype,\"id\",void 0),e([r({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:\"showLegend\"},write:{target:\"showLegend\"}}})],c.prototype,\"legendEnabled\",void 0),e([r(n)],c.prototype,\"popupEnabled\",void 0),e([r({type:p})],c.prototype,\"spatialReference\",void 0),e([r()],c.prototype,\"version\",void 0),e([s(\"version\",[\"currentVersion\",\"capabilities\",\"tables\",\"supportedImageFormatTypes\"])],c.prototype,\"readVersion\",null),c=e([t(\"esri.layers.mixins.ArcGISMapService\")],c),c};export{u as ArcGISMapService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{getProperties as s}from\"../../core/accessorSupport/utils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import{nameToId as i,idToName as l}from\"../../core/accessorSupport/PropertyOrigin.js\";import\"../../portal/support/resourceExtension.js\";import n from\"../../core/Collection.js\";import u from\"../../core/CollectionFlattener.js\";import y from\"../support/Sublayer.js\";import{isSublayerOverhaul as c}from\"../support/sublayerUtils.js\";const b=r.getLogger(\"esri.layers.TileLayer\");const p=n.ofType(y);function d(e,r){e&&e.forEach((e=>{r(e),e.sublayers&&e.sublayers.length&&d(e.sublayers,r)}))}const f=r=>{let f=class extends r{constructor(...e){super(...e),this.allSublayers=new u({root:this,rootCollectionNames:[\"sublayers\"],getChildrenFunction:e=>e.sublayers}),this.sublayersSourceJSON={2:{},3:{},4:{},5:{}},this.watch(\"sublayers\",((e,r)=>this._handleSublayersChange(e,r)),!0)}readSublayers(e,r){if(!r||!e)return;const{sublayersSourceJSON:t}=this,o=i(r.origin);if(o<2)return;if(t[o]={context:r,visibleLayers:e.visibleLayers||t[o].visibleLayers,layers:e.layers||t[o].layers},o>2)return;this._set(\"serviceSublayers\",this.createSublayersForOrigin(\"service\").sublayers);const{sublayers:a,origin:l}=this.createSublayersForOrigin(\"web-document\"),n=s(this);n.setDefaultOrigin(l),this._set(\"sublayers\",new p(a)),n.setDefaultOrigin(\"user\")}findSublayerById(e){return this.allSublayers.find((r=>r.id===e))}createServiceSublayers(){return this.createSublayersForOrigin(\"service\").sublayers}createSublayersForOrigin(e){const r=i(\"web-document\"===e?\"web-map\":e);let s=2,t=this.sublayersSourceJSON[2].layers,o=this.sublayersSourceJSON[2].context,a=null;const n=[3,4,5].filter((e=>e<=r));for(const e of n){const r=this.sublayersSourceJSON[e];c(r.layers)&&(s=e,t=r.layers,o=r.context,r.visibleLayers&&(a={visibleLayers:r.visibleLayers,context:r.context}))}const u=[3,4,5].filter((e=>e>s&&e<=r));let b=null;for(const e of u){const{layers:r,visibleLayers:s,context:t}=this.sublayersSourceJSON[e];r&&(b={layers:r,context:t}),s&&(a={visibleLayers:s,context:t})}const f=function(e,r){const s=[],t={};return e?(e.forEach((e=>{const o=new y;if(o.read(e,r),t[o.id]=o,null!=e.parentLayerId&&-1!==e.parentLayerId){const r=t[e.parentLayerId];r.sublayers||(r.sublayers=[]),r.sublayers.unshift(o)}else s.unshift(o)})),s):s}(t,o),h=new Map,m=new Set;if(b)for(const e of b.layers)h.set(e.id,e);if(a)for(const e of a.visibleLayers)m.add(e);return d(f,(e=>{b&&e.read(h.get(e.id),b.context),a&&e.read({defaultVisibility:m.has(e.id)},a.context)})),{origin:l(s),sublayers:new p({items:f})}}read(e,r){super.read(e,r),this.readSublayers(e,r)}_handleSublayersChange(e,r){r&&(r.forEach((e=>{e.parent=null,e.layer=null})),this.handles.remove(\"sublayers-owner\")),e&&(e.forEach((e=>{e.parent=this,e.layer=this})),this.handles.add([e.on(\"after-add\",(({item:e})=>{e.parent=this,e.layer=this})),e.on(\"after-remove\",(({item:e})=>{e.parent=null,e.layer=null}))],\"sublayers-owner\"),\"tile\"===this.type&&this.handles.add(e.on(\"before-changes\",(e=>{b.error(new a(\"tilelayer:sublayers-non-modifiable\",\"Sublayer can't be added, moved, or removed from the layer's sublayers\",{layer:this})),e.preventDefault()})),\"sublayers-owner\"))}};return e([t({readOnly:!0})],f.prototype,\"allSublayers\",void 0),e([t({readOnly:!0,type:n.ofType(y)})],f.prototype,\"serviceSublayers\",void 0),e([t({value:null,type:p,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],f.prototype,\"sublayers\",void 0),e([t({readOnly:!0})],f.prototype,\"sublayersSourceJSON\",void 0),f=e([o(\"esri.layers.mixins.SublayersOwner\")],f),f};export{f as SublayersOwner,d as forEachSublayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"./TileInfo.js\";const r={type:e,json:{origins:{service:{read:{source:[\"tileInfo\",\"minScale\",\"maxScale\",\"minLOD\",\"maxLOD\"],reader:n}}}}};function n(r,n,l,o){if(!r)return null;const{minScale:i,maxScale:t,minLOD:m,maxLOD:s}=n;if(null!=m&&null!=s)return o&&o.ignoreMinMaxLOD?e.fromJSON(r):e.fromJSON({...r,lods:r.lods.filter((({level:e})=>null!=e&&e>=m&&e<=s))});if(0!==i&&0!==t){const n=e=>Math.round(1e4*e)/1e4,l=i?n(i):1/0,o=t?n(t):-1/0;return e.fromJSON({...r,lods:r.lods.filter((e=>{const r=n(e.scale);return r<=l&&r>=o}))})}return e.fromJSON(r)}export{n as readServiceTileInfo,r as serviceTileInfoProperty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e,n,i){if(n.flatten((({sublayers:e})=>e)).length!==e.length)return!0;return!!e.some((e=>e.originIdOf(\"minScale\")>i||e.originIdOf(\"maxScale\")>i||e.originIdOf(\"renderer\")>i||e.originIdOf(\"labelingInfo\")>i||e.originIdOf(\"opacity\")>i||e.originIdOf(\"labelsVisible\")>i||e.originIdOf(\"source\")>i))||!r(e,n)}function n(e,n,i){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===i.gdbVersion))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"opacity\")>2||e.originIdOf(\"labelsVisible\")>2}))||!r(e,n)}function r(e,n){if(!e||!e.length)return!0;const r=n.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>r.length)return!1;let i=0;const o=r.length;for(const{id:n}of e){for(;i<o&&r[i]!==n;)i++;if(i>=o)return!1}return!0}function i(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}export{n as isExportDynamic,i as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function o(o){return{origin:\"portal-item\",url:r(o.itemUrl),portal:o.portal||t.getDefault(),portalItem:o,readResourcePaths:[]}}export{o as createForItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/has.js\";import{createResolver as t}from\"../../../core/promiseUtils.js\";import s from\"../../../core/Evented.js\";const i=1/e(\"mapview-transitions-duration\");class a extends s{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit(\"attach\")):t.trashDisplayObject(this)}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=t(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=t(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this.onDetach(),this.emit(\"detach\")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,s=this.computedOpacity;if(s===t)this.computedVisible=this.visible;else{const a=e*i;this.computedOpacity=s>t?Math.max(t,s-a):Math.min(t,s+a),this.computedVisible=this.computedOpacity>0;const h=t===this.computedOpacity;this.inFadeTransition=!h,h||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit(\"isReady\"),this.requestRender())}}export{a as DisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as t,unwrap as r}from\"../../../../core/maybe.js\";import\"../../../../core/mathUtils.js\";import\"../../../../chunks/builtins.js\";import i from\"../../../webgl/BufferObject.js\";import s from\"../../../webgl/VertexArrayObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import{deserializeSymbols as n}from\"./decluttering/util.js\";class o{constructor(e){this.layerUIDs=[],this.isDestroyed=!1,this.data=e,this.memoryUsed=e.byteLength;let t=1;const r=new Uint32Array(e);this.layerUIDs=[];const i=r[t++];for(let e=0;e<i;e++)this.layerUIDs[e]=r[t++];this.bufferDataOffset=t}get isPreparedForRendering(){return e(this.data)}get offset(){return this.bufferDataOffset}destroy(){this.isDestroyed||(this.doDestroy(),this.isDestroyed=!0)}prepareForRendering(t,r){e(this.data)||(this.doPrepareForRendering(t,r,this.data,this.bufferDataOffset),this.data=null)}}class f extends o{constructor(e){super(e),this.type=2,this.lineIndexStart=0,this.lineIndexCount=0;let t=this.bufferDataOffset;const r=new Uint32Array(e);this.lineIndexStart=r[t++],this.lineIndexCount=r[t++],this.isLineDataDriven=!!r[t++],this.bufferDataOffset=t}hasData(){return this.lineIndexCount>0}triangleCount(){return this.lineIndexCount/3}doDestroy(){t(this.lineVertexArrayObject)&&this.lineVertexArrayObject.dispose(),t(this.lineVertexBuffer)&&this.lineVertexBuffer.dispose(),t(this.lineIndexBuffer)&&this.lineIndexBuffer.dispose(),this.lineVertexArrayObject=null,this.lineVertexBuffer=null,this.lineIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,r,n){const o=new Uint32Array(r),a=new Int32Array(o.buffer),l=o[n++];this.lineVertexBuffer=i.createVertex(e,35044,new Int32Array(a.buffer,4*n,l)),n+=l;const u=o[n++];this.lineIndexBuffer=i.createIndex(e,35044,new Uint32Array(o.buffer,4*n,u)),n+=u,this.lineVertexArrayObject=new s(e,t.getProgramAttributes(3),this.isLineDataDriven?f.lineVertexAttributesDD:f.lineVertexAttributes,{geometry:this.lineVertexBuffer},this.lineIndexBuffer)}}f.lineVertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:\"a_offsetAndNormal\",count:4,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:\"a_accumulatedDistance\",count:2,type:5123,offset:8,stride:12,normalized:!1,divisor:0}]},f.lineVertexAttributesDD={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:20,normalized:!1,divisor:0},{name:\"a_offsetAndNormal\",count:4,type:5120,offset:4,stride:20,normalized:!1,divisor:0},{name:\"a_accumulatedDistance\",count:2,type:5122,offset:8,stride:20,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:12,stride:20,normalized:!0,divisor:0},{name:\"a_width\",count:1,type:5126,offset:16,stride:20,normalized:!1,divisor:0}]};class a extends o{constructor(e){super(e),this.type=1,this.fillIndexStart=0,this.fillIndexCount=0,this.outlineIndexStart=0,this.outlineIndexCount=0;let t=this.bufferDataOffset;const r=new Uint32Array(e);this.fillIndexStart=r[t++],this.fillIndexCount=r[t++],this.outlineIndexStart=r[t++],this.outlineIndexCount=r[t++],this.isFillDataDriven=!!r[t++],this.isOutlineDataDriven=!!r[t++],this.bufferDataOffset=t}hasData(){return this.fillIndexCount>0||this.outlineIndexCount>0}triangleCount(){return(this.fillIndexCount+this.outlineIndexCount)/3}doDestroy(){t(this.fillVertexArrayObject)&&this.fillVertexArrayObject.dispose(),t(this.fillVertexBuffer)&&this.fillVertexBuffer.dispose(),t(this.fillIndexBuffer)&&this.fillIndexBuffer.dispose(),this.fillVertexArrayObject=null,this.fillVertexBuffer=null,this.fillIndexBuffer=null,t(this.outlineVertexArrayObject)&&this.outlineVertexArrayObject.dispose(),t(this.outlineVertexBuffer)&&this.outlineVertexBuffer.dispose(),t(this.outlineIndexBuffer)&&this.outlineIndexBuffer.dispose(),this.outlineVertexArrayObject=null,this.outlineVertexBuffer=null,this.outlineIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,r,n){const o=new Uint32Array(r),f=new Int32Array(o.buffer),l=o[n++];this.fillVertexBuffer=i.createVertex(e,35044,new Int32Array(f.buffer,4*n,l)),n+=l;const u=o[n++];this.fillIndexBuffer=i.createIndex(e,35044,new Uint32Array(o.buffer,4*n,u)),n+=u;const c=o[n++];this.outlineVertexBuffer=i.createVertex(e,35044,new Int32Array(f.buffer,4*n,c)),n+=c;const d=o[n++];this.outlineIndexBuffer=i.createIndex(e,35044,new Uint32Array(o.buffer,4*n,d)),n+=d,this.fillVertexArrayObject=new s(e,t.getProgramAttributes(1),this.isFillDataDriven?a.fillVertexAttributesDD:a.fillVertexAttributes,{geometry:this.fillVertexBuffer},this.fillIndexBuffer),this.outlineVertexArrayObject=new s(e,t.getProgramAttributes(2),this.isOutlineDataDriven?a.outlineVertexAttributesDD:a.outlineVertexAttributes,{geometry:this.outlineVertexBuffer},this.outlineIndexBuffer)}}a.fillVertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}]},a.fillVertexAttributesDD={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:4,stride:8,normalized:!0,divisor:0}]},a.outlineVertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:\"a_offset\",count:2,type:5120,offset:4,stride:8,normalized:!1,divisor:0},{name:\"a_xnormal\",count:2,type:5120,offset:6,stride:8,normalized:!1,divisor:0}]},a.outlineVertexAttributesDD={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:\"a_offset\",count:2,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:\"a_xnormal\",count:2,type:5120,offset:6,stride:12,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:8,stride:12,normalized:!0,divisor:0}]};class l extends o{constructor(e,t){super(e),this.type=3,this.iconPerPageElementsMap=new Map,this.glyphPerPageElementsMap=new Map,this.symbolInstances=[],this.isIconSDF=!1,this.opacityChanged=!1,this.lastOpacityUpdate=0,this.symbols=[];let r=this.bufferDataOffset;const i=new Uint32Array(e),s=new Int32Array(e),o=new Float32Array(e);this.isIconSDF=!!i[r++],this.isIconDataDriven=!!i[r++],this.isTextDataDriven=!!i[r++];const f=i[r++];for(let e=0;e<f;e++){const e=i[r++],t=i[r++],s=i[r++];this.iconPerPageElementsMap.set(e,[t,s])}const a=i[r++];for(let e=0;e<a;e++){const e=i[r++],t=i[r++],s=i[r++];this.glyphPerPageElementsMap.set(e,[t,s])}const l=i[r++],u=i[r++];this.iconOpacity=new Int32Array(l),this.textOpacity=new Int32Array(u),r=n(i,s,o,r,this.symbols,t),this.bufferDataOffset=r}hasData(){return this.iconPerPageElementsMap.size>0||this.glyphPerPageElementsMap.size>0}triangleCount(){let e=0;return this.iconPerPageElementsMap.forEach((t=>{e+=t[1]})),this.glyphPerPageElementsMap.forEach((t=>{e+=t[1]})),e/3}doDestroy(){t(this.iconVertexArrayObject)&&this.iconVertexArrayObject.dispose(),t(this.iconVertexBuffer)&&this.iconVertexBuffer.dispose(),t(this.iconOpacityBuffer)&&this.iconOpacityBuffer.dispose(),t(this.iconIndexBuffer)&&this.iconIndexBuffer.dispose(),this.iconVertexArrayObject=null,this.iconVertexBuffer=null,this.iconOpacityBuffer=null,this.iconIndexBuffer=null,t(this.textVertexArrayObject)&&this.textVertexArrayObject.dispose(),t(this.textVertexBuffer)&&this.textVertexBuffer.dispose(),t(this.textOpacityBuffer)&&this.textOpacityBuffer.dispose(),t(this.textIndexBuffer)&&this.textIndexBuffer.dispose(),this.textVertexArrayObject=null,this.textVertexBuffer=null,this.textOpacityBuffer=null,this.textIndexBuffer=null,this.memoryUsed=0}updateOpacityInfo(){if(!this.opacityChanged)return;this.opacityChanged=!1;const e=r(this.iconOpacity),t=r(this.iconOpacityBuffer);e.length>0&&e.byteLength===t.size&&t.setSubData(e);const i=r(this.textOpacity),s=r(this.textOpacityBuffer);i.length>0&&i.byteLength===s.size&&s.setSubData(i)}doPrepareForRendering(e,t,n,o){const f=new Uint32Array(n),a=new Int32Array(f.buffer),u=f[o++];this.iconVertexBuffer=i.createVertex(e,35044,new Int32Array(a.buffer,4*o,u)),o+=u;const c=f[o++];this.iconIndexBuffer=i.createIndex(e,35044,new Uint32Array(f.buffer,4*o,c)),o+=c;const d=f[o++];this.textVertexBuffer=i.createVertex(e,35044,new Int32Array(a.buffer,4*o,d)),o+=d;const h=f[o++];this.textIndexBuffer=i.createIndex(e,35044,new Uint32Array(f.buffer,4*o,h)),o+=h,this.iconOpacityBuffer=i.createVertex(e,35044,r(this.iconOpacity).buffer),this.textOpacityBuffer=i.createVertex(e,35044,r(this.textOpacity).buffer),this.iconVertexArrayObject=new s(e,t.getProgramAttributes(4),this.isIconDataDriven?l.vertexAttributesDD:l.vertexAttributes,{geometry:this.iconVertexBuffer,opacity:this.iconOpacityBuffer},this.iconIndexBuffer),this.textVertexArrayObject=new s(e,t.getProgramAttributes(6),this.isTextDataDriven?l.vertexAttributesDD:l.vertexAttributes,{geometry:this.textVertexBuffer,opacity:this.textOpacityBuffer},this.textIndexBuffer)}}l.vertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:\"a_vertexOffset\",count:2,type:5122,offset:4,stride:16,normalized:!1,divisor:0},{name:\"a_texAngleRange\",count:4,type:5121,offset:8,stride:16,normalized:!1,divisor:0},{name:\"a_levelInfo\",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}],opacity:[{name:\"a_opacityInfo\",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}]},l.vertexAttributesDD={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:24,normalized:!1,divisor:0},{name:\"a_vertexOffset\",count:2,type:5122,offset:4,stride:24,normalized:!1,divisor:0},{name:\"a_texAngleRange\",count:4,type:5121,offset:8,stride:24,normalized:!1,divisor:0},{name:\"a_levelInfo\",count:4,type:5121,offset:12,stride:24,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:16,stride:24,normalized:!0,divisor:0},{name:\"a_size\",count:1,type:5126,offset:20,stride:24,normalized:!1,divisor:0}],opacity:[{name:\"a_opacityInfo\",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}]};class u extends o{constructor(e){super(e),this.type=4,this.circleIndexStart=0,this.circleIndexCount=0;let t=this.bufferDataOffset;const r=new Uint32Array(e);this.circleIndexStart=r[t++],this.circleIndexCount=r[t++],this.bufferDataOffset=t}hasData(){return this.circleIndexCount>0}triangleCount(){return this.circleIndexCount/3}doDestroy(){t(this.circleVertexArrayObject)&&this.circleVertexArrayObject.dispose(),t(this.circleVertexBuffer)&&this.circleVertexBuffer.dispose(),t(this.circleIndexBuffer)&&this.circleIndexBuffer.dispose(),this.circleVertexArrayObject=null,this.circleVertexBuffer=null,this.circleIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,r,n){const o=new Uint32Array(r),f=new Int32Array(o.buffer),a=o[n++];this.circleVertexBuffer=i.createVertex(e,35044,new Int32Array(f.buffer,4*n,a)),n+=a;const l=o[n++];this.circleIndexBuffer=i.createIndex(e,35044,new Uint32Array(o.buffer,4*n,l)),n+=l,this.circleVertexArrayObject=new s(e,t.getProgramAttributes(5),u.circleVertexAttributes,{geometry:this.circleVertexBuffer},this.circleIndexBuffer)}}u.circleVertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:4,stride:16,normalized:!0,divisor:0},{name:\"a_stroke_color\",count:4,type:5121,offset:8,stride:16,normalized:!0,divisor:0},{name:\"a_data\",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}]};export{u as CircleRenderBucket,a as FillRenderBucket,f as LineRenderBucket,o as RenderBucketBase,l as SymbolRenderBucket};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{i as e,a as t,r as s,c as a}from\"../../../../chunks/mat3.js\";import{c as r}from\"../../../../chunks/mat3f32.js\";import{FADE_DURATION as i}from\"./decluttering/config.js\";import{CircleRenderBucket as o,SymbolRenderBucket as h,LineRenderBucket as n,FillRenderBucket as l}from\"./RenderBucket.js\";import{TiledDisplayObject as c}from\"../webgl/TiledDisplayObject.js\";class y extends c{constructor(e,t,s,a){super(e,s,a,[4096,4096]),this._referenced=0,this._hasSymbolBuckets=!1,this._memoryUsedByLayerData=0,this.layerData=new Map,this.layerCount=0,this.status=\"loading\",this.allSymbolsFadingOut=!1,this.lastOpacityUpdate=0,this.symbols=new Map,this.isCoverage=!1,this.neededForCoverage=!1,this.decluttered=!1,this.invalidating=!1,this.parentTile=null,this.childrenTiles=new Set,this._processed=!1,this._referenced=1,this.styleRepository=t,this.id=e.id,this.transforms.tileUnitsToPixels=r()}get hasSymbolBuckets(){return this._hasSymbolBuckets}get isFading(){return this._hasSymbolBuckets&&performance.now()-this.lastOpacityUpdate<i}get isHoldingForFade(){return this._hasSymbolBuckets&&(!this.allSymbolsFadingOut||performance.now()-this.lastOpacityUpdate<i)}get wasRequested(){return\"errored\"===this.status||\"loaded\"===this.status||\"reloading\"===this.status}setData(e){this.changeDataImpl(e),this.requestRender(),this.ready(),this.invalidating=!1,this._processed=!0}deleteLayerData(e){let t=!1;for(const s of e)if(this.layerData.has(s)){const e=this.layerData.get(s);this._memoryUsedByLayerData-=e.memoryUsed,3===e.type&&this.symbols.has(s)&&(this.symbols.delete(s),t=!0),e.destroy(),this.layerData.delete(s),this.layerCount--}t&&this.emit(\"symbols-changed\"),this.requestRender()}processed(){return this._processed}hasData(){return this.layerCount>0}dispose(){y._destroyRenderBuckets(this.layerData),this.layerData=null,this.layerCount=0,this._memoryUsedByLayerData=0,this.destroy()}release(){return 0==--this._referenced&&(this.dispose(),this.stage=null,!0)}reference(){++this._referenced}get referenced(){return this._referenced}getMemoryUsage(){return this._memoryUsedByLayerData/(this._referenced||1)}changeDataImpl(e){let t=!1;if(e){const s=this._createRenderBuckets(e);for(const[e,a]of s){if(this.layerData.has(e)){const t=this.layerData.get(e);this._memoryUsedByLayerData-=a.memoryUsed,t.destroy(),this.layerData.delete(e),this.layerCount--}3===a.type&&(this.symbols.set(e,a.symbols),t=!0),this._memoryUsedByLayerData+=a.memoryUsed,this.layerData.set(e,a),this.layerCount++}}this._hasSymbolBuckets=!1;for(const[e,t]of this.layerData)3===t.type&&(this._hasSymbolBuckets=!0);t&&this.emit(\"symbols-changed\")}attachWithContext(e){this.stage={context:e,trashDisplayObject(e){e.processDetach()},untrashDisplayObject:()=>!1}}setTransform(r,i){super.setTransform(r,i);const o=i/(r.resolution*r.pixelRatio),h=this.size[0]/this.coordRange[0]*o,n=this.size[1]/this.coordRange[1]*o,l=[0,0];r.toScreen(l,this.coords);const c=this.transforms.tileUnitsToPixels;e(c),t(c,c,l),s(c,c,Math.PI*r.rotation/180),a(c,c,[h,n,1])}static _destroyRenderBuckets(e){const t=new Set;e.forEach((e=>{t.has(e)||(e.destroy(),t.add(e))})),e.clear()}_createRenderBuckets(e){const t=new Map,s=new Map;for(const a of e){const e=this._deserializeBucket(a,s);for(const s of e.layerUIDs)t.set(s,e)}return t}_deserializeBucket(e,t){let s=t.get(e);if(s)return s;switch(new Uint32Array(e)[0]){case 1:s=new l(e);break;case 2:s=new n(e);break;case 3:s=new h(e,this);break;case 4:s=new o(e)}return t.set(e,s),s}}export{y as VectorTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst o=!0,t=32,c=1.5,e=200;export{t as COLLISION_GRID_CELL_SIZE,c as DECLUTTER_BUDGET,o as DECLUTTER_TILES,e as FADE_DURATION};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.xTile=0,this.yTile=0,this.hash=0,this.priority=1,this.colliders=[],this.textVertexRanges=[],this.iconVertexRanges=[],this.tile=t}}class s{constructor(){this.tileSymbols=[],this.parts=[{startTime:0,startOpacity:0,targetOpacity:0,show:!1},{startTime:0,startOpacity:0,targetOpacity:0,show:!1}],this.show=!1}}export{t as VTLSymbol,s as VTLUniqueSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{VTLSymbol as e}from\"./core.js\";class r{constructor(t){this.tile=t,this.parent=null,this.children=new Set}}class s{constructor(){this.nodes=new Map,this.roots=new Set}create(t){const e=new r(t);let s;const i=[];if(this.nodes.forEach((t=>{this._canConnectDirectly(e,t)&&i.push(t),!s&&this._canConnectDirectly(t,e)&&(s=t)})),s){for(const t of i)s.children.delete(t),e.children.add(t),t.parent=e;s.children.add(e),e.parent=s}else{this.roots.add(e);for(const t of i)e.children.add(t),t.parent=e,this.roots.delete(t)}return this.nodes.set(t.key.id,e),e}destroy(e){t(e.parent)?(e.parent.children.delete(e),e.children.forEach((r=>{t(e.parent)&&e.parent.children.add(r)}))):this.roots.delete(e),e.children.forEach((t=>{t.parent=e.parent,e.parent||this.roots.add(t)})),this.nodes.delete(e.tile.key.id)}clear(){this.roots.clear(),this.nodes.clear()}_canConnectDirectly(t,e){let{level:r,row:s,col:i}=e.tile.key;const{world:l}=e.tile.key;for(;r>0;){if(r--,s>>=1,i>>=1,t.tile.key.level===r&&t.tile.key.row===s&&t.tile.key.col===i&&t.tile.key.world===l)return!0;if(this.nodes.has(`${r}/${s}/${i}/${l}`))return!1}return!1}}class i{constructor(){this._tileGraph=new s,this._tileArray=null}has(t){return\"string\"==typeof t?this._tileGraph.nodes.has(t):this._tileGraph.nodes.has(t.key.id)}getAll(){return this._tileArray||(this._tileArray=[],this._tileGraph.nodes.forEach((t=>{this._tileArray.push(t.tile)}))),this._tileArray}getRoots(){const t=[];return this._tileGraph.roots.forEach((e=>{t.push(e.tile)})),t}getParent(e){const r=this._tileGraph.nodes.get(\"string\"==typeof e?e:e.key.id);return t(r.parent)&&r.parent.tile}getChildren(t){const e=[];return this._tileGraph.nodes.get(\"string\"==typeof t?t:t.key.id).children.forEach((t=>{e.push(t.tile)})),e}get(t){return this._tileGraph.nodes.get(t).tile}removeKey(t){const e=this._tileGraph.nodes.get(t);this._tileGraph.destroy(e),this._tileArray=null}forEach(t){this._tileGraph.nodes.forEach(((e,r)=>t(e.tile,r)))}add(t){this._tileGraph.create(t),this._tileArray=null}remove(t){const e=this._tileGraph.nodes.get(t.key.id);this._tileGraph.destroy(e),this._tileArray=null}clear(){this._tileGraph.clear(),this._tileArray=[]}}function l(t,e,r,s,i,l){const o=r-i;if(o>=0)return(e>>o)+(s-(l<<o))*(t>>o);const n=-o;return e-(l-(s<<n))*(t>>n)<<n}class o{constructor(t,e,r){this._rows=Math.ceil(e/r),this._columns=Math.ceil(t/r),this._cellSize=r,this.cells=new Array(this._rows);for(let t=0;t<this._rows;t++){this.cells[t]=new Array(this._columns);for(let e=0;e<this._columns;e++)this.cells[t][e]=[]}}getCell(t,e){const r=Math.min(Math.max(Math.floor(e/this._cellSize),0),this._rows-1),s=Math.min(Math.max(Math.floor(t/this._cellSize),0),this._columns-1);return this.cells[r]&&this.cells[r][s]||null}getCellSpan(t,e,r,s){return[Math.min(Math.max(Math.floor(t/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(e/this._cellSize),0),this.rows-1),Math.min(Math.max(Math.floor(r/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(s/this._cellSize),0),this.rows-1)]}get cellSize(){return this._cellSize}get columns(){return this._columns}get rows(){return this._rows}}function n(t,r,s,i,l,o){const n=r[i++];for(let h=0;h<n;h++){const n=new e(o);n.xTile=r[i++],n.yTile=r[i++],n.hash=r[i++],n.priority=r[i++];const h=r[i++];for(let t=0;t<h;t++){const t=r[i++],e=r[i++],l=r[i++],o=r[i++],h=!!r[i++],a=r[i++],c=s[i++],d=s[i++],p=r[i++],u=r[i++];n.colliders.push({xTile:t,yTile:e,dxPixels:l,dyPixels:o,hard:h,partIndex:a,width:p,height:u,minLod:c,maxLod:d})}const a=t[i++];for(let e=0;e<a;e++)n.textVertexRanges.push([t[i++],t[i++]]);const c=t[i++];for(let e=0;e<c;e++)n.iconVertexRanges.push([t[i++],t[i++]]);l.push(n)}return i}function h(t,e,r){for(const[s,i]of t.symbols)a(t,e,r,i,s)}function a(t,e,r,s,i){const l=t.layerData.get(i);if(3===l.type){for(const e of s){const s=e.unique;let i;if(e.selectedForRendering){const e=s.parts[0],l=e.startOpacity,o=e.targetOpacity;t.allSymbolsFadingOut=t.allSymbolsFadingOut&&0===o;const n=r?Math.floor(127*l)|o<<7:o?255:0;i=n<<24|n<<16|n<<8|n}else i=0;for(const[t,r]of e.iconVertexRanges)for(let e=t;e<t+r;e+=4)l.iconOpacity[e/4]=i;if(e.selectedForRendering){const e=s.parts[1],l=e.startOpacity,o=e.targetOpacity;t.allSymbolsFadingOut=t.allSymbolsFadingOut&&0===o;const n=r?Math.floor(127*l)|o<<7:o?255:0;i=n<<24|n<<16|n<<8|n}else i=0;for(const[t,r]of e.textVertexRanges)for(let e=t;e<t+r;e+=4)l.textOpacity[e/4]=i}l.lastOpacityUpdate=e,l.opacityChanged=!0}}export{o as GridIndex,i as TileForest,s as TileGraph,r as TileNode,n as deserializeSymbols,l as tileCoordChange,h as writeOpacityToBuffers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{s,m as t}from\"../../../../chunks/mat3.js\";import o from\"../../tiling/TileKey.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as e}from\"../DisplayObject.js\";class r extends e{constructor(s,t,e,r=e){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:i(),tileMat3:i()},this.triangleCount=0,this.key=new o(s),this.bounds=t,this.size=e,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(s){this._coords=[s[0],s[3]],this._bounds=s}setTransform(o,i){const e=i/(o.resolution*o.pixelRatio),r=this.transforms.tileMat3,[n,h]=o.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*e,d=this.size[1]/this.coordRange[1]*e;s(r,a,0,0,0,d,0,n,h,1),t(this.transforms.dvs,o.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=8,e=6,c=1e-30,h=64,i=4294967295,o=512,a=256,d=256/360,n=!1,p=128,r=8,s=29,f=1,g=16,l=16,m=4,v=8,w=50,x=10,b=24,j=8,k={metrics:{width:15,height:17,left:0,top:-7,advance:14}},q=1024,u=0,y=0,z=0,A=1,B=2,C=3,D=4,E=5,F=6,G=5,H=6,I=0,J=1,K=2,L=3,M=3,N=2,O=1,P=2,Q=4,R=2.5,S=6,T=5,U=6,V=1.15,W=2,X=2;export{d as ANGLE_FACTOR_256,J as ATTRIBUTE_DATA_ANIMATION,L as ATTRIBUTE_DATA_DD0,M as ATTRIBUTE_DATA_DD1,I as ATTRIBUTE_DATA_FILTER_FLAGS,K as ATTRIBUTE_DATA_VV,q as ATTRIBUTE_STORE_TEXTURE_SIZE,k as AVERAGE_GLYPH_MOSAIC_ITEM,l as COLLISION_BOX_PADDING,p as COLLISION_BUCKET_SIZE,g as COLLISION_EARLY_REJECT_BUCKET_SIZE,f as COLLISION_MAX_ZOOM_DELTA,v as COLLISION_PLACEMENT_PADDING,m as COLLISION_TILE_BOX_SIZE,n as DEBUG_LABELS,r as DOT_DENSITY_MAX_FIELDS,Q as EFFECT_FLAG_0,h as EXTRUDE_SCALE,P as FILTER_FLAG_0,b as GLYPH_SIZE,x as HEURISTIC_GLYPHS_PER_FEATURE,w as HEURISTIC_GLYPHS_PER_LINE,O as HIGHLIGHT_FLAG,S as HITTEST_SEARCH_SIZE,s as MAGIC_LABEL_LINE_HEIGHT,N as MAX_FILTERS,W as MAX_GPU_UPLOADS_PER_FRAME,c as NAN_MAGIC_NUMBER,i as PICTURE_FILL_COLOR,a as RASTER_TILE_SIZE,X as SPRITE_PADDING,A as TEXTURE_BINDING_ATTRIBUTE_DATA_0,B as TEXTURE_BINDING_ATTRIBUTE_DATA_1,C as TEXTURE_BINDING_ATTRIBUTE_DATA_2,D as TEXTURE_BINDING_ATTRIBUTE_DATA_3,z as TEXTURE_BINDING_BITMAP,y as TEXTURE_BINDING_GLYPH_ATLAS,E as TEXTURE_BINDING_HIGHLIGHT_0,F as TEXTURE_BINDING_HIGHLIGHT_1,G as TEXTURE_BINDING_RENDERER_0,H as TEXTURE_BINDING_RENDERER_1,u as TEXTURE_BINDING_SPRITE_ATLAS,j as TEXT_PLACEMENT_PADDING,R as THIN_LINE_THRESHOLD,o as TILE_SIZE,V as VTL_HIGH_RES_CUTOFF,U as VTL_TEXTURE_BINDING_UNIT_GLYPHS,T as VTL_TEXTURE_BINDING_UNIT_SPRITES,e as WEBGL_MAX_INNER_STOPS,t as WEBGL_MAX_STOPS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import\"../../chunks/builtins.js\";import e from\"./Texture.js\";import t from\"./FramebufferObject.js\";import\"./RenderingContext.js\";function n(t,n,a=\"nearest\",i=!1){var r;const o=!(i&&\"u8\"===n.pixelType),s=o?5126:5121,u=null==n.pixels||0===n.pixels.length?null:o?n.getAsRGBAFloat():n.getAsRGBA(),f=null==(r=t.capabilities.textureFloat)?void 0:r.textureFloatLinear,l={width:n.width,height:n.height,target:3553,pixelFormat:6408,internalFormat:6408,samplingMode:!f||\"bilinear\"!==a&&\"cubic\"!==a?9728:9729,dataType:s,wrapMode:33071,flipped:!1};return new e(t,l,u)}function a(n,a,i,r){const o=new e(n,{width:a,height:i,target:3553,pixelFormat:6408,internalFormat:6408,samplingMode:9728,dataType:r?5121:5126,wrapMode:33071,flipped:!1});return new t(n,{colorTarget:0,depthStencilTarget:3,width:a,height:i},o)}function i(t,n){const a=4*n.size[0],i=n.size[1],r={width:a,height:i,target:3553,pixelFormat:6408,internalFormat:6408,dataType:5126,samplingMode:9728,wrapMode:33071,flipped:!1},o=new Float32Array(a*i*4);let s=0;for(let e=0;e<n.coefficients.length;e++)o[s++]=n.coefficients[e],e%3==2&&(o[s++]=1);return new e(t,r,o)}function r(t,n){const a={width:n.length/4,height:1,target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,flipped:!1};return new e(t,a,n)}function o(e,t,n,a=1,i=!0,r=!1){return{u_flipY:i,u_isFloatTexture:r,u_applyTransform:!!e,u_opacity:a,u_transformSpacing:e?e.spacing:null,u_transformGridSize:e?e.size:null,u_targetImageSize:t,u_srcImageSize:n}}function s(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:null}}function u(e,t){return{u_scale:e,u_offset:t}}function f(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function l(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function m(e,t){const n=e.gl,a=t.glName,i=n.getProgramParameter(a,n.ACTIVE_UNIFORMS),r=new Map;let o;for(let e=0;e<i;e++)o=n.getActiveUniform(a,e),o&&r.set(o.name,{location:n.getUniformLocation(a,o.name),info:o});return r}function c(e,t,n){Object.keys(n).forEach((a=>{const i=t.get(a)||t.get(a+\"[0]\");i&&function(e,t,n,a){if(null===a||null==n)return!1;const{info:i}=a;switch(i.type){case 5126:i.size>1?e.setUniform1fv(t,n):e.setUniform1f(t,n);break;case 35664:e.setUniform2fv(t,n);break;case 35665:e.setUniform3fv(t,n);break;case 35666:e.setUniform4fv(t,n);break;case 35675:e.setUniformMatrix3fv(t,n);break;case 35676:e.setUniformMatrix4fv(t,n);break;case 5124:i.size>1?e.setUniform1iv(t,n):e.setUniform1i(t,n);break;case 35670:e.setUniform1i(t,n?1:0);break;case 35667:case 35671:e.setUniform2iv(t,n);break;case 35668:case 35672:e.setUniform3iv(t,n);break;case 35669:case 35673:e.setUniform4iv(t,n);break;default:return!1}}(e,a,n[a],i)}))}function p(e,t,n,a){n.length===a.length&&(a.some((e=>null==e))||n.some((e=>null==e))||n.forEach(((n,i)=>{t.setUniform1i(n,i),e.bindTexture(a[i],i)})))}export{r as createColormapTexture,a as createFrameBuffer,n as createRasterTexture,i as createTransformTexture,u as getBasicGridUniforms,s as getColormapUniforms,o as getCommonUniforms,l as getShadedReliefUniforms,f as getStretchUniforms,m as getUniformLocationInfos,p as setTextures,c as setUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import{isMars as t,isMoon as i}from\"../../../geometry/support/spatialReferenceUtils.js\";import s from\"../../../geometry/SpatialReference.js\";import r from\"../../../geometry/Extent.js\";import\"../../../geometry.js\";import{deg2rad as l,floatEqualAbsolute as o,floatEqualRelative as n}from\"../../../core/mathUtils.js\";import{getMetersPerUnitForSR as a}from\"../../../core/unitUtils.js\";import{create as h}from\"../../../geometry/support/aaBoundingRect.js\";import{webMercator as c,canProjectToWGS84ComparableLonLat as p}from\"../../../geometry/projection.js\";import u from\"../../../layers/support/TileInfo.js\";const m=c.x2lon,f=c.y2lat;class g{constructor(e){const s=g.checkUnsupported(e);if(s)throw s;this.spatialReference=e.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=p(this.spatialReference)||t(this.spatialReference)||i(this.spatialReference),this.origin=[e.origin.x,e.origin.y],this.pixelSize=e.size[0],this.dpi=e.dpi;const r=e.lods.reduce((function(e,t,i){return t.level<e.min&&(e.min=t.level,e.minIndex=i),e.max=Math.max(e.max,t.level),e}),{min:1/0,minIndex:0,max:-1/0}),l=e.lods[r.minIndex],o=Math.pow(2,l.level);let n=l.resolution*o,a=l.scale*o;this.levels=new Array(r.max+1);for(let t=0;t<this.levels.length;t++)this.levels[t]={resolution:n,scale:a,tileSize:[n*e.size[0],n*e.size[1]]},n/=2,a/=2}clone(){return new g(this.toTileInfo())}toTileInfo(){return new u({dpi:this.dpi,origin:{x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference},size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map(((e,t)=>({level:t,scale:e.scale,resolution:e.resolution})))})}getExtent(e,t,i,s){const r=this.levels[e],l=r.tileSize[0],o=r.tileSize[1];s[0]=this.origin[0]+i*l,s[2]=s[0]+l,s[3]=this.origin[1]-t*o,s[1]=s[3]-o}convertExtentToRadians(e,t){this._isWebMercator?(t[0]=m(e[0]),t[1]=f(e[1]),t[2]=m(e[2]),t[3]=f(e[3])):this._isGCS&&(t[0]=l(e[0]),t[1]=l(e[1]),t[2]=l(e[2]),t[3]=l(e[3]))}getExtentGeometry(e,t,i,s=new r){return this.getExtent(e,t,i,x),s.spatialReference=this.spatialReference,s.xmin=x[0],s.ymin=x[1],s.xmax=x[2],s.ymax=x[3],s.zmin=void 0,s.zmax=void 0,s}ensureMaxLod(e){if(null==e)return!1;let t=!1;for(;this.levels.length<=e;){const e=this.levels[this.levels.length-1],i=e.resolution/2;this.levels.push({resolution:i,scale:e.scale/2,tileSize:[i*this.pixelSize,i*this.pixelSize]}),t=!0}return t}capMaxLod(e){this.levels.length>e+1&&(this.levels.length=e+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(e){return this.levels[0].scale/Math.pow(2,e)}levelAtScale(e){const t=this.levels[0].scale;return e>=t?0:Math.log(t/e)*Math.LOG2E}resolutionAtLevel(e){return this.levels[0].resolution/Math.pow(2,e)}compatibleWith(e){if(!(e instanceof g)){if(g.checkUnsupported(e))return!1;e=new g(e)}if(!e.spatialReference.equals(this.spatialReference))return!1;if(e.pixelSize!==this.pixelSize)return!1;const t=Math.min(this.levels.length,e.levels.length)-1,i=this.levels[t].resolution;let s=.5*i;if(!o(e.origin[0],this.origin[0],s)||!o(e.origin[1],this.origin[1],s))return!1;return s=.5*i/Math.pow(2,t)/this.pixelSize*12,o(i,e.levels[t].resolution,s)}rootTilesInExtent(e,t,i){const s=this.levels[0].tileSize;if(0===s[0]||0===s[1])return[];g.computeRowColExtent(e,s,this.origin,x);let r=x[1],l=x[3],o=x[0],n=x[2];const a=n-o,h=l-r;if(a*h>i){const e=Math.floor(Math.sqrt(i));h>e&&(r=r+Math.floor(.5*h)-Math.floor(.5*e),l=r+e),a>e&&(o=o+Math.floor(.5*a)-Math.floor(.5*e),n=o+e)}const c=[];for(let e=r;e<l;e++)for(let t=o;t<n;t++)c.push([0,e,t]);return t&&(t[0]=this.origin[0]+o*s[0],t[1]=this.origin[1]-l*s[1],t[2]=this.origin[0]+n*s[0],t[3]=this.origin[1]-r*s[1]),c}static computeRowColExtent(e,t,i,s){const r=.001*(e[2]-e[0]+(e[3]-e[1]));s[0]=Math.max(0,Math.floor((e[0]+r-i[0])/t[0])),s[2]=Math.max(0,Math.ceil((e[2]-r-i[0])/t[0])),s[1]=Math.max(0,Math.floor((i[1]-e[3]+r)/t[1])),s[3]=Math.max(0,Math.ceil((i[1]-e[1]-r)/t[1]))}static isPowerOfTwo(e){const t=e.lods,i=t[0].resolution*Math.pow(2,t[0].level);return!t.some((function(e){return!n(e.resolution,i/Math.pow(2,e.level))}))}static hasGapInLevels(e){const t=e.lods.map((function(e){return e.level}));t.sort((function(e,t){return e-t}));for(let e=1;e<t.length;e++)if(t[e]!==t[0]+e)return!0;return!1}static tileSizeSupported(e){const t=e.size[1];return t===e.size[0]&&0==(t&t-1)&&t>=128&&t<=512}static checkUnsupported(t){return t?t.lods.length<1?new e(\"tilingscheme:generic\",\"Tiling scheme must have at least one level\"):g.isPowerOfTwo(t)?g.hasGapInLevels(t)?new e(\"tilingscheme:gaps\",\"Tiling scheme levels must not have gaps between min and max level\"):g.tileSizeSupported(t)?null:new e(\"tilingscheme:tile-size\",\"Tiles must be square and size must be one of [128, 256, 512]\"):new e(\"tilingscheme:power-of-two\",\"Tiling scheme must be power of two\"):new e(\"tilingscheme:tile-info-missing\",\"Tiling scheme must have tiling information\")}static fromExtent(e,t){const i=e[2]-e[0],s=e[3]-e[1],r=a(t),l=1.2*Math.max(i,s),o=256,n=new g(new u({size:[o,o],origin:{x:e[0]-.5*(l-i),y:e[3]+.5*(l-s)},lods:[{level:0,resolution:l/o,scale:1/(o/96*.0254/(l*r))}],spatialReference:t}));return n.ensureMaxLod(20),n}static makeWebMercatorAuxiliarySphere(e){const t=new g(g.WebMercatorAuxiliarySphereTileInfo);return t.ensureMaxLod(e),t}static makeGCSWithTileSize(e,t=256,i=16){const s=256/t,r=new g(new u({size:[t,t],origin:{x:-180,y:90,spatialReference:e},spatialReference:e,lods:[{level:0,resolution:.703125*s,scale:295497598.570834*s}]}));return r.ensureMaxLod(i),r}get test(){return{isWebMercator:this._isWebMercator,isGCS:this._isGCS}}}g.WebMercatorAuxiliarySphereTileInfo=new u({size:[256,256],origin:{x:-20037508.342787,y:20037508.342787,spatialReference:s.WebMercator},spatialReference:s.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:591657527.591555}]}),g.WebMercatorAuxiliarySphere=g.makeWebMercatorAuxiliarySphere(19);const x=h();export default g;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{assert as t}from\"../webgl-engine/lib/Util.js\";class s{constructor(t){this.client=t,this._cancelled=!1,this.size=0,this.duration=0}}class e{constructor(t){this.typeWorkerQuota=t,this.tasks=new Array,this.numWorkers=0,this.statistics=new i}}class i{constructor(){this.requests=0,this.size=0,this.duration=0,this.speed=0}}class r{constructor(t,s,i,r){this._workerFunc=t,this._callbackFunc=s,this._maxTotalNumWorkers=i,this._totalNumWorkers=0,this._clients=r.map((t=>new e(t)))}hasQuota(t){const s=this._clients[t];return!!s&&s.typeWorkerQuota>s.numWorkers+s.tasks.length}push(t){const s=this._clients[t.client];s&&(this._totalNumWorkers<this._maxTotalNumWorkers?(s.numWorkers++,this._totalNumWorkers++,this._workerFunc(t,((t,s)=>this._taskCallback(t,s)))):s.tasks.push(t))}getStatsForType(t){const s=this._clients[t];return s?{quota:s.typeWorkerQuota,workers:s.numWorkers,queueSize:s.tasks.length,requestStats:s.statistics}:null}cancel(t){this._taskFinished(t),t._cancelled=!0}destroy(){this._clients.length=0}_taskFinished(s){const e=this._clients[s.client];this._totalNumWorkers--,e.numWorkers--,e.statistics.requests++,e.statistics.size+=s.size||0,e.statistics.duration+=s.duration||0,e.statistics.speed=e.statistics.duration>0?e.statistics.size/e.statistics.duration:0,t(e.numWorkers>=0),this._next()}_next(){for(const t of this._clients)if(t&&t.numWorkers<t.typeWorkerQuota&&this._processQueue(t))return;for(const t of this._clients)if(t&&this._processQueue(t))return}_processQueue(t){for(;t.tasks.length>0;)if(this._workerFunc(t.tasks.shift(),((t,s)=>this._taskCallback(t,s))))return t.numWorkers++,this._totalNumWorkers++,!0;return!1}_taskCallback(t,s){t._cancelled||(this._callbackFunc(t,s),this._taskFinished(t))}get test(){const t=this;return{set workerFunc(s){t._workerFunc=s}}}}export{r as AsyncWorkerQueue,s as BaseTask};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as s}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{removeUnordered as n}from\"../../../core/arrayUtils.js\";import{createResolver as i,onAbort as u,createAbortError as l,throwIfAborted as d,isAbortError as c,createAbortController as h}from\"../../../core/promiseUtils.js\";import p from\"../../../core/Accessor.js\";import m from\"../../../request.js\";import{Task as g}from\"../../support/Scheduler.js\";import{assert as k}from\"../webgl-engine/lib/Util.js\";import{AsyncWorkerQueue as f}from\"./AsyncWorkerQueue.js\";import b from\"./StreamDataLoaderTask.js\";let y=class extends p{constructor(){super(...arguments),this.tasks=new Map,this.onLoadQueue=new Array,this.doneQueue=new Array,this.updating=!1}setup(e,t,s){this.loadQueue=new f(((e,t)=>this.startLoading(e,t)),((e,t)=>this.doneLoadingCallback(e,t)),e,t),s&&(this.taskHandle=s.registerTask(g.STREAM_DATA_LOADER,(e=>this.update(e)),(()=>this.doneQueue.length>0||this.onLoadQueue.length>0)))}destroy(){this.taskHandle&&(this.taskHandle.remove(),this.taskHandle=null),this.tasks.forEach((e=>{e.abortController&&e.abortController.abort()})),this.loadQueue.destroy(),this.loadQueue=null,this.onLoadQueue=null,this.doneQueue=null,this.tasks=null}hasDownloadSlots(e){return this.loadQueue.hasQuota(e)}request(e,t,r,o={}){const a=i();a.__signal=s(o)?o.signal:null;const n=this.createOrUpdateTask(e,t,r,o,a);return u(o,(()=>this.cancelRequest(n,a))),a.promise}createTask(e,t,s,r,o,a){const n=new b(e,t,s,r,o);return this.updateTask(n,a),this.tasks.set(o,n),1===this.tasks.size&&this._set(\"updating\",!0),this.loadQueue.push(n),n}cancelRequest(e,t){n(e.resolvers,t),t.reject(l()),0===e.resolvers.length&&(2===e.status&&(e.status=4,this.loadQueue.cancel(e),e.abortController.abort(),e.request=null,e.abortController=null),e.status=4,this.tasks.delete(e.key),0===this.tasks.size&&this._set(\"updating\",!1))}taskKey(e,t,s){return`${e}:${t}:${s}`}updateTask(e,t){e.resolvers.push(t)}createOrUpdateTask(e,t,r,o,a){const n=s(o)&&o.uid||e,i=this.taskKey(n,t,r),u=this.tasks.get(i);return u?(this.updateTask(u,a),u):this.createTask(e,o,t,r,i,a)}doneLoadingCallback(e,t){this.loadQueue&&(k(2===e.status),e.status=3,this.taskHandle?this.doneQueue.push({task:e,err:t}):this.doneLoading(e,t))}update(e){for(;!e.done&&this.onLoadQueue.length>0;){const t=this.onLoadQueue.shift();d(t.task.abortController),t.task.abortController=null,t.callback(t.task),e.madeProgress()}for(;!e.done&&this.doneQueue.length>0;){const t=this.doneQueue.shift();3!==t.task.status&&(t.err=t.err||l()),this.doneLoading(t.task,t.err),e.madeProgress()}}doneLoading(e,s){let r=e.result instanceof HTMLImageElement?0:e.resolvers.length;for(const o of e.resolvers)if(s)c(s)?o.reject(s):o.reject(new a(\"stream-data-loader:request-error\",`Failed to request resource at '${e.url}'. ${s}`,{url:e.url,error:s}));else{--r;const s=r<=0?e.result:t(e.result);o.resolve(s)}this.tasks.delete(e.key),0===this.tasks.size&&this._set(\"updating\",!1)}startLoading(e,t){if(4===e.status)return!1;let s,r;switch(e.startTime=performance.now(),e.status=2,e.docType){case\"binary\":r=\"array-buffer\",s=0;break;case\"image\":r=\"image\";break;case\"image+type\":r=\"array-buffer\";break;default:r=\"json\"}e.abortController=h();const o=e.abortController.signal;e.request=m(e.url,{...e.options,responseType:r,timeout:s,signal:o});let a=()=>{};const n=s=>{e.duration=performance.now()-e.startTime,e.size=s instanceof ArrayBuffer?s.byteLength:e.size||0,e.result=s,this.taskHandle?this.onLoadQueue.push({callback:t,task:e}):(e.abortController=null,t(e))},i=s=>{2===e.status&&t(e,s),a()};return\"image+type\"!==e.docType?(e.request.then((e=>n(e.data)),i),!0):(e.request.then((t=>{const u=t.data,l=function(e){if(e.byteLength<2)return\"unknown\";const t=new Uint8Array(e,0,e.byteLength);if(137===t[0]&&80===t[1])return\"image/png\";if(71===t[0]&&73===t[1])return\"image/gif\";if(66===t[0]&&77===t[1])return\"image/bmp\";if(255===t[0]&&216===t[1])return\"image/jpeg\";return\"unknown\"}(u);if(r=\"image\",e.size=u.byteLength,\"unknown\"===l)return e.request=m(e.url,{responseType:r,timeout:s,signal:o}),void e.request.then((e=>n(e.data)),i);const d=new Blob([u],{type:l}),c=window.URL.createObjectURL(d);a=()=>window.URL.revokeObjectURL(c),e.request=m(c,{responseType:r,timeout:s,signal:o}),e.request.then((e=>n(new j(e.data,l,a))),i)}),i),!0)}get test(){return{loadQueue:this.loadQueue}}};e([r({readOnly:!0})],y.prototype,\"updating\",void 0),y=e([o(\"esri.views.3d.support.StreamDataLoader\")],y);class j{constructor(e,t,s){this.image=e,this.type=t,this.release=s}get isOpaque(){return\"image/jpeg\"===this.type}}var L=y;export default L;export{j as ImageWithType,y as StreamDataLoader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{BaseTask as s}from\"./AsyncWorkerQueue.js\";export default class extends s{constructor(s,t,r,e,i){super(e),this.url=s,this.options=t,this.docType=r,this.key=i,this.result=null,this.status=1,this.request=null,this.abortController=null,this.resolvers=new Array,this.startTime=0}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clampFloat32 as A,NUMBER_MAX_FLOAT32 as g}from\"../../../core/mathUtils.js\";import{create as B}from\"../../../geometry/support/aaBoundingRect.js\";import Q from\"./TilingScheme.js\";const o=!1,t=64,I=512,e=2.5,C=A(g/10),n=2,r=4,E=B();Q.WebMercatorAuxiliarySphere.getExtent(0,0,0,E);const s=B([-180,-90,180,90]),T=\"Cannot extend surface to encompass all layers because it would result in too many root tiles.\",a=\"Surface extent is too large for tile resolution at level 0.\",u=\"data:image/png;base64,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\",H=5;export{u as DEFAULT_TILE_BACKGROUND,r as ELEVATION_DESIRED_RESOLUTION_LEVEL,C as ELEVATION_NODATA_VALUE,s as GEOGRAPHIC_WORLD_EXTENT,H as GEOMETRY_VERTEX_STRIDE,n as LOADING_LEVEL_MODULO,e as MAX_MEMORY_LOD_BIAS,I as MAX_PATCH_TESSELATION,t as MAX_ROOT_TILES,o as TILE_LOADING_DEBUGLOG,T as TOO_MANY_ROOT_TILES_AFTER_CHANGE_ERROR,a as TOO_MANY_ROOT_TILES_FOR_LAYER_ERROR,E as WEBMERCATOR_WORLD_EXTENT};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{c as t}from\"./vec3f64.js\";import{g as o,f as n,d as s,b as r,a as i}from\"./vec3.js\";import{containsPoint as a,containsPointWithMargin as l,fromExtent as c,create as h}from\"../geometry/support/aaBoundingRect.js\";import m from\"../views/3d/terrain/TilingScheme.js\";import{MAX_ROOT_TILES as u}from\"../views/3d/terrain/TerrainConst.js\";const f=t(),p=t(),g=t(),d=t();function M(e,t,o=0){const n=e.extent;if(0===o)return a(n,t);const s=Math.min(n[2]-n[0],n[3]-n[1]);return l(n,t,o*s)}function w(e,t,a,l){o(f,a),f[l]=t[l];const c=n(f,f,t),h=n(p,e,t),m=s(h,c),u=s(c,c);let g;g=m<=0?t:u<=m?a:r(f,t,i(c,c,m/u));const d=n(f,e,g);return Math.PI/2-Math.atan(d[2]/Math.sqrt(d[0]*d[0]+d[1]*d[1]))}function v(e,t){const o=e.elevationBounds,n=e.extent,s=.5*(o.min+o.max);g[0]=n[0],g[1]=n[1],g[2]=s,d[0]=n[2],d[1]=n[3],d[2]=s;let r=1/0,i=1/0;return t[0]<g[0]?r=w(t,g,d,0):t[0]>d[0]&&(r=w(t,d,g,0)),t[1]<g[1]?i=w(t,g,d,1):t[1]>d[1]&&(i=w(t,d,g,1)),Math.min(r,i)}function x(t,o,n){if(t.spatialReference.isGeographic)return new e(\"tilingscheme:local-gcs-not-supported\",\"Geographic coordinate systems are not supported in local scenes\");const s=m.checkUnsupported(t);if(s)return s;const r=function(t,o){const n=t.lods,s=n[0].resolution*Math.pow(2,n[0].level),r=[s*t.size[0],s*t.size[1]],i=[t.origin.x,t.origin.y],a=c(o),l=h();m.computeRowColExtent(a,r,i,l);const f=(l[2]-l[0])*(l[3]-l[1]);if(f>u){const o=n[0].scale*Math.pow(2,n[0].level);let r=Math.max((a[3]-a[1])/t.size[1],(a[2]-a[0])/t.size[0])*o/s;const i=Math.floor(Math.log(r)/Math.log(10));return r=Math.ceil(r/Math.pow(10,i))*Math.pow(10,i),new e(\"tilingscheme:too-many-root-tiles\",\"Scale of level 0 of the tiling scheme (1:\"+Math.floor(o).toLocaleString()+\") is too large for the layer's extent. Suggested scale: 1:\"+r.toLocaleString()+\".\",{level0Scale:o,suggestedLevel0Scale:r,requiredNumRootTiles:f,allowedNumRootTiles:u})}return null}(t,n);return r||(o&&!t.spatialReference.equals(o)?new e(\"tilingscheme:spatial-reference-mismatch\",\"The tiling scheme does not match the spatial reference of the local scene\"):null)}var S=Object.freeze({__proto__:null,isInsideExtent:M,tiltOnEdge:w,tiltToExtentEdge:v,checkIfTileInfoSupportedForViewSR:x});export{w as a,v as b,x as c,M as i,S as t};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../layers/ElevationLayer.js\";import n from\"../../../layers/TileLayer.js\";import r from\"../../../layers/VectorTileLayer.js\";import{ImageWithType as i}from\"../support/StreamDataLoader.js\";import{VectorTile as a}from\"../../2d/engine/vectorTiles/VectorTile.js\";import l from\"./RasterTile.js\";import{t as o}from\"../../../chunks/terrainUtilsPlanar.js\";import{t as s}from\"../../../chunks/terrainUtilsSpherical.js\";import f from\"./TileTexture.js\";const c={planar:o,spherical:s};function u(e,t){e||console.warn(\"Terrain: \"+t)}const m=80/180*Math.PI,y=110/180*Math.PI;function p(e,t,n){const r=c[e.manifold];let i;if(r.isInsideExtent(e,t))i=e.getElevation(t[0],t[1],t[1],e.spatialReference);else{if(!r.isInsideExtent(e,t,1.2))return 0;const n=r.tiltToExtentEdge(e,t);if(n>m&&n<y)return 0;const a=e.elevationBounds;i=.5*(a.min+a.max)}const a=t[2]-i;return Math.abs(a)<n?0:a<0?-1:1}function d(e){return L(e)?{fullExtent:e.fullExtent,minScale:e.layer.minScale,maxScale:e.layer.maxScale,tilemapCache:null}:e.layer}function I(e){return e&&e instanceof r}function T(e){return\"imagery-tile\"===e.type||\"wcs\"===e.type}function L(e){return e&&\"esri.views.3d.layers.ImageryTileLayerView3D\"===e.declaredClass}function E(e){return e&&\"esri.views.3d.layers.TileLayerView3D\"===e.declaredClass}function x(e){return e&&\"esri.views.3d.layers.VectorTileLayerView3D\"===e.declaredClass}function h(e){return e&&\"esri.views.3d.layers.WMTSLayerView3D\"===e.declaredClass}function v(e){return e&&\"esri.views.3d.layers.ElevationLayerView3D\"===e.declaredClass}function w(e){return e&&(E(e)||L(e)||v(e)||x(e)||h(e))}function g(e){return e&&e.sourceLayerInfo&&e.sourceLayerInfo.data instanceof l}function S(e){return e&&e.sourceLayerInfo&&e.sourceLayerInfo.data instanceof a}function V(e){return e&&e.sourceLayerInfo&&e.sourceLayerInfo.data instanceof f}function j(e){const t=e&&e.sourceLayerInfo&&e.sourceLayerInfo.data;return t instanceof HTMLImageElement||t instanceof i||t instanceof HTMLCanvasElement||t instanceof ImageData}function C(t){return e(t)&&!(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData)&&t.release(),null}function M(e){return e.fetchTile&&!(e.fetchTile===n.prototype.fetchTile||e.fetchTile===t.prototype.fetchTile)}function D(e,t,n,r){let i;return i=2===r||\"planar\"===r?\"planar\":\"spherical\",c[i].checkIfTileInfoSupportedForViewSR(e,n,t)}function b(e,t,n){let r,i;if(\"wmts\"===e.type){const a=e.activeLayer;if(a){const e=a.tileMatrixSet;if(e)r=e.tileInfo,i=e.fullExtent;else{const e=a.tileMatrixSets;if(e){const r=e.find((e=>null==D(e.tileInfo,e.fullExtent,t,n)));if(r)return{tileInfo:r.tileInfo,fullExtent:r.fullExtent}}}}}else i=T(e)?e.getCompatibleFullExtent(t):e.fullExtent,r=\"vector-tile\"!==e.type||H.force512VTL?T(e)?e.getCompatibleTileInfo(t,i):e.tileInfo:e.compatibleTileInfo256;return r&&i&&null==D(r,i,t,n)?{tileInfo:r,fullExtent:i}:{tileInfo:null,fullExtent:null}}const H={force512VTL:!1};export{D as checkIfTileInfoSupportedForView,p as computeSkirtScale,d as getLayerWithExtentRange,b as getTiledLayerInfo,v as isElevationLayerView,L as isImageryTileLayerView,g as isImageryTileRenderInfo,T as isProjectableRasterLayer,j as isRasterTileRenderInfo,w as isSurfaceLayerView,V as isTextureTileRenderInfo,E as isTileLayerView,I as isVectorTileLayer,x as isVectorTileLayerView,S as isVectorTileRenderInfo,h as isWMTSLayerView,C as releaseTileData,H as test,M as useFetchTileForLayer,u as weakAssert};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{isMars as i,isMoon as t}from\"../geometry/support/spatialReferenceUtils.js\";import{canProjectToWGS84ComparableLonLat as n}from\"../geometry/projection.js\";import r from\"../views/3d/terrain/TilingScheme.js\";function l(){return!0}function o(){return 0}function s(l,o){const s=l.lods.length-1,c=l.spatialReference,a=n(c)||i(c)||t(c);if(c.isWebMercator){if(!r.makeWebMercatorAuxiliarySphere(s).compatibleWith(l))return new e(\"tilingscheme:incompatible-global-web-mercator\",\"The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme\")}else{if(!a)return new e(\"tilingscheme:global-unsupported-spatial-reference\",\"The tiling scheme spatial reference is not supported in global scenes\");if(!r.makeGCSWithTileSize(l.spatialReference,l.size[0],s).compatibleWith(l))return l.spatialReference.isWGS84?new e(\"tilingscheme:incompatible-global-wgs84\",\"The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme\"):new e(\"tilingscheme:incompatible-global\",\"The tiling scheme is not compatible with the ArcGIS Online tiling scheme\")}if(o&&!l.spatialReference.equals(o))return new e(\"tilingscheme:spatial-reference-mismatch\",\"The tiling scheme does not match the spatial reference of the global scene\")}var c=Object.freeze({__proto__:null,isInsideExtent:l,tiltToExtentEdge:o,checkIfTileInfoSupportedForViewSR:s});export{o as a,s as c,l as i,c as t};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{typeCast as e}from\"../../../core/compilerUtils.js\";import a from\"../../../core/Error.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{isSpatialReferenceSupported as i}from\"../../../views/support/spatialReferenceSupport.js\";import{isTiledLayer as r}from\"../../../layers/support/layerUtils.js\";import n from\"../../../views/3d/terrain/TilingScheme.js\";import{checkIfTileInfoSupportedForView as o}from\"../../../views/3d/terrain/terrainUtils.js\";async function s(r,s={}){await async function(t,r){const{basemap:s,view:l}=t;if(await s.load(r),0===s.baseLayers.length)return;const p=function(e){const t=[\"ArcGISTiledImageServiceLayer\",\"ArcGISTiledMapServiceLayer\",\"OpenStreetMap\",\"VectorTileLayer\",\"WebTiledLayer\"];return e.toArray().filter((e=>-1===t.indexOf(e.operationalLayerType))).map((e=>new a(\"basemap-compatibility:unsupported-basemap-layer-type\",\"Unsupported basemap layer type ${operationalLayerType}\",{layer:e,operationalLayerType:e.operationalLayerType||\"unknown\"})))}(s.baseLayers.concat(s.referenceLayers));if(p.length)throw p[0];const c=e(s.baseLayers.getItemAt(0))();try{await c.load(r)}catch(e){const t=\"basemap-compatibility:unknown-error\",i=\"Unknown basemap compatibility error\",{name:r=t,message:n=i,details:o}=e;throw new a(r,n,o)}!function(e,t){const r=e.tileInfo;if(!r)return;const s=t.viewingMode;if(!s)return;if(!i(r.spatialReference,s))throw new a(`basemapgalleryitem:spatial-reference-unsupported-${s}`,`Basemap spatial reference is unsupported in ${s} mode`);if(\"global\"===s){let t=o(r,e.fullExtent,null,1);if(t&&e.compatibleTileInfo256&&!o(e.compatibleTileInfo256,e.fullExtent,null,1)&&(t=null),t){const e=r.spatialReference.isWebMercator?\"web-mercator\":\"wgs84\";throw new a(`basemapgalleryitem:tiling-scheme-unsupported-${e}-global`,\"Basemap tiling scheme is unsupported in global mode\",{error:t})}}else if(n.checkUnsupported(r))throw new a(\"basemapgalleryitem:tiling-scheme-unsupported-local\",\"Basemap tiling scheme is unsupported in local mode\");const l=t.get(\"basemapTerrain.tilingScheme\");if(l&&!l.compatibleWith(r)&&(!e.compatibleTileInfo256||!l.compatibleWith(e.compatibleTileInfo256)))throw new a(\"basemapgalleryitem:tiling-scheme-incompatible\",\"Basemap tiling scheme is incompatible with the view\")}(c,l)}(r,s),t(s)}async function l(e,a={}){const{basemap:i,view:n}=e;if(await i.load(a),t(a),0===i.baseLayers.length)return;const o=i.baseLayers.getItemAt(0);if(!r(o))return;if(i.spatialReference){if(n.spatialReference.equals(i.spatialReference))return;p()}await o.load(a),t(a);const s=(o.get(\"supportedSpatialReferences\")||[o.get(\"tileInfo.spatialReference\")]).filter(Boolean);0!==s.length&&s.every((e=>!n.spatialReference.equals(e)))&&p()}function p(){throw new a(\"basemap-compatibility:incompatible-spatial-reference\",\"Basemap spatial reference is not compatible with the view\")}export{l as default2DCompatibility,s as default3DCompatibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction i(i,r){return null!=i&&(\"2d\"===r||(\"local\"===r?!i.isGeographic:i.isWebMercator||i.isWGS84||4490===i.wkid||104971===i.wkid||104905===i.wkid||104903===i.wkid))}export{i as isSpatialReferenceSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e){return e&&\"base-tile\"===e.type||\"tile\"===e.type||\"elevation\"===e.type||\"imagery-tile\"===e.type||\"base-elevation\"===e.type||\"open-street-map\"===e.type||\"wcs\"===e.type||\"web-tile\"===e.type||\"wmts\"===e.type||\"vector-tile\"===e.type}function t(e){return e.parent&&\"esri.Basemap\"===e.parent.declaredClass&&e.parent.baseLayers.indexOf(e)>-1}function n(e){const t=/[:;]/,n=[];let r=!1;if(e&&(e.forEach((function(e,i){n.push([i,e]),!r&&t.test(e)&&(r=!0)})),n.length>0)){let e;if(r){const t={};n.forEach((e=>{t[e[0]]=e[1]})),e=JSON.stringify(t)}else{const t=[];n.forEach((e=>{t.push(e[0]+\":\"+e[1])})),e=t.join(\";\")}return e}return null}function r(e){if(!e)return;const t=[];return e.forEach((function(e,n){t.push('\"'+n+'\":'+JSON.stringify(e))})),t.length?\"{\"+t.join(\",\")+\"}\":void 0}function i(e,t){const n=[];if(e>0&&t)for(let r=0;r<t.length;r++)if(!(t[r].parentLayerId>=0&&-1===n.indexOf(t[r].parentLayerId)&&t.some((function(e){return e.id===t[r].parentLayerId})))&&t[r].id>=0){let i=!0;const a=t[r].maxScale,l=t[r].minScale;(a>0||l>0)&&(a>0&&l>0?i=a<=e&&e<=l:a>0?i=a<=e:l>0&&(i=e<=l)),i&&n.push(t[r].id)}return n}function a(e){return!0===e.labelsVisible&&null!=e.labelingInfo&&e.labelingInfo.length>0}export{a as areLabelsVisible,i as getLayersForScale,t as isBaseLayer,e as isTiledLayer,n as serializeLayerDefinitions,r as serializeTimeOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import r from\"../../../core/Accessor.js\";import o from\"../../../core/Handles.js\";import{init as a}from\"../../../core/watchUtils.js\";let l=class extends r{constructor(t){super(t),this._handles=new o,this.compatibilityFunction=null,this.error=null,this.state=\"loading\",this.view=null}initialize(){this._handles.add(a(this,[\"basemap.loadStatus\",\"compatibilityFunction\",\"view.basemapTerrain?.tilingScheme\",\"view.ready\",\"view.spatialReference\"],(()=>this.refresh())))}destroy(){this._cancelCompatibilityCheck(),this._handles.destroy(),this._handles=null,this.basemap=null,this.compatibilityFunction=null,this.view=null}set basemap(t){const e=this._get(\"basemap\");e&&e.cancelLoad(),t&&t.load().catch((()=>{})),this._set(\"basemap\",t)}refresh(){this._cancelCompatibilityCheck(),this._set(\"state\",\"loading\");const t=this.get(\"basemap.loadStatus\");if(\"loaded\"!==t&&\"failed\"!==t)return;if(!this.compatibilityFunction)return void(\"loaded\"===t?(this._set(\"state\",\"ready\"),this._set(\"error\",null)):(this._set(\"state\",\"error\"),this._set(\"error\",this.basemap.loadError)));const e=new AbortController,{signal:s}=e;this.compatibilityFunction(this,{signal:s}).then((()=>{this._set(\"state\",\"ready\"),this._set(\"error\",null)})).catch((t=>{i(t)||(this._set(\"state\",\"error\"),this._set(\"error\",t))})),this._lastCompatibilityCheckController=e}_cancelCompatibilityCheck(){this._lastCompatibilityCheckController&&(this._lastCompatibilityCheckController.abort(),this._lastCompatibilityCheckController=null)}};t([e()],l.prototype,\"basemap\",null),t([e()],l.prototype,\"compatibilityFunction\",void 0),t([e({readOnly:!0})],l.prototype,\"error\",void 0),t([e({readOnly:!0})],l.prototype,\"state\",void 0),t([e()],l.prototype,\"view\",void 0),l=t([s(\"esri.widgets.BasemapGallery.support.BasemapGalleryItem\")],l);var p=l;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import p from\"../../../Basemap.js\";const c=t.ofType(p);let a=class extends e{constructor(r){super(r),this.basemaps=new c}get state(){return\"ready\"}refresh(){}};r([o({type:c})],a.prototype,\"basemaps\",void 0),r([o({readOnly:!0})],a.prototype,\"state\",null),a=r([s(\"esri.widgets.BasemapGallery.support.LocalBasemapsSource\")],a);var m=a;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import e from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as a,isAbortError as l}from\"../../../core/promiseUtils.js\";import i from\"../../../core/Collection.js\";import{EsriPromiseMixin as p}from\"../../../core/Promise.js\";import n from\"../../../core/Loadable.js\";import m from\"../../../portal/Portal.js\";import h from\"../../../Basemap.js\";import c from\"../../../core/Handles.js\";import{init as u}from\"../../../core/watchUtils.js\";import d from\"./LocalBasemapsSource.js\";const f=i.ofType(h),y=\"esri.widgets.BasemapGallery.support.PortalBasemapsSource\",j=e.getLogger(y);let b=class extends(n.LoadableMixin(p(d))){constructor(t){super(t),this._handles=new c,this.basemaps=new f,this.filterFunction=null,this.portal=m.getDefault(),this.query=null,this.updateBasemapsCallback=null}initialize(){this._handles.add([u(this,[\"filterFunction\",\"loadStatus\",\"portal.basemapGalleryGroupQuery\",\"portal.user\",\"query\",\"updateBasemapsCallback\"],(()=>this.refresh()))])}destroy(){this._handles.destroy(),this._handles=null,this.filterFunction=null,this.portal=null}get state(){return\"not-loaded\"===this.loadStatus?\"not-loaded\":\"loading\"===this.loadStatus||this._lastPortalBasemapFetchController?\"loading\":\"ready\"}load(t){return this.addResolvingPromise(this.portal.load(t)),this.notifyChange(\"state\"),a(this)}async refresh(){if(\"ready\"!==this.state)return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const t=this.portal,e=new AbortController;this._lastPortalBasemapFetchController=e,this.notifyChange(\"state\");try{const r=await t.fetchBasemaps(this._toQueryString(this.query),e);this._updateBasemaps(r)}catch(t){if(l(t))throw t;j.warn(new o(\"basemap-source:fetch-basemaps-error\",\"Could not fetch basemaps from portal.\",{error:t})),this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange(\"state\")}_toQueryString(t){return t&&\"string\"!=typeof t?Object.keys(t).map((e=>`${e}:${t[e]}`)).join(\" AND \"):t}_updateBasemaps(t=[]){let e=this.filterFunction?t.filter(this.filterFunction):t;e=this.updateBasemapsCallback?this.updateBasemapsCallback(e):e,this.basemaps.removeAll(),this.basemaps.addMany(e)}};t([r({readOnly:!0,type:f})],b.prototype,\"basemaps\",void 0),t([r()],b.prototype,\"filterFunction\",void 0),t([r({type:m})],b.prototype,\"portal\",void 0),t([r()],b.prototype,\"query\",void 0),t([r({dependsOn:[\"loadStatus\"],readOnly:!0})],b.prototype,\"state\",null),t([r()],b.prototype,\"updateBasemapsCallback\",void 0),b=t([s(y)],b);var B=b;export default B;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{resolve as i}from\"../../core/promiseUtils.js\";import r from\"../../core/Collection.js\";import a from\"../../core/Loadable.js\";import p from\"../../core/Handles.js\";import{contentEquals as c}from\"../../support/basemapUtils.js\";import{watch as n,on as m}from\"../../core/watchUtils.js\";import{default3DCompatibility as l,default2DCompatibility as u}from\"./support/basemapCompatibilityUtils.js\";import d from\"./support/BasemapGalleryItem.js\";import h from\"./support/LocalBasemapsSource.js\";import y from\"./support/PortalBasemapsSource.js\";const b=r.ofType(d);let f=class extends a{constructor(t){super(t),this._handles=new p,this.activeBasemap=null,this.items=new b,this.source=new y,this.view=null}initialize(){const t=()=>this._recreateItems();this._handles.add([n(this,[\"compatibilityFunction\",\"state\"],(()=>this._updateItems())),m(this,\"source.basemaps\",\"change\",t,t)])}destroy(){this._handles.destroy(),this._handles=null}get compatibilityFunction(){if(void 0===this._get(\"compatibilityFunction\")){return\"3d\"===this.get(\"view.type\")?l:u}return this._get(\"compatibilityFunction\")}set compatibilityFunction(t){this._set(\"compatibilityFunction\",t)}castSource(t){return Array.isArray(t)||r.isCollection(t)?new h({basemaps:t}):function(t){return t&&\"esri.portal.Portal\"===t.declaredClass}(t)?new y({portal:t}):function(t){return t&&!(t instanceof y)&&(!!t.portal||!!t.query)}(t)?new y(t):function(t){return t&&\"basemaps\"in t&&\"state\"in t&&\"refresh\"in t}(t)?t:null}get state(){return this.get(\"view.ready\")&&this.source?\"ready\":\"disabled\"}basemapEquals(t,e){return c(t,e)}refresh(){this._recreateItems()}load(t){return this.addResolvingPromise(a.isLoadable(this.source)?this.source.load(t):i()),i(this)}_recreateItems(){const t=this.get(\"source.basemaps\"),{view:e,compatibilityFunction:s}=this;this.items.removeAll().forEach((t=>t.destroy())),this.items.addMany(t.map((t=>new d({basemap:t,compatibilityFunction:s,view:e}))))}_updateItems(){this.items.forEach((t=>{t.compatibilityFunction=this.compatibilityFunction,t.view=this.view}))}};t([e({aliasOf:\"view.map.basemap\"})],f.prototype,\"activeBasemap\",void 0),t([e({dependsOn:[\"view.type\"]})],f.prototype,\"compatibilityFunction\",null),t([e({readOnly:!0,type:b})],f.prototype,\"items\",void 0),t([e()],f.prototype,\"source\",void 0),t([s(\"source\")],f.prototype,\"castSource\",null),t([e({readOnly:!0,dependsOn:[\"view.ready\"]})],f.prototype,\"state\",null),t([e()],f.prototype,\"view\",void 0),f=t([o(\"esri.widgets.BasemapGallery.BasemapGalleryViewModel\")],f);var v=f;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as a}from\"../core/accessorSupport/decorators/aliasOf.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{getAssetUrl as r}from\"../assets.js\";import i from\"../core/Handles.js\";import{on as o,whenOnce as l}from\"../core/watchUtils.js\";import\"./support/widgetUtils.js\";import{accessibleHandler as m}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as p}from\"./support/decorators/messageBundle.js\";import{renderable as d}from\"./support/decorators/renderable.js\";import{j as c}from\"../chunks/index.js\";import n from\"./Widget.js\";import h from\"./BasemapGallery/BasemapGalleryViewModel.js\";const g=r(\"esri/themes/base/images/basemap-toggle-64.svg\"),u=\"esri-basemap-gallery esri-widget esri-widget--panel-height-only\",y=\"esri-basemap-gallery--source-loading\",b=\"esri-basemap-gallery__loader\",v=\"esri-basemap-gallery__item\",_=\"esri-basemap-gallery__item-container\",w=\"esri-basemap-gallery__item-title\",j=\"esri-basemap-gallery__item-thumbnail\",f=\"esri-basemap-gallery__item--selected\",B=\"esri-basemap-gallery__item--loading\",M=\"esri-basemap-gallery__item--error\",k=\"esri-widget__content--empty\",G=\"esri-icon-basemap\",C=\"esri-disabled\",x=\"esri-widget__heading\";let I=class extends n{constructor(e,s){super(e,s),this._handles=new i,this.activeBasemap=null,this.disabled=!1,this.iconClass=G,this.label=void 0,this.messages=null,this.source=null,this.view=null,this.viewModel=new h}initialize(){const e=this._handles;this.own([o(this,\"viewModel.items\",\"change\",(s=>{const a=\"basemap-gallery-item-changes\",{added:t,moved:r}=s;e.remove(a),e.add([...t,...r].map((e=>e.watch(\"state\",(()=>this.scheduleRender())))),a),this.scheduleRender()})),e,l(this,\"source\",(()=>this.viewModel.load()))])}render(){const e=\"loading\"===this.get(\"source.state\"),s=this.disabled||\"disabled\"===this.get(\"viewModel.state\"),a=this.get(\"viewModel.items\").toArray().map(this._renderBasemapGalleryItem,this),t={[y]:e,[C]:s},r=e?c(\"div\",{class:b,key:\"esri-basemap-gallery__loader\"}):null,i=e?null:a.length>0?c(\"ul\",{class:_,key:\"esri-basemap-gallery__item-container\",role:\"menu\"},a):c(\"div\",{class:k,key:\"esri-basemap-gallery__empty-message\"},c(\"h2\",{class:x},this.messages.noBasemaps));return c(\"div\",{class:this.classes(u,t)},r,i)}_handleClick(e){const s=e.currentTarget[\"data-item\"];\"ready\"===s.state&&(this.activeBasemap=s.basemap)}_renderBasemapGalleryItem(e){const s=e.get(\"basemap.thumbnailUrl\")||g,a=e.get(\"basemap.title\"),t=e.get(\"basemap.portalItem.snippet\"),r=e.get(\"error.message\")||t||a,{viewModel:i}=this,o=!this.disabled&&\"ready\"===i.state&&\"ready\"===e.state?0:-1,l=i.basemapEquals(e.basemap,this.activeBasemap),m={[f]:l,[B]:\"loading\"===e.state,[M]:\"error\"===e.state};return c(\"li\",{\"aria-selected\":l,bind:this,class:this.classes(v,m),\"data-item\":e,onkeydown:this._handleClick,onclick:this._handleClick,role:\"menuitem\",tabIndex:o,title:r},c(\"img\",{alt:\"\",class:j,src:s}),c(\"div\",{class:w},a))}};e([a(\"viewModel.activeBasemap\"),d()],I.prototype,\"activeBasemap\",void 0),e([s(),d()],I.prototype,\"disabled\",void 0),e([s()],I.prototype,\"iconClass\",void 0),e([s({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],I.prototype,\"label\",void 0),e([s(),d(),p(\"esri/widgets/BasemapGallery/t9n/BasemapGallery\")],I.prototype,\"messages\",void 0),e([a(\"viewModel.source\"),d(\"source.state\")],I.prototype,\"source\",void 0),e([a(\"viewModel.view\"),d()],I.prototype,\"view\",void 0),e([s(),d([\"viewModel.state\"])],I.prototype,\"viewModel\",void 0),e([m()],I.prototype,\"_handleClick\",null),I=e([t(\"esri.widgets.BasemapGallery\")],I);var S=I;export default S;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst widget_1 = require(\"@arcgis/core/widgets/support/widget\");\nconst Widget_1 = __importDefault(require(\"@arcgis/core/widgets/Widget\"));\nconst BaseMapsViewModel_1 = __importDefault(require(\"./BaseMaps/BaseMapsViewModel\"));\nrequire(\"./BaseMaps/styles/BaseMaps.scss\");\nconst CSS = {\n    base: 'esri-widget basemaps-base',\n};\nlet BaseMaps = class BaseMaps extends Widget_1.default {\n    constructor(properties) {\n        super(properties);\n        this.viewModel = new BaseMapsViewModel_1.default();\n        this._createMaps = () => {\n            if (this.basemaps) {\n                this.basemaps.container = 'maps';\n            }\n        };\n        this._createImages = () => {\n            if (this.images) {\n                this.images.container = 'images';\n            }\n        };\n        this.handleSwitchChange = (e) => {\n            if (e.target.getAttribute('switched') != '') {\n                //document.querySelector('#blendSlider')?.classList.remove('hidden');\n                this.view.map.addMany(this.viewModel.activeBasemap.baseLayers.toArray(), 0);\n                this.view.map.basemap.referenceLayers.forEach((layer) => {\n                    layer.visible = false;\n                });\n                this.view.map.layers\n                    .filter((layer) => {\n                    return this.viewModel.activeBasemap.baseLayers.includes(layer);\n                })\n                    .forEach((layer) => {\n                    layer.opacity = 0.5;\n                    layer.visible = true;\n                });\n            }\n            else {\n                //document.querySelector('#blendSlider')?.classList.add('hidden');\n                this.view.map.basemap.referenceLayers.forEach((layer) => {\n                    layer.visible = true;\n                });\n                this.viewModel.activeBasemap.baseLayers.forEach((layer) => {\n                    this.view.map.remove(this.view.map.findLayerById(layer.id));\n                });\n            }\n        };\n        this.handleSliderChange = (e) => {\n            const layers = this.view.map.layers\n                .filter((layer) => {\n                var _a;\n                return (_a = this.viewModel.activeBasemap) === null || _a === void 0 ? void 0 : _a.baseLayers.includes(layer);\n            })\n                .toArray();\n            layers.forEach((layer) => {\n                layer.opacity = parseFloat(e.target.getAttribute('value'));\n            });\n        };\n        this._sliderCreated = (e) => {\n            var _a;\n            (_a = document\n                .querySelector('#blendSlider')) === null || _a === void 0 ? void 0 : _a.addEventListener('calciteSliderUpdate', this.handleSliderChange.bind({ basemap: this.basemaps, view: this.view }, { passive: true }));\n        };\n        this._blendCreated = (e) => {\n            var _a, _b;\n            (_a = document\n                .querySelector('#blendSwitch')) === null || _a === void 0 ? void 0 : _a.addEventListener('calciteSwitchChange', this.handleSwitchChange.bind({ basemap: this.basemaps, view: this.view }, { passive: true }));\n            (_b = document.querySelector('#blend')) === null || _b === void 0 ? void 0 : _b.removeAttribute('switched');\n        };\n    }\n    render() {\n        const items = document.querySelectorAll('#basemapDiv calcite-radio-group-item');\n        items.forEach((item) => {\n            item === null || item === void 0 ? void 0 : item.addEventListener('calciteRadioGroupItemChange', (e) => {\n                var _a, _b;\n                // can I get checked and value like this?\n                if ((_a = e.target) === null || _a === void 0 ? void 0 : _a.checked) {\n                    this.viewModel.toggleContent((_b = e.target) === null || _b === void 0 ? void 0 : _b.value);\n                }\n            }, { passive: true });\n        });\n        return (widget_1.tsx(\"div\", { class: CSS.base },\n            widget_1.tsx(\"calcite-tabs\", { layout: \"center\", position: \"below\", \"calcite-hydrated\": \"\" },\n                widget_1.tsx(\"calcite-tab-nav\", { slot: \"tab-nav\", role: \"tablist\", layout: \"center\", position: \"below\", \"calcite-hydrated\": \"\" },\n                    widget_1.tsx(\"calcite-tab-title\", { active: true, \"aria-expanded\": \"true\", dir: \"ltr\", hastext: \"\", id: \"listTabTitle\", role: \"tab\", tabindex: \"0\", layout: \"center\", position: \"below\", \"calcite-hydrated\": \"\" }, \"Base Maps\"),\n                    widget_1.tsx(\"calcite-tab-title\", { \"aria-expanded\": \"false\", dir: \"ltr\", hastext: \"\", id: \"detailsTabTitle\", role: \"tab\", tabindex: \"0\", layout: \"center\", position: \"below\", \"calcite-hydrated\": \"\" }, \"Imagery\")),\n                widget_1.tsx(\"calcite-tab\", { \"aria-expanded\": \"true\", id: \"listTab\", role: \"tabpanel\", \"calcite-hydrated\": \"\" },\n                    widget_1.tsx(\"div\", { afterCreate: this._createMaps, id: \"maps\" })),\n                widget_1.tsx(\"calcite-tab\", { \"aria-expanded\": \"false\", id: \"detailsTab\", role: \"tabpanel\", \"calcite-hydrated\": \"\" },\n                    widget_1.tsx(\"label\", { id: \"blend\" },\n                        widget_1.tsx(\"calcite-switch\", { afterCreate: this._blendCreated, id: \"blendSwitch\" }),\n                        \" Blend\"),\n                    widget_1.tsx(\"calcite-slider\", { afterCreate: this._sliderCreated, id: \"blendSlider\", value: \"0.5\", max: \"1\", min: \"0\", step: \"0.1\" }),\n                    widget_1.tsx(\"div\", { afterCreate: this._createImages, id: \"images\" })))));\n    }\n};\n__decorate([\n    decorators_1.aliasOf('viewModel.view')\n], BaseMaps.prototype, \"view\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.basemaps')\n], BaseMaps.prototype, \"basemaps\", void 0);\n__decorate([\n    decorators_1.aliasOf('viewModel.images')\n], BaseMaps.prototype, \"images\", void 0);\n__decorate([\n    decorators_1.property({\n        type: BaseMapsViewModel_1.default,\n    }),\n    widget_1.renderable()\n], BaseMaps.prototype, \"viewModel\", void 0);\nBaseMaps = __decorate([\n    decorators_1.subclass('app.widgets.BaseMaps')\n], BaseMaps);\nexports.default = BaseMaps;\n","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Accessor_1 = __importDefault(require(\"@arcgis/core/core/Accessor\"));\nconst Color_1 = __importDefault(require(\"@arcgis/core/Color\"));\nconst decorators_1 = require(\"@arcgis/core/core/accessorSupport/decorators\");\nconst BasemapGallery_1 = __importDefault(require(\"@arcgis/core/widgets/BasemapGallery\"));\nconst watchUtils_1 = require(\"@arcgis/core/core/watchUtils\");\nlet BaseMapsViewModel = class BaseMapsViewModel extends Accessor_1.default {\n    constructor(params) {\n        super(params);\n        this.changePropertyLines = (basemap) => {\n            var _a;\n            const propertyLayer = this.view.map.allLayers.find((layer) => {\n                return layer.type === 'feature' && layer.title === 'Property';\n            });\n            if (propertyLayer.loaded) {\n                const newRenderer = (_a = propertyLayer === null || propertyLayer === void 0 ? void 0 : propertyLayer.renderer) === null || _a === void 0 ? void 0 : _a.clone();\n                if (basemap.title.toLowerCase().includes('dark') ||\n                    basemap.title.toLowerCase().includes('night') ||\n                    basemap.title.toLowerCase().includes('dark') ||\n                    basemap.title.toLowerCase().startsWith('20') ||\n                    basemap.title.toLowerCase().startsWith('19')) {\n                    newRenderer.symbol.outline.color = new Color_1.default([255, 255, 255, 0.5]);\n                }\n                else {\n                    newRenderer.symbol.outline.color = new Color_1.default([0, 0, 0, 0.5]);\n                }\n                propertyLayer.renderer = newRenderer;\n            }\n        };\n        this.toggleContent = (value) => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n            if (value === 'maps') {\n                (_a = document.querySelector('#maps')) === null || _a === void 0 ? void 0 : _a.classList.remove('esri-hidden');\n                (_b = document.querySelector('#images')) === null || _b === void 0 ? void 0 : _b.classList.add('esri-hidden');\n                (_c = document.querySelector('#mapsItem')) === null || _c === void 0 ? void 0 : _c.setAttribute('checked', '');\n                (_d = document.querySelector('#imagesItem')) === null || _d === void 0 ? void 0 : _d.removeAttribute('checked');\n                (_e = document.querySelector('#blend')) === null || _e === void 0 ? void 0 : _e.classList.add('esri-hidden');\n                (_f = document.querySelector('#blendSlider')) === null || _f === void 0 ? void 0 : _f.classList.add('esri-hidden');\n            }\n            else {\n                (_g = document.querySelector('#images')) === null || _g === void 0 ? void 0 : _g.classList.remove('esri-hidden');\n                (_h = document.querySelector('#maps')) === null || _h === void 0 ? void 0 : _h.classList.add('esri-hidden');\n                (_j = document.querySelector('#imagesItem')) === null || _j === void 0 ? void 0 : _j.setAttribute('checked', '');\n                (_k = document.querySelector('#mapsItem')) === null || _k === void 0 ? void 0 : _k.removeAttribute('checked');\n                (_l = document.querySelector('#blend')) === null || _l === void 0 ? void 0 : _l.classList.remove('esri-hidden');\n            }\n        };\n        watchUtils_1.whenDefinedOnce(this, 'view', this.init.bind(this));\n    }\n    init(view) {\n        this.basemaps = new BasemapGallery_1.default({ view: this.view });\n        this.view.when(() => {\n            this.changePropertyLines(this.view.map.basemap);\n        });\n        this.view.map.watch('basemap', (basemap) => {\n            var _a, _b, _c;\n            this.changePropertyLines(basemap);\n            if ((_a = document.querySelector('#images')) === null || _a === void 0 ? void 0 : _a.classList.contains('esri-hidden')) {\n                this.activeBasemap.baseLayers.forEach((layer) => {\n                    this.view.map.remove(this.view.map.findLayerById(layer.id));\n                });\n                this.activeBasemap = this.view.map.basemap;\n                (_b = document.querySelector('#blendSwitch')) === null || _b === void 0 ? void 0 : _b.removeAttribute('switched');\n            }\n            const bm = this.images.viewModel.items.find((item) => {\n                return item.basemap.title === this.view.map.basemap.title;\n            });\n            if (bm && ((_c = document.querySelector('#blendSwitch')) === null || _c === void 0 ? void 0 : _c.hasAttribute('switched'))) {\n                this.view.map.addMany(this.activeBasemap.baseLayers.toArray());\n            }\n            else {\n                this.activeBasemap.baseLayers.forEach((layer) => {\n                    this.view.map.remove(this.view.map.findLayerById(layer.id));\n                });\n            }\n        });\n        this.activeBasemap = this.view.map.basemap;\n        this.images = new BasemapGallery_1.default({\n            view: this.view,\n            source: {\n                query: {\n                    id: '492386759d264d49948bf7f83957ddb9',\n                },\n            },\n        });\n        window.addEventListener('pagehide', () => {\n            this.activeBasemap.baseLayers.forEach((layer) => {\n                this.view.map.remove(this.view.map.findLayerById(layer.id));\n            });\n            const json = view.map.toJSON();\n            json.initialState.viewpoint.targetGeometry = view.extent;\n            window.localStorage.setItem('imaps', JSON.stringify(json));\n        }, { passive: true });\n    }\n};\n__decorate([\n    decorators_1.property()\n], BaseMapsViewModel.prototype, \"view\", void 0);\nBaseMapsViewModel = __decorate([\n    decorators_1.subclass('app.widgets.BaseMaps.BaseMapsViewModel')\n], BaseMapsViewModel);\nexports.default = BaseMapsViewModel;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".basemaps-base{padding:0}#basemapDiv{height:100%}.basemaps-base calcite-tab{height:100%;position:absolute;top:54px;left:0;right:0;height:calc(100% - 99px)}.basemaps-base calcite-tabs{height:100%}.esri-basemap-gallery{height:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/widgets/BaseMaps/styles/BaseMaps.scss\"],\"names\":[],\"mappings\":\"AAAA,eACE,SAAA,CAEF,YACE,WAAA,CAIF,2BACE,WAAA,CACA,iBAAA,CACA,QAAA,CACA,MAAA,CACA,OAAA,CACA,wBAAA,CAIF,4BACE,WAAA,CAGF,sBACE,WAAA\",\"sourcesContent\":[\".basemaps-base {\\n  padding: 0;\\n}\\n#basemapDiv {\\n  height: 100%;\\n}\\n\\n\\n.basemaps-base calcite-tab {\\n  height: 100%;\\n  position: absolute;\\n  top: 54px;\\n  left: 0;\\n  right: 0;\\n  height: calc(100% - 99px);\\n}\\n\\n\\n.basemaps-base calcite-tabs {\\n  height: 100%\\n}\\n\\n.esri-basemap-gallery {\\n  height: 100%;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./BaseMaps.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"sourceRoot":""}