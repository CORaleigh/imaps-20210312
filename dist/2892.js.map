{"version":3,"sources":["webpack://imaps/./node_modules/@arcgis/core/geometry/Circle.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/layerUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/isSupportedGraphicUtils.js","webpack://imaps/./node_modules/@arcgis/core/views/draw/support/createUtilsAsync.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Sketch/support/OperationHandle.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Sketch/SketchViewModel.js","webpack://imaps/./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/isSupportedGraphic.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/Selector/selectorUtils.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/Selector/SelectionOperation.js","webpack://imaps/./node_modules/@arcgis/core/widgets/support/Selector.js","webpack://imaps/./node_modules/@arcgis/core/widgets/Sketch.js"],"names":["d","h","e","super","this","center","geodesic","numberOfPoints","radius","radiusUnit","r","t","rings","normalizeCtorArgs","hasZ","length","c","spatialReference","n","u","isWebMercator","wkid","wkt","indexOf","s","console","error","_createGeodesicCircle","_convert2Meters","_createPlanarCircle","addRing","o","clone","i","x","y","push","z","Math","PI","cos","sin","lastIndexOf","parseFloat","substring","type","prototype","layer","geometry","a","map","layers","find","add","async","cancelled","history","undo","redo","activeComponent","reset","onEnd","emit","complete","refresh","_set","canUndo","canRedo","W","q","redoKey","undoKey","centerKey","constraintKey","snappingKey","cancelKey","deleteKeys","pan","Z","defaultZ","B","enableMidpoints","enableMoveAllGraphics","enableRotation","enableScaling","multipleSelectionEnabled","preserveAspectRatio","toggleToolOnClick","tool","enableZ","enableMoveGraphic","N","_activeFillGraphic","_activeLineGraphic","_centerIndicatorGraphic","_centerSymbol","style","size","color","_defaultSegmentOffset","_numUpdating","_handles","_internalGraphicsLayer","listMode","_lineGraphic","_operationHandle","_vertexGraphics","_viewHandles","_doUnnormalization","activeFillSymbol","outline","width","activeLineSymbol","activeVertexSymbol","pointSymbol","polygonSymbol","polylineSymbol","updateGraphics","updateOnGraphicClick","updatePointSymbol","updatePolygonSymbol","join","updatePolylineSymbol","vertexSymbol","snappingOptions","_originalAutoOpenEnabled","defaultCreateOptions","defaultUpdateOptions","cancel","elevationInfo","removed","includes","removeFromSelection","removeAll","_removeDefaultLayer","_draw","destroy","view","state","createGraphic","_get","ready","container","cursor","remove","viewingMode","_generateViewHandles","_moduleLoaderAbortController","abort","activeTool","toArray","removeMany","_emitDeleteEvent","graphics","_logError","_setupCreateOperation","destroyed","on","graphic","toolEventInfo","focus","Array","isArray","some","equals","_setupUpdateOperation","X","_setUpdateOperationHandle","aborted","toggleTool","hitTest","results","ground","allLayers","forEach","exclude","mapPoint","opacity","distance","min","renderCoordsHelper","unitInMeters","Number","POSITIVE_INFINITY","screenPoint","p","_beginAsyncOperation","_getFirstHit","then","stopPropagation","_isComponentGraphic","update","_endAsyncOperation","_setupCreatePointOperation","_setupCreateMultipointOperation","_setupCreatePolyOperation","_setupCreateRectangleOperation","_setupCreateCircleOperation","_setupCreate3DOperation","point","multipoint","polyline","polygon","rectangle","circle","_removeCreateOperationGraphics","enabledToggled","mode","geometryType","createGraphicSymbol","snapToScene","forceUniformSize","centered","_requireModule","l","module","DrawGraphicTool","tools","key","repeat","enabled","completeCreateOperation","operation","_emitUndoEvent","_emitRedoEvent","drawOperation","numCommittedVertices","coordinates","vertices","interactiveUndoDisabled","create","vertexIndex","_displayCrosshairCursor","_displayDefaultCursor","createPointFromVertex","_operationHandleForCreateAction","undoDisabled","_drawMultipointGraphic","added","componentIndex","updated","slice","createMultipoint","_resetCreateOperationGraphics","_getCommonUpdateOperationKeyDownHandlers","_snap","_drawVertexGraphics","userClicked","createPolyline","createPolygon","getCoordsFromScreenPoint","pop","visible","toScreen","_isWithinScreenDistance","_getVertexIntersectDistance","_drawSegmentGraphic","constrainToggle","viewAlignedCoordinateSystem","makeMapPoint","resolution","createCircle","createEllipse","_removeCreateGraphic","createSquare","createRectangle","_defaultUpdateTool","_setupMove3DOperation","_setupReshape3DOperation","_setupGraphicTransform3DOperation","_setupMoveOperation","_setupTransformOrReshapeOperation","GraphicMoveTool","addMany","$","Y","addToSelection","updates","splice","getItemAt","_getHandlesForComponent","_getCommonUpdateOperationClickHandlers","symbol","symbolLayers","_setupPointTransform3DOperation","_setupPolyTransform3DOperation","GraphicTransformTool","ExtentTransformTool","_getCloneInfos","_getGraphicMover","_createClone","findIndex","allGraphics","_getSymbolForClone","xoffset","yoffset","height","max","GraphicReshapeTool","beforeUndo","_getBox","_getReshape","refreshComponent","resetHistory","native","shiftKey","default","callbacks","onGraphicMoveStart","dx","dy","_displayGrabbingCursor","mover","onGraphicMove","onGraphicMoveStop","_displayPointerCursor","onGraphicPointerOver","onGraphicPointerOut","onMoveStart","onMove","onMoveStop","onScaleStart","onScale","onScaleStop","onRotateStart","onRotate","onRotateStop","onReshapeStart","onReshape","onReshapeStop","onVertexAdd","onVertexRemove","viewEvent","addToHistory","J","_onTransformOrReshape2DGraphicClick","oldGraphic","_toggleSelection","dxScreen","dyScreen","Q","angle","xScale","scale","yScale","_disablePopup","_restorePopup","_onDeleteKey","_removeLineGraphic","_removeActiveLineGraphic","_removeActiveFillGraphic","_showActiveLineGraphic","_showFillGraphic","v","m","g","_showLineGraphic","_showVertexGraphic","_removeCenterIndicatorGraphic","extent","_showCenterIndicatorGraphic","_removeVertexGraphics","attributes","esriSketchTool","isUIGraphic","_snapLastVertexToAxis","_snapLastPolygonVertexToFirst","sqrt","mapToLocal","abs","localToMap","AbortController","signal","requireError","notifyChange","_disablePopupEnabled","popup","autoOpenEnabled","readOnly","types","value","contains","intersects","overlaps","simplify","selector","candidates","currentSelection","options","_activeOptions","_dashedFillSymbol","_dashedLineSymbol","_defaultOptions","createOptions","selectionOptions","_completed","_sketchViewModel","_sketchGraphicsLayer","_transparentPointSymbol","selection","set","activePointSymbol","_onSketchEvent","_load","whenReady","_processSelectionGeometry","_onComplete","_defaultSelectionOptions","b","createTools","selectionTools","undoRedoMenu","_activeCreateOptions","_activeSelectionInfo","_selector","availableCreateTools","creationMode","iconClass","label","messages","viewModel","visibleElements","_activateCreateTool","bind","own","scheduleRender","_onCreateOperation","watch","_cancelSelectionOperation","layout","class","classes","renderTopPanelContents","renderInfoPanelContents","renderSelectionTools","renderDrawButtons","renderMenuButtons","renderFeatureCount","renderDeleteButton","featureCount","featuresCount","count","deleteFeature","onclick","delete","title","renderDefaultSelectionButton","renderRectangleSelectionButton","renderLassoSelectionButton","selectFeature","selectRectangle","_activateRectangleSelectTool","selectLasso","_activateLassoSelectTool","renderPointButton","renderPolylineButton","renderPolygonButton","renderRectangleButton","renderCircleButton","drawPoint","drawPolygon","drawPolyline","drawCircle","drawRectangle","renderUndoButton","renderRedoButton","disabled","target","getAttribute","_getSelectionCandidates","draw","once","_onSelectionOperationComplete","cast","Set","filter","has","aliasOf","source","overridable"],"mappings":"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","file":"2892.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import s from\"./support/WKIDUnitConversion.js\";import{webMercatorToGeographic as o,geographicToWebMercator as i}from\"./support/webMercatorUtils.js\";import c from\"./Point.js\";import n from\"./Polygon.js\";import{getReferenceEllipsoid as a}from\"./projectionEllipsoid.js\";import{convertUnit as p,lengthToDegrees as l}from\"../core/unitUtils.js\";import{directGeodeticSolver as u}from\"./support/geodesicUtils.js\";var d;let h=d=class extends n{constructor(...e){super(...e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit=\"meters\"}normalizeCtorArgs(e,r){let t;if(e&&e.center)t=e;else{if(e&&e.rings)return super.normalizeCtorArgs(e,r);t={center:e}}return{...super.normalizeCtorArgs(),...t,...r}}initialize(){const e=this.center,r=this.numberOfPoints;if(this.hasZ=e&&e.hasZ,0!==this.rings.length||!e)return;const t=p(this.radius,this.radiusUnit,\"meters\"),c=e.spatialReference;let n,u=\"geographic\";if(c.isWebMercator?u=\"webMercator\":(null!=s[c.wkid]||c.wkt&&0===c.wkt.indexOf(\"PROJCS\"))&&(u=\"projected\"),this.geodesic){let s;switch(u){case\"webMercator\":s=o(e);break;case\"projected\":console.error(\"Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system\");break;case\"geographic\":s=e}n=this._createGeodesicCircle(s,t,r),\"webMercator\"===u&&(n=i(n))}else{let s;\"webMercator\"===u||\"projected\"===u?s=t/this._convert2Meters(1,e.spatialReference):\"geographic\"===u&&(s=l(t,\"meters\",a(e.spatialReference).radius)),n=this._createPlanarCircle(e,s,r)}this.spatialReference=n.spatialReference,this.addRing(n.rings[0])}clone(){const{center:e,numberOfPoints:r,radius:t,radiusUnit:s,geodesic:o}=this;return new d({center:e.clone(),numberOfPoints:r,radius:t,radiusUnit:s,geodesic:o})}_createGeodesicCircle(e,r,t){let s=0;const o=[];for(;s<360;){const i=[0,0],c=[e.x,e.y];u(i,c,s,r),this.hasZ&&i.push(e.z),o.push(i),s+=360/t}return o.push(o[0]),new n(o)}_createPlanarCircle(e,r,t){let s=0;const o=[];for(;s<2*Math.PI;){const i=[e.x+Math.cos(-s)*r,e.y+Math.sin(-s)*r];this.hasZ&&i.push(e.z),o.push(i),s+=Math.PI/(t/2)}return o.push(o[0]),new n({spatialReference:e.spatialReference,rings:[o]})}_convert2Meters(e,r){let t;if(null!=s[r.wkid])t=s.values[s[r.wkid]];else{const e=r.wkt,s=e.lastIndexOf(\",\")+1,o=e.lastIndexOf(\"]]\");t=parseFloat(e.substring(s,o))}return e*t}};e([r({type:c})],h.prototype,\"center\",void 0),e([r()],h.prototype,\"geodesic\",void 0),e([r()],h.prototype,\"numberOfPoints\",void 0),e([r()],h.prototype,\"radius\",void 0),e([r()],h.prototype,\"radiusUnit\",void 0),h=d=e([t(\"esri.geometry.Circle\")],h);var m=h;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{isNone as e}from\"../../../../../core/maybe.js\";import{getGraphicEffectiveElevationMode as r,hasGraphicFeatureExpressionInfo as t}from\"../../../../../support/elevationInfoUtils.js\";function o(o){var n;if(\"graphics\"!==(null==(n=o.layer)?void 0:n.type))return 1;if(e(o.geometry))return 2;switch(o.geometry.type){case\"polygon\":case\"point\":case\"polyline\":break;case\"multipoint\":case\"extent\":case\"mesh\":default:return 3}return\"on-the-ground\"!==r(o)&&t(o)?4:0}export{o as isSupportedGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{isNone as e}from\"../../../../../core/maybe.js\";import r from\"../../../../../geometry/Circle.js\";import{getGraphicEffectiveElevationMode as t,hasGraphicFeatureExpressionInfo as o}from\"../../../../../support/elevationInfoUtils.js\";function n(n){var i;if(\"graphics\"!==(null==(i=n.layer)?void 0:i.type))return 1;const s=n.geometry;if(e(s))return 2;switch(s.type){case\"polygon\":if(s instanceof r)return 3;break;case\"polyline\":break;case\"point\":case\"multipoint\":case\"extent\":case\"mesh\":default:return 3}return\"on-the-ground\"!==t(n)&&o(n)?4:0}export{n as isSupportedGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nfunction n(n,a){if(!a||!n||!n.map)return;const{map:r}=n;r.layers.find((n=>n===a))||r.add(a)}export{n as addUniqueLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";function e(e){switch(e){case 0:break;case 1:return\"not owned by a graphics layer\";case 2:return\"no geometry\";case 3:return\"the geometry type is not supported\";case 4:return\"the elevation mode is not supported\";case 5:return\"the symbol type is not supported\"}return\"\"}export{e as isSupportedGraphicResultMessage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nlet t=null;async function e(){return t||(t=await import(\"./createUtils.js\")),t}export{e as loadCreateUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Evented.js\";let p=class extends s.EventedAccessor{constructor(o){super(o),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case\"graphic-mover\":case\"move-3d\":return\"move\";case\"box\":case\"transform-3d\":return\"transform\";case\"reshape\":case\"reshape-3d\":return\"reshape\";case\"draw\":case\"draw-3d\":return null;default:e(this.activeComponent)}return null}addToHistory(o){this.history.redo=[],this.history.undo.push(o)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this.reset(),this.onEnd(),this.emit(\"complete\")}cancel(){this.cancelled=!0,this.complete()}reset(){this.activeComponent.reset()}refreshComponent(){const o=this.activeComponent;o&&(\"box\"!==o.type&&\"reshape\"!==o.type||o.refresh())}set undo(o){this._set(\"undo\",(()=>{this.canUndo()&&o()}))}set redo(o){this._set(\"redo\",(()=>{this.canRedo()&&o()}))}};o([t()],p.prototype,\"activeComponent\",void 0),o([t()],p.prototype,\"cancelled\",void 0),o([t()],p.prototype,\"history\",void 0),o([t()],p.prototype,\"tool\",null),o([t()],p.prototype,\"type\",void 0),o([t()],p.prototype,\"canUndo\",null),o([t()],p.prototype,\"canRedo\",null),o([t()],p.prototype,\"onEnd\",void 0),o([t()],p.prototype,\"undo\",null),o([t()],p.prototype,\"redo\",null),o([t()],p.prototype,\"toggleTool\",void 0),o([t()],p.prototype,\"addToSelection\",void 0),o([t()],p.prototype,\"removeFromSelection\",void 0),p=o([r(\"esri.widgets.Sketch.support.OperationHandle\")],p);export{p as OperationHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as t,unwrap as i,isNone as o,get as r}from\"../../core/maybe.js\";import a from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import c from\"../../geometry/Point.js\";import{geometryToCoordinates as h}from\"../../geometry/support/coordsUtils.js\";import\"../../geometry.js\";import l from\"../../core/Evented.js\";import d from\"../../core/Collection.js\";import{createScreenPoint as y,pt2px as u}from\"../../core/screenUtils.js\";import v from\"../../symbols/SimpleLineSymbol.js\";import m from\"../../symbols/SimpleFillSymbol.js\";import g from\"../../symbols/SimpleMarkerSymbol.js\";import{s as _}from\"../../chunks/symbols.js\";import G from\"../../Graphic.js\";import w from\"../../core/Handles.js\";import{getReferenceEllipsoid as f}from\"../../geometry/projectionEllipsoid.js\";import{enableExtentTransformTool as b}from\"../../support/featureFlags.js\";import{watch as C,on as x,init as E,when as T,whenNotOnce as S}from\"../../core/watchUtils.js\";import I from\"../../layers/GraphicsLayer.js\";import{ViewEventPriorities as A}from\"../../views/input/InputManager.js\";import{isDOMContainer as O}from\"../../views/DOMContainer.js\";import{createScreenPointFromEvent as k}from\"../../views/support/screenUtils.js\";import{SnappingOptions as H}from\"../../views/interactive/snapping/SnappingOptions.js\";import{createViewAlignedCoordinateSystem as L,makeSurfacePoint as D}from\"../../views/draw/support/surfaceCoordinateSystems.js\";import P from\"../../views/draw/Draw.js\";import{isSupportedGraphicResultMessage as M}from\"../../views/3d/interactive/editingTools/isSupportedGraphicUtils.js\";import{isSupportedGraphic as U}from\"../../views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic.js\";import{isSupportedGraphic as R}from\"../../views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic.js\";import{isSupportedGraphic as F}from\"../../views/3d/interactive/editingTools/transformGraphic/isSupportedGraphic.js\";import{loadCreateUtils as K}from\"../../views/draw/support/createUtilsAsync.js\";import{addUniqueLayer as j}from\"../../views/draw/support/layerUtils.js\";import{OperationHandle as V}from\"./support/OperationHandle.js\";const W=\"esri.widgets.Sketch.SketchViewModel\",z=a.getLogger(W),q={redoKey:\"r\",undoKey:\"z\",centerKey:\"Alt\",constraintKey:\"Control\",snappingKey:\"Control\",cancelKey:\"Escape\",deleteKeys:[\"Backspace\",\"Delete\"],complete:\"c\",pan:\" \"},Z={defaultZ:0},B={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:\"transform\",enableZ:!0,enableMoveGraphic:!0};let N=class extends l.EventedAccessor{constructor(e){super(e),this._activeFillGraphic=null,this._activeLineGraphic=null,this._centerIndicatorGraphic=null,this._centerSymbol=new g({style:\"cross\",size:6,color:[255,255,255]}),this._defaultSegmentOffset=48,this._numUpdating=0,this._handles=new w,this._internalGraphicsLayer=new I({listMode:\"hide\"}),this._lineGraphic=null,this._operationHandle=null,this._vertexGraphics=[],this._viewHandles=new w,this._doUnnormalization=!1,this.activeFillSymbol=new m({style:\"solid\",color:[150,150,150,.2],outline:{color:[50,50,50],width:0}}),this.activeLineSymbol=new v({color:[255,127,0,1],width:2}),this.activeVertexSymbol=new g({style:\"circle\",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}}),this.layer=null,this.pointSymbol=new g({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new m({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new v({color:[130,130,130,1],width:2}),this.updateGraphics=new d,this.updateOnGraphicClick=!0,this.updatePointSymbol=new g({size:10,color:[0,200,255,.5],outline:{color:\"black\",width:1}}),this.updatePolygonSymbol=new m({color:[12,207,255,.2],outline:{join:\"round\",color:[12,207,255],width:2}}),this.updatePolylineSymbol=new v({color:[12,207,255],width:2}),this.vertexSymbol=new g({style:\"circle\",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.snappingOptions=new H,this._originalAutoOpenEnabled=null,this.defaultCreateOptions=Z,this.defaultUpdateOptions=B}initialize(){this._handles.add([C(this,\"layer\",(()=>{this.cancel(),this._internalGraphicsLayer.elevationInfo=t(this.layer)?this.layer.elevationInfo:null})),x(this,\"view.map.layers\",\"change\",(e=>{e.removed.indexOf(this.layer)>=0&&this.cancel()})),x(this,\"layer.graphics\",\"change\",(e=>{if(t(this._operationHandle))for(const t of e.removed)this.updateGraphics.includes(t)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(t):this._operationHandle.cancel())})),E(this,\"layer.elevationInfo\",(()=>{this.cancel(),this._internalGraphicsLayer.elevationInfo=t(this.layer)?this.layer.elevationInfo:null}),!0)])}destroy(){this.cancel(),this._handles.removeAll(),this._handles=null,this._viewHandles.removeAll(),this._viewHandles=null,this._removeDefaultLayer(),this._draw&&this._draw.destroy(),this._set(\"view\",null),this.emit(\"destroy\")}get _defaultUpdateTool(){return\"3d\"===this.view.type?\"move\":\"transform\"}get _draw(){return\"ready\"===this.state||\"active\"===this.state?new P({view:this.view}):null}get updating(){return this._numUpdating>0}get activeTool(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null}get activeComponent(){return this._operationHandle?this._operationHandle.activeComponent:null}get createGraphic(){return this.view&&\"3d\"===this.view.type&&t(this.activeComponent)&&\"draw-3d\"===this.activeComponent.type?i(this.activeComponent.createGraphic):this._get(\"createGraphic\")}set defaultCreateOptions(e){this._set(\"defaultCreateOptions\",{...Z,...e})}set defaultUpdateOptions(e){this._set(\"defaultUpdateOptions\",{...B,...e})}get state(){var e;const t=!(null==(e=this.view)||!e.ready||!this.layer),i=this._operationHandle;return t&&i?\"active\":t?\"ready\":\"disabled\"}get view(){return this._get(\"view\")}set view(e){const t=this._get(\"view\");if(t){const{container:e,map:i}=t;e&&(t.cursor=null),i&&i.remove(this._internalGraphicsLayer),this._viewHandles.removeAll(),this.cancel()}this._doUnnormalization=null!=e&&\"3d\"===e.type&&\"global\"===e.viewingMode;const i=\"view-ready\";this._handles.remove(i),e&&this._handles.add(T(e,\"ready\",(t=>{this._viewHandles.removeAll(),t&&this._viewHandles.add(this._generateViewHandles(e))}),!0),i),this._set(\"view\",e)}cancel(){this._moduleLoaderAbortController&&(this._moduleLoaderAbortController.abort(),this._moduleLoaderAbortController=null),this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:e,updateGraphics:t}=this;if(\"active\"===e&&t.length){const{activeTool:e,layer:i}=this,o=t.toArray();i.removeMany(o),this.cancel(),this._emitDeleteEvent({graphics:o,tool:e})}}async create(e,t){if(\"disabled\"===this.state)return this.layer||this._logError(\"sketch:missing-property\",\"Property 'layer' is missing on SketchViewModel.\"),void(this.view||this._logError(\"sketch:missing-property\",\"Property 'view' is missing on SketchViewModel.\"));if(this.cancel(),!e)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'tool'.\");const i=await this._setupCreateOperation(e,t);if(o(i)||this.destroyed)return;j(this.view,this._internalGraphicsLayer);const r=()=>{if(i===this._operationHandle){const t=this.createGraphic,o=this._operationHandle.cancelled;this._operationHandle.destroy(),this._operationHandle=null,this._set(\"createGraphic\",null),this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),i.cancelled||null==t||this.layer.add(t),this.emit(\"create\",{graphic:t,state:o?\"cancel\":\"complete\",tool:e,toolEventInfo:null,type:\"create\"})}};i.on(\"complete\",r),this._operationHandle=i,this.view.ready&&O(this.view)&&this.view.focus()}async update(e,t){const{layer:i,state:r,view:a}=this;if(\"disabled\"===r)return i||this._logError(\"sketch:missing-property\",\"Property 'layer' is missing on SketchViewModel.\"),void(a||this._logError(\"sketch:missing-property\",\"Property 'view' is missing on SketchViewModel.\"));this.cancel();const s=Array.isArray(e)?e:[e];if(null==e||!s||!s.length)return void this._logError(\"sketch:missing-parameter\",\"Missing parameter 'graphics'.\");if(s.some((e=>e.layer!==i?(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer.\"),!0):o(e.geometry)?(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with an unsupported geometry.\"),!0):\"2d\"===a.type&&!a.spatialReference.equals(e.geometry.spatialReference)&&(this._logError(\"sketch:invalid-parameter\",\"Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView.\"),!0))))return;const n=await this._setupUpdateOperation(s,t);this.destroyed||o(n)||X(n)||(j(this.view,this._internalGraphicsLayer),this._setUpdateOperationHandle(n,t),this.emit(\"update\",{graphics:s,state:\"start\",aborted:!1,tool:n.tool,toolEventInfo:null,type:\"update\"}))}undo(){this.canUndo()&&this._operationHandle.undo()}redo(){this.canRedo()&&this._operationHandle.redo()}canUndo(){return!(!this._operationHandle||!this._operationHandle.canUndo())}canRedo(){return!(!this._operationHandle||!this._operationHandle.canRedo())}toggleUpdateTool(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()}async _getFirstHit(e){const t=[];switch(this.view.type){case\"2d\":{const r=await this.view.hitTest(e);if(r.results.length>0){const e=r.results[0];if(e.graphic){var i,o;const r=e.graphic;\"vector-tile\"!==(null==(i=r.layer)?void 0:i.type)&&\"imagery\"!==(null==(o=r.layer)?void 0:o.type)&&t.push(e)}}}break;case\"3d\":{const i=[this.view.map.ground];this.view.map.allLayers.forEach((e=>{\"integrated-mesh\"===e.type&&i.push(e)}));const o=await this.view.hitTest(e,{exclude:i});if(o.results.length>0){const e=o.results[0];(!o.ground.mapPoint||this.view.map.ground.opacity<1||o.ground.distance-e.distance>-Math.min(3*o.ground.distance,\"global\"===this.view.viewingMode?f(this.view.renderCoordsHelper.spatialReference).radius/this.view.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY))&&t.push(e)}}}return{screenPoint:e,results:t}}_generateViewHandles(e){return[e.on(\"immediate-click\",(i=>{const{_operationHandle:o,defaultUpdateOptions:r,layer:a,state:s,updateGraphics:n,updateOnGraphicClick:p}=this,c=\"active\"===s&&\"create\"===o.type;\"disabled\"!==s&&!c&&p&&(this._beginAsyncOperation(),this._getFirstHit(k(i)).then((t=>{const o=t.results;if(o.length)for(let r=0;r<o.length;++r){const t=o[r];if(t.graphic){const o=t.graphic;if(n.indexOf(o)>-1||o.layer===a)return i.stopPropagation(),o;\"2d\"!==e.type||this._isComponentGraphic(o)||\"active\"!==s||this.cancel()}}else\"active\"===s&&this.cancel();return null})).then((e=>t(e)&&-1===n.indexOf(e)?this.update([e],{...r}):null)).then((()=>{this._endAsyncOperation()})))}),A.WIDGET)]}async _setupCreateOperation(e,t){if(!e)return null;const i={hasZ:\"3d\"===this.view.type,...this.defaultCreateOptions,...t};let r;if(\"2d\"===this.view.type)switch(e){case\"point\":r=this._setupCreatePointOperation(e,i);break;case\"multipoint\":r=await this._setupCreateMultipointOperation(e,null);break;case\"polygon\":case\"polyline\":r=await this._setupCreatePolyOperation(e,i);break;case\"rectangle\":r=await this._setupCreateRectangleOperation(e,i);break;case\"circle\":r=await this._setupCreateCircleOperation(e,i)}else{const t=await this._setupCreate3DOperation(e,this.view,i);if(o(t)||X(t))return null;r=t}return r}async _setupCreate3DOperation(e,r,a){if(\"multipoint\"===e)return null;const s={point:this.pointSymbol,multipoint:null,polyline:this.polylineSymbol,polygon:this.polygonSymbol,rectangle:this.polygonSymbol,circle:this.polygonSymbol}[e];this._removeCreateOperationGraphics();const n=\"rectangle\"!==e,p=\"rectangle\"!==e;this.snappingOptions.enabledToggled=!1;const c={view:r,mode:\"rectangle\"===e||\"circle\"===e?\"hybrid\":\"click\",...a,elevationInfo:this.layer.elevationInfo,geometryType:e,createGraphicSymbol:s,snapToScene:!t(this.layer.elevationInfo)||\"absolute-height\"===this.layer.elevationInfo.mode,snappingOptions:this.snappingOptions,forceUniformSize:p,centered:n},h=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(X(h))return h;if(this.destroyed)return null;const l=new h.module.DrawGraphicTool(c);this.view.tools.add(l);let d=null;this.view.activeTool=l;const y=[],u=new V({activeComponent:l,tool:e,type:\"update\",onEnd:()=>{var e;y.forEach((e=>e.remove())),y.length=0,null==(e=this.view.tools)||e.remove(l),l.destroy()},undo:()=>{l.canUndo&&l.undo()},redo:()=>{l.canRedo&&l.redo()},canUndo:()=>l.canUndo,canRedo:()=>l.canRedo});return y.push(this.view.on(\"key-down\",(t=>{t.key===q.pan?(t.stopPropagation(),t.repeat||(l.enabled=!1)):t.key===q.complete?(t.stopPropagation(),l.completeCreateOperation()):t.key===q.undoKey?(t.stopPropagation(),u.undo()):t.key===q.redoKey?(t.stopPropagation(),u.redo()):t.key!==q.snappingKey||\"rectangle\"===e||\"circle\"===e||t.repeat?t.key!==q.constraintKey||\"rectangle\"!==e&&\"circle\"!==e||t.repeat?t.key===q.centerKey&&(t.repeat||(l.centered=!n,t.stopPropagation())):(l.forceUniformSize=!p,t.stopPropagation()):(l.snappingOptions.enabledToggled=!0,t.stopPropagation())}),A.WIDGET),this.view.on(\"key-up\",(t=>{t.key===q.pan?l.enabled=!0:t.key===q.snappingKey&&\"rectangle\"!==e&&\"circle\"!==e?(l.snappingOptions.enabledToggled=!1,t.stopPropagation()):t.key!==q.constraintKey||\"rectangle\"!==e&&\"circle\"!==e?t.key===q.centerKey&&(l.centered=n,t.stopPropagation()):(l.forceUniformSize=p,t.stopPropagation())}),A.WIDGET),l.on(\"vertex-add\",(t=>{switch(d=o(d)?\"start\":\"active\",t.operation){case\"apply\":this.emit(\"create\",{graphic:i(l.createGraphic),state:d,tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[i(l.createGraphic)],tool:e});break;case\"redo\":this._emitRedoEvent({graphics:[i(l.createGraphic)],tool:e})}})),l.on(\"cursor-update\",(e=>{l.drawOperation.numCommittedVertices>0&&this.emit(\"create\",{graphic:i(l.createGraphic),state:\"active\",tool:this.activeTool,toolEventInfo:{coordinates:e.vertices[0].coordinates,type:\"cursor-update\"},type:\"create\"})})),l.on(\"vertex-remove\",(t=>{switch(t.operation){case\"apply\":this.emit(\"create\",{graphic:i(l.createGraphic),state:\"active\",tool:this.activeTool,toolEventInfo:t,type:\"create\"});break;case\"undo\":this._emitUndoEvent({graphics:[i(l.createGraphic)],tool:e});break;case\"redo\":this._emitRedoEvent({graphics:[i(l.createGraphic)],tool:e})}})),l.on(\"complete\",(e=>{this._removeCreateOperationGraphics(),this._set(\"createGraphic\",i(e.graphic)),d=\"complete\",e.aborted?u&&u.cancel():u&&u.complete()}))),u}_setupCreatePointOperation(e,i){const o={elevationInfo:this.layer.elevationInfo,hasZ:i.hasZ,defaultZ:i.defaultZ,interactiveUndoDisabled:!0},r=this._draw.create(e,o),a=[r.on(\"cursor-update\",(e=>{t(e.vertexIndex)?this._displayCrosshairCursor():this._displayDefaultCursor()})),r.on(\"draw-complete\",(e=>{const t=this.createPointFromVertex(e.vertices[0]),i=new G(t,this.pointSymbol);this._set(\"createGraphic\",i),n&&n.complete()}))],s=[this.view.on(\"key-down\",(e=>{e.key===q.cancelKey&&(n&&n.cancel(),e.stopPropagation())}),A.WIDGET)],n=this._operationHandleForCreateAction(r,[...a,...s],e);return n}async _setupCreateMultipointOperation(e,t){const i=await K(),o={...t,undoDisabled:!0},r=this._draw.create(e,o);let a=null;const s=[],n=this._operationHandleForCreateAction(r,s,e);return s.push(r.on(\"vertex-add\",(t=>{const{type:o,vertexIndex:r,vertices:s}=t,n=s[r];a=t,this._drawMultipointGraphic(i,s,!0),this.emit(\"create\",{graphic:this.createGraphic,state:1===s.length?\"start\":\"active\",tool:e,toolEventInfo:{added:n,vertices:[{coordinates:n,componentIndex:0,vertexIndex:r}],type:o},type:\"create\"})})),r.on(\"vertex-remove\",(t=>{const{type:o,vertexIndex:r,vertices:s}=t,n=s[r];a=t,this._drawMultipointGraphic(i,s,!0),this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{removed:n,vertices:[{coordinates:n,componentIndex:0,vertexIndex:r}],type:o},type:\"create\"})})),r.on(\"vertex-update\",(t=>{const{type:o,vertexIndex:r,vertices:s}=t,n=s[r];a=t,this._drawMultipointGraphic(i,s,!0),this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{type:o,updated:n,vertices:[{coordinates:n,componentIndex:0,vertexIndex:r}]},type:\"create\"})})),r.on(\"cursor-update\",(e=>{a=e})),r.on(\"draw-complete\",(e=>{const t=e.vertices.slice(0),o=i.createMultipoint(t,this.view.spatialReference);o&&this.createGraphic&&(this.createGraphic.geometry=o),n&&n.complete()})),r.on(\"undo\",(e=>{const t=e.vertices,o=a&&\"cursor-update\"!==a.type;this._resetCreateOperationGraphics(),t.length&&this._drawMultipointGraphic(i,t,o)})),r.on(\"redo\",(e=>{const t=e.vertices,o=a&&\"cursor-update\"!==a.type;this._resetCreateOperationGraphics(),t.length&&this._drawMultipointGraphic(i,t,o)}))),s.push(this.view.on(\"pointer-move\",(()=>this._displayCrosshairCursor()),A.WIDGET),this.view.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(n,e)),A.WIDGET)),n}async _setupCreatePolyOperation(e,i){const o=await K(),r={...i,elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0};let a=null;(\"polyline\"===e||\"polygon\"===e)&&(a=this._draw.create(e,r));let s=new c,n=null,p=!1;const h=[a.on(\"vertex-add\",(t=>{const{type:i,vertexIndex:r,vertices:a}=t,s=a[r];this._snap(e,a,p),n=t,this._drawVertexGraphics(o,e,a,{userClicked:!0}),this.emit(\"create\",{graphic:this.createGraphic,state:1===a.length?\"start\":\"active\",tool:e,toolEventInfo:{added:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:r}],type:i},type:\"create\"})})),a.on(\"vertex-remove\",(t=>{const{type:i,vertexIndex:r,vertices:a}=t,s=a[r];this._snap(e,a,p),n=t,this._drawVertexGraphics(o,e,a,{userClicked:!0}),this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{removed:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:r}],type:i},type:\"create\"})})),a.on(\"vertex-update\",(t=>{const{type:i,vertexIndex:r,vertices:a}=t,s=a[r];this._snap(e,a,p),n=t,this._drawVertexGraphics(o,e,a,{userClicked:!0}),this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{type:i,updated:s,vertices:[{coordinates:s,componentIndex:0,vertexIndex:r}]},type:\"create\"})})),a.on(\"cursor-update\",(t=>{const{type:i,vertices:r}=t;if(t.mapPoint&&(this._snap(e,r,p),n=t,s=t.mapPoint,this._drawVertexGraphics(o,e,r,{userClicked:!1}),r.length>1)){const t=r[r.length-1];this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{coordinates:t,type:i},type:\"create\"})}})),a.on(\"draw-complete\",(t=>{const i=t.vertices.slice(0);let r=null;\"polyline\"===e?r=o.createPolyline([i],this.view.spatialReference,this._doUnnormalization):\"polygon\"===e&&(r=o.createPolygon([i],this.view.spatialReference,this._doUnnormalization,!0)),r&&(this.createGraphic.geometry=r),d&&d.complete()})),a.on(\"undo\",(t=>{const i=t.vertices,r=n&&\"cursor-update\"!==n.type;this._resetCreateOperationGraphics(),this._snap(e,i,p),i.length&&this._drawVertexGraphics(o,e,i,{userClicked:r})})),a.on(\"redo\",(t=>{const i=t.vertices,r=n&&\"cursor-update\"!==n.type;this._resetCreateOperationGraphics(),this._snap(e,i,p),i.length&&this._drawVertexGraphics(o,e,i,{userClicked:r})}))],l=[this.view.on(\"pointer-move\",(e=>{t(a.getCoordsFromScreenPoint(y(e.x,e.y)))?this._displayCrosshairCursor():this._displayDefaultCursor()}),A.WIDGET),this.view.on(\"key-down\",(t=>{const i=a.vertices.slice(0),r=n&&\"cursor-update\"!==n.type;t.key===q.constraintKey?\"2d\"===this.view.type&&(p||(p=!0,this._snap(e,i,!r),this._drawVertexGraphics(o,e,i,{userClicked:r}))):t.key===q.undoKey&&d&&d.canUndo()?(t.stopPropagation(),d.undo()):t.key===q.redoKey&&d&&d.canRedo()?(t.stopPropagation(),d.redo()):t.key===q.cancelKey&&d&&d.cancel()}),A.WIDGET),this.view.on(\"key-up\",(t=>{const i=a.vertices.slice(0),r=n&&\"cursor-update\"!==n.type;t.key===q.constraintKey&&p&&(r||(i.pop(),i.push([s.x,s.y]),this._drawVertexGraphics(o,e,i,{userClicked:r})),p=!1)}),A.WIDGET)];if(\"polygon\"===e){const e=(e,t,i)=>{if(!e||!e.layer||!e.visible)return!1;const o=this.view.toScreen(e.geometry);return this._isWithinScreenDistance(o,t,i)},t=t=>{if(!(this._vertexGraphics.length<=2))return e(this._vertexGraphics[0],t,this._getVertexIntersectDistance())};let i=!1;l.push(this.view.on(\"pointer-move\",(()=>{i=!1}),A.WIDGET),this.view.on(\"pointer-down\",(o=>{if(t(o))return i=!0,void o.stopPropagation();this._vertexGraphics.some((t=>e(t,o,this._getVertexIntersectDistance())))&&o.stopPropagation()}),A.WIDGET),this.view.on(\"pointer-up\",(e=>{i&&(e.stopPropagation(),a.complete())})))}const d=this._operationHandleForCreateAction(a,[...h,...l],e);return d}async _setupCreateCircleOperation(e,i){const o=await K(),r={...i,elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0},a=this._draw.create(e,r);let s=!1,n=!0;const p=[a.on(\"vertex-add\",(t=>{const{type:i,vertexIndex:r,vertices:p}=t,c=p[r];this._drawSegmentGraphic(o,e,p,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem),this.emit(\"create\",{graphic:this.createGraphic,state:1===p.length?\"start\":\"active\",tool:e,toolEventInfo:{added:c,vertices:[{coordinates:c,componentIndex:0,vertexIndex:r}],type:i},type:\"create\"})})),a.on(\"cursor-update\",(t=>{const{type:i,vertices:r}=t;if(this._drawSegmentGraphic(o,e,r,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem),2===r.length){const t=r[r.length-1];this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{coordinates:t,type:i},type:\"create\"})}})),a.on(\"draw-complete\",(e=>{const t=e.vertices.slice(0);let i;1===t.length?(t.push(a.viewAlignedCoordinateSystem.makeMapPoint(t[0][0]+this._defaultSegmentOffset*this.view.resolution,t[0][1])),i=o.createCircle(t,a.viewAlignedCoordinateSystem,!0,this.view.resolution)):i=s?o.createEllipse(t,a.viewAlignedCoordinateSystem,n):o.createCircle(t,a.viewAlignedCoordinateSystem,n,this.view.resolution),this.createGraphic?this.createGraphic.geometry=i:(this._removeCreateGraphic(),this._set(\"createGraphic\",new G(i,this.polygonSymbol))),h&&h.complete()}))],c=[this.view.on(\"pointer-move\",(e=>{t(a.getCoordsFromScreenPoint(y(e.x,e.y)))?this._displayCrosshairCursor():this._displayDefaultCursor()}),A.WIDGET),this.view.on(\"key-down\",(t=>{t.key===q.constraintKey?s||(s=!0,this._drawSegmentGraphic(o,e,a.vertices,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem)):t.key===q.centerKey?n&&(n=!1,this._drawSegmentGraphic(o,e,a.vertices,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem)):t.key===q.cancelKey&&h&&h.cancel()}),A.WIDGET),this.view.on(\"key-up\",(t=>{t.key===q.constraintKey?(s=!1,this._drawSegmentGraphic(o,e,a.vertices,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem)):t.key===q.centerKey&&(n=!0,this._drawSegmentGraphic(o,e,a.vertices,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem))}),A.WIDGET)],h=this._operationHandleForCreateAction(a,[...p,...c],e);return h}async _setupCreateRectangleOperation(e,i){const o=await K(),r={...i,elevationInfo:this.layer.elevationInfo,interactiveUndoDisabled:!0},a=this._draw.create(e,r);let s=!1,n=!1;const p=[a.on(\"vertex-add\",(t=>{const{type:i,vertexIndex:r,vertices:p}=t,c=p[r];this._drawSegmentGraphic(o,e,p,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem),this.emit(\"create\",{graphic:this.createGraphic,state:1===p.length?\"start\":\"active\",tool:e,toolEventInfo:{added:c,vertices:[{coordinates:c,componentIndex:0,vertexIndex:r}],type:i},type:\"create\"})})),a.on(\"cursor-update\",(t=>{const{type:i,vertices:r}=t;if(this._drawSegmentGraphic(o,e,r,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem),2===r.length){const t=r[r.length-1];this.emit(\"create\",{graphic:this.createGraphic,state:\"active\",tool:e,toolEventInfo:{coordinates:t,type:i},type:\"create\"})}})),a.on(\"draw-complete\",(e=>{const t=e.vertices.slice(0);let i=null;1===t.length&&(s=!1,n=!1),i=s?o.createSquare(t,a.viewAlignedCoordinateSystem,n):o.createRectangle(t,a.viewAlignedCoordinateSystem,n),this.createGraphic?this.createGraphic.geometry=i:(this._removeCreateGraphic(),this._set(\"createGraphic\",new G(i,this.polygonSymbol))),h&&h.complete()}))],c=[this.view.on(\"pointer-move\",(e=>{t(a.getCoordsFromScreenPoint(y(e.x,e.y)))?this._displayCrosshairCursor():this._displayDefaultCursor()}),A.WIDGET),this.view.on(\"key-down\",(t=>{t.key===q.constraintKey?s||(s=!0,this._drawSegmentGraphic(o,e,a.vertices,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem)):t.key===q.centerKey?n||(n=!0,this._drawSegmentGraphic(o,e,a.vertices,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem)):t.key===q.cancelKey&&h&&h.cancel()}),A.WIDGET),this.view.on(\"key-up\",(t=>{t.key===q.constraintKey?(s=!1,this._drawSegmentGraphic(o,e,a.vertices,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem)):t.key===q.centerKey&&(n=!1,this._drawSegmentGraphic(o,e,a.vertices,{centered:n,constrainToggle:s},a.viewAlignedCoordinateSystem))}),A.WIDGET)],h=this._operationHandleForCreateAction(a,[...p,...c],e);return h}async _setupUpdateOperation(e,t){const{_defaultUpdateTool:i,defaultUpdateOptions:o,layer:a,view:s}=this,n={...o,...t},p=n.tool||i;for(const r of e)a.remove(r),a.add(r);if(\"3d\"===s.type){if(0===e.length)return null;switch(p){case\"move\":return this._setupMove3DOperation(e,n,s,p);case\"reshape\":{if(e.length>1)return this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null;const t=R(e[0]);return 0===t?this._setupReshape3DOperation(e[0],n,s):(this._logError(\"sketch:reshape\",`Reshape operation not supported for provided graphic(s) (${M(t)}).`),null)}case\"transform\":return this._setupGraphicTransform3DOperation(e,n,s)}}if(\"move\"===p)return this._setupMoveOperation(e,n,s);if(e.length>1)return\"reshape\"===p?(this._logError(\"sketch:reshape-multiple\",\"Reshape operation does not support multiple graphics.\"),null):this._setupTransformOrReshapeOperation(e,p,n,s);if(1===e.length){const t=e[0],i=r(t.geometry,\"type\");if(\"point\"===i||\"multipoint\"===i)return this._setupMoveOperation(e,n,s);if(\"transform\"===p||\"reshape\"===p)return this._setupTransformOrReshapeOperation(e,p,n,s)}return null}async _setupMove3DOperation(e,t,i,o,r=!1){for(const c of e){const e=U(c);if(0!==e)return this._logError(\"sketch:move\",`Move operation not supported for provided graphic(s) (${M(e)}).`),null}const a=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(X(a))return a;const s=new a.module.GraphicMoveTool({view:i,enableZ:t.enableZ});this.view.tools.add(s),s.graphics.addMany(e),r||this.updateGraphics.addMany(e);const n=[],p=new V({activeComponent:s,tool:o,type:\"update\",onEnd:()=>{var e;n.forEach((e=>e.remove())),n.length=0,null==(e=this.view.tools)||e.remove(s),s.destroyed||s.destroy()},undo:()=>{$(p,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:o})},redo:()=>{Y(p,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:o})},addToSelection:e=>{this.updateGraphics.push(e),s.graphics.push(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);p.history.undo.forEach((e=>e.updates.splice(t,1))),p.history.redo.forEach((e=>e.updates.splice(t,1))),this.updateGraphics.remove(e),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?s.graphics.remove(e):p.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;if(\"transform\"!==o)return;const e=this.updateGraphics.getItemAt(0);if(0!==R(e))return;const r=await this._setupReshape3DOperation(e,t,i,!0);X(r)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(r,t))}});return n.push(...this._getHandlesForComponent(p,t),this.view.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(p,e)),A.WIDGET),this.view.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(p,e)),A.WIDGET)),p}_setupGraphicTransform3DOperation(e,i,o,r=!1){if(1===e.length&&0===F(e[0])){const a=e[0];if(t(a.geometry)&&\"point\"===a.geometry.type)return this._setupPointTransform3DOperation(a,i,o);if(t(a.geometry)&&(\"polygon\"===a.geometry.type||\"polyline\"===a.geometry.type)&&b())return this._setupPolyTransform3DOperation(a,i,o,r)}return this._setupMove3DOperation(e,i,o,\"transform\",r)}async _setupPointTransform3DOperation(e,t,i){const o=\"transform\",{enableRotation:r,enableScaling:a,enableZ:s}=t,n=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(X(n))return n;const p=new n.module.GraphicTransformTool({graphic:e,view:i,enableRotation:r,enableScaling:a,enableZ:s});this.view.tools.add(p),this.updateGraphics.add(e);const c=[],h=new V({activeComponent:p,tool:o,type:\"update\",onEnd:()=>{var e;c.forEach((e=>e.remove())),c.length=0,null==(e=this.view.tools)||e.remove(p),p.destroyed||p.destroy()},undo:()=>{$(h,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:o})},redo:()=>{Y(h,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:o})},addToSelection:async e=>{this.updateGraphics.add(e);const o=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,i,\"transform\",!0);X(o)||(h.onEnd(),h.destroy(),this._setUpdateOperationHandle(o,t))}});return c.push(...this._getHandlesForComponent(h,t),this.view.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(h,e)),A.WIDGET),this.view.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(h,e)),A.WIDGET)),h}async _setupPolyTransform3DOperation(e,t,i,o=!1){const r=\"transform\",{enableRotation:a,enableScaling:s,enableZ:n}=t,p=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(X(p))return p;const c=new p.module.ExtentTransformTool({graphic:e,view:i,enableRotation:a,enableScaling:s,enableZ:n});this.view.tools.add(c),o||this.updateGraphics.add(e);const h=[],l=new V({activeComponent:c,tool:r,type:\"update\",onEnd:()=>{var e;h.forEach((e=>e.remove())),h.length=0,null==(e=this.view.tools)||e.remove(c),c.destroyed||c.destroy()},undo:()=>{$(l,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r})},redo:()=>{Y(l,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r})},addToSelection:async e=>{this.updateGraphics.add(e);const o=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,i,\"transform\",!0);X(o)||(l.onEnd(),l.destroy(),this._setUpdateOperationHandle(o,t))},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===t.toggleToolOnClick)return;const e=this.updateGraphics.getItemAt(0);if(0!==R(e))return;const o=await this._setupReshape3DOperation(e,t,i,!0);X(o)||(l.onEnd(),l.destroy(),this._setUpdateOperationHandle(o,t))}});return h.push(...this._getHandlesForComponent(l,t),c.on(\"immediate-click\",(()=>l.toggleTool())),this.view.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(l,e)),A.WIDGET),this.view.on(\"key-down\",(e=>this._getCommonUpdateOperationKeyDownHandlers(l,e)),A.WIDGET)),l}async _setupMoveOperation(e,t,i){const o=\"move\";this.updateGraphics.addMany(e);const r=this._getCloneInfos(e);for(const c of r)this._internalGraphicsLayer.add(c.clone);const a=await this._getGraphicMover(e,t,i);if(X(a))return a;const s=new V({activeComponent:a,tool:o,type:\"update\",onEnd:()=>{var e;this._displayDefaultCursor(),p.forEach((e=>e.remove())),n.forEach((e=>e.remove())),p=[],n=[],a.destroy(),null==(e=this._internalGraphicsLayer)||e.removeMany([...this.updateGraphics.toArray(),...r.map((e=>e.clone))])},undo:()=>{$(s,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:o})},redo:()=>{Y(s,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:o})},addToSelection:e=>{this.updateGraphics.push(e),a.graphics=this.updateGraphics.toArray();const t=this._createClone(e);r.push({graphic:e,clone:t}),this._internalGraphicsLayer.add(t),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=this.updateGraphics.indexOf(e);s.history.undo.forEach((e=>e.updates.splice(t,1))),s.history.redo.forEach((e=>e.updates.splice(t,1)));const i=r.findIndex((t=>t.graphic===e)),o=r[i];this._internalGraphicsLayer.remove(o.clone),this.updateGraphics.remove(e),r.splice(i,1);const n=this.updateGraphics.toArray();this.emit(\"update\",{graphics:n,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?a.graphics=n:s.complete()}});let n=[i.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(s,e,t)),A.WIDGET),i.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(s,e),e.key!==q.constraintKey||e.repeat||(a.enableMoveAllGraphics=!a.enableMoveAllGraphics)}),A.WIDGET),i.on(\"key-up\",(e=>{e.key===q.constraintKey&&(a.enableMoveAllGraphics=!a.enableMoveAllGraphics)}),A.WIDGET)],p=this._getHandlesForComponent(s,t);return p.push(a.on(\"graphic-move\",(e=>{r.forEach((t=>{const i=e.allGraphics.find((e=>e===t.graphic));i&&(t.clone.geometry=i.geometry)}))}))),s}_getCloneInfos(e){return(null==e?void 0:e.map((e=>({graphic:e,clone:this._createClone(e)}))))||[]}_createClone(e){const t=e.clone();return t.symbol=this._getSymbolForClone(e),t}_getSymbolForClone(e){const t=12;if(o(e.symbol))return null;switch(e.symbol.type){case\"cim\":return new g({style:\"circle\",size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case\"picture-marker\":{const{xoffset:t,yoffset:i,height:o,width:r}=e.symbol,a=o===r?r:Math.max(o,r);return new g({xoffset:t,yoffset:i,size:a,style:\"square\",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-marker\":{const{xoffset:t,yoffset:i,size:o,style:r}=e.symbol;return new g({xoffset:t,yoffset:i,style:\"circle\"===r?\"circle\":\"square\",size:o+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case\"simple-fill\":return new m({color:[0,0,0,0],outline:{style:\"dash\",color:[255,127,0,1],width:1}});case\"simple-line\":return new v({color:[255,127,0,1],style:\"dash\",width:1});case\"text\":{const{xoffset:i,yoffset:o}=e.symbol;return new g({xoffset:i,yoffset:o,size:t,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}async _setupReshape3DOperation(e,t,i,o=!1){const r=\"reshape\",a=await this._requireModule(import(\"../../views/3d/interactive/editingTools.js\"));if(X(a))return a;this.snappingOptions.enabledToggled=!1;const s=new a.module.GraphicReshapeTool({view:i,graphic:e,enableZ:t.enableZ,enableMoveGraphic:t.enableMoveGraphic,snappingOptions:this.snappingOptions});i.tools.add(s),o||this.updateGraphics.add(e);const n=[],p=new V({activeComponent:s,tool:r,type:\"update\",onEnd:()=>{var e;n.forEach((e=>e.remove())),n.length=0,null==(e=this.view.tools)||e.remove(s),s.destroyed||s.destroy()},undo:()=>{s.beforeUndo(),$(p,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r})},redo:()=>{Y(p,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r})},addToSelection:async e=>{this.updateGraphics.add(e);const o=await this._setupMove3DOperation(this.updateGraphics.toArray(),t,i,\"transform\",!0);X(o)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(o,t))},toggleTool:async()=>{if(!1===t.toggleToolOnClick)return;const e=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),t,i,!0);X(e)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(e,t))}});return n.push(...this._getHandlesForComponent(p,t),i.on(\"immediate-click\",(e=>this._getCommonUpdateOperationClickHandlers(p,e)),A.WIDGET),i.on(\"key-down\",(e=>{this._getCommonUpdateOperationKeyDownHandlers(p,e),e.key===q.snappingKey&&(s.snappingOptions.enabledToggled=!0,e.stopPropagation())}),A.WIDGET),i.on(\"key-up\",(e=>{e.key===q.snappingKey&&(s.snappingOptions.enabledToggled=!1,e.stopPropagation())}),A.WIDGET)),p}async _setupTransformOrReshapeOperation(e,t,i,o){const{multipleSelectionEnabled:r}=i;this.updateGraphics.addMany(e);const a=\"transform\"===t?await this._getBox(e,i,o):await this._getReshape(e,i,o);if(X(a))return a;const s=new V({activeComponent:a,type:\"update\",onEnd:()=>{p.forEach((e=>e.remove())),n.forEach((e=>e.remove())),p=[],n=[],s.activeComponent&&!s.activeComponent.destroyed&&s.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{$(s,this.updateGraphics.toArray()),s.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s.tool})},redo:()=>{Y(s,this.updateGraphics.toArray()),s.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s.tool})},addToSelection:e=>{const t=s.activeComponent;this.updateGraphics.add(e),t.graphics=this.updateGraphics.toArray(),t.refresh(),s.resetHistory(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[e],removed:[],type:\"selection-change\"},type:\"update\"})},removeFromSelection:e=>{const t=s.activeComponent,i=this.updateGraphics.indexOf(e);s.history.undo.forEach((e=>e.updates.splice(i,1))),s.history.redo.forEach((e=>e.updates.splice(i,1))),this.updateGraphics.remove(e);const o=this.updateGraphics.toArray();this.emit(\"update\",{graphics:o,state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[e],type:\"selection-change\"},type:\"update\"}),0!==this.updateGraphics.length?t.graphics=o:s.complete()},toggleTool:async()=>{if(this.updateGraphics.length>1)return;let t=null;\"transform\"===s.tool?t=await this._getReshape(e,i,o):\"reshape\"===s.tool&&(t=await this._getBox(e,i,o)),X(t)||(s.activeComponent.destroy(),s.activeComponent=t,s.activeComponent&&(p.forEach((e=>e.remove())),p=this._getHandlesForComponent(s,i)))}});let n=[o.on(\"immediate-click\",(e=>{this._getFirstHit(k(e)).then((t=>{var i;if(!s)return;if(null==(i=t.results)||!i.length)return void s.complete();const o=s.activeComponent;t.results.some((t=>{if(t.graphic){var i;const a=t.graphic;if(\"box\"===(null==o?void 0:o.type)&&null!=(i=e.native)&&i.shiftKey&&r)return s.addToSelection(a),!0;a.layer===this.layer&&s.complete()}return!1}))&&e.stopPropagation()}))}),A.WIDGET),o.on(\"key-down\",(e=>{if(this._getCommonUpdateOperationKeyDownHandlers(s,e),e.key===q.constraintKey&&!e.repeat&&s){const e=s.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),A.WIDGET),o.on(\"key-up\",(e=>{if(e.key===q.constraintKey&&s){const e=s.activeComponent;e&&\"box\"===e.type&&(e.preserveAspectRatio=!e.preserveAspectRatio)}}),A.WIDGET)],p=this._getHandlesForComponent(s,i);return s}async _getGraphicMover(e,t,i){const{enableMoveAllGraphics:o}=t,r=await this._requireModule(import(\"../../views/draw/support/GraphicMover.js\"));return X(r)?r:new r.module.default({enableMoveAllGraphics:o,graphics:e,view:i,callbacks:{onGraphicMoveStart:({dx:e,dy:t,graphic:i})=>{this._displayGrabbingCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:\"move-start\"},type:\"update\"})},onGraphicMove:({dx:e,dy:t,graphic:i})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:\"move\"},type:\"update\"}),onGraphicMoveStop:({dx:e,dy:t,graphic:i})=>{this._displayPointerCursor(),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:\"move-stop\"},type:\"update\"})},onGraphicPointerOver:()=>this._displayPointerCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(e,t,i){const{enableRotation:o,enableScaling:r,preserveAspectRatio:a}=t,s=await this._requireModule(import(\"../../views/draw/support/Box.js\"));return X(s)?s:new s.module.default({graphics:e,enableRotation:o,enableScaling:r,preserveAspectRatio:a,layer:this._internalGraphicsLayer,view:i,callbacks:{onMoveStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMove:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onMoveStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScale:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onScaleStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotate:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onRotateStop:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"})}})}async _getReshape(e,t,i){const{enableMidpoints:o=!0}=t,r=await this._requireModule(import(\"../../views/draw/support/Reshape.js\"));return X(r)?r:new r.module.default({enableMidpoints:o,graphic:e[0],layer:this._internalGraphicsLayer,view:i,callbacks:{onReshapeStart:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshape:e=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{...e},type:\"update\"}),onReshapeStop:({mover:e,type:t})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e,type:t},type:\"update\"}),onMoveStart:({dx:e,dy:t,mover:i,type:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:o},type:\"update\"}),onMove:({dx:e,dy:t,mover:i,type:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:o},type:\"update\"}),onMoveStop:({dx:e,dy:t,mover:i,type:o})=>this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e,dy:t,mover:i,type:o},type:\"update\"}),onVertexAdd:({added:e,type:t,vertices:i})=>{const o=e.map((e=>h(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{added:o,vertices:i,type:t},type:\"update\"})},onVertexRemove:({removed:e,type:t,vertices:i})=>{const o=e.map((e=>h(e.geometry)));this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:o,vertices:i,type:t},type:\"update\"})}}})}_getHandlesForComponent(e,t){const i=e.activeComponent;switch(i.type){case\"graphic-mover\":return[i.on(\"graphic-click\",(({graphic:t,viewEvent:i})=>{var o;null!=(o=i.native)&&o.shiftKey&&(i.stopPropagation(),e.removeFromSelection(t))})),i.on(\"graphic-move-start\",(t=>e.addToHistory(J(t.allGraphics))))];case\"box\":return[i.on(\"graphic-click\",(i=>this._onTransformOrReshape2DGraphicClick(e,t,i))),i.on(\"move-start\",(t=>e.addToHistory(J(t.graphics)))),i.on(\"rotate-start\",(t=>e.addToHistory(J(t.graphics)))),i.on(\"scale-start\",(t=>e.addToHistory(J(t.graphics))))];case\"reshape\":return[i.on(\"graphic-click\",(i=>this._onTransformOrReshape2DGraphicClick(e,t,i))),i.on(\"move-start\",(t=>e.addToHistory(J([t.mover])))),i.on(\"reshape-start\",(t=>e.addToHistory(J([t.graphic])))),i.on(\"vertex-add\",(t=>e.addToHistory(J([t.oldGraphic])))),i.on(\"vertex-remove\",(t=>e.addToHistory(J([t.oldGraphic]))))];case\"move-3d\":return[i.on(\"graphic-move-start\",(t=>{e.addToHistory(J(t.allGraphics)),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:t.allGraphics.length>0?t.allGraphics[0]:null,type:\"move-start\"},type:\"update\"})})),i.on(\"graphic-move\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:e.dx,dy:e.dy,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:\"move\"},type:\"update\"})})),i.on(\"graphic-move-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:\"move-stop\"},type:\"update\"})})),i.on(\"immediate-click\",(i=>{i.shiftKey?this._toggleSelection([i.graphic],e,t):e.toggleTool()}))];case\"transform-3d\":return[i.on(\"graphic-translate-start\",(t=>{e.addToHistory(J([t.graphic])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,dx:t.dxScreen,dy:t.dyScreen,type:\"move-start\"},type:\"update\"})})),i.on(\"graphic-translate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move-stop\"},type:\"update\"})})),i.on(\"graphic-rotate-start\",(t=>{e.addToHistory(Q([t.graphic])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,angle:t.angle,type:\"rotate-start\"},type:\"update\"})})),i.on(\"graphic-rotate-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:\"rotate-stop\"},type:\"update\"})})),i.on(\"graphic-scale-start\",(t=>{e.addToHistory(Q([t.graphic])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,xScale:t.scale,yScale:t.scale,type:\"scale-start\"},type:\"update\"})})),i.on(\"graphic-scale-stop\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.scale,yScale:e.scale,type:\"scale-stop\"},type:\"update\"})})),i.on(\"graphic-translate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,dx:e.dxScreen,dy:e.dyScreen,type:\"move\"},type:\"update\"})})),i.on(\"graphic-rotate\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,angle:e.angle,type:\"rotate\"},type:\"update\"})})),i.on(\"graphic-scale\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:e.graphic,xScale:e.scale,yScale:e.scale,type:\"scale\"},type:\"update\"})}))];case\"reshape-3d\":return[i.on(\"reshape\",(t=>{\"reshape-start\"===t.type&&e.addToHistory(J([t.mover])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:t,type:\"update\"})})),i.on(\"move\",(t=>{\"move-start\"===t.type&&e.addToHistory(J([t.mover])),this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:t,type:\"update\"})})),i.on(\"vertex-add\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),i.on(\"vertex-remove\",(e=>{this.emit(\"update\",{graphics:this.updateGraphics.toArray(),state:\"active\",aborted:!1,tool:this.activeTool,toolEventInfo:e,type:\"update\"})})),i.on(\"immediate-click\",(()=>e.toggleTool()))];case\"draw\":case\"draw-3d\":return null;default:return}}_onTransformOrReshape2DGraphicClick(e,t,i){var r;const{graphic:a,viewEvent:s}=i;null!=(r=s.native)&&r.shiftKey?(s.stopPropagation(),e.removeFromSelection(a)):t.toggleToolOnClick&&(o(a.geometry)||\"extent\"!==a.geometry.type?(s.stopPropagation(),e.toggleTool()):this._logError(\"sketch:reshape-extent\",\"Reshape operation does not support graphics with geometry of type 'extent'.\"))}_setUpdateOperationHandle(e,t){this._operationHandle=e;const i=this.view.map;this._disablePopup(t);const o=()=>{if(e===this._operationHandle){const o=this.updateGraphics.toArray(),r=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),i&&i.remove(this._internalGraphicsLayer),this._restorePopup(t),this.emit(\"update\",{graphics:o,state:\"complete\",aborted:e.cancelled,tool:r,toolEventInfo:null,type:\"update\"})}};e.on(\"complete\",o)}_getCommonUpdateOperationClickHandlers(e,t,i){const o=k(t);this._getFirstHit(o).then((o=>{const r=o.results;if(!r.length)return void e.complete();if(t.native.shiftKey&&this._toggleSelection(r.map((e=>e.graphic)),e,i))return void t.stopPropagation();r.some((e=>e.graphic&&this.updateGraphics.indexOf(e.graphic)>-1))?t.stopPropagation():e.complete()}))}_toggleSelection(e,t,i){const o=!i||!!i.multipleSelectionEnabled;return e.some((e=>null!=e&&(!(!o||e.layer!==this.layer)&&(-1===this.updateGraphics.indexOf(e)?t.addToSelection(e):t.removeFromSelection(e),!0))))}_getCommonUpdateOperationKeyDownHandlers(e,t){if(!e)return;const i=t.key;i===q.undoKey&&e.canUndo()?(t.stopPropagation(),e.undo()):i===q.redoKey&&e.canRedo()?(t.stopPropagation(),e.redo()):i===q.cancelKey?(t.stopPropagation(),e.cancel()):q.deleteKeys.indexOf(i)>=0&&this._onDeleteKey(t)}_onDeleteKey(e){if(!this._operationHandle||\"update\"!==this._operationHandle.type)return;const t=this.activeComponent;if(o(t)||\"reshape\"===t.type||\"reshape-3d\"===t.type)return;e.stopPropagation();const i=this.updateGraphics.toArray();this.layer.removeMany(i),this._emitDeleteEvent({graphics:i,tool:this.activeTool})}_drawMultipointGraphic(e,t,i){let o=null;if(!i&&t.length>1){const i=t.slice(0);i.pop(),o=e.createMultipoint(i,this.view.spatialReference)}else o=e.createMultipoint(t,this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=o:this._set(\"createGraphic\",new G(o,this.pointSymbol)),i&&1===t.length&&this._internalGraphicsLayer.add(this.createGraphic)}_drawVertexGraphics(e,t,i,o){if(!i.length)return;const{_doUnnormalization:r,activeLineSymbol:a,activeVertexSymbol:s,polygonSymbol:n,polylineSymbol:p,vertexSymbol:c,view:{spatialReference:h}}=this,l=!(!o||!o.userClicked),d=\"polygon\"===t,y=d?n:p;if(1===i.length){this._removeLineGraphic(),this._removeActiveLineGraphic();const t=this.createPointFromVertex(i[0]),o=d?e.createPolygon([i],h,r,!0):e.createPolyline([i],h,r);this._vertexGraphics.length?this._vertexGraphics[0].geometry=t:this._vertexGraphics.push(new G(t,s)),this.createGraphic?this.createGraphic.geometry=o:this._set(\"createGraphic\",new G(o,y)),l&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===i.length){const t=this.createPointFromVertex(i[1]),o=e.createPolyline([i],h,r),a=d?e.createPolygon([i],h,r,!0):e.createPolyline([i],h,r);if(!this._vertexGraphics.length){const e=this.createPointFromVertex(i[0]),t=new G(e,c);this._vertexGraphics.push(t)}if(1===this._vertexGraphics.length){const e=this._vertexGraphics[0],i=new G(t,c);this._removeLineGraphic(),this._removeActiveFillGraphic(),this._vertexGraphics.push(i),this._internalGraphicsLayer.remove(e),this._internalGraphicsLayer.add(e)}else this._vertexGraphics[1].geometry=t;this._showActiveLineGraphic(o);const s=this._vertexGraphics[0];l&&(this._activeLineGraphic.symbol=p,s.symbol=c,this._internalGraphicsLayer.add(this._vertexGraphics[1])),this.createGraphic?this.createGraphic.geometry=a:this._set(\"createGraphic\",new G(a,n)),this._internalGraphicsLayer.remove(s),this._internalGraphicsLayer.add(s)}else if(i.length>2){const o=d?e.createPolygon([i],h,r,!0):e.createPolyline([i],h,r);\"polygon\"===t&&this._showFillGraphic(o);const n=i.map((e=>e.slice())),u=n.pop(),v=[n[n.length-1],u],m=e.createPolyline([n],h,r),g=e.createPolyline([v],h,r);this._showLineGraphic(m),this._showActiveLineGraphic(g);for(let e=0;e<n.length;e++){const t=this._vertexGraphics[e];if(t)l||e!==this._vertexGraphics.length-1?t.symbol=c:t.symbol=s;else{const t=this.createPointFromVertex(i[e]);this._showVertexGraphic(t)}}if(l){this._activeLineGraphic.symbol=p;const e=i.length-1,t=this.createPointFromVertex(i[e]);this._showVertexGraphic(t)}else this._activeLineGraphic.symbol=a;this.createGraphic?this.createGraphic.geometry=o:(this._removeCreateGraphic(),this._set(\"createGraphic\",new G(o,y)));for(const e of this._vertexGraphics)this._internalGraphicsLayer.remove(e),this._internalGraphicsLayer.add(e)}}_drawSegmentGraphic(e,i,o,r,a){if(!o.length)return;const s=!(null==r||!r.centered),n=!(null==r||!r.constrainToggle);let p;1===o.length?this._removeCenterIndicatorGraphic():(\"rectangle\"===i?p=n?e.createSquare(o,a,s):e.createRectangle(o,a,s):\"circle\"===i&&(p=n?e.createEllipse(o,a,s):e.createCircle(o,a,s,this.view.resolution)),t(p)&&p.extent&&p.extent.center&&this._showCenterIndicatorGraphic(p.extent.center)),p?this.createGraphic?this.createGraphic.geometry=p:(this._removeCreateGraphic(),this._set(\"createGraphic\",new G(p,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}_showCenterIndicatorGraphic(e){this._centerIndicatorGraphic?this._centerIndicatorGraphic.geometry=e:(this._centerIndicatorGraphic=new G(e,this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))}_removeCenterIndicatorGraphic(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)}_showActiveLineGraphic(e){this._activeLineGraphic?(this._activeLineGraphic.geometry=e,this._internalGraphicsLayer.remove(this._activeLineGraphic)):this._activeLineGraphic=new G(e,this.activeLineSymbol),this._internalGraphicsLayer.add(this._activeLineGraphic)}_showFillGraphic(e){this._activeFillGraphic?(this._activeFillGraphic.geometry=e,this._internalGraphicsLayer.remove(this._activeFillGraphic)):this._activeFillGraphic=new G(e,this.activeFillSymbol),this._internalGraphicsLayer.add(this._activeFillGraphic)}_showLineGraphic(e){this._lineGraphic?(this._lineGraphic.geometry=e,this._internalGraphicsLayer.remove(this._lineGraphic)):this._lineGraphic=new G(e,this.polylineSymbol),this._internalGraphicsLayer.add(this._lineGraphic)}_showVertexGraphic(e,t){const i=t?this.activeVertexSymbol:this.vertexSymbol,o=new G(e,i);this._vertexGraphics.push(o),this._internalGraphicsLayer.add(o)}_resetCreateOperationGraphics(){this._removeActiveFillGraphic(),this._removeLineGraphic(),this._removeActiveLineGraphic(),this._removeVertexGraphics()}_removeCreateGraphic(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set(\"createGraphic\",null))}_removeCreateOperationGraphics(){this._removeCenterIndicatorGraphic(),this._removeActiveLineGraphic(),this._removeActiveFillGraphic(),this._removeLineGraphic(),this._removeVertexGraphics()}_removeActiveLineGraphic(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)}_removeActiveFillGraphic(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),this._activeFillGraphic.destroy(),this._activeFillGraphic=null)}_removeLineGraphic(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),this._lineGraphic.destroy(),this._lineGraphic=null)}_removeVertexGraphics(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach((e=>e.destroy())),this._vertexGraphics=[])}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)}_operationHandleForCreateAction(e,t,i){return new V({activeComponent:this._draw,tool:i,type:\"create\",onEnd:()=>{t.forEach((e=>e.remove())),t.length=0,this._removeCreateOperationGraphics(),this._internalGraphicsLayer&&this._internalGraphicsLayer.remove(this.createGraphic),this._displayDefaultCursor()},undo:()=>{e.undo(),this._emitUndoEvent({graphics:[this.createGraphic],tool:i})},redo:()=>{e.redo(),this._emitRedoEvent({graphics:[this.createGraphic],tool:i})},canUndo:()=>e&&e.canUndo(),canRedo:()=>e&&e.canRedo()})}_isComponentGraphic(e){const{activeComponent:t}=this;return!(!e||o(t))&&(!(!e.attributes||!e.attributes.esriSketchTool)||(\"box\"===t.type||\"reshape\"===t.type)&&t.isUIGraphic(e))}_snap(e,t,i){i&&this._snapLastVertexToAxis(t),\"polygon\"===e&&this._snapLastPolygonVertexToFirst(t)}_snapLastPolygonVertexToFirst(e){if(e.length<=2)return;const t=e[0],i=e[e.length-1],o=this.view.toScreen(new c(t[0],t[1],this.view.spatialReference)),r=this.view.toScreen(new c(i[0],i[1],this.view.spatialReference));this._isWithinScreenDistance(o,r,this._getVertexIntersectDistance())&&(i[0]=t[0],i[1]=t[1])}_getVertexIntersectDistance(){const e=3;return this.vertexSymbol&&\"simple-marker\"===this.vertexSymbol.type?u(this.vertexSymbol.size)/2+e:e}_isWithinScreenDistance(e,t,i){const o=e.x-t.x,r=e.y-t.y;return Math.sqrt(o*o+r*r)<=i}_snapLastVertexToAxis(e){if(e.length<2)return;const i=e.pop(),r=e[e.length-1],a=L(this.view,r),s=a.mapToLocal(r),n=a.mapToLocal(i);if(o(s)||o(n))return;const p=Math.abs(n.x-s.x),c=Math.abs(n.y-s.y),h=a.localToMap(D(p>c?n.x:s.x,p>c?s.y:n.y));t(h)&&e.push(h)}_displayPointerCursor(){this.view&&this.view.container&&\"pointer\"!==this.view.cursor&&(this.view.cursor=\"pointer\")}_displayGrabbingCursor(){this.view&&this.view.container&&\"grabbing\"!==this.view.cursor&&(this.view.cursor=\"grabbing\")}_displayCrosshairCursor(){this.view&&this.view.container&&\"crosshair\"!==this.view.cursor&&(this.view.cursor=\"crosshair\")}_displayDefaultCursor(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)}_logError(e,t,i){z.error(new p(e,t,i))}async _requireModule(e){const t=new AbortController;this._moduleLoaderAbortController=t;const i=await e;return this._moduleLoaderAbortController!==t||t.signal.aborted?{requireError:\"aborted\"}:{module:i}}_emitUndoEvent(e){this.emit(\"undo\",{...e,type:\"undo\"})}_emitRedoEvent(e){this.emit(\"redo\",{...e,type:\"redo\"})}_emitDeleteEvent(e){this.emit(\"delete\",{...e,type:\"delete\"})}createPointFromVertex(e){return e.length>2?new c(e[0],e[1],e[2],this.view.spatialReference):new c(e[0],e[1],this.view.spatialReference)}test(){return this._operationHandle}wait(){return S(this,\"updating\")}_beginAsyncOperation(){this._numUpdating+=1,this.notifyChange(\"updating\")}_endAsyncOperation(){this._numUpdating-=1,this.notifyChange(\"updating\")}_disablePopupEnabled(e){var t;return\"3d\"!==(null==(t=this.view)?void 0:t.type)||this.updateOnGraphicClick||e.toggleToolOnClick}_disablePopup(e){if(!this._disablePopupEnabled(e))return;const t=this.view.popup;t&&o(this._originalAutoOpenEnabled)&&(this._originalAutoOpenEnabled=t.autoOpenEnabled,t.autoOpenEnabled=!1)}_restorePopup(e){if(!this._disablePopupEnabled(e))return;const i=this.view.popup;i&&t(this._originalAutoOpenEnabled)&&(i.autoOpenEnabled=this._originalAutoOpenEnabled,this._originalAutoOpenEnabled=null)}};function $(e,i){const o=e.history.undo.pop().updates,r=[];i.forEach(((e,i)=>{const a=o[i],s={};null!=a&&(t(a.geometry)&&(s.geometry=e.geometry,e.geometry=a.geometry),t(a.symbol)&&(s.symbol=e.symbol,e.symbol=a.symbol),r.push(s))})),e.history.redo.push({updates:r})}function Y(e,i){const o=e.history.redo.pop().updates,r=[];i.forEach(((e,i)=>{const a=o[i],s={};null!=a&&(t(a.geometry)&&(s.geometry=e.geometry,e.geometry=a.geometry),t(a.symbol)&&(s.symbol=e.symbol,e.symbol=a.symbol),r.push(s))})),e.history.undo.push({updates:r})}function J(e){return{updates:e.map((e=>({geometry:e.geometry})))}}function Q(e){return{updates:e.map((e=>({symbol:e.symbol})))}}function X(e){return\"requireError\"in e&&\"aborted\"===e.requireError}e([s({readOnly:!0})],N.prototype,\"_draw\",null),e([s()],N.prototype,\"updating\",null),e([s()],N.prototype,\"_operationHandle\",void 0),e([s({readOnly:!0})],N.prototype,\"activeTool\",null),e([s()],N.prototype,\"activeFillSymbol\",void 0),e([s()],N.prototype,\"activeLineSymbol\",void 0),e([s()],N.prototype,\"activeVertexSymbol\",void 0),e([s({readOnly:!0})],N.prototype,\"createGraphic\",null),e([s()],N.prototype,\"defaultCreateOptions\",null),e([s()],N.prototype,\"defaultUpdateOptions\",null),e([s()],N.prototype,\"layer\",void 0),e([s({types:_})],N.prototype,\"pointSymbol\",void 0),e([s({types:_})],N.prototype,\"polygonSymbol\",void 0),e([s({types:_})],N.prototype,\"polylineSymbol\",void 0),e([s({readOnly:!0})],N.prototype,\"state\",null),e([s({readOnly:!0})],N.prototype,\"updateGraphics\",void 0),e([s()],N.prototype,\"updateOnGraphicClick\",void 0),e([s({types:_})],N.prototype,\"updatePointSymbol\",void 0),e([s({types:_})],N.prototype,\"updatePolygonSymbol\",void 0),e([s({types:_})],N.prototype,\"updatePolylineSymbol\",void 0),e([s({types:_})],N.prototype,\"vertexSymbol\",void 0),e([s({value:null})],N.prototype,\"view\",null),e([s({type:H})],N.prototype,\"snappingOptions\",void 0),e([s()],N.prototype,\"cancel\",null),e([s()],N.prototype,\"complete\",null),e([s()],N.prototype,\"delete\",null),e([s()],N.prototype,\"create\",null),e([s()],N.prototype,\"update\",null),e([s()],N.prototype,\"undo\",null),e([s()],N.prototype,\"redo\",null),e([s()],N.prototype,\"canUndo\",null),e([s()],N.prototype,\"canRedo\",null),e([s()],N.prototype,\"toggleUpdateTool\",null),N=e([n(W)],N);var ee=N;export default ee;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{getGraphicEffectiveElevationMode as o,hasGraphicFeatureExpressionInfo as r}from\"../../../../../support/elevationInfoUtils.js\";function s(s){var n;if(\"graphics\"!==(null==(n=s.layer)?void 0:n.type))return 1;if(e(s.geometry))return 2;switch(s.geometry.type){case\"point\":break;case\"polygon\":case\"polyline\":return 0;case\"multipoint\":case\"extent\":case\"mesh\":default:return 3}const i=t(s.symbol)&&\"point-3d\"===s.symbol.type&&s.symbol.symbolLayers;if(!(i&&i.length>0&&i.some((e=>\"object\"===e.type))))return 5;return\"on-the-ground\"!==o(s)&&r(s)?4:0}export{s as isSupportedGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nasync function e(){return import(\"../../../geometry/geometryEngineJSON.js\")}async function n(){return e().then((({contains:e,intersects:n,overlaps:t,simplify:r})=>({contains:e,intersects:n,overlaps:t,simplify:r})))}async function t(e){const{selector:t,candidates:r,currentSelection:s,options:o,view:i}=e;if(!(r&&r.length&&s&&i))return{added:[],removed:[]};const{overlaps:c,intersects:a,contains:d}=o,{spatialReference:l}=i;if(!t){return{added:[],removed:s.removeAll()}}const p=t,u=await n(),m=[],v=[];return r.forEach((e=>{const n=e.geometry,t=c&&!!u.overlaps(l,p,n),r=a&&!!u.intersects(l,p,n),o=d&&!!u.contains(l,p,n),i=s.includes(e);t||r||o?!i&&m.push(e):i&&v.push(e)})),s.removeMany(v),s.addMany(m),{added:m,removed:v}}export{n as getGeometryEngineOperations,e as importGeometryEngine,t as updateSelection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import s from\"../../../core/Evented.js\";import i from\"../../../core/Collection.js\";import l from\"../../../symbols/SimpleLineSymbol.js\";import r from\"../../../symbols/SimpleFillSymbol.js\";import n from\"../../../symbols/SimpleMarkerSymbol.js\";import\"../../../chunks/symbols.js\";import c from\"../../../core/Handles.js\";import a from\"../../../layers/GraphicsLayer.js\";import p from\"../../Sketch/SketchViewModel.js\";import{updateSelection as h}from\"./selectorUtils.js\";let d=class extends s.EventedAccessor{constructor(e){super(),this._activeOptions=null,this._dashedFillSymbol=new r({color:[0,0,0,0],outline:{style:\"dash\",color:[12,207,255],width:2}}),this._dashedLineSymbol=new l({style:\"dash\",color:[12,207,255],width:2}),this._defaultOptions={tool:\"rectangle\",createOptions:null,selectionOptions:{overlaps:!0,intersects:!0,contains:!1}},this._completed=!1,this._handles=new c,this._sketchViewModel=new p,this._sketchGraphicsLayer=new a({listMode:\"hide\"}),this._transparentPointSymbol=new n({color:[0,0,0,0],outline:{style:\"none\",width:0}}),this.candidates=null,this.geometry=null,this.options=null,this.selection=new i,this.view=null,this.candidates=e.candidates,this.options=e.options,this.view=e.view;const{_dashedFillSymbol:t,_dashedLineSymbol:o,_sketchViewModel:s,_sketchGraphicsLayer:h,_transparentPointSymbol:d}=this;s.set({layer:h,view:this.view,activePointSymbol:d,activeLineSymbol:o,activeVertexSymbol:d,activeFillSymbol:t,pointSymbol:d,polygonSymbol:t,polylineSymbol:o,vertexSymbol:d}),this._handles.add([s.on(\"create\",(e=>this._onSketchEvent(e))),s.on([\"undo\",\"redo\"],(e=>this._onSketchEvent(e)))])}initialize(){this._load()}destroy(){this._handles.destroy(),this._handles=null}get state(){const{_completed:e,_sketchViewModel:{state:t}}=this;return e?\"complete\":\"active\"===t?\"active\":\"disabled\"}cancel(){this._sketchViewModel.cancel()}async _load(){await this.view.whenReady();const{options:e}=this,{tool:t,createOptions:o}=this._activeOptions={...this._defaultOptions,...e};this._sketchViewModel.create(t,o)}_onSketchEvent(e){const t=\"create\"===e.type?e.graphic:e.graphics[0],o=(null==t?void 0:t.geometry)||null,s=\"create\"===e.type&&\"cancel\"===e.state,i=\"create\"===e.type&&\"complete\"===e.state;this._processSelectionGeometry(o,i,s)}_processSelectionGeometry(e,t,o){if(this._set(\"geometry\",e),(t||o)&&(this._completed=!0),o)return void this._onComplete([],!0);const{_activeOptions:s,candidates:i,selection:l,view:r}=this;h({selector:e,candidates:i,currentSelection:l,options:s.selectionOptions,view:r}).then((({added:e,removed:o})=>{t?this._onComplete(this.selection.toArray(),!1):(e.length||o.length)&&this.emit(\"selection-change\",{added:e,removed:o,type:\"selection-change\"})}))}_onComplete(e,t){this._handles.removeAll(),this.notifyChange(\"state\"),this.emit(\"complete\",{aborted:t,selection:e,type:\"complete\"})}};e([t()],d.prototype,\"_completed\",void 0),e([t()],d.prototype,\"candidates\",void 0),e([t({readOnly:!0})],d.prototype,\"geometry\",void 0),e([t()],d.prototype,\"options\",void 0),e([t({readOnly:!0})],d.prototype,\"selection\",void 0),e([t({readOnly:!0})],d.prototype,\"state\",null),e([t({value:null})],d.prototype,\"view\",void 0),d=e([o(\"esri.widgets.support.Selector\")],d);var m=d;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import r from\"../../core/Accessor.js\";import s from\"../../core/Collection.js\";import{HandleOwnerMixin as i}from\"../../core/HandleOwner.js\";import{updateSelection as c}from\"./Selector/selectorUtils.js\";import n from\"./Selector/SelectionOperation.js\";let p=class extends(i(r)){constructor(o){super(o),this._defaultSelectionOptions={intersects:!0,overlaps:!0,contains:!0},this.candidates=null,this.options=null,this.view=null}draw(o){const{_defaultSelectionOptions:t,candidates:e,options:r,view:s}=this,i={...t,...r,...null==o?void 0:o.selectionOptions};return new n({candidates:e,options:{...o,selectionOptions:i},view:s})}async selectionFrom(o,t){const{_defaultSelectionOptions:e,candidates:r,options:i,view:n}=this,p=new s,l={...e,...i,...t};return await c({selector:o,candidates:r,currentSelection:p,options:l,view:n}),p.toArray()}};o([t()],p.prototype,\"candidates\",void 0),o([t()],p.prototype,\"options\",void 0),o([t({value:null})],p.prototype,\"view\",void 0),p=o([e(\"esri.widgets.support.Selector\")],p);var l=p;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.19/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import{cast as i}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import n from\"../core/Collection.js\";import{substitute as l}from\"../intl/substitute.js\";import\"../intl.js\";import{isRTL as a}from\"./support/widgetUtils.js\";import{messageBundle as r}from\"./support/decorators/messageBundle.js\";import{vmEvent as c}from\"./support/decorators/vmEvent.js\";import{j as d}from\"../chunks/index.js\";import u from\"./Widget.js\";import h from\"./Sketch/SketchViewModel.js\";import p from\"./support/Selector.js\";const v={base:\"esri-sketch\",verticalLayout:\"esri-sketch--vertical\",panel:\"esri-sketch__panel\",infoPanel:\"esri-sketch__info-panel\",section:\"esri-sketch__section\",toolSection:\"esri-sketch__tool-section\",infoSection:\"esri-sketch__info-section\",infoCountSection:\"esri-sketch__info-count-section\",featureCountBadge:\"esri-sketch__feature-count-badge\",featureCountText:\"esri-sketch__feature-count-text\",featureCountNumber:\"esri-sketch__feature-count-number\",button:\"esri-sketch__button\",selectedButton:\"esri-sketch__button--selected\",pointIcon:\"esri-icon-map-pin\",polygonIcon:\"esri-icon-polygon\",polylineIcon:\"esri-icon-polyline\",circleIcon:\"esri-icon-radio-unchecked\",rectangleIcon:\"esri-icon-checkbox-unchecked\",cursorIcon:\"esri-icon-cursor\",resetIcon:\"esri-icon-trash\",undoIcon:\"esri-icon-undo\",redoIcon:\"esri-icon-redo\",rectangleSelectIcon:\"esri-icon-cursor-marquee\",lassoSelectIcon:\"esri-icon-lasso\",esriWidget:\"esri-widget\",widgetIcon:\"esri-icon-edit\",disabled:\"esri-disabled\"},b={createTools:{point:!0,polyline:!0,polygon:!0,rectangle:!0,circle:!0},selectionTools:{\"rectangle-selection\":!0,\"lasso-selection\":!0},undoRedoMenu:!0};let g=class extends u{constructor(e,t){super(e,t),this._activeCreateOptions=null,this._activeSelectionInfo=null,this._selector=new p,this.availableCreateTools=[\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\"],this.createGraphic=null,this.creationMode=\"continuous\",this.defaultCreateOptions=null,this.defaultUpdateOptions=null,this.iconClass=v.widgetIcon,this.label=void 0,this.layer=null,this.messages=null,this.updateGraphics=new n,this.view=null,this.viewModel=new h,this.visibleElements={...b},this._activateCreateTool=this._activateCreateTool.bind(this)}initialize(){const{view:e}=this;this._selector.view=e,this.own([this.viewModel.on(\"create\",(()=>this.scheduleRender())),this.viewModel.on(\"update\",(()=>this.scheduleRender())),this.viewModel.on(\"create\",(e=>this._onCreateOperation(e))),this.viewModel.on(\"delete\",(e=>this.emit(\"delete\",e))),this.viewModel.on(\"undo\",(()=>this.scheduleRender())),this.viewModel.on(\"redo\",(()=>this.scheduleRender())),this.viewModel.watch(\"view\",(e=>this._selector.set({view:e}))),this.viewModel.watch(\"state\",(()=>this.notifyChange(\"state\")))])}get activeTool(){var e;return(null==(e=this._activeSelectionInfo)?void 0:e.tool)||this.viewModel.activeTool}set layout(e){\"vertical\"!==e&&(e=\"horizontal\"),this._set(\"layout\",e)}get state(){return this._activeSelectionInfo?\"active\":this.viewModel.state}castVisibleElements(e){return{...b,...e,createTools:{...b.createTools,...null==e?void 0:e.createTools},selectionTools:{...b.selectionTools,...null==e?void 0:e.selectionTools}}}create(e,t){this._activeCreateOptions=t||null,this.viewModel.create(e,t)}update(e,t){return this.viewModel.update(e,t)}complete(){}cancel(){this._cancelSelectionOperation(),this.viewModel.cancel()}undo(){}redo(){}delete(){}render(){const{label:e,layout:t,viewModel:{state:o}}=this;return d(\"div\",{\"aria-label\":e,class:this.classes(v.base,v.esriWidget,{[v.disabled]:\"disabled\"===o,[v.verticalLayout]:\"vertical\"===t})},d(\"div\",{class:v.panel},this.renderTopPanelContents()),d(\"div\",{class:this.classes(v.panel,v.infoPanel)},this.renderInfoPanelContents()))}renderTopPanelContents(){const e=this.classes(v.section,v.toolSection),{availableCreateTools:t,visibleElements:o}=this;return[d(\"div\",{key:\"selection-button-container\",class:e},this.renderSelectionTools()),t&&t.length?d(\"div\",{class:e},this.renderDrawButtons()):null,o.undoRedoMenu?d(\"div\",{key:\"menu-button-container\",class:e},this.renderMenuButtons()):null]}renderInfoPanelContents(){if(this.updateGraphics.length)return[d(\"div\",{class:this.classes(v.section,v.infoSection,v.infoCountSection),key:\"feature-count-container\"},this.renderFeatureCount()),d(\"div\",{class:this.classes(v.section,v.infoSection),key:\"delete-button-container\"},this.renderDeleteButton())]}renderFeatureCount(){const{layout:e,messages:t,updateGraphics:{length:o}}=this,i=l(1===o?t.featureCount:t.featuresCount,{count:o});return d(\"div\",{class:v.featureCountBadge,\"aria-label\":i},d(\"span\",{class:v.featureCountNumber},\"vertical\"===e?o:i))}renderDeleteButton(){const e=this.messages.deleteFeature;return d(\"button\",{\"aria-label\":e,bind:this,class:this.classes(v.button,v.resetIcon),onclick:this.delete,title:e,type:\"button\"})}renderSelectionTools(){return[this.renderDefaultSelectionButton(),this.renderRectangleSelectionButton(),this.renderLassoSelectionButton()]}renderDefaultSelectionButton(){if(!this.viewModel.updateOnGraphicClick)return;const e=this.messages.selectFeature;return d(\"button\",{\"aria-label\":e,bind:this,class:this.classes(v.button,v.cursorIcon,{[v.selectedButton]:\"ready\"===this.state}),onclick:this.cancel,title:e})}renderRectangleSelectionButton(){var e,t;if(\"2d\"!==(null==(e=this.view)?void 0:e.type)||!this.visibleElements.selectionTools[\"rectangle-selection\"])return;const o=this.messages.selectRectangle;return d(\"button\",{\"aria-label\":o,bind:this,class:this.classes(v.button,v.rectangleSelectIcon,{[v.selectedButton]:\"rectangle-selection\"===(null==(t=this._activeSelectionInfo)?void 0:t.tool)}),onclick:this._activateRectangleSelectTool,title:o})}renderLassoSelectionButton(){var e,t;if(\"2d\"!==(null==(e=this.view)?void 0:e.type)||!this.visibleElements.selectionTools[\"lasso-selection\"])return;const o=this.messages.selectLasso;return d(\"button\",{\"aria-label\":o,bind:this,class:this.classes(v.button,v.lassoSelectIcon,{[v.selectedButton]:\"lasso-selection\"===(null==(t=this._activeSelectionInfo)?void 0:t.tool)}),onclick:this._activateLassoSelectTool,title:o})}renderDrawButtons(){const e=this.visibleElements.createTools;return this.availableCreateTools.map((t=>\"point\"===t&&e.point?this.renderPointButton():\"polyline\"===t&&e.polyline?this.renderPolylineButton():\"polygon\"===t&&e.polygon?this.renderPolygonButton():\"rectangle\"===t&&e.rectangle?this.renderRectangleButton():\"circle\"===t&&e.circle?this.renderCircleButton():void 0))}renderPointButton(){const e=\"point\",t=this.messages.drawPoint,o=[v.button,v.pointIcon];return this.activeTool===e&&o.push(v.selectedButton),d(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderPolygonButton(){const e=\"polygon\",t=this.messages.drawPolygon,o=[v.button,v.polygonIcon];return this.activeTool===e&&o.push(v.selectedButton),d(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderPolylineButton(){const e=\"polyline\",t=this.messages.drawPolyline,o=[v.button,v.polylineIcon];return this.activeTool===e&&o.push(v.selectedButton),d(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderCircleButton(){const e=\"circle\",t=this.messages.drawCircle,o=[v.button,v.circleIcon];return this.activeTool===e&&o.push(v.selectedButton),d(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderRectangleButton(){const e=\"rectangle\",t=this.messages.drawRectangle,o=[v.button,v.rectangleIcon];return this.activeTool===e&&o.push(v.selectedButton),d(\"button\",{\"aria-label\":t,bind:this,class:this.classes(o),\"data-tool-name\":e,onclick:this._activateCreateTool,title:t,type:\"button\"})}renderMenuButtons(){return[this.renderUndoButton(),this.renderRedoButton()]}renderUndoButton(){const e=this.messages.undo,t=!this.viewModel.canUndo(),o=a()?v.redoIcon:v.undoIcon;return d(\"button\",{\"aria-label\":e,bind:this,class:this.classes(v.button,o),disabled:t,onclick:this.undo,title:e,type:\"button\"})}renderRedoButton(){const e=this.messages.redo,t=!this.viewModel.canRedo(),o=a()?v.undoIcon:v.redoIcon;return d(\"button\",{\"aria-label\":e,bind:this,class:this.classes(v.button,o),disabled:t,onclick:this.redo,title:e,type:\"button\"})}_cancelSelectionOperation(){var e,t;null==(e=this._activeSelectionInfo)||null==(t=e.operation)||t.cancel(),this._activeSelectionInfo=null,this._selector.candidates=null}_activateCreateTool(e){const t=e.target.getAttribute(\"data-tool-name\");this.activeTool!==t?(this._activeSelectionInfo&&this._cancelSelectionOperation(),this.create(t)):this.cancel()}_onCreateOperation(e){if(\"complete\"!==e.state)return;const{creationMode:t}=this,{type:o}=e;if(\"create\"===o){const{tool:o,graphic:i}=e,s=this._activeCreateOptions;this._activeCreateOptions=null,\"continuous\"===t?this.create(o,s):\"update\"===t&&this.update([i])}}_onSelectionOperationComplete(e){const{viewModel:{defaultUpdateOptions:t}}=this,{selection:o}=e;if(this._activeSelectionInfo=null,!e.aborted&&o.length){const e=t.tool,i=o.length>1&&\"reshape\"===e?\"transform\":e;this.update(o,{...t,tool:i})}this.notifyChange(\"state\")}_activateRectangleSelectTool(){if(this._activeSelectionInfo){const e=this._activeSelectionInfo.tool;if(this._cancelSelectionOperation(),\"rectangle-selection\"===e)return}else\"active\"===this.state&&this.cancel();this._selector.candidates=this._getSelectionCandidates();const e=this._selector.draw({tool:\"rectangle\"});e.once(\"complete\",(e=>this._onSelectionOperationComplete(e))),this._activeSelectionInfo={tool:\"rectangle-selection\",operation:e}}_activateLassoSelectTool(){if(this._activeSelectionInfo){const e=this._activeSelectionInfo.tool;if(this._cancelSelectionOperation(),\"lasso-selection\"===e)return}else\"active\"===this.state&&this.cancel();this._selector.candidates=this._getSelectionCandidates();const e=this._selector.draw({tool:\"polygon\",createOptions:{mode:\"freehand\"}});e.once(\"complete\",(e=>this._onSelectionOperationComplete(e))),this._activeSelectionInfo={tool:\"lasso-selection\",operation:e}}_getSelectionCandidates(){var e,t;return(null==(e=this.layer)||null==(t=e.graphics)?void 0:t.toArray())||[]}};e([t()],g.prototype,\"_activeSelectionInfo\",void 0),e([t()],g.prototype,\"activeTool\",null),e([t({cast:e=>{if(!e||!e.length)return null;const t=new Set([\"point\",\"polyline\",\"polygon\",\"rectangle\",\"circle\"]);return e.filter((e=>t.has(e)))}})],g.prototype,\"availableCreateTools\",void 0),e([o(\"viewModel.createGraphic\")],g.prototype,\"createGraphic\",void 0),e([t()],g.prototype,\"creationMode\",void 0),e([o(\"viewModel.defaultCreateOptions\")],g.prototype,\"defaultCreateOptions\",void 0),e([o(\"viewModel.defaultUpdateOptions\")],g.prototype,\"defaultUpdateOptions\",void 0),e([t()],g.prototype,\"iconClass\",void 0),e([t({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],g.prototype,\"label\",void 0),e([o(\"viewModel.layer\")],g.prototype,\"layer\",void 0),e([t({value:\"horizontal\"})],g.prototype,\"layout\",null),e([t(),r(\"esri/widgets/Sketch/t9n/Sketch\")],g.prototype,\"messages\",void 0),e([t()],g.prototype,\"state\",null),e([o(\"viewModel.updateGraphics\")],g.prototype,\"updateGraphics\",void 0),e([o(\"viewModel.view\")],g.prototype,\"view\",void 0),e([t(),c([\"create\",\"update\",\"undo\",\"redo\"])],g.prototype,\"viewModel\",void 0),e([t()],g.prototype,\"visibleElements\",void 0),e([i(\"visibleElements\")],g.prototype,\"castVisibleElements\",null),e([o(\"viewModel.complete\")],g.prototype,\"complete\",null),e([o(\"viewModel.undo\")],g.prototype,\"undo\",null),e([o(\"viewModel.redo\")],g.prototype,\"redo\",null),e([o(\"viewModel.delete\")],g.prototype,\"delete\",null),g=e([s(\"esri.widgets.Sketch\")],g);var m=g;export default m;\n"],"sourceRoot":""}